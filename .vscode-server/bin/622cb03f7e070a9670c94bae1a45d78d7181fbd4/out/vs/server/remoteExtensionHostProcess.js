/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ge=["require","exports","vs/base/common/uri","vs/base/common/event","vs/platform/instantiation/common/instantiation","vs/base/common/lifecycle","vs/workbench/api/common/extHost.protocol","vs/base/common/path","vs/workbench/api/common/extHostTypes","vs/base/common/platform","vs/base/common/strings","vs/platform/log/common/log","vs/base/common/arrays","vs/base/common/network","vs/workbench/api/common/extHostRpcService","vs/base/common/errors","vs/base/common/types","vs/nls","vs/nls!vs/server/remoteExtensionHostProcess","vs/base/common/async","vs/workbench/api/common/extHostTypeConverters","vs/base/common/cancellation","vs/base/common/map","vs/base/common/resources","vs/base/node/pfs","vs/base/common/objects","vs/base/common/uuid","vs/base/common/buffer","vs/workbench/api/common/extHostInitDataService","vs/platform/extensions/common/extensions","vs/base/common/extpath","vs/workbench/services/search/common/search","vs/workbench/api/common/extHostWorkspace","vs/base/common/glob","child_process","vs/workbench/api/common/extHostTerminalService","vs/workbench/api/common/extHostConfiguration","vs/base/common/process","fs","os","vs/workbench/api/common/extHostDocumentsAndEditors","vs/platform/registry/common/platform","vs/workbench/services/extensions/common/extensions","vs/workbench/api/common/extHostExtensionService","vs/editor/common/core/range","vs/workbench/contrib/notebook/common/notebookCommon","vs/workbench/api/common/extHostDebugService","vs/base/common/stopwatch","vs/editor/common/core/position","vs/base/common/errorMessage","vs/platform/files/common/files","vs/workbench/api/common/extHostTunnelService","vs/workbench/api/common/extHostCommands","vs/base/common/assert","vs/base/common/collections","vs/base/common/decorators","vs/base/common/json","vs/base/common/codicons","vs/base/common/marshalling","util","vs/platform/contextkey/common/contextkey","vs/platform/workspace/common/workspace","vs/workbench/api/common/extHostFileSystemInfo","vs/workbench/api/common/extHostUriTransformerService","vs/workbench/api/common/extHostApiDeprecationService","vs/workbench/api/common/extHostOutput","vs/workbench/api/common/extHostWebview","vs/workbench/api/common/extHostTask","vs/base/common/performance","vs/workbench/api/common/extHostSearch","vs/base/common/functional","vs/base/common/idGenerator","vs/base/common/iterator","vs/base/common/linkedList","vs/base/common/numbers","vs/base/common/hash","vs/base/common/severity","vs/base/common/normalization","vs/base/common/labels","vs/editor/common/modes/languageSelector","vs/base/node/processes","vs/platform/instantiation/common/extensions","vs/editor/common/modes","vs/platform/instantiation/common/serviceCollection","vs/platform/configuration/common/configurationRegistry","vs/platform/configuration/common/configuration","vs/workbench/api/common/cache","vs/workbench/api/common/shared/webview","vs/workbench/api/common/exHostSecretState","vs/workbench/api/common/extHostFileSystemConsumer","vs/workbench/api/common/extHostStorage","vs/workbench/api/common/extHostStoragePaths","vs/workbench/services/search/node/ripgrepSearchUtils","vs/base/common/comparers","vs/base/common/stream","vs/base/common/uint","vs/base/common/filters","vs/base/common/fuzzyScorer","vs/base/common/htmlContent","vs/base/common/uriIpc","string_decoder","vs/base/node/powershell","vs/base/parts/ipc/common/ipc","vs/base/parts/ipc/common/ipc.net","vs/editor/common/core/characterClassifier","vs/editor/common/model","vs/editor/common/model/wordHelper","vs/editor/common/services/semanticTokensDto","vs/editor/common/viewModel/prefixSumComputer","vs/platform/instantiation/common/descriptors","vs/platform/log/node/spdlogService","vs/platform/markers/common/markers","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/platform/remote/common/remoteAuthorityResolver","vs/platform/remote/common/remoteHosts","vs/platform/workspaces/common/workspaces","vs/workbench/contrib/debug/common/abstractDebugAdapter","net","vs/workbench/api/common/extHostDocumentData","vs/workbench/contrib/terminal/node/terminal","vs/workbench/contrib/terminal/node/terminalEnvironment","vs/workbench/api/common/extHostTextEditor","vs/workbench/services/extensions/common/proxyIdentifier","vs/workbench/api/common/extHostDecorations","vs/workbench/api/common/extHostWindow","vs/workbench/services/search/common/searchExtTypes","vs/workbench/services/search/common/textSearchManager","vs/workbench/services/search/node/textSearchManager","vs/workbench/services/search/node/ripgrepTextSearchEngine","vs/base/parts/ipc/node/ipc.net","vs/base/common/jsonFormatter","vs/base/common/jsonEdit","vs/base/common/processes","vs/base/common/iconLabels","vs/base/node/decoder","vs/base/node/extpath","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/core/selection","vs/editor/common/model/textModelSearch","vs/editor/common/modes/languageConfiguration","vs/editor/common/modes/linkComputer","vs/editor/common/modes/tokenizationRegistry","vs/editor/common/model/mirrorTextModel","vs/nls!vs/base/common/date","vs/base/common/date","vs/nls!vs/base/common/errorMessage","vs/nls!vs/base/node/processes","vs/base/node/shell","vs/nls!vs/editor/common/config/editorOptions","vs/editor/common/config/editorOptions","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/extensionManagement/common/extensionManagement","vs/nls!vs/platform/files/common/files","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/workspaces/common/workspaces","vs/nls!vs/workbench/api/common/extHost.api.impl","vs/nls!vs/workbench/api/common/extHostDiagnostics","vs/nls!vs/workbench/api/common/extHostExtensionActivator","vs/nls!vs/workbench/api/common/extHostExtensionService","vs/nls!vs/workbench/api/common/extHostProgress","vs/nls!vs/workbench/api/common/extHostStatusBar","vs/nls!vs/workbench/api/common/extHostTerminalService","vs/nls!vs/workbench/api/common/extHostTreeViews","vs/nls!vs/workbench/api/common/extHostWorkspace","vs/nls!vs/workbench/api/node/extHostDebugService","vs/nls!vs/workbench/common/views","vs/nls!vs/workbench/contrib/debug/common/abstractDebugAdapter","vs/nls!vs/workbench/contrib/debug/node/debugAdapter","vs/nls!vs/workbench/contrib/externalTerminal/node/externalTerminalService","vs/nls!vs/workbench/contrib/search/common/queryBuilder","vs/nls!vs/workbench/contrib/terminal/common/terminal","vs/nls!vs/workbench/contrib/terminal/node/terminalProcess","vs/nls!vs/workbench/services/configurationResolver/common/variableResolver","vs/platform/instantiation/common/graph","vs/editor/common/services/modelService","vs/editor/common/modes/languageFeatureRegistry","vs/platform/commands/common/commands","vs/platform/environment/common/environment","vs/platform/extensionManagement/common/extensionManagement","vs/platform/extensionManagement/common/extensionManagementUtil","vs/platform/instantiation/common/instantiationService","vs/platform/notification/common/notification","vs/platform/product/common/product","vs/platform/progress/common/progress","vs/platform/configuration/common/configurationModels","vs/platform/sign/node/signService","vs/platform/theme/common/theme","vs/platform/theme/common/themeService","vs/platform/theme/common/iconRegistry","vs/workbench/api/common/extHostEditorTabs","vs/workbench/api/common/extHostMemento","vs/workbench/api/common/extHostSecrets","vs/workbench/api/common/extHostCodeInsets","vs/workbench/common/views","vs/workbench/api/common/apiCommands","vs/workbench/contrib/debug/common/debugUtils","vs/workbench/contrib/debug/node/debugAdapter","vs/workbench/contrib/externalTerminal/node/externalTerminal","vs/workbench/contrib/externalTerminal/node/externalTerminalService","vs/workbench/contrib/debug/node/terminals","vs/workbench/api/common/extHostNotebookDocument","vs/workbench/api/common/extHostNotebookConcatDocument","vs/workbench/api/common/extHostNotebookEditor","vs/workbench/api/common/extHostTheming","vs/workbench/contrib/tasks/common/taskService","vs/workbench/contrib/terminal/common/environmentVariable","vs/workbench/contrib/terminal/common/environmentVariableCollection","vs/workbench/contrib/terminal/common/environmentVariableShared","vs/workbench/contrib/terminal/common/terminal","vs/workbench/contrib/terminal/common/terminalDataBuffering","vs/workbench/contrib/terminal/common/terminalEnvironment","vs/workbench/contrib/terminal/node/terminalProcess","vs/workbench/contrib/testing/common/testCollection","vs/workbench/services/configurationResolver/common/variableResolver","vs/workbench/services/editor/common/editorGroupsService","vs/workbench/services/editor/common/editorService","vs/workbench/api/common/extHostDocumentSaveParticipant","vs/workbench/api/common/extHostFileSystemEventService","vs/workbench/api/common/extHostProgress","vs/workbench/api/common/extHostTreeViews","vs/workbench/contrib/testing/common/ownedTestCollection","vs/workbench/services/extensions/common/extensionDescriptionRegistry","vs/workbench/services/extensions/common/extensionHostProtocol","vs/workbench/api/common/extHostExtensionActivator","vs/workbench/api/node/extHostLogService","vs/workbench/services/extensions/common/lazyPromise","vs/workbench/api/common/extHostAuthentication","vs/workbench/api/common/extHostBulkEdits","vs/workbench/api/common/extHostClipboard","vs/workbench/api/common/extHostApiCommands","vs/workbench/api/common/extHostComments","vs/workbench/api/common/extHostDiagnostics","vs/workbench/api/common/extHostDialogs","vs/workbench/api/common/extHostDocumentContentProviders","vs/workbench/api/common/extHostDocuments","vs/workbench/api/common/extHostFileSystem","vs/workbench/api/common/extHostLabelService","vs/workbench/api/common/extHostLanguageFeatures","vs/workbench/api/common/extHostLanguages","vs/workbench/api/common/extHostMessageService","vs/workbench/api/common/extHostNotebook","vs/workbench/api/common/extHostQuickOpen","vs/workbench/api/common/extHostSCM","vs/workbench/api/common/extHostStatusBar","vs/workbench/api/common/extHostTextEditors","vs/workbench/api/common/extHostTimeline","vs/workbench/api/common/extHostUriOpener","vs/workbench/api/common/extHostUrls","vs/workbench/api/common/extHostCustomEditors","vs/workbench/api/common/extHostWebviewPanels","vs/workbench/api/common/extHostWebviewView","vs/workbench/api/node/extHostDownloadService","vs/workbench/api/node/extHostTunnelService","vs/workbench/services/extensions/common/rpcProtocol","vs/workbench/services/output/node/outputAppender","vs/workbench/api/node/extHostOutputService","vs/workbench/services/remote/common/remoteAgentService","vs/workbench/services/path/common/pathService","vs/workbench/api/common/extHostTesting","vs/workbench/contrib/search/common/queryBuilder","vs/workbench/api/common/shared/workspaceContains","vs/workbench/api/common/extHostRequireInterceptor","vs/workbench/api/node/extHostDebugService","vs/workbench/api/node/extHostTask","vs/workbench/api/node/extHostTerminalService","vs/workbench/services/extensions/common/extensionHostMain","vs/workbench/services/search/common/fileSearchManager","vs/workbench/api/common/extHost.api.impl","vs/workbench/api/common/extHost.common.services","vs/workbench/services/textfile/common/encoding","vs/workbench/services/extensions/node/proxyResolver","http","vs/workbench/services/search/node/ripgrepFileSearch","vscode-ripgrep","vs/workbench/services/search/node/fileSearch","vs/workbench/services/search/node/ripgrepSearchProvider","vs/workbench/services/search/node/textSearchAdapter","vs/workbench/services/search/node/rawSearchService","vs/workbench/api/node/extHostSearch","vs/workbench/api/node/extHostCLIServer","vs/workbench/api/node/extHostExtensionService","vs/workbench/api/node/extHost.node.services","vs/workbench/services/extensions/node/extensionHostProcessSetup","vs/base/common/marked/marked","https","tls","url","vscode-proxy-agent","events","vscode-regexpp","graceful-fs","crypto","zlib","minimist","vs/server/remoteExtensionHostProcess"],pe=function(Z){for(var e=[],w=0,k=Z.length;w<k;w++)e[w]=ge[Z[w]];return e};define(ge[53],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function w(k,A){if(!k)throw new Error(A?`Assertion failed (${A})`:"Assertion Failed")}e.ok=w}),define(ge[54],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.diffMaps=e.diffSets=e.fromMap=e.groupBy=e.forEach=e.values=void 0;const w=Object.prototype.hasOwnProperty;function k(I){const S=[];for(let v in I)w.call(I,v)&&S.push(I[v]);return S}e.values=k;function A(I,S){for(let v in I)if(w.call(I,v)&&S({key:v,value:I[v]},function(){delete I[v]})===!1)return}e.forEach=A;function T(I,S){const v=Object.create(null);for(const f of I){const u=S(f);let g=v[u];g||(g=v[u]=[]),g.push(f)}return v}e.groupBy=T;function P(I){const S=Object.create(null);return I&&I.forEach((v,f)=>{S[f]=v}),S}e.fromMap=P;function D(I,S){const v=[],f=[];for(let u of I)S.has(u)||v.push(u);for(let u of S)I.has(u)||f.push(u);return{removed:v,added:f}}e.diffSets=D;function C(I,S){const v=[],f=[];for(let[u,g]of I)S.has(u)||v.push(g);for(let[u,g]of S)I.has(u)||f.push(g);return{removed:v,added:f}}e.diffMaps=C;class n{constructor(){this.map=new Map}add(S,v){let f=this.map.get(S);f||(f=new Set,this.map.set(S,f)),f.add(v)}delete(S,v){const f=this.map.get(S);!f||(f.delete(v),f.size===0&&this.map.delete(S))}forEach(S,v){const f=this.map.get(S);!f||f.forEach(v)}}e.SetMap=n}),define(ge[55],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.debounce=e.memoize=e.createMemoizer=e.createDecorator=void 0;function w(C){return(n,I,S)=>{let v=null,f=null;if(typeof S.value=="function"?(v="value",f=S.value):typeof S.get=="function"&&(v="get",f=S.get),!f)throw new Error("not supported");S[v]=C(f,I)}}e.createDecorator=w;let k=0;function A(){const C=`$memoize${k++}`;let n;const I=function(v,f,u){let g=null,b=null;if(typeof u.value=="function"?(g="value",b=u.value,b.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof u.get=="function"&&(g="get",b=u.get),!b)throw new Error("not supported");const p=`${C}:${f}`;u[g]=function(...d){return n=this,this.hasOwnProperty(p)||Object.defineProperty(this,p,{configurable:!0,enumerable:!1,writable:!0,value:b.apply(this,d)}),this[p]}};return I.clear=()=>{typeof n!="undefined"&&Object.getOwnPropertyNames(n).forEach(S=>{S.indexOf(C)===0&&delete n[S]})},I}e.createMemoizer=A;function T(C,n,I){return A()(C,n,I)}e.memoize=T;function P(C,n,I){return w((S,v)=>{const f=`$debounce$${v}`,u=`$debounce$result$${v}`;return function(...g){this[u]||(this[u]=I?I():void 0),clearTimeout(this[f]),n&&(this[u]=n(this[u],...g),g=[this[u]]),this[f]=setTimeout(()=>{S.apply(this,g),this[u]=I?I():void 0},C)}})}e.debounce=P;function D(C,n,I){return w((S,v)=>{const f=`$throttle$timer$${v}`,u=`$throttle$result$${v}`,g=`$throttle$lastRun$${v}`,b=`$throttle$pending$${v}`;return function(...p){if(this[u]||(this[u]=I?I():void 0),(this[g]===null||this[g]===void 0)&&(this[g]=-Number.MAX_VALUE),n&&(this[u]=n(this[u],...p)),!this[b]){const d=this[g]+C;d<=Date.now()?(this[g]=Date.now(),S.apply(this,[this[u]]),this[u]=I?I():void 0):(this[b]=!0,this[f]=setTimeout(()=>{this[b]=!1,this[g]=Date.now(),S.apply(this,[this[u]]),this[u]=I?I():void 0},d-Date.now()))}}})}e.throttle=D}),define(ge[15],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotSupportedError=e.NotImplementedError=e.getErrorMessage=e.disposed=e.readonly=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isPromiseCanceledError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.setUnexpectedErrorHandler=e.errorHandler=e.ErrorHandler=void 0;class w{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(s){setTimeout(()=>{throw s.stack?new Error(s.message+`

`+s.stack):s},0)}}addListener(s){return this.listeners.push(s),()=>{this._removeListener(s)}}emit(s){this.listeners.forEach(l=>{l(s)})}_removeListener(s){this.listeners.splice(this.listeners.indexOf(s),1)}setUnexpectedErrorHandler(s){this.unexpectedErrorHandler=s}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(s){this.unexpectedErrorHandler(s),this.emit(s)}onUnexpectedExternalError(s){this.unexpectedErrorHandler(s)}}e.ErrorHandler=w,e.errorHandler=new w;function k(d){e.errorHandler.setUnexpectedErrorHandler(d)}e.setUnexpectedErrorHandler=k;function A(d){C(d)||e.errorHandler.onUnexpectedError(d)}e.onUnexpectedError=A;function T(d){C(d)||e.errorHandler.onUnexpectedExternalError(d)}e.onUnexpectedExternalError=T;function P(d){if(d instanceof Error){let{name:s,message:l}=d;const c=d.stacktrace||d.stack;return{$isError:!0,name:s,message:l,stack:c}}return d}e.transformErrorForSerialization=P;const D="Canceled";function C(d){return d instanceof Error&&d.name===D&&d.message===D}e.isPromiseCanceledError=C;class n extends Error{constructor(){super(D);this.name=this.message}}e.CancellationError=n;function I(){const d=new Error(D);return d.name=d.message,d}e.canceled=I;function S(d){return d?new Error(`Illegal argument: ${d}`):new Error("Illegal argument")}e.illegalArgument=S;function v(d){return d?new Error(`Illegal state: ${d}`):new Error("Illegal state")}e.illegalState=v;function f(d){return d?new Error(`readonly property '${d} cannot be changed'`):new Error("readonly property cannot be changed")}e.readonly=f;function u(d){const s=new Error(`${d} has been disposed`);return s.name="DISPOSED",s}e.disposed=u;function g(d){return d?d.message?d.message:d.stack?d.stack.split(`
`)[0]:String(d):"Error"}e.getErrorMessage=g;class b extends Error{constructor(s){super("NotImplemented");s&&(this.message=s)}}e.NotImplementedError=b;class p extends Error{constructor(s){super("NotSupported");s&&(this.message=s)}}e.NotSupportedError=p}),define(ge[12],pe([0,1,15]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapFind=e.getRandomElement=e.asArray=e.mapArrayOrNot=e.pushToEnd=e.pushToStart=e.shuffle=e.arrayInsert=e.remove=e.insert=e.index=e.range=e.flatten=e.commonPrefixLength=e.firstOrDefault=e.lastIndex=e.uniqueFilter=e.distinctES6=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.move=e.coalesceInPlace=e.coalesce=e.topAsync=e.top=e.delta=e.sortedDiff=e.groupBy=e.mergeSort=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function k(U,V=0){return U[U.length-(1+V)]}e.tail=k;function A(U){if(U.length===0)throw new Error("Invalid tail call");return[U.slice(0,U.length-1),U[U.length-1]]}e.tail2=A;function T(U,V,B=(Y,ae)=>Y===ae){if(U===V)return!0;if(!U||!V||U.length!==V.length)return!1;for(let Y=0,ae=U.length;Y<ae;Y++)if(!B(U[Y],V[Y]))return!1;return!0}e.equals=T;function P(U,V,B){let Y=0,ae=U.length-1;for(;Y<=ae;){const ce=(Y+ae)/2|0,fe=B(U[ce],V);if(fe<0)Y=ce+1;else if(fe>0)ae=ce-1;else return ce}return-(Y+1)}e.binarySearch=P;function D(U,V){let B=0,Y=U.length;if(Y===0)return 0;for(;B<Y;){const ae=Math.floor((B+Y)/2);V(U[ae])?Y=ae:B=ae+1}return B}e.findFirstInSorted=D;function C(U,V,B){if(U=U|0,U>=V.length)throw new TypeError("invalid index");let Y=V[Math.floor(V.length*Math.random())],ae=[],ce=[],fe=[];for(let _e of V){const be=B(_e,Y);be<0?ae.push(_e):be>0?ce.push(_e):fe.push(_e)}return U<ae.length?C(U,ae,B):U<ae.length+fe.length?fe[0]:C(U-(ae.length+fe.length),ce,B)}e.quickSelect=C;function n(U,V){return S(U,V,0,U.length-1,[]),U}e.mergeSort=n;function I(U,V,B,Y,ae,ce){let fe=B,_e=Y+1;for(let be=B;be<=ae;be++)ce[be]=U[be];for(let be=B;be<=ae;be++)fe>Y?U[be]=ce[_e++]:_e>ae?U[be]=ce[fe++]:V(ce[_e],ce[fe])<0?U[be]=ce[_e++]:U[be]=ce[fe++]}function S(U,V,B,Y,ae){if(!(Y<=B)){const ce=B+(Y-B)/2|0;S(U,V,B,ce,ae),S(U,V,ce+1,Y,ae),!(V(U[ce],U[ce+1])<=0)&&I(U,V,B,ce,Y,ae)}}function v(U,V){const B=[];let Y;for(const ae of n(U.slice(0),V))!Y||V(Y[0],ae)!==0?(Y=[ae],B.push(Y)):Y.push(ae);return B}e.groupBy=v;function f(U,V,B){const Y=[];function ae(_e,be,H){if(!(be===0&&H.length===0)){const X=Y[Y.length-1];X&&X.start+X.deleteCount===_e?(X.deleteCount+=be,X.toInsert.push(...H)):Y.push({start:_e,deleteCount:be,toInsert:H})}}let ce=0,fe=0;for(;;){if(ce===U.length){ae(ce,0,V.slice(fe));break}if(fe===V.length){ae(ce,U.length-ce,[]);break}const _e=U[ce],be=V[fe],H=B(_e,be);H===0?(ce+=1,fe+=1):H<0?(ae(ce,1,[]),ce+=1):H>0&&(ae(ce,0,[be]),fe+=1)}return Y}e.sortedDiff=f;function u(U,V,B){const Y=f(U,V,B),ae=[],ce=[];for(const fe of Y)ae.push(...U.slice(fe.start,fe.start+fe.deleteCount)),ce.push(...fe.toInsert);return{removed:ae,added:ce}}e.delta=u;function g(U,V,B){if(B===0)return[];const Y=U.slice(0,B).sort(V);return p(U,V,Y,B,U.length),Y}e.top=g;function b(U,V,B,Y,ae){return B===0?Promise.resolve([]):new Promise((ce,fe)=>{(async()=>{const _e=U.length,be=U.slice(0,B).sort(V);for(let H=B,X=Math.min(B+Y,_e);H<_e;H=X,X=Math.min(X+Y,_e)){if(H>B&&await new Promise(re=>setTimeout(re)),ae&&ae.isCancellationRequested)throw w.canceled();p(U,V,be,H,X)}return be})().then(ce,fe)})}e.topAsync=b;function p(U,V,B,Y,ae){for(const ce=B.length;Y<ae;Y++){const fe=U[Y];if(V(fe,B[ce-1])<0){B.pop();const _e=D(B,be=>V(fe,be)<0);B.splice(_e,0,fe)}}}function d(U){return U.filter(V=>!!V)}e.coalesce=d;function s(U){let V=0;for(let B=0;B<U.length;B++)U[B]&&(U[V]=U[B],V+=1);U.length=V}e.coalesceInPlace=s;function l(U,V,B){U.splice(B,0,U.splice(V,1)[0])}e.move=l;function c(U){return!Array.isArray(U)||U.length===0}e.isFalsyOrEmpty=c;function t(U){return Array.isArray(U)&&U.length>0}e.isNonEmptyArray=t;function r(U,V){if(!V)return U.filter((Y,ae)=>U.indexOf(Y)===ae);const B=Object.create(null);return U.filter(Y=>{const ae=V(Y);return B[ae]?!1:(B[ae]=!0,!0)})}e.distinct=r;function o(U){const V=new Set;return U.filter(B=>V.has(B)?!1:(V.add(B),!0))}e.distinctES6=o;function a(U){const V=Object.create(null);return B=>{const Y=U(B);return V[Y]?!1:(V[Y]=!0,!0)}}e.uniqueFilter=a;function i(U,V){for(let B=U.length-1;B>=0;B--){const Y=U[B];if(V(Y))return B}return-1}e.lastIndex=i;function h(U,V){return U.length>0?U[0]:V}e.firstOrDefault=h;function y(U,V,B=(Y,ae)=>Y===ae){let Y=0;for(let ae=0,ce=Math.min(U.length,V.length);ae<ce&&B(U[ae],V[ae]);ae++)Y++;return Y}e.commonPrefixLength=y;function m(U){return[].concat(...U)}e.flatten=m;function E(U,V){let B=typeof V=="number"?U:0;typeof V=="number"?B=U:(B=0,V=U);const Y=[];if(B<=V)for(let ae=B;ae<V;ae++)Y.push(ae);else for(let ae=B;ae>V;ae--)Y.push(ae);return Y}e.range=E;function _(U,V,B){return U.reduce((Y,ae)=>(Y[V(ae)]=B?B(ae):ae,Y),Object.create(null))}e.index=_;function L(U,V){return U.push(V),()=>R(U,V)}e.insert=L;function R(U,V){const B=U.indexOf(V);if(B>-1)return U.splice(B,1),V}e.remove=R;function N(U,V,B){const Y=U.slice(0,V),ae=U.slice(V);return Y.concat(B,ae)}e.arrayInsert=N;function W(U,V){let B;if(typeof V=="number"){let Y=V;B=()=>{const ae=Math.sin(Y++)*179426549;return ae-Math.floor(ae)}}else B=Math.random;for(let Y=U.length-1;Y>0;Y-=1){const ae=Math.floor(B()*(Y+1)),ce=U[Y];U[Y]=U[ae],U[ae]=ce}}e.shuffle=W;function x(U,V){const B=U.indexOf(V);B>-1&&(U.splice(B,1),U.unshift(V))}e.pushToStart=x;function M(U,V){const B=U.indexOf(V);B>-1&&(U.splice(B,1),U.push(V))}e.pushToEnd=M;function $(U,V){return Array.isArray(U)?U.map(V):V(U)}e.mapArrayOrNot=$;function O(U){return Array.isArray(U)?U:[U]}e.asArray=O;function z(U){return U[Math.floor(Math.random()*U.length)]}e.getRandomElement=z;function J(U,V){for(const B of U){const Y=V(B);if(Y!==void 0)return Y}}e.mapFind=J}),define(ge[70],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function w(k){const A=this;let T=!1,P;return function(){return T||(T=!0,P=k.apply(A,arguments)),P}}e.once=w}),define(ge[71],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class w{constructor(A){this._prefix=A,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=w,e.defaultGenerator=new w("id#")}),define(ge[72],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var w;(function(k){function A(d){return d&&typeof d=="object"&&typeof d[Symbol.iterator]=="function"}k.is=A;const T=Object.freeze([]);function P(){return T}k.empty=P;function*D(d){yield d}k.single=D;function C(d){return d||T}k.from=C;function n(d){return!d||d[Symbol.iterator]().next().done===!0}k.isEmpty=n;function I(d){return d[Symbol.iterator]().next().value}k.first=I;function S(d,s){for(const l of d)if(s(l))return!0;return!1}k.some=S;function*v(d,s){for(const l of d)s(l)&&(yield l)}k.filter=v;function*f(d,s){for(const l of d)yield s(l)}k.map=f;function*u(...d){for(const s of d)for(const l of s)yield l}k.concat=u;function*g(d){for(const s of d)for(const l of s)yield l}k.concatNested=g;function*b(d,s,l=d.length){for(s<0&&(s+=d.length),l<0?l+=d.length:l>d.length&&(l=d.length);s<l;s++)yield d[s]}k.slice=b;function p(d,s=Number.POSITIVE_INFINITY){const l=[];if(s===0)return[l,d];const c=d[Symbol.iterator]();for(let t=0;t<s;t++){const r=c.next();if(r.done)return[l,k.empty()];l.push(r.value)}return[l,{[Symbol.iterator](){return c}}]}k.consume=p})(w=e.Iterable||(e.Iterable={}))}),define(ge[56],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNodeType=e.stripComments=e.visit=e.findNodeAtOffset=e.contains=e.getNodeValue=e.getNodePath=e.findNodeAtLocation=e.parseTree=e.parse=e.getLocation=e.createScanner=e.ParseOptions=e.ParseErrorCode=e.SyntaxKind=e.ScanError=void 0;var w;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(w=e.ScanError||(e.ScanError={}));var k;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(k=e.SyntaxKind||(e.SyntaxKind={}));var A;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(A=e.ParseErrorCode||(e.ParseErrorCode={}));var T;(function(t){t.DEFAULT={allowTrailingComma:!0}})(T=e.ParseOptions||(e.ParseOptions={}));function P(t,r=!1){let o=0,a=t.length,i="",h=0,y=16,m=0;function E(M){let $=0,O=0;for(;$<M;){const z=t.charCodeAt(o);if(z>=48&&z<=57)O=O*16+z-48;else if(z>=65&&z<=70)O=O*16+z-65+10;else if(z>=97&&z<=102)O=O*16+z-97+10;else break;o++,$++}return $<M&&(O=-1),O}function _(M){o=M,i="",h=0,y=16,m=0}function L(){const M=o;if(t.charCodeAt(o)===48)o++;else for(o++;o<t.length&&n(t.charCodeAt(o));)o++;if(o<t.length&&t.charCodeAt(o)===46)if(o++,o<t.length&&n(t.charCodeAt(o)))for(o++;o<t.length&&n(t.charCodeAt(o));)o++;else return m=3,t.substring(M,o);let $=o;if(o<t.length&&(t.charCodeAt(o)===69||t.charCodeAt(o)===101))if(o++,(o<t.length&&t.charCodeAt(o)===43||t.charCodeAt(o)===45)&&o++,o<t.length&&n(t.charCodeAt(o))){for(o++;o<t.length&&n(t.charCodeAt(o));)o++;$=o}else m=3;return t.substring(M,$)}function R(){let M="",$=o;for(;;){if(o>=a){M+=t.substring($,o),m=2;break}const O=t.charCodeAt(o);if(O===34){M+=t.substring($,o),o++;break}if(O===92){if(M+=t.substring($,o),o++,o>=a){m=2;break}switch(t.charCodeAt(o++)){case 34:M+='"';break;case 92:M+="\\";break;case 47:M+="/";break;case 98:M+="\b";break;case 102:M+="\f";break;case 110:M+=`
`;break;case 114:M+="\r";break;case 116:M+="	";break;case 117:const J=E(4);J>=0?M+=String.fromCharCode(J):m=4;break;default:m=5}$=o;continue}if(O>=0&&O<=31)if(C(O)){M+=t.substring($,o),m=2;break}else m=6;o++}return M}function N(){if(i="",m=0,h=o,o>=a)return h=a,y=17;let M=t.charCodeAt(o);if(D(M)){do o++,i+=String.fromCharCode(M),M=t.charCodeAt(o);while(D(M));return y=15}if(C(M))return o++,i+=String.fromCharCode(M),M===13&&t.charCodeAt(o)===10&&(o++,i+=`
`),y=14;switch(M){case 123:return o++,y=1;case 125:return o++,y=2;case 91:return o++,y=3;case 93:return o++,y=4;case 58:return o++,y=6;case 44:return o++,y=5;case 34:return o++,i=R(),y=10;case 47:const $=o-1;if(t.charCodeAt(o+1)===47){for(o+=2;o<a&&!C(t.charCodeAt(o));)o++;return i=t.substring($,o),y=12}if(t.charCodeAt(o+1)===42){o+=2;const O=a-1;let z=!1;for(;o<O;){if(t.charCodeAt(o)===42&&t.charCodeAt(o+1)===47){o+=2,z=!0;break}o++}return z||(o++,m=1),i=t.substring($,o),y=13}return i+=String.fromCharCode(M),o++,y=16;case 45:if(i+=String.fromCharCode(M),o++,o===a||!n(t.charCodeAt(o)))return y=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=L(),y=11;default:for(;o<a&&W(M);)o++,M=t.charCodeAt(o);if(h!==o){switch(i=t.substring(h,o),i){case"true":return y=8;case"false":return y=9;case"null":return y=7}return y=16}return i+=String.fromCharCode(M),o++,y=16}}function W(M){if(D(M)||C(M))return!1;switch(M){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function x(){let M;do M=N();while(M>=12&&M<=15);return M}return{setPosition:_,getPosition:()=>o,scan:r?x:N,getToken:()=>y,getTokenValue:()=>i,getTokenOffset:()=>h,getTokenLength:()=>o-h,getTokenError:()=>m}}e.createScanner=P;function D(t){return t===32||t===9||t===11||t===12||t===160||t===5760||t>=8192&&t<=8203||t===8239||t===8287||t===12288||t===65279}function C(t){return t===10||t===13||t===8232||t===8233}function n(t){return t>=48&&t<=57}var I;(function(t){t[t.nullCharacter=0]="nullCharacter",t[t.maxAsciiCharacter=127]="maxAsciiCharacter",t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.lineSeparator=8232]="lineSeparator",t[t.paragraphSeparator=8233]="paragraphSeparator",t[t.nextLine=133]="nextLine",t[t.space=32]="space",t[t.nonBreakingSpace=160]="nonBreakingSpace",t[t.enQuad=8192]="enQuad",t[t.emQuad=8193]="emQuad",t[t.enSpace=8194]="enSpace",t[t.emSpace=8195]="emSpace",t[t.threePerEmSpace=8196]="threePerEmSpace",t[t.fourPerEmSpace=8197]="fourPerEmSpace",t[t.sixPerEmSpace=8198]="sixPerEmSpace",t[t.figureSpace=8199]="figureSpace",t[t.punctuationSpace=8200]="punctuationSpace",t[t.thinSpace=8201]="thinSpace",t[t.hairSpace=8202]="hairSpace",t[t.zeroWidthSpace=8203]="zeroWidthSpace",t[t.narrowNoBreakSpace=8239]="narrowNoBreakSpace",t[t.ideographicSpace=12288]="ideographicSpace",t[t.mathematicalSpace=8287]="mathematicalSpace",t[t.ogham=5760]="ogham",t[t._=95]="_",t[t.$=36]="$",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.ampersand=38]="ampersand",t[t.asterisk=42]="asterisk",t[t.at=64]="at",t[t.backslash=92]="backslash",t[t.bar=124]="bar",t[t.caret=94]="caret",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.closeParen=41]="closeParen",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.equals=61]="equals",t[t.exclamation=33]="exclamation",t[t.greaterThan=62]="greaterThan",t[t.lessThan=60]="lessThan",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.openParen=40]="openParen",t[t.percent=37]="percent",t[t.plus=43]="plus",t[t.question=63]="question",t[t.semicolon=59]="semicolon",t[t.singleQuote=39]="singleQuote",t[t.slash=47]="slash",t[t.tilde=126]="tilde",t[t.backspace=8]="backspace",t[t.formFeed=12]="formFeed",t[t.byteOrderMark=65279]="byteOrderMark",t[t.tab=9]="tab",t[t.verticalTab=11]="verticalTab"})(I||(I={}));function S(t,r){const o=[],a=new Object;let i;const h={value:{},offset:0,length:0,type:"object",parent:void 0};let y=!1;function m(E,_,L,R){h.value=E,h.offset=_,h.length=L,h.type=R,h.colonOffset=void 0,i=h}try{s(t,{onObjectBegin:(E,_)=>{if(r<=E)throw a;i=void 0,y=r>E,o.push("")},onObjectProperty:(E,_,L)=>{if(r<_||(m(E,_,L,"property"),o[o.length-1]=E,r<=_+L))throw a},onObjectEnd:(E,_)=>{if(r<=E)throw a;i=void 0,o.pop()},onArrayBegin:(E,_)=>{if(r<=E)throw a;i=void 0,o.push(0)},onArrayEnd:(E,_)=>{if(r<=E)throw a;i=void 0,o.pop()},onLiteralValue:(E,_,L)=>{if(r<_||(m(E,_,L,c(E)),r<=_+L))throw a},onSeparator:(E,_,L)=>{if(r<=_)throw a;if(E===":"&&i&&i.type==="property")i.colonOffset=_,y=!1,i=void 0;else if(E===","){const R=o[o.length-1];typeof R=="number"?o[o.length-1]=R+1:(y=!0,o[o.length-1]=""),i=void 0}}})}catch(E){if(E!==a)throw E}return{path:o,previousNode:i,isAtPropertyKey:y,matches:E=>{let _=0;for(let L=0;_<E.length&&L<o.length;L++)if(E[_]===o[L]||E[_]==="*")_++;else if(E[_]!=="**")return!1;return _===E.length}}}e.getLocation=S;function v(t,r=[],o=T.DEFAULT){let a=null,i=[];const h=[];function y(E){Array.isArray(i)?i.push(E):a!==null&&(i[a]=E)}return s(t,{onObjectBegin:()=>{const E={};y(E),h.push(i),i=E,a=null},onObjectProperty:E=>{a=E},onObjectEnd:()=>{i=h.pop()},onArrayBegin:()=>{const E=[];y(E),h.push(i),i=E,a=null},onArrayEnd:()=>{i=h.pop()},onLiteralValue:y,onError:(E,_,L)=>{r.push({error:E,offset:_,length:L})}},o),i[0]}e.parse=v;function f(t,r=[],o=T.DEFAULT){let a={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(E){a.type==="property"&&(a.length=E-a.offset,a=a.parent)}function h(E){return a.children.push(E),E}s(t,{onObjectBegin:E=>{a=h({type:"object",offset:E,length:-1,parent:a,children:[]})},onObjectProperty:(E,_,L)=>{a=h({type:"property",offset:_,length:-1,parent:a,children:[]}),a.children.push({type:"string",value:E,offset:_,length:L,parent:a})},onObjectEnd:(E,_)=>{a.length=E+_-a.offset,a=a.parent,i(E+_)},onArrayBegin:(E,_)=>{a=h({type:"array",offset:E,length:-1,parent:a,children:[]})},onArrayEnd:(E,_)=>{a.length=E+_-a.offset,a=a.parent,i(E+_)},onLiteralValue:(E,_,L)=>{h({type:c(E),offset:_,length:L,parent:a,value:E}),i(_+L)},onSeparator:(E,_,L)=>{a.type==="property"&&(E===":"?a.colonOffset=_:E===","&&i(_))},onError:(E,_,L)=>{r.push({error:E,offset:_,length:L})}},o);const m=a.children[0];return m&&delete m.parent,m}e.parseTree=f;function u(t,r){if(!!t){let o=t;for(let a of r)if(typeof a=="string"){if(o.type!=="object"||!Array.isArray(o.children))return;let i=!1;for(const h of o.children)if(Array.isArray(h.children)&&h.children[0].value===a){o=h.children[1],i=!0;break}if(!i)return}else{const i=a;if(o.type!=="array"||i<0||!Array.isArray(o.children)||i>=o.children.length)return;o=o.children[i]}return o}}e.findNodeAtLocation=u;function g(t){if(!t.parent||!t.parent.children)return[];const r=g(t.parent);if(t.parent.type==="property"){const o=t.parent.children[0].value;r.push(o)}else if(t.parent.type==="array"){const o=t.parent.children.indexOf(t);o!==-1&&r.push(o)}return r}e.getNodePath=g;function b(t){switch(t.type){case"array":return t.children.map(b);case"object":const r=Object.create(null);for(let o of t.children){const a=o.children[1];a&&(r[o.children[0].value]=b(a))}return r;case"null":case"string":case"number":case"boolean":return t.value;default:return}}e.getNodeValue=b;function p(t,r,o=!1){return r>=t.offset&&r<t.offset+t.length||o&&r===t.offset+t.length}e.contains=p;function d(t,r,o=!1){if(p(t,r,o)){const a=t.children;if(Array.isArray(a))for(let i=0;i<a.length&&a[i].offset<=r;i++){const h=d(a[i],r,o);if(h)return h}return t}}e.findNodeAtOffset=d;function s(t,r,o=T.DEFAULT){const a=P(t,!1);function i(ce){return ce?()=>ce(a.getTokenOffset(),a.getTokenLength()):()=>!0}function h(ce){return ce?fe=>ce(fe,a.getTokenOffset(),a.getTokenLength()):()=>!0}const y=i(r.onObjectBegin),m=h(r.onObjectProperty),E=i(r.onObjectEnd),_=i(r.onArrayBegin),L=i(r.onArrayEnd),R=h(r.onLiteralValue),N=h(r.onSeparator),W=i(r.onComment),x=h(r.onError),M=o&&o.disallowComments,$=o&&o.allowTrailingComma;function O(){for(;;){const ce=a.scan();switch(a.getTokenError()){case 4:z(14);break;case 5:z(15);break;case 3:z(13);break;case 1:M||z(11);break;case 2:z(12);break;case 6:z(16);break}switch(ce){case 12:case 13:M?z(10):W();break;case 16:z(1);break;case 15:case 14:break;default:return ce}}}function z(ce,fe=[],_e=[]){if(x(ce),fe.length+_e.length>0){let be=a.getToken();for(;be!==17;){if(fe.indexOf(be)!==-1){O();break}else if(_e.indexOf(be)!==-1)break;be=O()}}}function J(ce){const fe=a.getTokenValue();return ce?R(fe):m(fe),O(),!0}function U(){switch(a.getToken()){case 11:let ce=0;try{ce=JSON.parse(a.getTokenValue()),typeof ce!="number"&&(z(2),ce=0)}catch(fe){z(2)}R(ce);break;case 7:R(null);break;case 8:R(!0);break;case 9:R(!1);break;default:return!1}return O(),!0}function V(){return a.getToken()!==10?(z(3,[],[2,5]),!1):(J(!1),a.getToken()===6?(N(":"),O(),ae()||z(4,[],[2,5])):z(5,[],[2,5]),!0)}function B(){y(),O();let ce=!1;for(;a.getToken()!==2&&a.getToken()!==17;){if(a.getToken()===5){if(ce||z(4,[],[]),N(","),O(),a.getToken()===2&&$)break}else ce&&z(6,[],[]);V()||z(4,[],[2,5]),ce=!0}return E(),a.getToken()!==2?z(7,[2],[]):O(),!0}function Y(){_(),O();let ce=!1;for(;a.getToken()!==4&&a.getToken()!==17;){if(a.getToken()===5){if(ce||z(4,[],[]),N(","),O(),a.getToken()===4&&$)break}else ce&&z(6,[],[]);ae()||z(4,[],[4,5]),ce=!0}return L(),a.getToken()!==4?z(8,[4],[]):O(),!0}function ae(){switch(a.getToken()){case 3:return Y();case 1:return B();case 10:return J(!0);default:return U()}}return O(),a.getToken()===17?o.allowEmptyContent?!0:(z(4,[],[]),!1):ae()?(a.getToken()!==17&&z(9,[],[]),!0):(z(4,[],[]),!1)}e.visit=s;function l(t,r){let o=P(t),a=[],i,h=0,y;do switch(y=o.getPosition(),i=o.scan(),i){case 12:case 13:case 17:h!==y&&a.push(t.substring(h,y)),r!==void 0&&a.push(o.getTokenValue().replace(/[^\r\n]/g,r)),h=o.getPosition();break}while(i!==17);return a.join("")}e.stripComments=l;function c(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(t){if(Array.isArray(t))return"array"}else return"null";return"object"}default:return"null"}}e.getNodeType=c}),define(ge[130],pe([0,1,56]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEOL=e.getEOL=e.format=void 0;function k(C,n,I){let S,v,f,u,g;if(n){for(u=n.offset,g=u+n.length,f=u;f>0&&!D(C,f-1);)f--;let h=g;for(;h<C.length&&!D(C,h);)h++;v=C.substring(f,h),S=T(v,I)}else v=C,S=0,f=0,u=0,g=C.length;const b=P(I,C);let p=!1,d=0,s;I.insertSpaces?s=A(" ",I.tabSize||4):s="	";const l=w.createScanner(v,!1);let c=!1;function t(){return b+A(s,S+d)}function r(){let h=l.scan();for(p=!1;h===15||h===14;)p=p||h===14,h=l.scan();return c=h===16||l.getTokenError()!==0,h}const o=[];function a(h,y,m){!c&&y<g&&m>u&&C.substring(y,m)!==h&&o.push({offset:y,length:m-y,content:h})}let i=r();if(i!==17){const h=l.getTokenOffset()+f,y=A(s,S);a(y,f,h)}for(;i!==17;){let h=l.getTokenOffset()+l.getTokenLength()+f,y=r(),m="";for(;!p&&(y===12||y===13);){const _=l.getTokenOffset()+f;a(" ",h,_),h=l.getTokenOffset()+l.getTokenLength()+f,m=y===12?t():"",y=r()}if(y===2)i!==1&&(d--,m=t());else if(y===4)i!==3&&(d--,m=t());else{switch(i){case 3:case 1:d++,m=t();break;case 5:case 12:m=t();break;case 13:p?m=t():m=" ";break;case 6:m=" ";break;case 10:if(y===6){m="";break}case 7:case 8:case 9:case 11:case 2:case 4:y===12||y===13?m=" ":y!==5&&y!==17&&(c=!0);break;case 16:c=!0;break}p&&(y===12||y===13)&&(m=t())}const E=l.getTokenOffset()+f;a(m,h,E),i=y}return o}e.format=k;function A(C,n){let I="";for(let S=0;S<n;S++)I+=C;return I}function T(C,n){let I=0,S=0;const v=n.tabSize||4;for(;I<C.length;){const f=C.charAt(I);if(f===" ")S++;else if(f==="	")S+=v;else break;I++}return Math.floor(S/v)}function P(C,n){for(let I=0;I<n.length;I++){const S=n.charAt(I);if(S==="\r")return I+1<n.length&&n.charAt(I+1)===`
`?`\r
`:"\r";if(S===`
`)return`
`}return C&&C.eol||`
`}e.getEOL=P;function D(C,n){return`\r
`.indexOf(C.charAt(n))!==-1}e.isEOL=D}),define(ge[131],pe([0,1,56,130,12]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyEdits=e.applyEdit=e.withFormatting=e.setProperty=e.removeProperty=void 0;function T(I,S,v){return P(I,S,void 0,v)}e.removeProperty=T;function P(I,S,v,f,u){const g=S.slice(),b=[],p=w.parseTree(I,b);let d,s;for(;g.length>0&&(s=g.pop(),d=w.findNodeAtLocation(p,g),d===void 0&&v!==void 0);)typeof s=="string"?v={[s]:v}:v=[v];if(d)if(d.type==="object"&&typeof s=="string"&&Array.isArray(d.children)){const l=w.findNodeAtLocation(d,[s]);if(l!==void 0)if(v===void 0){if(!l.parent)throw new Error("Malformed AST");const c=d.children.indexOf(l.parent);let t,r=l.parent.offset+l.parent.length;if(c>0){const o=d.children[c-1];t=o.offset+o.length}else t=d.offset+1,d.children.length>1&&(r=d.children[1].offset);return D(I,{offset:t,length:r-t,content:""},f)}else return D(I,{offset:l.offset,length:l.length,content:JSON.stringify(v)},f);else{if(v===void 0)return[];const c=`${JSON.stringify(s)}: ${JSON.stringify(v)}`,t=u?u(d.children.map(o=>o.children[0].value)):d.children.length;let r;if(t>0){const o=d.children[t-1];r={offset:o.offset+o.length,length:0,content:","+c}}else d.children.length===0?r={offset:d.offset+1,length:0,content:c}:r={offset:d.offset+1,length:0,content:c+","};return D(I,r,f)}}else if(d.type==="array"&&typeof s=="number"&&Array.isArray(d.children))if(v!==void 0){const l=`${JSON.stringify(v)}`;let c;if(d.children.length===0||s===0)c={offset:d.offset+1,length:0,content:d.children.length===0?l:l+","};else{const t=s===-1||s>d.children.length?d.children.length:s,r=d.children[t-1];c={offset:r.offset+r.length,length:0,content:","+l}}return D(I,c,f)}else{const l=s,c=d.children[l];let t;if(d.children.length===1)t={offset:d.offset+1,length:d.length-2,content:""};else if(d.children.length-1===l){const r=d.children[l-1],o=r.offset+r.length,a=d.offset+d.length;t={offset:o,length:a-2-o,content:""}}else t={offset:c.offset,length:d.children[l+1].offset-c.offset,content:""};return D(I,t,f)}else throw new Error(`Can not add ${typeof s!="number"?"index":"property"} to parent of type ${d.type}`);else{if(v===void 0)throw new Error("Can not delete in empty document");return D(I,{offset:p?p.offset:0,length:p?p.length:0,content:JSON.stringify(v)},f)}}e.setProperty=P;function D(I,S,v){let f=C(I,S),u=S.offset,g=S.offset+S.content.length;if(S.length===0||S.content.length===0){for(;u>0&&!k.isEOL(f,u-1);)u--;for(;g<f.length&&!k.isEOL(f,g);)g++}const b=k.format(f,{offset:u,length:g-u},v);for(let d=b.length-1;d>=0;d--){const s=b[d];f=C(f,s),u=Math.min(u,s.offset),g=Math.max(g,s.offset+s.length),g+=s.content.length-s.length}const p=I.length-(f.length-g)-u;return[{offset:u,length:p,content:f.substring(u,g)}]}e.withFormatting=D;function C(I,S){return I.substring(0,S.offset)+S.content+I.substring(S.offset+S.length)}e.applyEdit=C;function n(I,S){let v=A.mergeSort(S,(u,g)=>{const b=u.offset-g.offset;return b===0?u.length-g.length:b}),f=I.length;for(let u=v.length-1;u>=0;u--){let g=v[u];if(g.offset+g.length<=f)I=C(I,g);else throw new Error("Overlapping edit");f=g.offset}return I}e.applyEdits=n}),define(ge[5],pe([0,1,70,72]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.ReferenceCollection=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.trackDisposable=e.setDisposableTracker=void 0;const A=!1;let T=null;function P(s){T=s}if(e.setDisposableTracker=P,A){const s="__is_disposable_tracked__";T=new class{trackDisposable(l){const c=new Error("Potentially leaked disposable").stack;setTimeout(()=>{l[s]||console.log(c)},3e3)}markTracked(l){if(l&&l!==g.None)try{l[s]=!0}catch(c){}}}}function D(s){!T||T.markTracked(s)}function C(s){return T&&T.trackDisposable(s),s}e.trackDisposable=C;class n extends Error{constructor(l){super(`Encounter errors while disposing of store. Errors: [${l.join(", ")}]`);this.errors=l}}e.MultiDisposeError=n;function I(s){return typeof s.dispose=="function"&&s.dispose.length===0}e.isDisposable=I;function S(s){if(k.Iterable.is(s)){let l=[];for(const c of s)if(c){D(c);try{c.dispose()}catch(t){l.push(t)}}if(l.length===1)throw l[0];if(l.length>1)throw new n(l);return Array.isArray(s)?[]:s}else if(s)return D(s),s.dispose(),s}e.dispose=S;function v(...s){return s.forEach(D),f(()=>S(s))}e.combinedDisposable=v;function f(s){const l=C({dispose:()=>{D(l),s()}});return l}e.toDisposable=f;class u{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(D(this),this._isDisposed=!0,this.clear())}clear(){try{S(this._toDispose.values())}finally{this._toDispose.clear()}}add(l){if(!l)return l;if(l===this)throw new Error("Cannot register a disposable on itself!");return D(l),this._isDisposed?u.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(l),l}}e.DisposableStore=u,u.DISABLE_DISPOSED_WARNING=!1;class g{constructor(){this._store=new u,C(this)}dispose(){D(this),this._store.dispose()}_register(l){if(l===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(l)}}e.Disposable=g,g.None=Object.freeze({dispose(){}});class b{constructor(){this._isDisposed=!1,C(this)}get value(){return this._isDisposed?void 0:this._value}set value(l){this._isDisposed||l===this._value||(this._value&&this._value.dispose(),l&&D(l),this._value=l)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,D(this),this._value&&this._value.dispose(),this._value=void 0}}e.MutableDisposable=b;class p{constructor(){this.references=new Map}acquire(l,...c){let t=this.references.get(l);t||(t={counter:0,object:this.createReferencedObject(l,...c)},this.references.set(l,t));const{object:r}=t,o=w.once(()=>{--t.counter==0&&(this.destroyReferencedObject(l,t.object),this.references.delete(l))});return t.counter++,{object:r,dispose:o}}}e.ReferenceCollection=p;class d{constructor(l){this.object=l}dispose(){}}e.ImmortalReference=d}),define(ge[73],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class w{constructor(T){this.element=T,this.next=w.Undefined,this.prev=w.Undefined}}w.Undefined=new w(void 0);class k{constructor(){this._first=w.Undefined,this._last=w.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===w.Undefined}clear(){this._first=w.Undefined,this._last=w.Undefined,this._size=0}unshift(T){return this._insert(T,!1)}push(T){return this._insert(T,!0)}_insert(T,P){const D=new w(T);if(this._first===w.Undefined)this._first=D,this._last=D;else if(P){const n=this._last;this._last=D,D.prev=n,n.next=D}else{const n=this._first;this._first=D,D.next=n,n.prev=D}this._size+=1;let C=!1;return()=>{C||(C=!0,this._remove(D))}}shift(){if(this._first!==w.Undefined){const T=this._first.element;return this._remove(this._first),T}}pop(){if(this._last!==w.Undefined){const T=this._last.element;return this._remove(this._last),T}}_remove(T){if(T.prev!==w.Undefined&&T.next!==w.Undefined){const P=T.prev;P.next=T.next,T.next.prev=P}else T.prev===w.Undefined&&T.next===w.Undefined?(this._first=w.Undefined,this._last=w.Undefined):T.next===w.Undefined?(this._last=this._last.prev,this._last.next=w.Undefined):T.prev===w.Undefined&&(this._first=this._first.next,this._first.prev=w.Undefined);this._size-=1}*[Symbol.iterator](){let T=this._first;for(;T!==w.Undefined;)yield T.element,T=T.next}}e.LinkedList=k}),function(Z,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e():typeof define=="function"&&define.amd?define("vs/base/common/marked/marked",e):(Z=typeof globalThis!="undefined"?globalThis:Z||self,Z.marked=e())}(this,function(){"use strict";function Z(ee,te){for(var G=0;G<te.length;G++){var F=te[G];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(ee,F.key,F)}}function e(ee,te,G){return te&&Z(ee.prototype,te),G&&Z(ee,G),ee}function w(ee,te){if(!!ee){if(typeof ee=="string")return k(ee,te);var G=Object.prototype.toString.call(ee).slice(8,-1);if(G==="Object"&&ee.constructor&&(G=ee.constructor.name),G==="Map"||G==="Set")return Array.from(ee);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return k(ee,te)}}function k(ee,te){(te==null||te>ee.length)&&(te=ee.length);for(var G=0,F=new Array(te);G<te;G++)F[G]=ee[G];return F}function A(ee,te){var G;if(typeof Symbol=="undefined"||ee[Symbol.iterator]==null){if(Array.isArray(ee)||(G=w(ee))||te&&ee&&typeof ee.length=="number"){G&&(ee=G);var F=0;return function(){return F>=ee.length?{done:!0}:{done:!1,value:ee[F++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return G=ee[Symbol.iterator](),G.next.bind(G)}function T(ee,te){return te={exports:{}},ee(te,te.exports),te.exports}var P=T(function(ee){function te(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function G(F){ee.exports.defaults=F}ee.exports={defaults:te(),getDefaults:te,changeDefaults:G}}),D=P.defaults,C=P.getDefaults,n=P.changeDefaults,I=/[&<>"']/,S=/[&<>"']/g,v=/[<>"']|&(?!#?\w+;)/,f=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g=function(te){return u[te]};function b(ee,te){if(te){if(I.test(ee))return ee.replace(S,g)}else if(v.test(ee))return ee.replace(f,g);return ee}var p=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function d(ee){return ee.replace(p,function(te,G){return G=G.toLowerCase(),G==="colon"?":":G.charAt(0)==="#"?G.charAt(1)==="x"?String.fromCharCode(parseInt(G.substring(2),16)):String.fromCharCode(+G.substring(1)):""})}var s=/(^|[^\[])\^/g;function l(ee,te){ee=ee.source||ee,te=te||"";var G={replace:function(ie,oe){return oe=oe.source||oe,oe=oe.replace(s,"$1"),ee=ee.replace(ie,oe),G},getRegex:function(){return new RegExp(ee,te)}};return G}var c=/[^\w:]/g,t=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function r(ee,te,G){if(ee){var F;try{F=decodeURIComponent(d(G)).replace(c,"").toLowerCase()}catch(ie){return null}if(F.indexOf("javascript:")===0||F.indexOf("vbscript:")===0||F.indexOf("data:")===0)return null}te&&!t.test(G)&&(G=y(te,G));try{G=encodeURI(G).replace(/%25/g,"%")}catch(ie){return null}return G}var o={},a=/^[^:]+:\/*[^/]*$/,i=/^([^:]+:)[\s\S]*$/,h=/^([^:]+:\/*[^/]*)[\s\S]*$/;function y(ee,te){o[" "+ee]||(a.test(ee)?o[" "+ee]=ee+"/":o[" "+ee]=L(ee,"/",!0)),ee=o[" "+ee];var G=ee.indexOf(":")===-1;return te.substring(0,2)==="//"?G?te:ee.replace(i,"$1")+te:te.charAt(0)==="/"?G?te:ee.replace(h,"$1")+te:ee+te}var m={exec:function(){}};function E(ee){for(var te=1,G,F;te<arguments.length;te++){G=arguments[te];for(F in G)Object.prototype.hasOwnProperty.call(G,F)&&(ee[F]=G[F])}return ee}function _(ee,te){var G=ee.replace(/\|/g,function(oe,me,ke){for(var Ae=!1,xe=me;--xe>=0&&ke[xe]==="\\";)Ae=!Ae;return Ae?"|":" |"}),F=G.split(/ \|/),ie=0;if(F.length>te)F.splice(te);else for(;F.length<te;)F.push("");for(;ie<F.length;ie++)F[ie]=F[ie].trim().replace(/\\\|/g,"|");return F}function L(ee,te,G){var F=ee.length;if(F===0)return"";for(var ie=0;ie<F;){var oe=ee.charAt(F-ie-1);if(oe===te&&!G)ie++;else if(oe!==te&&G)ie++;else break}return ee.substr(0,F-ie)}function R(ee,te){if(ee.indexOf(te[1])===-1)return-1;for(var G=ee.length,F=0,ie=0;ie<G;ie++)if(ee[ie]==="\\")ie++;else if(ee[ie]===te[0])F++;else if(ee[ie]===te[1]&&(F--,F<0))return ie;return-1}function N(ee){ee&&ee.sanitize&&!ee.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function W(ee,te){if(te<1)return"";for(var G="";te>1;)te&1&&(G+=ee),te>>=1,ee+=ee;return G+ee}var x={escape:b,unescape:d,edit:l,cleanUrl:r,resolveUrl:y,noopTest:m,merge:E,splitCells:_,rtrim:L,findClosingBracket:R,checkSanitizeDeprecation:N,repeatString:W},M=P.defaults,$=x.rtrim,O=x.splitCells,z=x.escape,J=x.findClosingBracket;function U(ee,te,G){var F=te.href,ie=te.title?z(te.title):null,oe=ee[1].replace(/\\([\[\]])/g,"$1");return ee[0].charAt(0)!=="!"?{type:"link",raw:G,href:F,title:ie,text:oe}:{type:"image",raw:G,href:F,title:ie,text:z(oe)}}function V(ee,te){var G=ee.match(/^(\s+)(?:```)/);if(G===null)return te;var F=G[1];return te.split(`
`).map(function(ie){var oe=ie.match(/^\s+/);if(oe===null)return ie;var me=oe[0];return me.length>=F.length?ie.slice(F.length):ie}).join(`
`)}var B=function(){function ee(G){this.options=G||M}var te=ee.prototype;return te.space=function(F){var ie=this.rules.block.newline.exec(F);if(ie)return ie[0].length>1?{type:"space",raw:ie[0]}:{raw:`
`}},te.code=function(F,ie){var oe=this.rules.block.code.exec(F);if(oe){var me=ie[ie.length-1];if(me&&me.type==="paragraph")return{raw:oe[0],text:oe[0].trimRight()};var ke=oe[0].replace(/^ {4}/gm,"");return{type:"code",raw:oe[0],codeBlockStyle:"indented",text:this.options.pedantic?ke:$(ke,`
`)}}},te.fences=function(F){var ie=this.rules.block.fences.exec(F);if(ie){var oe=ie[0],me=V(oe,ie[3]||"");return{type:"code",raw:oe,lang:ie[2]?ie[2].trim():ie[2],text:me}}},te.heading=function(F){var ie=this.rules.block.heading.exec(F);if(ie)return{type:"heading",raw:ie[0],depth:ie[1].length,text:ie[2]}},te.nptable=function(F){var ie=this.rules.block.nptable.exec(F);if(ie){var oe={type:"table",header:O(ie[1].replace(/^ *| *\| *$/g,"")),align:ie[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:ie[3]?ie[3].replace(/\n$/,"").split(`
`):[],raw:ie[0]};if(oe.header.length===oe.align.length){var me=oe.align.length,ke;for(ke=0;ke<me;ke++)/^ *-+: *$/.test(oe.align[ke])?oe.align[ke]="right":/^ *:-+: *$/.test(oe.align[ke])?oe.align[ke]="center":/^ *:-+ *$/.test(oe.align[ke])?oe.align[ke]="left":oe.align[ke]=null;for(me=oe.cells.length,ke=0;ke<me;ke++)oe.cells[ke]=O(oe.cells[ke],oe.header.length);return oe}}},te.hr=function(F){var ie=this.rules.block.hr.exec(F);if(ie)return{type:"hr",raw:ie[0]}},te.blockquote=function(F){var ie=this.rules.block.blockquote.exec(F);if(ie){var oe=ie[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ie[0],text:oe}}},te.list=function(F){var ie=this.rules.block.list.exec(F);if(ie){for(var oe=ie[0],me=ie[2],ke=me.length>1,Ae=me[me.length-1]===")",xe={type:"list",raw:oe,ordered:ke,start:ke?+me.slice(0,-1):"",loose:!1,items:[]},qe=ie[0].match(this.rules.block.item),Ge=!1,Ke,st,$e,Xe,ft,et,mt,ot=qe.length,Ze=0;Ze<ot;Ze++)Ke=qe[Ze],oe=Ke,st=Ke.length,Ke=Ke.replace(/^ *([*+-]|\d+[.)]) ?/,""),~Ke.indexOf(`
 `)&&(st-=Ke.length,Ke=this.options.pedantic?Ke.replace(/^ {1,4}/gm,""):Ke.replace(new RegExp("^ {1,"+st+"}","gm"),"")),Ze!==ot-1&&($e=this.rules.block.bullet.exec(qe[Ze+1])[0],(ke?$e.length===1||!Ae&&$e[$e.length-1]===")":$e.length>1||this.options.smartLists&&$e!==me)&&(Xe=qe.slice(Ze+1).join(`
`),xe.raw=xe.raw.substring(0,xe.raw.length-Xe.length),Ze=ot-1)),ft=Ge||/\n\n(?!\s*$)/.test(Ke),Ze!==ot-1&&(Ge=Ke.charAt(Ke.length-1)===`
`,ft||(ft=Ge)),ft&&(xe.loose=!0),et=/^\[[ xX]\] /.test(Ke),mt=void 0,et&&(mt=Ke[1]!==" ",Ke=Ke.replace(/^\[[ xX]\] +/,"")),xe.items.push({type:"list_item",raw:oe,task:et,checked:mt,loose:ft,text:Ke});return xe}},te.html=function(F){var ie=this.rules.block.html.exec(F);if(ie)return{type:this.options.sanitize?"paragraph":"html",raw:ie[0],pre:!this.options.sanitizer&&(ie[1]==="pre"||ie[1]==="script"||ie[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ie[0]):z(ie[0]):ie[0]}},te.def=function(F){var ie=this.rules.block.def.exec(F);if(ie){ie[3]&&(ie[3]=ie[3].substring(1,ie[3].length-1));var oe=ie[1].toLowerCase().replace(/\s+/g," ");return{tag:oe,raw:ie[0],href:ie[2],title:ie[3]}}},te.table=function(F){var ie=this.rules.block.table.exec(F);if(ie){var oe={type:"table",header:O(ie[1].replace(/^ *| *\| *$/g,"")),align:ie[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:ie[3]?ie[3].replace(/\n$/,"").split(`
`):[]};if(oe.header.length===oe.align.length){oe.raw=ie[0];var me=oe.align.length,ke;for(ke=0;ke<me;ke++)/^ *-+: *$/.test(oe.align[ke])?oe.align[ke]="right":/^ *:-+: *$/.test(oe.align[ke])?oe.align[ke]="center":/^ *:-+ *$/.test(oe.align[ke])?oe.align[ke]="left":oe.align[ke]=null;for(me=oe.cells.length,ke=0;ke<me;ke++)oe.cells[ke]=O(oe.cells[ke].replace(/^ *\| *| *\| *$/g,""),oe.header.length);return oe}}},te.lheading=function(F){var ie=this.rules.block.lheading.exec(F);if(ie)return{type:"heading",raw:ie[0],depth:ie[2].charAt(0)==="="?1:2,text:ie[1]}},te.paragraph=function(F){var ie=this.rules.block.paragraph.exec(F);if(ie)return{type:"paragraph",raw:ie[0],text:ie[1].charAt(ie[1].length-1)===`
`?ie[1].slice(0,-1):ie[1]}},te.text=function(F,ie){var oe=this.rules.block.text.exec(F);if(oe){var me=ie[ie.length-1];return me&&me.type==="text"?{raw:oe[0],text:oe[0]}:{type:"text",raw:oe[0],text:oe[0]}}},te.escape=function(F){var ie=this.rules.inline.escape.exec(F);if(ie)return{type:"escape",raw:ie[0],text:z(ie[1])}},te.tag=function(F,ie,oe){var me=this.rules.inline.tag.exec(F);if(me)return!ie&&/^<a /i.test(me[0])?ie=!0:ie&&/^<\/a>/i.test(me[0])&&(ie=!1),!oe&&/^<(pre|code|kbd|script)(\s|>)/i.test(me[0])?oe=!0:oe&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(me[0])&&(oe=!1),{type:this.options.sanitize?"text":"html",raw:me[0],inLink:ie,inRawBlock:oe,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(me[0]):z(me[0]):me[0]}},te.link=function(F){var ie=this.rules.inline.link.exec(F);if(ie){var oe=J(ie[2],"()");if(oe>-1){var me=ie[0].indexOf("!")===0?5:4,ke=me+ie[1].length+oe;ie[2]=ie[2].substring(0,oe),ie[0]=ie[0].substring(0,ke).trim(),ie[3]=""}var Ae=ie[2],xe="";if(this.options.pedantic){var qe=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ae);qe?(Ae=qe[1],xe=qe[3]):xe=""}else xe=ie[3]?ie[3].slice(1,-1):"";Ae=Ae.trim().replace(/^<([\s\S]*)>$/,"$1");var Ge=U(ie,{href:Ae&&Ae.replace(this.rules.inline._escapes,"$1"),title:xe&&xe.replace(this.rules.inline._escapes,"$1")},ie[0]);return Ge}},te.reflink=function(F,ie){var oe;if((oe=this.rules.inline.reflink.exec(F))||(oe=this.rules.inline.nolink.exec(F))){var me=(oe[2]||oe[1]).replace(/\s+/g," ");if(me=ie[me.toLowerCase()],!me||!me.href){var ke=oe[0].charAt(0);return{type:"text",raw:ke,text:ke}}var Ae=U(oe,me,oe[0]);return Ae}},te.strong=function(F,ie,oe){oe===void 0&&(oe="");var me=this.rules.inline.strong.start.exec(F);if(me&&(!me[1]||me[1]&&(oe===""||this.rules.inline.punctuation.exec(oe)))){ie=ie.slice(-1*F.length);var ke=me[0]==="**"?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;ke.lastIndex=0;for(var Ae;(me=ke.exec(ie))!=null;)if(Ae=this.rules.inline.strong.middle.exec(ie.slice(0,me.index+3)),Ae)return{type:"strong",raw:F.slice(0,Ae[0].length),text:F.slice(2,Ae[0].length-2)}}},te.em=function(F,ie,oe){oe===void 0&&(oe="");var me=this.rules.inline.em.start.exec(F);if(me&&(!me[1]||me[1]&&(oe===""||this.rules.inline.punctuation.exec(oe)))){ie=ie.slice(-1*F.length);var ke=me[0]==="*"?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;ke.lastIndex=0;for(var Ae;(me=ke.exec(ie))!=null;)if(Ae=this.rules.inline.em.middle.exec(ie.slice(0,me.index+2)),Ae)return{type:"em",raw:F.slice(0,Ae[0].length),text:F.slice(1,Ae[0].length-1)}}},te.codespan=function(F){var ie=this.rules.inline.code.exec(F);if(ie){var oe=ie[2].replace(/\n/g," "),me=/[^ ]/.test(oe),ke=oe.startsWith(" ")&&oe.endsWith(" ");return me&&ke&&(oe=oe.substring(1,oe.length-1)),oe=z(oe,!0),{type:"codespan",raw:ie[0],text:oe}}},te.br=function(F){var ie=this.rules.inline.br.exec(F);if(ie)return{type:"br",raw:ie[0]}},te.del=function(F){var ie=this.rules.inline.del.exec(F);if(ie)return{type:"del",raw:ie[0],text:ie[1]}},te.autolink=function(F,ie){var oe=this.rules.inline.autolink.exec(F);if(oe){var me,ke;return oe[2]==="@"?(me=z(this.options.mangle?ie(oe[1]):oe[1]),ke="mailto:"+me):(me=z(oe[1]),ke=me),{type:"link",raw:oe[0],text:me,href:ke,tokens:[{type:"text",raw:me,text:me}]}}},te.url=function(F,ie){var oe;if(oe=this.rules.inline.url.exec(F)){var me,ke;if(oe[2]==="@")me=z(this.options.mangle?ie(oe[0]):oe[0]),ke="mailto:"+me;else{var Ae;do Ae=oe[0],oe[0]=this.rules.inline._backpedal.exec(oe[0])[0];while(Ae!==oe[0]);me=z(oe[0]),oe[1]==="www."?ke="http://"+me:ke=me}return{type:"link",raw:oe[0],text:me,href:ke,tokens:[{type:"text",raw:me,text:me}]}}},te.inlineText=function(F,ie,oe){var me=this.rules.inline.text.exec(F);if(me){var ke;return ie?ke=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(me[0]):z(me[0]):me[0]:ke=z(this.options.smartypants?oe(me[0]):me[0]),{type:"text",raw:me[0],text:ke}}},ee}(),Y=x.noopTest,ae=x.edit,ce=x.merge,fe={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:Y,table:Y,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};fe._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,fe._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,fe.def=ae(fe.def).replace("label",fe._label).replace("title",fe._title).getRegex(),fe.bullet=/(?:[*+-]|\d{1,9}[.)])/,fe.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,fe.item=ae(fe.item,"gm").replace(/bull/g,fe.bullet).getRegex(),fe.list=ae(fe.list).replace(/bull/g,fe.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+fe.def.source+")").getRegex(),fe._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",fe._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,fe.html=ae(fe.html,"i").replace("comment",fe._comment).replace("tag",fe._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fe.paragraph=ae(fe._paragraph).replace("hr",fe.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",fe._tag).getRegex(),fe.blockquote=ae(fe.blockquote).replace("paragraph",fe.paragraph).getRegex(),fe.normal=ce({},fe),fe.gfm=ce({},fe.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),fe.gfm.nptable=ae(fe.gfm.nptable).replace("hr",fe.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",fe._tag).getRegex(),fe.gfm.table=ae(fe.gfm.table).replace("hr",fe.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",fe._tag).getRegex(),fe.pedantic=ce({},fe.normal,{html:ae(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",fe._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:Y,paragraph:ae(fe.normal._paragraph).replace("hr",fe.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",fe.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var _e={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Y,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/};_e._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",_e.punctuation=ae(_e.punctuation).replace(/punctuation/g,_e._punctuation).getRegex(),_e._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",_e._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",_e._comment=ae(fe._comment).replace("(?:-->|$)","-->").getRegex(),_e.em.start=ae(_e.em.start).replace(/punctuation/g,_e._punctuation).getRegex(),_e.em.middle=ae(_e.em.middle).replace(/punctuation/g,_e._punctuation).replace(/overlapSkip/g,_e._overlapSkip).getRegex(),_e.em.endAst=ae(_e.em.endAst,"g").replace(/punctuation/g,_e._punctuation).getRegex(),_e.em.endUnd=ae(_e.em.endUnd,"g").replace(/punctuation/g,_e._punctuation).getRegex(),_e.strong.start=ae(_e.strong.start).replace(/punctuation/g,_e._punctuation).getRegex(),_e.strong.middle=ae(_e.strong.middle).replace(/punctuation/g,_e._punctuation).replace(/overlapSkip/g,_e._overlapSkip).getRegex(),_e.strong.endAst=ae(_e.strong.endAst,"g").replace(/punctuation/g,_e._punctuation).getRegex(),_e.strong.endUnd=ae(_e.strong.endUnd,"g").replace(/punctuation/g,_e._punctuation).getRegex(),_e.blockSkip=ae(_e._blockSkip,"g").getRegex(),_e.overlapSkip=ae(_e._overlapSkip,"g").getRegex(),_e._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,_e._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,_e._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,_e.autolink=ae(_e.autolink).replace("scheme",_e._scheme).replace("email",_e._email).getRegex(),_e._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,_e.tag=ae(_e.tag).replace("comment",_e._comment).replace("attribute",_e._attribute).getRegex(),_e._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,_e._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,_e._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,_e.link=ae(_e.link).replace("label",_e._label).replace("href",_e._href).replace("title",_e._title).getRegex(),_e.reflink=ae(_e.reflink).replace("label",_e._label).getRegex(),_e.reflinkSearch=ae(_e.reflinkSearch,"g").replace("reflink",_e.reflink).replace("nolink",_e.nolink).getRegex(),_e.normal=ce({},_e),_e.pedantic=ce({},_e.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ae(/^!?\[(label)\]\((.*?)\)/).replace("label",_e._label).getRegex(),reflink:ae(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_e._label).getRegex()}),_e.gfm=ce({},_e.normal,{escape:ae(_e.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),_e.gfm.url=ae(_e.gfm.url,"i").replace("email",_e.gfm._extended_email).getRegex(),_e.breaks=ce({},_e.gfm,{br:ae(_e.br).replace("{2,}","*").getRegex(),text:ae(_e.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var be={block:fe,inline:_e},H=P.defaults,X=be.block,re=be.inline,Q=x.repeatString;function le(ee){return ee.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function ve(ee){var te="",G,F,ie=ee.length;for(G=0;G<ie;G++)F=ee.charCodeAt(G),Math.random()>.5&&(F="x"+F.toString(16)),te+="&#"+F+";";return te}var De=function(){function ee(G){this.tokens=[],this.tokens.links=Object.create(null),this.options=G||H,this.options.tokenizer=this.options.tokenizer||new B,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var F={block:X.normal,inline:re.normal};this.options.pedantic?(F.block=X.pedantic,F.inline=re.pedantic):this.options.gfm&&(F.block=X.gfm,this.options.breaks?F.inline=re.breaks:F.inline=re.gfm),this.tokenizer.rules=F}ee.lex=function(F,ie){var oe=new ee(ie);return oe.lex(F)},ee.lexInline=function(F,ie){var oe=new ee(ie);return oe.inlineTokens(F)};var te=ee.prototype;return te.lex=function(F){return F=F.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(F,this.tokens,!0),this.inline(this.tokens),this.tokens},te.blockTokens=function(F,ie,oe){ie===void 0&&(ie=[]),oe===void 0&&(oe=!0),F=F.replace(/^ +$/gm,"");for(var me,ke,Ae,xe;F;){if(me=this.tokenizer.space(F)){F=F.substring(me.raw.length),me.type&&ie.push(me);continue}if(me=this.tokenizer.code(F,ie)){F=F.substring(me.raw.length),me.type?ie.push(me):(xe=ie[ie.length-1],xe.raw+=`
`+me.raw,xe.text+=`
`+me.text);continue}if(me=this.tokenizer.fences(F)){F=F.substring(me.raw.length),ie.push(me);continue}if(me=this.tokenizer.heading(F)){F=F.substring(me.raw.length),ie.push(me);continue}if(me=this.tokenizer.nptable(F)){F=F.substring(me.raw.length),ie.push(me);continue}if(me=this.tokenizer.hr(F)){F=F.substring(me.raw.length),ie.push(me);continue}if(me=this.tokenizer.blockquote(F)){F=F.substring(me.raw.length),me.tokens=this.blockTokens(me.text,[],oe),ie.push(me);continue}if(me=this.tokenizer.list(F)){for(F=F.substring(me.raw.length),Ae=me.items.length,ke=0;ke<Ae;ke++)me.items[ke].tokens=this.blockTokens(me.items[ke].text,[],!1);ie.push(me);continue}if(me=this.tokenizer.html(F)){F=F.substring(me.raw.length),ie.push(me);continue}if(oe&&(me=this.tokenizer.def(F))){F=F.substring(me.raw.length),this.tokens.links[me.tag]||(this.tokens.links[me.tag]={href:me.href,title:me.title});continue}if(me=this.tokenizer.table(F)){F=F.substring(me.raw.length),ie.push(me);continue}if(me=this.tokenizer.lheading(F)){F=F.substring(me.raw.length),ie.push(me);continue}if(oe&&(me=this.tokenizer.paragraph(F))){F=F.substring(me.raw.length),ie.push(me);continue}if(me=this.tokenizer.text(F,ie)){F=F.substring(me.raw.length),me.type?ie.push(me):(xe=ie[ie.length-1],xe.raw+=`
`+me.raw,xe.text+=`
`+me.text);continue}if(F){var qe="Infinite loop on byte: "+F.charCodeAt(0);if(this.options.silent){console.error(qe);break}else throw new Error(qe)}}return ie},te.inline=function(F){var ie,oe,me,ke,Ae,xe,qe=F.length;for(ie=0;ie<qe;ie++)switch(xe=F[ie],xe.type){case"paragraph":case"text":case"heading":{xe.tokens=[],this.inlineTokens(xe.text,xe.tokens);break}case"table":{for(xe.tokens={header:[],cells:[]},ke=xe.header.length,oe=0;oe<ke;oe++)xe.tokens.header[oe]=[],this.inlineTokens(xe.header[oe],xe.tokens.header[oe]);for(ke=xe.cells.length,oe=0;oe<ke;oe++)for(Ae=xe.cells[oe],xe.tokens.cells[oe]=[],me=0;me<Ae.length;me++)xe.tokens.cells[oe][me]=[],this.inlineTokens(Ae[me],xe.tokens.cells[oe][me]);break}case"blockquote":{this.inline(xe.tokens);break}case"list":{for(ke=xe.items.length,oe=0;oe<ke;oe++)this.inline(xe.items[oe].tokens);break}}return F},te.inlineTokens=function(F,ie,oe,me,ke){ie===void 0&&(ie=[]),oe===void 0&&(oe=!1),me===void 0&&(me=!1),ke===void 0&&(ke="");var Ae,xe=F,qe;if(this.tokens.links){var Ge=Object.keys(this.tokens.links);if(Ge.length>0)for(;(qe=this.tokenizer.rules.inline.reflinkSearch.exec(xe))!=null;)Ge.includes(qe[0].slice(qe[0].lastIndexOf("[")+1,-1))&&(xe=xe.slice(0,qe.index)+"["+Q("a",qe[0].length-2)+"]"+xe.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(qe=this.tokenizer.rules.inline.blockSkip.exec(xe))!=null;)xe=xe.slice(0,qe.index)+"["+Q("a",qe[0].length-2)+"]"+xe.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;F;){if(Ae=this.tokenizer.escape(F)){F=F.substring(Ae.raw.length),ie.push(Ae);continue}if(Ae=this.tokenizer.tag(F,oe,me)){F=F.substring(Ae.raw.length),oe=Ae.inLink,me=Ae.inRawBlock,ie.push(Ae);continue}if(Ae=this.tokenizer.link(F)){F=F.substring(Ae.raw.length),Ae.type==="link"&&(Ae.tokens=this.inlineTokens(Ae.text,[],!0,me)),ie.push(Ae);continue}if(Ae=this.tokenizer.reflink(F,this.tokens.links)){F=F.substring(Ae.raw.length),Ae.type==="link"&&(Ae.tokens=this.inlineTokens(Ae.text,[],!0,me)),ie.push(Ae);continue}if(Ae=this.tokenizer.strong(F,xe,ke)){F=F.substring(Ae.raw.length),Ae.tokens=this.inlineTokens(Ae.text,[],oe,me),ie.push(Ae);continue}if(Ae=this.tokenizer.em(F,xe,ke)){F=F.substring(Ae.raw.length),Ae.tokens=this.inlineTokens(Ae.text,[],oe,me),ie.push(Ae);continue}if(Ae=this.tokenizer.codespan(F)){F=F.substring(Ae.raw.length),ie.push(Ae);continue}if(Ae=this.tokenizer.br(F)){F=F.substring(Ae.raw.length),ie.push(Ae);continue}if(Ae=this.tokenizer.del(F)){F=F.substring(Ae.raw.length),Ae.tokens=this.inlineTokens(Ae.text,[],oe,me),ie.push(Ae);continue}if(Ae=this.tokenizer.autolink(F,ve)){F=F.substring(Ae.raw.length),ie.push(Ae);continue}if(!oe&&(Ae=this.tokenizer.url(F,ve))){F=F.substring(Ae.raw.length),ie.push(Ae);continue}if(Ae=this.tokenizer.inlineText(F,me,le)){F=F.substring(Ae.raw.length),ke=Ae.raw.slice(-1),ie.push(Ae);continue}if(F){var Ke="Infinite loop on byte: "+F.charCodeAt(0);if(this.options.silent){console.error(Ke);break}else throw new Error(Ke)}}return ie},e(ee,null,[{key:"rules",get:function(){return{block:X,inline:re}}}]),ee}(),Me=P.defaults,Ee=x.cleanUrl,Pe=x.escape,Ce=function(){function ee(G){this.options=G||Me}var te=ee.prototype;return te.code=function(F,ie,oe){var me=(ie||"").match(/\S*/)[0];if(this.options.highlight){var ke=this.options.highlight(F,me);ke!=null&&ke!==F&&(oe=!0,F=ke)}return me?'<pre><code class="'+this.options.langPrefix+Pe(me,!0)+'">'+(oe?F:Pe(F,!0))+`</code></pre>
`:"<pre><code>"+(oe?F:Pe(F,!0))+`</code></pre>
`},te.blockquote=function(F){return`<blockquote>
`+F+`</blockquote>
`},te.html=function(F){return F},te.heading=function(F,ie,oe,me){return this.options.headerIds?"<h"+ie+' id="'+this.options.headerPrefix+me.slug(oe)+'">'+F+"</h"+ie+`>
`:"<h"+ie+">"+F+"</h"+ie+`>
`},te.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},te.list=function(F,ie,oe){var me=ie?"ol":"ul",ke=ie&&oe!==1?' start="'+oe+'"':"";return"<"+me+ke+`>
`+F+"</"+me+`>
`},te.listitem=function(F){return"<li>"+F+`</li>
`},te.checkbox=function(F){return"<input "+(F?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},te.paragraph=function(F){return"<p>"+F+`</p>
`},te.table=function(F,ie){return ie&&(ie="<tbody>"+ie+"</tbody>"),`<table>
<thead>
`+F+`</thead>
`+ie+`</table>
`},te.tablerow=function(F){return`<tr>
`+F+`</tr>
`},te.tablecell=function(F,ie){var oe=ie.header?"th":"td",me=ie.align?"<"+oe+' align="'+ie.align+'">':"<"+oe+">";return me+F+"</"+oe+`>
`},te.strong=function(F){return"<strong>"+F+"</strong>"},te.em=function(F){return"<em>"+F+"</em>"},te.codespan=function(F){return"<code>"+F+"</code>"},te.br=function(){return this.options.xhtml?"<br/>":"<br>"},te.del=function(F){return"<del>"+F+"</del>"},te.link=function(F,ie,oe){if(F=Ee(this.options.sanitize,this.options.baseUrl,F),F===null)return oe;var me='<a href="'+Pe(F)+'"';return ie&&(me+=' title="'+ie+'"'),me+=">"+oe+"</a>",me},te.image=function(F,ie,oe){if(F=Ee(this.options.sanitize,this.options.baseUrl,F),F===null)return oe;var me='<img src="'+F+'" alt="'+oe+'"';return ie&&(me+=' title="'+ie+'"'),me+=this.options.xhtml?"/>":">",me},te.text=function(F){return F},ee}(),Oe=function(){function ee(){}var te=ee.prototype;return te.strong=function(F){return F},te.em=function(F){return F},te.codespan=function(F){return F},te.del=function(F){return F},te.html=function(F){return F},te.text=function(F){return F},te.link=function(F,ie,oe){return""+oe},te.image=function(F,ie,oe){return""+oe},te.br=function(){return""},ee}(),Se=function(){function ee(){this.seen={}}var te=ee.prototype;return te.serialize=function(F){return F.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},te.getNextSafeSlug=function(F,ie){var oe=F,me=0;if(this.seen.hasOwnProperty(oe)){me=this.seen[F];do me++,oe=F+"-"+me;while(this.seen.hasOwnProperty(oe))}return ie||(this.seen[F]=me,this.seen[oe]=0),oe},te.slug=function(F,ie){ie===void 0&&(ie={});var oe=this.serialize(F);return this.getNextSafeSlug(oe,ie.dryrun)},ee}(),ze=P.defaults,K=x.unescape,se=function(){function ee(G){this.options=G||ze,this.options.renderer=this.options.renderer||new Ce,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Oe,this.slugger=new Se}ee.parse=function(F,ie){var oe=new ee(ie);return oe.parse(F)},ee.parseInline=function(F,ie){var oe=new ee(ie);return oe.parseInline(F)};var te=ee.prototype;return te.parse=function(F,ie){ie===void 0&&(ie=!0);var oe="",me,ke,Ae,xe,qe,Ge,Ke,st,$e,Xe,ft,et,mt,ot,Ze,St,wt,gt,at=F.length;for(me=0;me<at;me++)switch(Xe=F[me],Xe.type){case"space":continue;case"hr":{oe+=this.renderer.hr();continue}case"heading":{oe+=this.renderer.heading(this.parseInline(Xe.tokens),Xe.depth,K(this.parseInline(Xe.tokens,this.textRenderer)),this.slugger);continue}case"code":{oe+=this.renderer.code(Xe.text,Xe.lang,Xe.escaped);continue}case"table":{for(st="",Ke="",xe=Xe.header.length,ke=0;ke<xe;ke++)Ke+=this.renderer.tablecell(this.parseInline(Xe.tokens.header[ke]),{header:!0,align:Xe.align[ke]});for(st+=this.renderer.tablerow(Ke),$e="",xe=Xe.cells.length,ke=0;ke<xe;ke++){for(Ge=Xe.tokens.cells[ke],Ke="",qe=Ge.length,Ae=0;Ae<qe;Ae++)Ke+=this.renderer.tablecell(this.parseInline(Ge[Ae]),{header:!1,align:Xe.align[Ae]});$e+=this.renderer.tablerow(Ke)}oe+=this.renderer.table(st,$e);continue}case"blockquote":{$e=this.parse(Xe.tokens),oe+=this.renderer.blockquote($e);continue}case"list":{for(ft=Xe.ordered,et=Xe.start,mt=Xe.loose,xe=Xe.items.length,$e="",ke=0;ke<xe;ke++)Ze=Xe.items[ke],St=Ze.checked,wt=Ze.task,ot="",Ze.task&&(gt=this.renderer.checkbox(St),mt?Ze.tokens.length>0&&Ze.tokens[0].type==="text"?(Ze.tokens[0].text=gt+" "+Ze.tokens[0].text,Ze.tokens[0].tokens&&Ze.tokens[0].tokens.length>0&&Ze.tokens[0].tokens[0].type==="text"&&(Ze.tokens[0].tokens[0].text=gt+" "+Ze.tokens[0].tokens[0].text)):Ze.tokens.unshift({type:"text",text:gt}):ot+=gt),ot+=this.parse(Ze.tokens,mt),$e+=this.renderer.listitem(ot,wt,St);oe+=this.renderer.list($e,ft,et);continue}case"html":{oe+=this.renderer.html(Xe.text);continue}case"paragraph":{oe+=this.renderer.paragraph(this.parseInline(Xe.tokens));continue}case"text":{for($e=Xe.tokens?this.parseInline(Xe.tokens):Xe.text;me+1<at&&F[me+1].type==="text";)Xe=F[++me],$e+=`
`+(Xe.tokens?this.parseInline(Xe.tokens):Xe.text);oe+=ie?this.renderer.paragraph($e):$e;continue}default:{var ut='Token with "'+Xe.type+'" type was not found.';if(this.options.silent){console.error(ut);return}else throw new Error(ut)}}return oe},te.parseInline=function(F,ie){ie=ie||this.renderer;var oe="",me,ke,Ae=F.length;for(me=0;me<Ae;me++)switch(ke=F[me],ke.type){case"escape":{oe+=ie.text(ke.text);break}case"html":{oe+=ie.html(ke.text);break}case"link":{oe+=ie.link(ke.href,ke.title,this.parseInline(ke.tokens,ie));break}case"image":{oe+=ie.image(ke.href,ke.title,ke.text);break}case"strong":{oe+=ie.strong(this.parseInline(ke.tokens,ie));break}case"em":{oe+=ie.em(this.parseInline(ke.tokens,ie));break}case"codespan":{oe+=ie.codespan(ke.text);break}case"br":{oe+=ie.br();break}case"del":{oe+=ie.del(this.parseInline(ke.tokens,ie));break}case"text":{oe+=ie.text(ke.text);break}default:{var xe='Token with "'+ke.type+'" type was not found.';if(this.options.silent){console.error(xe);return}else throw new Error(xe)}}return oe},ee}(),we=x.merge,Re=x.checkSanitizeDeprecation,Ue=x.escape,Be=P.getDefaults,je=P.changeDefaults,ue=P.defaults;function ye(ee,te,G){if(typeof ee=="undefined"||ee===null)throw new Error("marked(): input parameter is undefined or null");if(typeof ee!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ee)+", string expected");if(typeof te=="function"&&(G=te,te=null),te=we({},ye.defaults,te||{}),Re(te),G){var F=te.highlight,ie;try{ie=De.lex(ee,te)}catch(Ae){return G(Ae)}var oe=function(xe){var qe;if(!xe)try{qe=se.parse(ie,te)}catch(Ge){xe=Ge}return te.highlight=F,xe?G(xe):G(null,qe)};if(!F||F.length<3||(delete te.highlight,!ie.length))return oe();var me=0;ye.walkTokens(ie,function(Ae){Ae.type==="code"&&(me++,setTimeout(function(){F(Ae.text,Ae.lang,function(xe,qe){if(xe)return oe(xe);qe!=null&&qe!==Ae.text&&(Ae.text=qe,Ae.escaped=!0),me--,me===0&&oe()})},0))}),me===0&&oe();return}try{var ke=De.lex(ee,te);return te.walkTokens&&ye.walkTokens(ke,te.walkTokens),se.parse(ke,te)}catch(Ae){if(Ae.message+=`
Please report this to https://github.com/markedjs/marked.`,te.silent)return"<p>An error occurred:</p><pre>"+Ue(Ae.message+"",!0)+"</pre>";throw Ae}}ye.options=ye.setOptions=function(ee){return we(ye.defaults,ee),je(ye.defaults),ye},ye.getDefaults=Be,ye.defaults=ue,ye.use=function(ee){var te=we({},ee);if(ee.renderer&&function(){var F=ye.defaults.renderer||new Ce,ie=function(ke){var Ae=F[ke];F[ke]=function(){for(var xe=arguments.length,qe=new Array(xe),Ge=0;Ge<xe;Ge++)qe[Ge]=arguments[Ge];var Ke=ee.renderer[ke].apply(F,qe);return Ke===!1&&(Ke=Ae.apply(F,qe)),Ke}};for(var oe in ee.renderer)ie(oe);te.renderer=F}(),ee.tokenizer&&function(){var F=ye.defaults.tokenizer||new B,ie=function(ke){var Ae=F[ke];F[ke]=function(){for(var xe=arguments.length,qe=new Array(xe),Ge=0;Ge<xe;Ge++)qe[Ge]=arguments[Ge];var Ke=ee.tokenizer[ke].apply(F,qe);return Ke===!1&&(Ke=Ae.apply(F,qe)),Ke}};for(var oe in ee.tokenizer)ie(oe);te.tokenizer=F}(),ee.walkTokens){var G=ye.defaults.walkTokens;te.walkTokens=function(F){ee.walkTokens(F),G&&G(F)}}ye.setOptions(te)},ye.walkTokens=function(ee,te){for(var G=A(ee),F;!(F=G()).done;){var ie=F.value;switch(te(ie),ie.type){case"table":{for(var oe=A(ie.tokens.header),me;!(me=oe()).done;){var ke=me.value;ye.walkTokens(ke,te)}for(var Ae=A(ie.tokens.cells),xe;!(xe=Ae()).done;)for(var qe=xe.value,Ge=A(qe),Ke;!(Ke=Ge()).done;){var st=Ke.value;ye.walkTokens(st,te)}break}case"list":{ye.walkTokens(ie.items,te);break}default:ie.tokens&&ye.walkTokens(ie.tokens,te)}}},ye.parseInline=function(ee,te){if(typeof ee=="undefined"||ee===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof ee!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ee)+", string expected");te=we({},ye.defaults,te||{}),Re(te);try{var G=De.lexInline(ee,te);return te.walkTokens&&ye.walkTokens(G,te.walkTokens),se.parseInline(G,te)}catch(F){if(F.message+=`
Please report this to https://github.com/markedjs/marked.`,te.silent)return"<p>An error occurred:</p><pre>"+Ue(F.message+"",!0)+"</pre>";throw F}},ye.Parser=se,ye.parser=se.parse,ye.Renderer=Ce,ye.TextRenderer=Oe,ye.Lexer=De,ye.lexer=De.lex,ye.Tokenizer=B,ye.Slugger=Se,ye.parse=ye;var Ne=ye;return Ne}),define(ge[74],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovingAverage=e.Counter=e.rot=e.clamp=void 0;function w(P,D,C){return Math.min(Math.max(P,D),C)}e.clamp=w;function k(P,D){return(D+P%D)%D}e.rot=k;class A{constructor(){this._next=0}getNext(){return this._next++}}e.Counter=A;class T{constructor(){this._n=1,this._val=0}update(D){return this._val=this._val+(D-this._val)/this._n,this._n+=1,this}get value(){return this._val}}e.MovingAverage=T});"use strict";function ci(Z){const e=[];typeof Z=="number"&&e.push("code/timeOrigin",Z);function w(A){e.push(A,Date.now())}function k(){const A=[];for(let T=0;T<e.length;T+=2)A.push({name:e[T],startTime:e[T+1]});return A}return{mark:w,getMarks:k}}function Ii(){if(typeof performance=="object"&&typeof performance.mark=="function")return typeof performance.timeOrigin!="number"&&!performance.timing?ci():{mark(Z){performance.mark(Z)},getMarks(){let Z=performance.timeOrigin;typeof Z!="number"&&(Z=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const e=[{name:"code/timeOrigin",startTime:Math.round(Z)}];for(const w of performance.getEntriesByType("mark"))e.push({name:w.name,startTime:Math.round(Z+w.startTime)});return e}};if(typeof process=="object"){const Z=Math.round((require.nodeRequire||require)("perf_hooks").performance.timeOrigin);return ci(Z)}else return console.trace("perf-util loaded in UNKNOWN environment"),ci()}function ui(Z){return Z.MonacoPerformanceMarks||(Z.MonacoPerformanceMarks=Ii()),Z.MonacoPerformanceMarks}var Rt;typeof global=="object"?Rt=global:typeof self=="object"?Rt=self:Rt={},typeof define=="function"?define("vs/base/common/performance",[],function(){return ui(Rt)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=ui(Rt):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),Rt.perf=ui(Rt)),define(ge[9],pe([0,1]),function(Z,e){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.isLittleEndian=e.OS=e.OperatingSystem=e.setImmediate=e.globals=e.translationsConfigFile=e.locale=e.Language=e.language=e.userAgent=e.platform=e.isIOS=e.isWeb=e.isNative=e.isLinuxSnap=e.isLinux=e.isMacintosh=e.isWindows=e.PlatformToString=e.Platform=e.isPreferringBrowserCodeLoad=e.browserCodeLoadingCacheStrategy=e.isElectronSandboxed=void 0;const k="en";let A=!1,T=!1,P=!1,D=!1,C=!1,n=!1,I=!1,S,v=k,f,u;const g=typeof self=="object"?self:typeof global=="object"?global:{};let b;typeof process!="undefined"?b=process:typeof g.vscode!="undefined"&&(b=g.vscode.process);const p=typeof((w=b==null?void 0:b.versions)===null||w===void 0?void 0:w.electron)=="string"&&b.type==="renderer";if(e.isElectronSandboxed=p&&(b==null?void 0:b.sandboxed),e.browserCodeLoadingCacheStrategy=(()=>{if(e.isElectronSandboxed)return"bypassHeatCheck";const i=b==null?void 0:b.env.ENABLE_VSCODE_BROWSER_CODE_LOADING;if(typeof i=="string")return i==="none"||i==="code"||i==="bypassHeatCheck"||i==="bypassHeatCheckAndEagerCompile"?i:"bypassHeatCheck"})(),e.isPreferringBrowserCodeLoad=typeof e.browserCodeLoadingCacheStrategy=="string",typeof navigator=="object"&&!p)u=navigator.userAgent,A=u.indexOf("Windows")>=0,T=u.indexOf("Macintosh")>=0,I=(u.indexOf("Macintosh")>=0||u.indexOf("iPad")>=0||u.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,P=u.indexOf("Linux")>=0,n=!0,S=navigator.language,v=S;else if(typeof b=="object"){A=b.platform==="win32",T=b.platform==="darwin",P=b.platform==="linux",D=P&&!!b.env.SNAP&&!!b.env.SNAP_REVISION,S=k,v=k;const i=b.env.VSCODE_NLS_CONFIG;if(i)try{const h=JSON.parse(i),y=h.availableLanguages["*"];S=h.locale,v=y||k,f=h._translationsConfigFile}catch(h){}C=!0}else console.error("Unable to resolve platform.");var d;(function(i){i[i.Web=0]="Web",i[i.Mac=1]="Mac",i[i.Linux=2]="Linux",i[i.Windows=3]="Windows"})(d=e.Platform||(e.Platform={}));function s(i){switch(i){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}e.PlatformToString=s;let l=0;T?l=1:A?l=3:P&&(l=2),e.isWindows=A,e.isMacintosh=T,e.isLinux=P,e.isLinuxSnap=D,e.isNative=C,e.isWeb=n,e.isIOS=I,e.platform=l,e.userAgent=u,e.language=v;var c;(function(i){function h(){return e.language}i.value=h;function y(){return e.language.length===2?e.language==="en":e.language.length>=3?e.language[0]==="e"&&e.language[1]==="n"&&e.language[2]==="-":!1}i.isDefaultVariant=y;function m(){return e.language==="en"}i.isDefault=m})(c=e.Language||(e.Language={})),e.locale=S,e.translationsConfigFile=f,e.globals=g,e.setImmediate=function(){if(e.globals.setImmediate)return e.globals.setImmediate.bind(e.globals);if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let y=[];e.globals.addEventListener("message",E=>{if(E.data&&E.data.vscodeSetImmediateId)for(let _=0,L=y.length;_<L;_++){const R=y[_];if(R.id===E.data.vscodeSetImmediateId){y.splice(_,1),R.callback();return}}});let m=0;return E=>{const _=++m;y.push({id:_,callback:E}),e.globals.postMessage({vscodeSetImmediateId:_},"*")}}if(b)return b.nextTick.bind(b);const h=Promise.resolve();return y=>h.then(y)}();var t;(function(i){i[i.Windows=1]="Windows",i[i.Macintosh=2]="Macintosh",i[i.Linux=3]="Linux"})(t=e.OperatingSystem||(e.OperatingSystem={})),e.OS=T||I?2:A?1:3;let r=!0,o=!1;function a(){if(!o){o=!0;const i=new Uint8Array(2);i[0]=1,i[1]=2,r=new Uint16Array(i.buffer)[0]===(2<<8)+1}return r}e.isLittleEndian=a}),define(ge[37],pe([0,1,9]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nextTick=e.platform=e.env=e.cwd=void 0;let k;typeof process!="undefined"?k=process:typeof w.globals.vscode!="undefined"?k={get platform(){return w.globals.vscode.process.platform},get env(){return w.globals.vscode.process.env},nextTick(A){return w.setImmediate(A)},cwd(){return w.globals.vscode.process.env.VSCODE_CWD||w.globals.vscode.process.execPath.substr(0,w.globals.vscode.process.execPath.lastIndexOf(w.globals.vscode.process.platform==="win32"?"\\":"/"))}}:k={get platform(){return w.isWindows?"win32":w.isMacintosh?"darwin":"linux"},nextTick(A){return w.setImmediate(A)},get env(){return Object.create(null)},cwd(){return"/"}},e.cwd=k.cwd,e.env=k.env,e.platform=k.platform,e.nextTick=k.nextTick}),define(ge[7],pe([0,1,37]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delimiter=e.sep=e.toNamespacedPath=e.parse=e.format=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.join=e.isAbsolute=e.normalize=e.posix=e.win32=void 0;const k=65,A=97,T=90,P=122,D=46,C=47,n=92,I=58,S=63;class v extends Error{constructor(l,c,t){let r;typeof c=="string"&&c.indexOf("not ")===0?(r="must not be",c=c.replace(/^not /,"")):r="must be";const o=l.indexOf(".")!==-1?"property":"argument";let a=`The "${l}" ${o} ${r} of type ${c}`;a+=`. Received type ${typeof t}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}}function f(s,l){if(typeof s!="string")throw new v(l,"string",s)}function u(s){return s===C||s===n}function g(s){return s===C}function b(s){return s>=k&&s<=T||s>=A&&s<=P}function p(s,l,c,t){let r="",o=0,a=-1,i=0,h=0;for(let y=0;y<=s.length;++y){if(y<s.length)h=s.charCodeAt(y);else{if(t(h))break;h=C}if(t(h)){if(!(a===y-1||i===1))if(i===2){if(r.length<2||o!==2||r.charCodeAt(r.length-1)!==D||r.charCodeAt(r.length-2)!==D){if(r.length>2){const m=r.lastIndexOf(c);m===-1?(r="",o=0):(r=r.slice(0,m),o=r.length-1-r.lastIndexOf(c)),a=y,i=0;continue}else if(r.length!==0){r="",o=0,a=y,i=0;continue}}l&&(r+=r.length>0?`${c}..`:"..",o=2)}else r.length>0?r+=`${c}${s.slice(a+1,y)}`:r=s.slice(a+1,y),o=y-a-1;a=y,i=0}else h===D&&i!==-1?++i:i=-1}return r}function d(s,l){if(l===null||typeof l!="object")throw new v("pathObject","Object",l);const c=l.dir||l.root,t=l.base||`${l.name||""}${l.ext||""}`;return c?c===l.root?`${c}${t}`:`${c}${s}${t}`:t}e.win32={resolve(...s){let l="",c="",t=!1;for(let r=s.length-1;r>=-1;r--){let o;if(r>=0){if(o=s[r],f(o,"path"),o.length===0)continue}else l.length===0?o=w.cwd():(o=w.env[`=${l}`]||w.cwd(),(o===void 0||o.slice(0,2).toLowerCase()!==l.toLowerCase()&&o.charCodeAt(2)===n)&&(o=`${l}\\`));const a=o.length;let i=0,h="",y=!1;const m=o.charCodeAt(0);if(a===1)u(m)&&(i=1,y=!0);else if(u(m))if(y=!0,u(o.charCodeAt(1))){let E=2,_=E;for(;E<a&&!u(o.charCodeAt(E));)E++;if(E<a&&E!==_){const L=o.slice(_,E);for(_=E;E<a&&u(o.charCodeAt(E));)E++;if(E<a&&E!==_){for(_=E;E<a&&!u(o.charCodeAt(E));)E++;(E===a||E!==_)&&(h=`\\\\${L}\\${o.slice(_,E)}`,i=E)}}}else i=1;else b(m)&&o.charCodeAt(1)===I&&(h=o.slice(0,2),i=2,a>2&&u(o.charCodeAt(2))&&(y=!0,i=3));if(h.length>0)if(l.length>0){if(h.toLowerCase()!==l.toLowerCase())continue}else l=h;if(t){if(l.length>0)break}else if(c=`${o.slice(i)}\\${c}`,t=y,y&&l.length>0)break}return c=p(c,!t,"\\",u),t?`${l}\\${c}`:`${l}${c}`||"."},normalize(s){f(s,"path");const l=s.length;if(l===0)return".";let c=0,t,r=!1;const o=s.charCodeAt(0);if(l===1)return g(o)?"\\":s;if(u(o))if(r=!0,u(s.charCodeAt(1))){let i=2,h=i;for(;i<l&&!u(s.charCodeAt(i));)i++;if(i<l&&i!==h){const y=s.slice(h,i);for(h=i;i<l&&u(s.charCodeAt(i));)i++;if(i<l&&i!==h){for(h=i;i<l&&!u(s.charCodeAt(i));)i++;if(i===l)return`\\\\${y}\\${s.slice(h)}\\`;i!==h&&(t=`\\\\${y}\\${s.slice(h,i)}`,c=i)}}}else c=1;else b(o)&&s.charCodeAt(1)===I&&(t=s.slice(0,2),c=2,l>2&&u(s.charCodeAt(2))&&(r=!0,c=3));let a=c<l?p(s.slice(c),!r,"\\",u):"";return a.length===0&&!r&&(a="."),a.length>0&&u(s.charCodeAt(l-1))&&(a+="\\"),t===void 0?r?`\\${a}`:a:r?`${t}\\${a}`:`${t}${a}`},isAbsolute(s){f(s,"path");const l=s.length;if(l===0)return!1;const c=s.charCodeAt(0);return u(c)||l>2&&b(c)&&s.charCodeAt(1)===I&&u(s.charCodeAt(2))},join(...s){if(s.length===0)return".";let l,c;for(let o=0;o<s.length;++o){const a=s[o];f(a,"path"),a.length>0&&(l===void 0?l=c=a:l+=`\\${a}`)}if(l===void 0)return".";let t=!0,r=0;if(typeof c=="string"&&u(c.charCodeAt(0))){++r;const o=c.length;o>1&&u(c.charCodeAt(1))&&(++r,o>2&&(u(c.charCodeAt(2))?++r:t=!1))}if(t){for(;r<l.length&&u(l.charCodeAt(r));)r++;r>=2&&(l=`\\${l.slice(r)}`)}return e.win32.normalize(l)},relative(s,l){if(f(s,"from"),f(l,"to"),s===l)return"";const c=e.win32.resolve(s),t=e.win32.resolve(l);if(c===t||(s=c.toLowerCase(),l=t.toLowerCase(),s===l))return"";let r=0;for(;r<s.length&&s.charCodeAt(r)===n;)r++;let o=s.length;for(;o-1>r&&s.charCodeAt(o-1)===n;)o--;const a=o-r;let i=0;for(;i<l.length&&l.charCodeAt(i)===n;)i++;let h=l.length;for(;h-1>i&&l.charCodeAt(h-1)===n;)h--;const y=h-i,m=a<y?a:y;let E=-1,_=0;for(;_<m;_++){const R=s.charCodeAt(r+_);if(R!==l.charCodeAt(i+_))break;R===n&&(E=_)}if(_!==m){if(E===-1)return t}else{if(y>m){if(l.charCodeAt(i+_)===n)return t.slice(i+_+1);if(_===2)return t.slice(i+_)}a>m&&(s.charCodeAt(r+_)===n?E=_:_===2&&(E=3)),E===-1&&(E=0)}let L="";for(_=r+E+1;_<=o;++_)(_===o||s.charCodeAt(_)===n)&&(L+=L.length===0?"..":"\\..");return i+=E,L.length>0?`${L}${t.slice(i,h)}`:(t.charCodeAt(i)===n&&++i,t.slice(i,h))},toNamespacedPath(s){if(typeof s!="string")return s;if(s.length===0)return"";const l=e.win32.resolve(s);if(l.length<=2)return s;if(l.charCodeAt(0)===n){if(l.charCodeAt(1)===n){const c=l.charCodeAt(2);if(c!==S&&c!==D)return`\\\\?\\UNC\\${l.slice(2)}`}}else if(b(l.charCodeAt(0))&&l.charCodeAt(1)===I&&l.charCodeAt(2)===n)return`\\\\?\\${l}`;return s},dirname(s){f(s,"path");const l=s.length;if(l===0)return".";let c=-1,t=0;const r=s.charCodeAt(0);if(l===1)return u(r)?s:".";if(u(r)){if(c=t=1,u(s.charCodeAt(1))){let i=2,h=i;for(;i<l&&!u(s.charCodeAt(i));)i++;if(i<l&&i!==h){for(h=i;i<l&&u(s.charCodeAt(i));)i++;if(i<l&&i!==h){for(h=i;i<l&&!u(s.charCodeAt(i));)i++;if(i===l)return s;i!==h&&(c=t=i+1)}}}}else b(r)&&s.charCodeAt(1)===I&&(c=l>2&&u(s.charCodeAt(2))?3:2,t=c);let o=-1,a=!0;for(let i=l-1;i>=t;--i)if(u(s.charCodeAt(i))){if(!a){o=i;break}}else a=!1;if(o===-1){if(c===-1)return".";o=c}return s.slice(0,o)},basename(s,l){l!==void 0&&f(l,"ext"),f(s,"path");let c=0,t=-1,r=!0,o;if(s.length>=2&&b(s.charCodeAt(0))&&s.charCodeAt(1)===I&&(c=2),l!==void 0&&l.length>0&&l.length<=s.length){if(l===s)return"";let a=l.length-1,i=-1;for(o=s.length-1;o>=c;--o){const h=s.charCodeAt(o);if(u(h)){if(!r){c=o+1;break}}else i===-1&&(r=!1,i=o+1),a>=0&&(h===l.charCodeAt(a)?--a==-1&&(t=o):(a=-1,t=i))}return c===t?t=i:t===-1&&(t=s.length),s.slice(c,t)}for(o=s.length-1;o>=c;--o)if(u(s.charCodeAt(o))){if(!r){c=o+1;break}}else t===-1&&(r=!1,t=o+1);return t===-1?"":s.slice(c,t)},extname(s){f(s,"path");let l=0,c=-1,t=0,r=-1,o=!0,a=0;s.length>=2&&s.charCodeAt(1)===I&&b(s.charCodeAt(0))&&(l=t=2);for(let i=s.length-1;i>=l;--i){const h=s.charCodeAt(i);if(u(h)){if(!o){t=i+1;break}continue}r===-1&&(o=!1,r=i+1),h===D?c===-1?c=i:a!==1&&(a=1):c!==-1&&(a=-1)}return c===-1||r===-1||a===0||a===1&&c===r-1&&c===t+1?"":s.slice(c,r)},format:d.bind(null,"\\"),parse(s){f(s,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return l;const c=s.length;let t=0,r=s.charCodeAt(0);if(c===1)return u(r)?(l.root=l.dir=s,l):(l.base=l.name=s,l);if(u(r)){if(t=1,u(s.charCodeAt(1))){let E=2,_=E;for(;E<c&&!u(s.charCodeAt(E));)E++;if(E<c&&E!==_){for(_=E;E<c&&u(s.charCodeAt(E));)E++;if(E<c&&E!==_){for(_=E;E<c&&!u(s.charCodeAt(E));)E++;E===c?t=E:E!==_&&(t=E+1)}}}}else if(b(r)&&s.charCodeAt(1)===I){if(c<=2)return l.root=l.dir=s,l;if(t=2,u(s.charCodeAt(2))){if(c===3)return l.root=l.dir=s,l;t=3}}t>0&&(l.root=s.slice(0,t));let o=-1,a=t,i=-1,h=!0,y=s.length-1,m=0;for(;y>=t;--y){if(r=s.charCodeAt(y),u(r)){if(!h){a=y+1;break}continue}i===-1&&(h=!1,i=y+1),r===D?o===-1?o=y:m!==1&&(m=1):o!==-1&&(m=-1)}return i!==-1&&(o===-1||m===0||m===1&&o===i-1&&o===a+1?l.base=l.name=s.slice(a,i):(l.name=s.slice(a,o),l.base=s.slice(a,i),l.ext=s.slice(o,i))),a>0&&a!==t?l.dir=s.slice(0,a-1):l.dir=l.root,l},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...s){let l="",c=!1;for(let t=s.length-1;t>=-1&&!c;t--){const r=t>=0?s[t]:w.cwd();f(r,"path"),r.length!==0&&(l=`${r}/${l}`,c=r.charCodeAt(0)===C)}return l=p(l,!c,"/",g),c?`/${l}`:l.length>0?l:"."},normalize(s){if(f(s,"path"),s.length===0)return".";const l=s.charCodeAt(0)===C,c=s.charCodeAt(s.length-1)===C;return s=p(s,!l,"/",g),s.length===0?l?"/":c?"./":".":(c&&(s+="/"),l?`/${s}`:s)},isAbsolute(s){return f(s,"path"),s.length>0&&s.charCodeAt(0)===C},join(...s){if(s.length===0)return".";let l;for(let c=0;c<s.length;++c){const t=s[c];f(t,"path"),t.length>0&&(l===void 0?l=t:l+=`/${t}`)}return l===void 0?".":e.posix.normalize(l)},relative(s,l){if(f(s,"from"),f(l,"to"),s===l||(s=e.posix.resolve(s),l=e.posix.resolve(l),s===l))return"";const c=1,t=s.length,r=t-c,o=1,a=l.length-o,i=r<a?r:a;let h=-1,y=0;for(;y<i;y++){const E=s.charCodeAt(c+y);if(E!==l.charCodeAt(o+y))break;E===C&&(h=y)}if(y===i)if(a>i){if(l.charCodeAt(o+y)===C)return l.slice(o+y+1);if(y===0)return l.slice(o+y)}else r>i&&(s.charCodeAt(c+y)===C?h=y:y===0&&(h=0));let m="";for(y=c+h+1;y<=t;++y)(y===t||s.charCodeAt(y)===C)&&(m+=m.length===0?"..":"/..");return`${m}${l.slice(o+h)}`},toNamespacedPath(s){return s},dirname(s){if(f(s,"path"),s.length===0)return".";const l=s.charCodeAt(0)===C;let c=-1,t=!0;for(let r=s.length-1;r>=1;--r)if(s.charCodeAt(r)===C){if(!t){c=r;break}}else t=!1;return c===-1?l?"/":".":l&&c===1?"//":s.slice(0,c)},basename(s,l){l!==void 0&&f(l,"ext"),f(s,"path");let c=0,t=-1,r=!0,o;if(l!==void 0&&l.length>0&&l.length<=s.length){if(l===s)return"";let a=l.length-1,i=-1;for(o=s.length-1;o>=0;--o){const h=s.charCodeAt(o);if(h===C){if(!r){c=o+1;break}}else i===-1&&(r=!1,i=o+1),a>=0&&(h===l.charCodeAt(a)?--a==-1&&(t=o):(a=-1,t=i))}return c===t?t=i:t===-1&&(t=s.length),s.slice(c,t)}for(o=s.length-1;o>=0;--o)if(s.charCodeAt(o)===C){if(!r){c=o+1;break}}else t===-1&&(r=!1,t=o+1);return t===-1?"":s.slice(c,t)},extname(s){f(s,"path");let l=-1,c=0,t=-1,r=!0,o=0;for(let a=s.length-1;a>=0;--a){const i=s.charCodeAt(a);if(i===C){if(!r){c=a+1;break}continue}t===-1&&(r=!1,t=a+1),i===D?l===-1?l=a:o!==1&&(o=1):l!==-1&&(o=-1)}return l===-1||t===-1||o===0||o===1&&l===t-1&&l===c+1?"":s.slice(l,t)},format:d.bind(null,"/"),parse(s){f(s,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return l;const c=s.charCodeAt(0)===C;let t;c?(l.root="/",t=1):t=0;let r=-1,o=0,a=-1,i=!0,h=s.length-1,y=0;for(;h>=t;--h){const m=s.charCodeAt(h);if(m===C){if(!i){o=h+1;break}continue}a===-1&&(i=!1,a=h+1),m===D?r===-1?r=h:y!==1&&(y=1):r!==-1&&(y=-1)}if(a!==-1){const m=o===0&&c?1:o;r===-1||y===0||y===1&&r===a-1&&r===o+1?l.base=l.name=s.slice(m,a):(l.name=s.slice(m,r),l.base=s.slice(m,a),l.ext=s.slice(r,a))}return o>0?l.dir=s.slice(0,o-1):c&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=w.platform==="win32"?e.win32.normalize:e.posix.normalize,e.isAbsolute=w.platform==="win32"?e.win32.isAbsolute:e.posix.isAbsolute,e.join=w.platform==="win32"?e.win32.join:e.posix.join,e.resolve=w.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=w.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=w.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=w.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=w.platform==="win32"?e.win32.extname:e.posix.extname,e.format=w.platform==="win32"?e.win32.format:e.posix.format,e.parse=w.platform==="win32"?e.win32.parse:e.posix.parse,e.toNamespacedPath=w.platform==="win32"?e.win32.toNamespacedPath:e.posix.toNamespacedPath,e.sep=w.platform==="win32"?e.win32.sep:e.posix.sep,e.delimiter=w.platform==="win32"?e.win32.delimiter:e.posix.delimiter}),define(ge[132],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeProcessEnvironment=e.TerminateResponseCode=e.Source=void 0;var w;(function(T){T[T.stdout=0]="stdout",T[T.stderr=1]="stderr"})(w=e.Source||(e.Source={}));var k;(function(T){T[T.Success=0]="Success",T[T.Unknown=1]="Unknown",T[T.AccessDenied=2]="AccessDenied",T[T.ProcessNotFound=3]="ProcessNotFound"})(k=e.TerminateResponseCode||(e.TerminateResponseCode={}));function A(T,...P){const D=P.reduce((I,S)=>(I[S]=!0,I),{}),C=[/^ELECTRON_.+$/,/^VSCODE_.+$/,/^SNAP(|_.*)$/,/^GDK_PIXBUF_.+$/];Object.keys(T).filter(I=>!D[I]).forEach(I=>{for(let S=0;S<C.length;S++)if(I.search(C[S])!==-1){delete T[I];break}})}e.sanitizeProcessEnvironment=A}),define(ge[47],pe([0,1,9]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const k=w.globals.performance&&typeof w.globals.performance.now=="function";class A{constructor(P){this._highResolution=k&&P,this._startTime=this._now(),this._stopTime=-1}static create(P=!0){return new A(P)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?w.globals.performance.now():Date.now()}}e.StopWatch=A}),define(ge[3],pe([0,1,15,70,5,73,47]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.AsyncEmitter=e.PauseableEmitter=e.Emitter=e.setGlobalLeakWarningThreshold=e.Event=void 0;var D;(function(d){d.None=()=>A.Disposable.None;function s(M){return($,O=null,z)=>{let J=!1,U;return U=M(V=>{if(!J)return U?U.dispose():J=!0,$.call(O,V)},null,z),J&&U.dispose(),U}}d.once=s;function l(M,$){return i((O,z=null,J)=>M(U=>O.call(z,$(U)),null,J))}d.map=l;function c(M,$){return i((O,z=null,J)=>M(U=>{$(U),O.call(z,U)},null,J))}d.forEach=c;function t(M,$){return i((O,z=null,J)=>M(U=>$(U)&&O.call(z,U),null,J))}d.filter=t;function r(M){return M}d.signal=r;function o(...M){return($,O=null,z)=>A.combinedDisposable(...M.map(J=>J(U=>$.call(O,U),null,z)))}d.any=o;function a(M,$,O){let z=O;return l(M,J=>(z=$(z,J),z))}d.reduce=a;function i(M){let $;const O=new v({onFirstListenerAdd(){$=M(O.fire,O)},onLastListenerRemove(){$.dispose()}});return O.event}d.snapshot=i;function h(M,$,O=100,z=!1,J){let U,V,B,Y=0;const ae=new v({leakWarningThreshold:J,onFirstListenerAdd(){U=M(ce=>{Y++,V=$(V,ce),z&&!B&&(ae.fire(V),V=void 0),clearTimeout(B),B=setTimeout(()=>{const fe=V;V=void 0,B=void 0,(!z||Y>1)&&ae.fire(fe),Y=0},O)})},onLastListenerRemove(){U.dispose()}});return ae.event}d.debounce=h;function y(M){const $=new Date().getTime();return l(s(M),O=>new Date().getTime()-$)}d.stopwatch=y;function m(M){let $=!0,O;return t(M,z=>{const J=$||z!==O;return $=!1,O=z,J})}d.latch=m;function E(M,$=!1,O=[]){let z=O.slice(),J=M(B=>{z?z.push(B):V.fire(B)});const U=()=>{z&&z.forEach(B=>V.fire(B)),z=null},V=new v({onFirstListenerAdd(){J||(J=M(B=>V.fire(B)))},onFirstListenerDidAdd(){z&&($?setTimeout(U):U())},onLastListenerRemove(){J&&J.dispose(),J=null}});return V.event}d.buffer=E;class _{constructor($){this.event=$}map($){return new _(l(this.event,$))}forEach($){return new _(c(this.event,$))}filter($){return new _(t(this.event,$))}reduce($,O){return new _(a(this.event,$,O))}latch(){return new _(m(this.event))}debounce($,O=100,z=!1,J){return new _(h(this.event,$,O,z,J))}on($,O,z){return this.event($,O,z)}once($,O,z){return s(this.event)($,O,z)}}function L(M){return new _(M)}d.chain=L;function R(M,$,O=z=>z){const z=(...B)=>V.fire(O(...B)),J=()=>M.on($,z),U=()=>M.removeListener($,z),V=new v({onFirstListenerAdd:J,onLastListenerRemove:U});return V.event}d.fromNodeEventEmitter=R;function N(M,$,O=z=>z){const z=(...B)=>V.fire(O(...B)),J=()=>M.addEventListener($,z),U=()=>M.removeEventListener($,z),V=new v({onFirstListenerAdd:J,onLastListenerRemove:U});return V.event}d.fromDOMEventEmitter=N;function W(M){const $=new v;let O=!1;return M.then(void 0,()=>null).then(()=>{O?$.fire(void 0):setTimeout(()=>$.fire(void 0),0)}),O=!0,$.event}d.fromPromise=W;function x(M){return new Promise($=>s(M)($))}d.toPromise=x})(D=e.Event||(e.Event={}));class C{constructor(s){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${s}_${C._idPool++}`}start(s){this._stopWatch=new P.StopWatch(!0),this._listenerCount=s}stop(){if(this._stopWatch){const s=this._stopWatch.elapsed();this._elapsedOverall+=s,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${s.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}C._idPool=0;let n=-1;function I(d){const s=n;return n=d,{dispose(){n=s}}}e.setGlobalLeakWarningThreshold=I;class S{constructor(s,l=Math.random().toString(18).slice(2,5)){this.customThreshold=s,this.name=l,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(s){let l=n;if(typeof this.customThreshold=="number"&&(l=this.customThreshold),!(l<=0||s<l)){this._stacks||(this._stacks=new Map);const c=new Error().stack.split(`
`).slice(3).join(`
`),t=this._stacks.get(c)||0;if(this._stacks.set(c,t+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=l*.5;let r,o=0;for(const[a,i]of this._stacks)(!r||o<i)&&(r=a,o=i);console.warn(`[${this.name}] potential listener LEAK detected, having ${s} listeners already. MOST frequent listener (${o}):`),console.warn(r)}return()=>{const r=this._stacks.get(c)||0;this._stacks.set(c,r-1)}}}}class v{constructor(s){var l;this._disposed=!1,this._options=s,this._leakageMon=n>0?new S(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((l=this._options)===null||l===void 0?void 0:l._profName)?new C(this._options._profName):void 0}get event(){return this._event||(this._event=(s,l,c)=>{var t;this._listeners||(this._listeners=new T.LinkedList);const r=this._listeners.isEmpty();r&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const o=this._listeners.push(l?[s,l]:s);r&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,s,l);const a=(t=this._leakageMon)===null||t===void 0?void 0:t.check(this._listeners.size);let i;return i={dispose:()=>{a&&a(),i.dispose=v._noop,this._disposed||(o(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))}},c instanceof A.DisposableStore?c.add(i):Array.isArray(c)&&c.push(i),i}),this._event}fire(s){var l,c;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new T.LinkedList);for(let t of this._listeners)this._deliveryQueue.push([t,s]);for((l=this._perfMon)===null||l===void 0||l.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[t,r]=this._deliveryQueue.shift();try{typeof t=="function"?t.call(void 0,r):t[0].call(t[1],r)}catch(o){w.onUnexpectedError(o)}}(c=this._perfMon)===null||c===void 0||c.stop()}}dispose(){var s,l,c;(s=this._listeners)===null||s===void 0||s.clear(),(l=this._deliveryQueue)===null||l===void 0||l.clear(),(c=this._leakageMon)===null||c===void 0||c.dispose(),this._disposed=!0}}e.Emitter=v,v._noop=function(){};class f extends v{constructor(s){super(s);this._isPaused=0,this._eventQueue=new T.LinkedList,this._mergeFn=s==null?void 0:s.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const s=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(s))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(s){this._listeners&&(this._isPaused!==0?this._eventQueue.push(s):super.fire(s))}}e.PauseableEmitter=f;class u extends v{async fireAsync(s,l,c){if(!!this._listeners){this._asyncDeliveryQueue||(this._asyncDeliveryQueue=new T.LinkedList);for(const t of this._listeners)this._asyncDeliveryQueue.push([t,s]);for(;this._asyncDeliveryQueue.size>0&&!l.isCancellationRequested;){const[t,r]=this._asyncDeliveryQueue.shift(),o=[],a=Object.assign(Object.assign({},r),{waitUntil:i=>{if(Object.isFrozen(o))throw new Error("waitUntil can NOT be called asynchronous");c&&(i=c(i,typeof t=="function"?t:t[0])),o.push(i)}});try{typeof t=="function"?t.call(void 0,a):t[0].call(t[1],a)}catch(i){w.onUnexpectedError(i);continue}Object.freeze(o),await Promise.all(o).catch(i=>w.onUnexpectedError(i))}}}}e.AsyncEmitter=u;class g{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new v({onFirstListenerAdd:()=>this.onFirstListenerAdd(),onLastListenerRemove:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(s){const l={event:s,listener:null};this.events.push(l),this.hasListeners&&this.hook(l);const c=()=>{this.hasListeners&&this.unhook(l);const t=this.events.indexOf(l);this.events.splice(t,1)};return A.toDisposable(k.once(c))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(s=>this.hook(s))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(s=>this.unhook(s))}hook(s){s.listener=s.event(l=>this.emitter.fire(l))}unhook(s){s.listener&&s.listener.dispose(),s.listener=null}dispose(){this.emitter.dispose()}}e.EventMultiplexer=g;class b{constructor(){this.buffers=[]}wrapEvent(s){return(l,c,t)=>s(r=>{const o=this.buffers[this.buffers.length-1];o?o.push(()=>l.call(c,r)):l.call(c,r)},void 0,t)}bufferEvents(s){const l=[];this.buffers.push(l);const c=s();return this.buffers.pop(),l.forEach(t=>t()),c}}e.EventBufferer=b;class p{constructor(){this.listening=!1,this.inputEvent=D.None,this.inputEventListener=A.Disposable.None,this.emitter=new v({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(s){this.inputEvent=s,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=s(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=p}),define(ge[21],pe([0,1,3]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(D,C){const n=setTimeout(D.bind(C),0);return{dispose(){clearTimeout(n)}}});var A;(function(D){function C(n){return n===D.None||n===D.Cancelled||n instanceof T?!0:!n||typeof n!="object"?!1:typeof n.isCancellationRequested=="boolean"&&typeof n.onCancellationRequested=="function"}D.isCancellationToken=C,D.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:w.Event.None}),D.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(A=e.CancellationToken||(e.CancellationToken={}));class T{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new w.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class P{constructor(C){this._token=void 0,this._parentListener=void 0,this._parentListener=C&&C.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new T),this._token}cancel(){this._token?this._token instanceof T&&this._token.cancel():this._token=A.Cancelled}dispose(C=!1){C&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof T&&this._token.dispose():this._token=A.None}}e.CancellationTokenSource=P}),define(ge[19],pe([0,1,21,15,3,5]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeferredPromise=e.IntervalCounter=e.TaskSequentializer=e.retry=e.IdleValue=e.runWhenIdle=e.RunOnceWorker=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ResourceQueue=e.Queue=e.Limiter=e.firstParallel=e.first=e.sequence=e.ignoreErrors=e.disposableTimeout=e.timeout=e.Barrier=e.ThrottledDelayer=e.Delayer=e.SequencerByKey=e.Sequencer=e.Throttler=e.asPromise=e.raceTimeout=e.raceCancellablePromises=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function P(x){return x&&typeof x.then=="function"}e.isThenable=P;function D(x){const M=new w.CancellationTokenSource,$=x(M.token),O=new Promise((z,J)=>{M.token.onCancellationRequested(()=>{J(k.canceled())}),Promise.resolve($).then(U=>{M.dispose(),z(U)},U=>{M.dispose(),J(U)})});return new class{cancel(){M.cancel()}then(z,J){return O.then(z,J)}catch(z){return this.then(void 0,z)}finally(z){return O.finally(z)}}}e.createCancelablePromise=D;function C(x,M,$){return Promise.race([x,new Promise(O=>M.onCancellationRequested(()=>O($)))])}e.raceCancellation=C;async function n(x){let M=-1;const $=x.map((z,J)=>z.then(U=>(M=J,U))),O=await Promise.race($);return x.forEach((z,J)=>{J!==M&&z.cancel()}),O}e.raceCancellablePromises=n;function I(x,M,$){let O;const z=setTimeout(()=>{O==null||O(void 0),$==null||$()},M);return Promise.race([x.finally(()=>clearTimeout(z)),new Promise(J=>O=J)])}e.raceTimeout=I;function S(x){return new Promise((M,$)=>{const O=x();P(O)?O.then(M,$):M(O)})}e.asPromise=S;class v{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(M){if(this.activePromise){if(this.queuedPromiseFactory=M,!this.queuedPromise){const $=()=>{this.queuedPromise=null;const O=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,O};this.queuedPromise=new Promise(O=>{this.activePromise.then($,$).then(O)})}return new Promise(($,O)=>{this.queuedPromise.then($,O)})}return this.activePromise=M(),new Promise(($,O)=>{this.activePromise.then(z=>{this.activePromise=null,$(z)},z=>{this.activePromise=null,O(z)})})}}e.Throttler=v;class f{constructor(){this.current=Promise.resolve(null)}queue(M){return this.current=this.current.then(()=>M(),()=>M())}}e.Sequencer=f;class u{constructor(){this.promiseMap=new Map}queue(M,$){var O;const J=((O=this.promiseMap.get(M))!==null&&O!==void 0?O:Promise.resolve()).catch(()=>{}).then($).finally(()=>{this.promiseMap.get(M)===J&&this.promiseMap.delete(M)});return this.promiseMap.set(M,J),J}}e.SequencerByKey=u;class g{constructor(M){this.defaultDelay=M,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(M,$=this.defaultDelay){return this.task=M,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((O,z)=>{this.doResolve=O,this.doReject=z}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const O=this.task;return this.task=null,O()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},$),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(k.canceled()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancelTimeout()}}e.Delayer=g;class b{constructor(M){this.delayer=new g(M),this.throttler=new v}trigger(M,$){return this.delayer.trigger(()=>this.throttler.queue(M),$)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=b;class p{constructor(){this._isOpen=!1,this._promise=new Promise((M,$)=>{this._completePromise=M})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}e.Barrier=p;function d(x,M){return M?new Promise(($,O)=>{const z=setTimeout($,x);M.onCancellationRequested(()=>{clearTimeout(z),O(k.canceled())})}):D($=>d(x,$))}e.timeout=d;function s(x,M=0){const $=setTimeout(x,M);return T.toDisposable(()=>clearTimeout($))}e.disposableTimeout=s;function l(x){return x.then(void 0,M=>{})}e.ignoreErrors=l;function c(x){const M=[];let $=0;const O=x.length;function z(){return $<O?x[$++]():null}function J(U){U!=null&&M.push(U);const V=z();return V?V.then(J):Promise.resolve(M)}return Promise.resolve(null).then(J)}e.sequence=c;function t(x,M=O=>!!O,$=null){let O=0;const z=x.length,J=()=>{if(O>=z)return Promise.resolve($);const U=x[O++];return Promise.resolve(U()).then(B=>M(B)?Promise.resolve(B):J())};return J()}e.first=t;function r(x,M=O=>!!O,$=null){if(x.length===0)return Promise.resolve($);let O=x.length;const z=()=>{var J,U;O=-1;for(const V of x)(U=(J=V).cancel)===null||U===void 0||U.call(J)};return new Promise((J,U)=>{for(const V of x)V.then(B=>{--O>=0&&M(B)?(z(),J(B)):O===0&&J($)}).catch(B=>{--O>=0&&(z(),U(B))})})}e.firstParallel=r;class o{constructor(M){this._size=0,this.maxDegreeOfParalellism=M,this.outstandingPromises=[],this.runningPromises=0,this._onFinished=new A.Emitter}get onFinished(){return this._onFinished.event}get size(){return this._size}queue(M){return this._size++,new Promise(($,O)=>{this.outstandingPromises.push({factory:M,c:$,e:O}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const M=this.outstandingPromises.shift();this.runningPromises++;const $=M.factory();$.then(M.c,M.e),$.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._size--,this.runningPromises--,this.outstandingPromises.length>0?this.consume():this._onFinished.fire()}dispose(){this._onFinished.dispose()}}e.Limiter=o;class a extends o{constructor(){super(1)}}e.Queue=a;class i{constructor(){this.queues=new Map}queueFor(M){const $=M.toString();if(!this.queues.has($)){const O=new a;O.onFinished(()=>{O.dispose(),this.queues.delete($)}),this.queues.set($,O)}return this.queues.get($)}dispose(){this.queues.forEach(M=>M.dispose()),this.queues.clear()}}e.ResourceQueue=i;class h{constructor(M,$){this._token=-1,typeof M=="function"&&typeof $=="number"&&this.setIfNotSet(M,$)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(M,$){this.cancel(),this._token=setTimeout(()=>{this._token=-1,M()},$)}setIfNotSet(M,$){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,M()},$))}}e.TimeoutTimer=h;class y{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(M,$){this.cancel(),this._token=setInterval(()=>{M()},$)}}e.IntervalTimer=y;class m{constructor(M,$){this.timeoutToken=-1,this.runner=M,this.timeout=$,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(M=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,M)}get delay(){return this.timeout}set delay(M){this.timeout=M}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=m;class E extends m{constructor(M,$){super(M,$);this.units=[]}work(M){this.units.push(M),this.isScheduled()||this.schedule()}doRun(){const M=this.units;this.units=[],this.runner&&this.runner(M)}dispose(){this.units=[],super.dispose()}}e.RunOnceWorker=E,function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const x=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});e.runWhenIdle=M=>{const $=setTimeout(()=>M(x));let O=!1;return{dispose(){O||(O=!0,clearTimeout($))}}}}else e.runWhenIdle=(x,M)=>{const $=requestIdleCallback(x,typeof M=="number"?{timeout:M}:void 0);let O=!1;return{dispose(){O||(O=!0,cancelIdleCallback($))}}}}();class _{constructor(M){this._didRun=!1,this._executor=()=>{try{this._value=M()}catch($){this._error=$}finally{this._didRun=!0}},this._handle=e.runWhenIdle(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}e.IdleValue=_;async function L(x,M,$){let O;for(let z=0;z<$;z++)try{return await x()}catch(J){O=J,await d(M)}throw O}e.retry=L;class R{hasPending(M){return this._pending?typeof M=="number"?this._pending.taskId===M:!!this._pending:!1}get pending(){return this._pending?this._pending.promise:void 0}cancelPending(){var M;(M=this._pending)===null||M===void 0||M.cancel()}setPending(M,$,O){return this._pending={taskId:M,cancel:()=>O==null?void 0:O(),promise:$},$.then(()=>this.donePending(M),()=>this.donePending(M)),$}donePending(M){this._pending&&M===this._pending.taskId&&(this._pending=void 0,this.triggerNext())}triggerNext(){if(this._next){const M=this._next;this._next=void 0,M.run().then(M.promiseResolve,M.promiseReject)}}setNext(M){if(this._next)this._next.run=M;else{let $,O;const z=new Promise((J,U)=>{$=J,O=U});this._next={run:M,promise:z,promiseResolve:$,promiseReject:O}}return this._next.promise}}e.TaskSequentializer=R;class N{constructor(M){this.interval=M,this.lastIncrementTime=0,this.value=0}increment(){const M=Date.now();return M-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=M,this.value=0),this.value++,this.value}}e.IntervalCounter=N;class W{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((M,$)=>{this.completeCallback=M,this.errorCallback=$})}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(M){return new Promise($=>{this.completeCallback(M),this.resolved=!0,$()})}error(M){return new Promise($=>{this.errorCallback(M),this.rejected=!0,$()})}cancel(){new Promise(M=>{this.errorCallback(k.canceled()),this.rejected=!0,M()})}}e.DeferredPromise=W}),define(ge[57],pe([0,1,3]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.getClassNamesArray=e.Codicon=e.registerCodicon=e.iconRegistry=void 0;class k{constructor(){this._icons=new Map,this._onDidRegister=new w.Emitter}add(I){const S=this._icons.get(I.id);S?I.description?S.description=I.description:console.error(`Duplicate registration of codicon ${I.id}`):(this._icons.set(I.id,I),this._onDidRegister.fire(I))}get(I){return this._icons.get(I)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}}const A=new k;e.iconRegistry=A;function T(n,I){return new P(n,I)}e.registerCodicon=T;class P{constructor(I,S,v){this.id=I,this.definition=S,this.description=v,A.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}e.Codicon=P;function D(n,I){const S=["codicon","codicon-"+n];return I&&S.push("codicon-modifier-"+I),S}e.getClassNamesArray=D;var C;(function(n){n.iconIdRegex=/^(codicon\/)?([a-z\-]+)(?:~([a-z\-]+))?$/i;function I(f){if(f instanceof P)return["codicon","codicon-"+f.id];const u=n.iconIdRegex.exec(f.id);if(!u)return I(P.error);let[,,g,b]=u;const p=["codicon","codicon-"+g];return b&&p.push("codicon-modifier-"+b),p}n.asClassNameArray=I;function S(f){return I(f).join(" ")}n.asClassName=S;function v(f){return"."+I(f).join(".")}n.asCSSSelector=v})(C=e.CSSIcon||(e.CSSIcon={})),function(n){n.add=new n("add",{character:"\\ea60"}),n.plus=new n("plus",{character:"\\ea60"}),n.gistNew=new n("gist-new",{character:"\\ea60"}),n.repoCreate=new n("repo-create",{character:"\\ea60"}),n.lightbulb=new n("lightbulb",{character:"\\ea61"}),n.lightBulb=new n("light-bulb",{character:"\\ea61"}),n.repo=new n("repo",{character:"\\ea62"}),n.repoDelete=new n("repo-delete",{character:"\\ea62"}),n.gistFork=new n("gist-fork",{character:"\\ea63"}),n.repoForked=new n("repo-forked",{character:"\\ea63"}),n.gitPullRequest=new n("git-pull-request",{character:"\\ea64"}),n.gitPullRequestAbandoned=new n("git-pull-request-abandoned",{character:"\\ea64"}),n.recordKeys=new n("record-keys",{character:"\\ea65"}),n.keyboard=new n("keyboard",{character:"\\ea65"}),n.tag=new n("tag",{character:"\\ea66"}),n.tagAdd=new n("tag-add",{character:"\\ea66"}),n.tagRemove=new n("tag-remove",{character:"\\ea66"}),n.person=new n("person",{character:"\\ea67"}),n.personAdd=new n("person-add",{character:"\\ea67"}),n.personFollow=new n("person-follow",{character:"\\ea67"}),n.personOutline=new n("person-outline",{character:"\\ea67"}),n.personFilled=new n("person-filled",{character:"\\ea67"}),n.gitBranch=new n("git-branch",{character:"\\ea68"}),n.gitBranchCreate=new n("git-branch-create",{character:"\\ea68"}),n.gitBranchDelete=new n("git-branch-delete",{character:"\\ea68"}),n.sourceControl=new n("source-control",{character:"\\ea68"}),n.mirror=new n("mirror",{character:"\\ea69"}),n.mirrorPublic=new n("mirror-public",{character:"\\ea69"}),n.star=new n("star",{character:"\\ea6a"}),n.starAdd=new n("star-add",{character:"\\ea6a"}),n.starDelete=new n("star-delete",{character:"\\ea6a"}),n.starEmpty=new n("star-empty",{character:"\\ea6a"}),n.comment=new n("comment",{character:"\\ea6b"}),n.commentAdd=new n("comment-add",{character:"\\ea6b"}),n.alert=new n("alert",{character:"\\ea6c"}),n.warning=new n("warning",{character:"\\ea6c"}),n.search=new n("search",{character:"\\ea6d"}),n.searchSave=new n("search-save",{character:"\\ea6d"}),n.logOut=new n("log-out",{character:"\\ea6e"}),n.signOut=new n("sign-out",{character:"\\ea6e"}),n.logIn=new n("log-in",{character:"\\ea6f"}),n.signIn=new n("sign-in",{character:"\\ea6f"}),n.eye=new n("eye",{character:"\\ea70"}),n.eyeUnwatch=new n("eye-unwatch",{character:"\\ea70"}),n.eyeWatch=new n("eye-watch",{character:"\\ea70"}),n.circleFilled=new n("circle-filled",{character:"\\ea71"}),n.primitiveDot=new n("primitive-dot",{character:"\\ea71"}),n.closeDirty=new n("close-dirty",{character:"\\ea71"}),n.debugBreakpoint=new n("debug-breakpoint",{character:"\\ea71"}),n.debugBreakpointDisabled=new n("debug-breakpoint-disabled",{character:"\\ea71"}),n.debugHint=new n("debug-hint",{character:"\\ea71"}),n.primitiveSquare=new n("primitive-square",{character:"\\ea72"}),n.edit=new n("edit",{character:"\\ea73"}),n.pencil=new n("pencil",{character:"\\ea73"}),n.info=new n("info",{character:"\\ea74"}),n.issueOpened=new n("issue-opened",{character:"\\ea74"}),n.gistPrivate=new n("gist-private",{character:"\\ea75"}),n.gitForkPrivate=new n("git-fork-private",{character:"\\ea75"}),n.lock=new n("lock",{character:"\\ea75"}),n.mirrorPrivate=new n("mirror-private",{character:"\\ea75"}),n.close=new n("close",{character:"\\ea76"}),n.removeClose=new n("remove-close",{character:"\\ea76"}),n.x=new n("x",{character:"\\ea76"}),n.repoSync=new n("repo-sync",{character:"\\ea77"}),n.sync=new n("sync",{character:"\\ea77"}),n.clone=new n("clone",{character:"\\ea78"}),n.desktopDownload=new n("desktop-download",{character:"\\ea78"}),n.beaker=new n("beaker",{character:"\\ea79"}),n.microscope=new n("microscope",{character:"\\ea79"}),n.vm=new n("vm",{character:"\\ea7a"}),n.deviceDesktop=new n("device-desktop",{character:"\\ea7a"}),n.file=new n("file",{character:"\\ea7b"}),n.fileText=new n("file-text",{character:"\\ea7b"}),n.more=new n("more",{character:"\\ea7c"}),n.ellipsis=new n("ellipsis",{character:"\\ea7c"}),n.kebabHorizontal=new n("kebab-horizontal",{character:"\\ea7c"}),n.mailReply=new n("mail-reply",{character:"\\ea7d"}),n.reply=new n("reply",{character:"\\ea7d"}),n.organization=new n("organization",{character:"\\ea7e"}),n.organizationFilled=new n("organization-filled",{character:"\\ea7e"}),n.organizationOutline=new n("organization-outline",{character:"\\ea7e"}),n.newFile=new n("new-file",{character:"\\ea7f"}),n.fileAdd=new n("file-add",{character:"\\ea7f"}),n.newFolder=new n("new-folder",{character:"\\ea80"}),n.fileDirectoryCreate=new n("file-directory-create",{character:"\\ea80"}),n.trash=new n("trash",{character:"\\ea81"}),n.trashcan=new n("trashcan",{character:"\\ea81"}),n.history=new n("history",{character:"\\ea82"}),n.clock=new n("clock",{character:"\\ea82"}),n.folder=new n("folder",{character:"\\ea83"}),n.fileDirectory=new n("file-directory",{character:"\\ea83"}),n.symbolFolder=new n("symbol-folder",{character:"\\ea83"}),n.logoGithub=new n("logo-github",{character:"\\ea84"}),n.markGithub=new n("mark-github",{character:"\\ea84"}),n.github=new n("github",{character:"\\ea84"}),n.terminal=new n("terminal",{character:"\\ea85"}),n.console=new n("console",{character:"\\ea85"}),n.repl=new n("repl",{character:"\\ea85"}),n.zap=new n("zap",{character:"\\ea86"}),n.symbolEvent=new n("symbol-event",{character:"\\ea86"}),n.error=new n("error",{character:"\\ea87"}),n.stop=new n("stop",{character:"\\ea87"}),n.variable=new n("variable",{character:"\\ea88"}),n.symbolVariable=new n("symbol-variable",{character:"\\ea88"}),n.array=new n("array",{character:"\\ea8a"}),n.symbolArray=new n("symbol-array",{character:"\\ea8a"}),n.symbolModule=new n("symbol-module",{character:"\\ea8b"}),n.symbolPackage=new n("symbol-package",{character:"\\ea8b"}),n.symbolNamespace=new n("symbol-namespace",{character:"\\ea8b"}),n.symbolObject=new n("symbol-object",{character:"\\ea8b"}),n.symbolMethod=new n("symbol-method",{character:"\\ea8c"}),n.symbolFunction=new n("symbol-function",{character:"\\ea8c"}),n.symbolConstructor=new n("symbol-constructor",{character:"\\ea8c"}),n.symbolBoolean=new n("symbol-boolean",{character:"\\ea8f"}),n.symbolNull=new n("symbol-null",{character:"\\ea8f"}),n.symbolNumeric=new n("symbol-numeric",{character:"\\ea90"}),n.symbolNumber=new n("symbol-number",{character:"\\ea90"}),n.symbolStructure=new n("symbol-structure",{character:"\\ea91"}),n.symbolStruct=new n("symbol-struct",{character:"\\ea91"}),n.symbolParameter=new n("symbol-parameter",{character:"\\ea92"}),n.symbolTypeParameter=new n("symbol-type-parameter",{character:"\\ea92"}),n.symbolKey=new n("symbol-key",{character:"\\ea93"}),n.symbolText=new n("symbol-text",{character:"\\ea93"}),n.symbolReference=new n("symbol-reference",{character:"\\ea94"}),n.goToFile=new n("go-to-file",{character:"\\ea94"}),n.symbolEnum=new n("symbol-enum",{character:"\\ea95"}),n.symbolValue=new n("symbol-value",{character:"\\ea95"}),n.symbolRuler=new n("symbol-ruler",{character:"\\ea96"}),n.symbolUnit=new n("symbol-unit",{character:"\\ea96"}),n.activateBreakpoints=new n("activate-breakpoints",{character:"\\ea97"}),n.archive=new n("archive",{character:"\\ea98"}),n.arrowBoth=new n("arrow-both",{character:"\\ea99"}),n.arrowDown=new n("arrow-down",{character:"\\ea9a"}),n.arrowLeft=new n("arrow-left",{character:"\\ea9b"}),n.arrowRight=new n("arrow-right",{character:"\\ea9c"}),n.arrowSmallDown=new n("arrow-small-down",{character:"\\ea9d"}),n.arrowSmallLeft=new n("arrow-small-left",{character:"\\ea9e"}),n.arrowSmallRight=new n("arrow-small-right",{character:"\\ea9f"}),n.arrowSmallUp=new n("arrow-small-up",{character:"\\eaa0"}),n.arrowUp=new n("arrow-up",{character:"\\eaa1"}),n.bell=new n("bell",{character:"\\eaa2"}),n.bold=new n("bold",{character:"\\eaa3"}),n.book=new n("book",{character:"\\eaa4"}),n.bookmark=new n("bookmark",{character:"\\eaa5"}),n.debugBreakpointConditionalUnverified=new n("debug-breakpoint-conditional-unverified",{character:"\\eaa6"}),n.debugBreakpointConditional=new n("debug-breakpoint-conditional",{character:"\\eaa7"}),n.debugBreakpointConditionalDisabled=new n("debug-breakpoint-conditional-disabled",{character:"\\eaa7"}),n.debugBreakpointDataUnverified=new n("debug-breakpoint-data-unverified",{character:"\\eaa8"}),n.debugBreakpointData=new n("debug-breakpoint-data",{character:"\\eaa9"}),n.debugBreakpointDataDisabled=new n("debug-breakpoint-data-disabled",{character:"\\eaa9"}),n.debugBreakpointLogUnverified=new n("debug-breakpoint-log-unverified",{character:"\\eaaa"}),n.debugBreakpointLog=new n("debug-breakpoint-log",{character:"\\eaab"}),n.debugBreakpointLogDisabled=new n("debug-breakpoint-log-disabled",{character:"\\eaab"}),n.briefcase=new n("briefcase",{character:"\\eaac"}),n.broadcast=new n("broadcast",{character:"\\eaad"}),n.browser=new n("browser",{character:"\\eaae"}),n.bug=new n("bug",{character:"\\eaaf"}),n.calendar=new n("calendar",{character:"\\eab0"}),n.caseSensitive=new n("case-sensitive",{character:"\\eab1"}),n.check=new n("check",{character:"\\eab2"}),n.checklist=new n("checklist",{character:"\\eab3"}),n.chevronDown=new n("chevron-down",{character:"\\eab4"}),n.chevronLeft=new n("chevron-left",{character:"\\eab5"}),n.chevronRight=new n("chevron-right",{character:"\\eab6"}),n.chevronUp=new n("chevron-up",{character:"\\eab7"}),n.chromeClose=new n("chrome-close",{character:"\\eab8"}),n.chromeMaximize=new n("chrome-maximize",{character:"\\eab9"}),n.chromeMinimize=new n("chrome-minimize",{character:"\\eaba"}),n.chromeRestore=new n("chrome-restore",{character:"\\eabb"}),n.circleOutline=new n("circle-outline",{character:"\\eabc"}),n.debugBreakpointUnverified=new n("debug-breakpoint-unverified",{character:"\\eabc"}),n.circleSlash=new n("circle-slash",{character:"\\eabd"}),n.circuitBoard=new n("circuit-board",{character:"\\eabe"}),n.clearAll=new n("clear-all",{character:"\\eabf"}),n.clippy=new n("clippy",{character:"\\eac0"}),n.closeAll=new n("close-all",{character:"\\eac1"}),n.cloudDownload=new n("cloud-download",{character:"\\eac2"}),n.cloudUpload=new n("cloud-upload",{character:"\\eac3"}),n.code=new n("code",{character:"\\eac4"}),n.collapseAll=new n("collapse-all",{character:"\\eac5"}),n.colorMode=new n("color-mode",{character:"\\eac6"}),n.commentDiscussion=new n("comment-discussion",{character:"\\eac7"}),n.compareChanges=new n("compare-changes",{character:"\\eafd"}),n.creditCard=new n("credit-card",{character:"\\eac9"}),n.dash=new n("dash",{character:"\\eacc"}),n.dashboard=new n("dashboard",{character:"\\eacd"}),n.database=new n("database",{character:"\\eace"}),n.debugContinue=new n("debug-continue",{character:"\\eacf"}),n.debugDisconnect=new n("debug-disconnect",{character:"\\ead0"}),n.debugPause=new n("debug-pause",{character:"\\ead1"}),n.debugRestart=new n("debug-restart",{character:"\\ead2"}),n.debugStart=new n("debug-start",{character:"\\ead3"}),n.debugStepInto=new n("debug-step-into",{character:"\\ead4"}),n.debugStepOut=new n("debug-step-out",{character:"\\ead5"}),n.debugStepOver=new n("debug-step-over",{character:"\\ead6"}),n.debugStop=new n("debug-stop",{character:"\\ead7"}),n.debug=new n("debug",{character:"\\ead8"}),n.deviceCameraVideo=new n("device-camera-video",{character:"\\ead9"}),n.deviceCamera=new n("device-camera",{character:"\\eada"}),n.deviceMobile=new n("device-mobile",{character:"\\eadb"}),n.diffAdded=new n("diff-added",{character:"\\eadc"}),n.diffIgnored=new n("diff-ignored",{character:"\\eadd"}),n.diffModified=new n("diff-modified",{character:"\\eade"}),n.diffRemoved=new n("diff-removed",{character:"\\eadf"}),n.diffRenamed=new n("diff-renamed",{character:"\\eae0"}),n.diff=new n("diff",{character:"\\eae1"}),n.discard=new n("discard",{character:"\\eae2"}),n.editorLayout=new n("editor-layout",{character:"\\eae3"}),n.emptyWindow=new n("empty-window",{character:"\\eae4"}),n.exclude=new n("exclude",{character:"\\eae5"}),n.extensions=new n("extensions",{character:"\\eae6"}),n.eyeClosed=new n("eye-closed",{character:"\\eae7"}),n.fileBinary=new n("file-binary",{character:"\\eae8"}),n.fileCode=new n("file-code",{character:"\\eae9"}),n.fileMedia=new n("file-media",{character:"\\eaea"}),n.filePdf=new n("file-pdf",{character:"\\eaeb"}),n.fileSubmodule=new n("file-submodule",{character:"\\eaec"}),n.fileSymlinkDirectory=new n("file-symlink-directory",{character:"\\eaed"}),n.fileSymlinkFile=new n("file-symlink-file",{character:"\\eaee"}),n.fileZip=new n("file-zip",{character:"\\eaef"}),n.files=new n("files",{character:"\\eaf0"}),n.filter=new n("filter",{character:"\\eaf1"}),n.flame=new n("flame",{character:"\\eaf2"}),n.foldDown=new n("fold-down",{character:"\\eaf3"}),n.foldUp=new n("fold-up",{character:"\\eaf4"}),n.fold=new n("fold",{character:"\\eaf5"}),n.folderActive=new n("folder-active",{character:"\\eaf6"}),n.folderOpened=new n("folder-opened",{character:"\\eaf7"}),n.gear=new n("gear",{character:"\\eaf8"}),n.gift=new n("gift",{character:"\\eaf9"}),n.gistSecret=new n("gist-secret",{character:"\\eafa"}),n.gist=new n("gist",{character:"\\eafb"}),n.gitCommit=new n("git-commit",{character:"\\eafc"}),n.gitCompare=new n("git-compare",{character:"\\eafd"}),n.gitMerge=new n("git-merge",{character:"\\eafe"}),n.githubAction=new n("github-action",{character:"\\eaff"}),n.githubAlt=new n("github-alt",{character:"\\eb00"}),n.globe=new n("globe",{character:"\\eb01"}),n.grabber=new n("grabber",{character:"\\eb02"}),n.graph=new n("graph",{character:"\\eb03"}),n.gripper=new n("gripper",{character:"\\eb04"}),n.heart=new n("heart",{character:"\\eb05"}),n.home=new n("home",{character:"\\eb06"}),n.horizontalRule=new n("horizontal-rule",{character:"\\eb07"}),n.hubot=new n("hubot",{character:"\\eb08"}),n.inbox=new n("inbox",{character:"\\eb09"}),n.issueClosed=new n("issue-closed",{character:"\\eb0a"}),n.issueReopened=new n("issue-reopened",{character:"\\eb0b"}),n.issues=new n("issues",{character:"\\eb0c"}),n.italic=new n("italic",{character:"\\eb0d"}),n.jersey=new n("jersey",{character:"\\eb0e"}),n.json=new n("json",{character:"\\eb0f"}),n.kebabVertical=new n("kebab-vertical",{character:"\\eb10"}),n.key=new n("key",{character:"\\eb11"}),n.law=new n("law",{character:"\\eb12"}),n.lightbulbAutofix=new n("lightbulb-autofix",{character:"\\eb13"}),n.linkExternal=new n("link-external",{character:"\\eb14"}),n.link=new n("link",{character:"\\eb15"}),n.listOrdered=new n("list-ordered",{character:"\\eb16"}),n.listUnordered=new n("list-unordered",{character:"\\eb17"}),n.liveShare=new n("live-share",{character:"\\eb18"}),n.loading=new n("loading",{character:"\\eb19"}),n.location=new n("location",{character:"\\eb1a"}),n.mailRead=new n("mail-read",{character:"\\eb1b"}),n.mail=new n("mail",{character:"\\eb1c"}),n.markdown=new n("markdown",{character:"\\eb1d"}),n.megaphone=new n("megaphone",{character:"\\eb1e"}),n.mention=new n("mention",{character:"\\eb1f"}),n.milestone=new n("milestone",{character:"\\eb20"}),n.mortarBoard=new n("mortar-board",{character:"\\eb21"}),n.move=new n("move",{character:"\\eb22"}),n.multipleWindows=new n("multiple-windows",{character:"\\eb23"}),n.mute=new n("mute",{character:"\\eb24"}),n.noNewline=new n("no-newline",{character:"\\eb25"}),n.note=new n("note",{character:"\\eb26"}),n.octoface=new n("octoface",{character:"\\eb27"}),n.openPreview=new n("open-preview",{character:"\\eb28"}),n.package_=new n("package",{character:"\\eb29"}),n.paintcan=new n("paintcan",{character:"\\eb2a"}),n.pin=new n("pin",{character:"\\eb2b"}),n.play=new n("play",{character:"\\eb2c"}),n.run=new n("run",{character:"\\eb2c"}),n.plug=new n("plug",{character:"\\eb2d"}),n.preserveCase=new n("preserve-case",{character:"\\eb2e"}),n.preview=new n("preview",{character:"\\eb2f"}),n.project=new n("project",{character:"\\eb30"}),n.pulse=new n("pulse",{character:"\\eb31"}),n.question=new n("question",{character:"\\eb32"}),n.quote=new n("quote",{character:"\\eb33"}),n.radioTower=new n("radio-tower",{character:"\\eb34"}),n.reactions=new n("reactions",{character:"\\eb35"}),n.references=new n("references",{character:"\\eb36"}),n.refresh=new n("refresh",{character:"\\eb37"}),n.regex=new n("regex",{character:"\\eb38"}),n.remoteExplorer=new n("remote-explorer",{character:"\\eb39"}),n.remote=new n("remote",{character:"\\eb3a"}),n.remove=new n("remove",{character:"\\eb3b"}),n.replaceAll=new n("replace-all",{character:"\\eb3c"}),n.replace=new n("replace",{character:"\\eb3d"}),n.repoClone=new n("repo-clone",{character:"\\eb3e"}),n.repoForcePush=new n("repo-force-push",{character:"\\eb3f"}),n.repoPull=new n("repo-pull",{character:"\\eb40"}),n.repoPush=new n("repo-push",{character:"\\eb41"}),n.report=new n("report",{character:"\\eb42"}),n.requestChanges=new n("request-changes",{character:"\\eb43"}),n.rocket=new n("rocket",{character:"\\eb44"}),n.rootFolderOpened=new n("root-folder-opened",{character:"\\eb45"}),n.rootFolder=new n("root-folder",{character:"\\eb46"}),n.rss=new n("rss",{character:"\\eb47"}),n.ruby=new n("ruby",{character:"\\eb48"}),n.saveAll=new n("save-all",{character:"\\eb49"}),n.saveAs=new n("save-as",{character:"\\eb4a"}),n.save=new n("save",{character:"\\eb4b"}),n.screenFull=new n("screen-full",{character:"\\eb4c"}),n.screenNormal=new n("screen-normal",{character:"\\eb4d"}),n.searchStop=new n("search-stop",{character:"\\eb4e"}),n.server=new n("server",{character:"\\eb50"}),n.settingsGear=new n("settings-gear",{character:"\\eb51"}),n.settings=new n("settings",{character:"\\eb52"}),n.shield=new n("shield",{character:"\\eb53"}),n.smiley=new n("smiley",{character:"\\eb54"}),n.sortPrecedence=new n("sort-precedence",{character:"\\eb55"}),n.splitHorizontal=new n("split-horizontal",{character:"\\eb56"}),n.splitVertical=new n("split-vertical",{character:"\\eb57"}),n.squirrel=new n("squirrel",{character:"\\eb58"}),n.starFull=new n("star-full",{character:"\\eb59"}),n.starHalf=new n("star-half",{character:"\\eb5a"}),n.symbolClass=new n("symbol-class",{character:"\\eb5b"}),n.symbolColor=new n("symbol-color",{character:"\\eb5c"}),n.symbolConstant=new n("symbol-constant",{character:"\\eb5d"}),n.symbolEnumMember=new n("symbol-enum-member",{character:"\\eb5e"}),n.symbolField=new n("symbol-field",{character:"\\eb5f"}),n.symbolFile=new n("symbol-file",{character:"\\eb60"}),n.symbolInterface=new n("symbol-interface",{character:"\\eb61"}),n.symbolKeyword=new n("symbol-keyword",{character:"\\eb62"}),n.symbolMisc=new n("symbol-misc",{character:"\\eb63"}),n.symbolOperator=new n("symbol-operator",{character:"\\eb64"}),n.symbolProperty=new n("symbol-property",{character:"\\eb65"}),n.wrench=new n("wrench",{character:"\\eb65"}),n.wrenchSubaction=new n("wrench-subaction",{character:"\\eb65"}),n.symbolSnippet=new n("symbol-snippet",{character:"\\eb66"}),n.tasklist=new n("tasklist",{character:"\\eb67"}),n.telescope=new n("telescope",{character:"\\eb68"}),n.textSize=new n("text-size",{character:"\\eb69"}),n.threeBars=new n("three-bars",{character:"\\eb6a"}),n.thumbsdown=new n("thumbsdown",{character:"\\eb6b"}),n.thumbsup=new n("thumbsup",{character:"\\eb6c"}),n.tools=new n("tools",{character:"\\eb6d"}),n.triangleDown=new n("triangle-down",{character:"\\eb6e"}),n.triangleLeft=new n("triangle-left",{character:"\\eb6f"}),n.triangleRight=new n("triangle-right",{character:"\\eb70"}),n.triangleUp=new n("triangle-up",{character:"\\eb71"}),n.twitter=new n("twitter",{character:"\\eb72"}),n.unfold=new n("unfold",{character:"\\eb73"}),n.unlock=new n("unlock",{character:"\\eb74"}),n.unmute=new n("unmute",{character:"\\eb75"}),n.unverified=new n("unverified",{character:"\\eb76"}),n.verified=new n("verified",{character:"\\eb77"}),n.versions=new n("versions",{character:"\\eb78"}),n.vmActive=new n("vm-active",{character:"\\eb79"}),n.vmOutline=new n("vm-outline",{character:"\\eb7a"}),n.vmRunning=new n("vm-running",{character:"\\eb7b"}),n.watch=new n("watch",{character:"\\eb7c"}),n.whitespace=new n("whitespace",{character:"\\eb7d"}),n.wholeWord=new n("whole-word",{character:"\\eb7e"}),n.window=new n("window",{character:"\\eb7f"}),n.wordWrap=new n("word-wrap",{character:"\\eb80"}),n.zoomIn=new n("zoom-in",{character:"\\eb81"}),n.zoomOut=new n("zoom-out",{character:"\\eb82"}),n.listFilter=new n("list-filter",{character:"\\eb83"}),n.listFlat=new n("list-flat",{character:"\\eb84"}),n.listSelection=new n("list-selection",{character:"\\eb85"}),n.selection=new n("selection",{character:"\\eb85"}),n.listTree=new n("list-tree",{character:"\\eb86"}),n.debugBreakpointFunctionUnverified=new n("debug-breakpoint-function-unverified",{character:"\\eb87"}),n.debugBreakpointFunction=new n("debug-breakpoint-function",{character:"\\eb88"}),n.debugBreakpointFunctionDisabled=new n("debug-breakpoint-function-disabled",{character:"\\eb88"}),n.debugStackframeActive=new n("debug-stackframe-active",{character:"\\eb89"}),n.debugStackframeDot=new n("debug-stackframe-dot",{character:"\\eb8a"}),n.debugStackframe=new n("debug-stackframe",{character:"\\eb8b"}),n.debugStackframeFocused=new n("debug-stackframe-focused",{character:"\\eb8b"}),n.debugBreakpointUnsupported=new n("debug-breakpoint-unsupported",{character:"\\eb8c"}),n.symbolString=new n("symbol-string",{character:"\\eb8d"}),n.debugReverseContinue=new n("debug-reverse-continue",{character:"\\eb8e"}),n.debugStepBack=new n("debug-step-back",{character:"\\eb8f"}),n.debugRestartFrame=new n("debug-restart-frame",{character:"\\eb90"}),n.callIncoming=new n("call-incoming",{character:"\\eb92"}),n.callOutgoing=new n("call-outgoing",{character:"\\eb93"}),n.menu=new n("menu",{character:"\\eb94"}),n.expandAll=new n("expand-all",{character:"\\eb95"}),n.feedback=new n("feedback",{character:"\\eb96"}),n.groupByRefType=new n("group-by-ref-type",{character:"\\eb97"}),n.ungroupByRefType=new n("ungroup-by-ref-type",{character:"\\eb98"}),n.account=new n("account",{character:"\\eb99"}),n.bellDot=new n("bell-dot",{character:"\\eb9a"}),n.debugConsole=new n("debug-console",{character:"\\eb9b"}),n.library=new n("library",{character:"\\eb9c"}),n.output=new n("output",{character:"\\eb9d"}),n.runAll=new n("run-all",{character:"\\eb9e"}),n.syncIgnored=new n("sync-ignored",{character:"\\eb9f"}),n.pinned=new n("pinned",{character:"\\eba0"}),n.githubInverted=new n("github-inverted",{character:"\\eba1"}),n.debugAlt=new n("debug-alt",{character:"\\eb91"}),n.serverProcess=new n("server-process",{character:"\\eba2"}),n.serverEnvironment=new n("server-environment",{character:"\\eba3"}),n.pass=new n("pass",{character:"\\eba4"}),n.stopCircle=new n("stop-circle",{character:"\\eba5"}),n.playCircle=new n("play-circle",{character:"\\eba6"}),n.record=new n("record",{character:"\\eba7"}),n.debugAltSmall=new n("debug-alt-small",{character:"\\eba8"}),n.vmConnect=new n("vm-connect",{character:"\\eba9"}),n.cloud=new n("cloud",{character:"\\ebaa"}),n.merge=new n("merge",{character:"\\ebab"}),n.exportIcon=new n("export",{character:"\\ebac"}),n.graphLeft=new n("graph-left",{character:"\\ebad"}),n.magnet=new n("magnet",{character:"\\ebae"}),n.notebook=new n("notebook",{character:"\\ebaf"}),n.redo=new n("redo",{character:"\\ebb0"}),n.checkAll=new n("check-all",{character:"\\ebb1"}),n.pinnedDirty=new n("pinned-dirty",{character:"\\ebb2"}),n.passFilled=new n("pass-filled",{character:"\\ebb3"}),n.circleLargeFilled=new n("circle-large-filled",{character:"\\ebb4"}),n.circleLargeOutline=new n("circle-large-outline",{character:"\\ebb5"}),n.combine=new n("combine",{character:"\\ebb6"}),n.gather=new n("gather",{character:"\\ebb6"}),n.table=new n("table",{character:"\\ebb7"}),n.variableGroup=new n("variable-group",{character:"\\ebb8"}),n.typeHierarchy=new n("type-hierarchy",{character:"\\ebb9"}),n.typeHierarchySub=new n("type-hierarchy-sub",{character:"\\ebba"}),n.typeHierarchySuper=new n("type-hierarchy-super",{character:"\\ebbb"}),n.gitPullRequestCreate=new n("git-pull-request-create",{character:"\\ebbc"}),n.dropDownButton=new n("drop-down-button",n.chevronDown.definition)}(P=e.Codicon||(e.Codicon={}))}),define(ge[93],pe([0,1,7,19]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.comparePaths=e.compareFileExtensionsDefault=e.compareFileExtensions=e.noIntlCompareFileNames=e.compareFileNamesDefault=e.compareFileNames=void 0;const A=new k.IdleValue(()=>{const l=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:l,collatorIsNumeric:l.resolvedOptions().numeric}}),T=new k.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),P=new k.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function D(l,c,t=!1){const r=l||"",o=c||"",a=A.value.collator.compare(r,o);return A.value.collatorIsNumeric&&a===0&&r!==o?r<o?-1:1:a}e.compareFileNames=D;function C(l,c){const t=T.value.collator;return l=l||"",c=c||"",g(t,l,c)}e.compareFileNamesDefault=C;function n(l,c,t=!1){t||(l=l&&l.toLowerCase(),c=c&&c.toLowerCase());const[r,o]=f(l),[a,i]=f(c);return r!==a?r<a?-1:1:o===i?0:o<i?-1:1}e.noIntlCompareFileNames=n;function I(l,c){const[t,r]=f(l),[o,a]=f(c);let i=A.value.collator.compare(r,a);if(i===0){if(A.value.collatorIsNumeric&&r!==a)return r<a?-1:1;if(i=A.value.collator.compare(t,o),A.value.collatorIsNumeric&&i===0&&t!==o)return t<o?-1:1}return i}e.compareFileExtensions=I;function S(l,c){l=l||"",c=c||"";const t=u(l),r=u(c),o=T.value.collator,a=P.value.collator;let i;return i=g(a,t,r),i!==0?i:g(o,l,c)}e.compareFileExtensionsDefault=S;const v=/^(.*?)(\.([^.]*))?$/;function f(l,c=!1){const t=l?v.exec(l):[];let r=[t&&t[1]||"",t&&t[3]||""];return c&&(!r[0]&&r[1]||r[0]&&r[0].charAt(0)===".")&&(r=[r[0]+"."+r[1],""]),r}function u(l){const c=l?v.exec(l):[];return c&&c[1]&&c[1].charAt(0)!=="."&&c[3]||""}function g(l,c,t){let r=l.compare(c,t);return r!==0?r:c.length!==t.length?c.length<t.length?-1:1:0}function b(l,c,t=!1){return t||(l=l&&l.toLowerCase(),c=c&&c.toLowerCase()),l===c?0:l<c?-1:1}function p(l,c,t=!1){const r=l.split(w.sep),o=c.split(w.sep),a=r.length-1,i=o.length-1;let h,y;for(let m=0;;m++){if(h=a===m,y=i===m,h&&y)return D(r[m],o[m],t);if(h)return-1;if(y)return 1;const E=b(r[m],o[m],t);if(E!==0)return E}}e.comparePaths=p;function d(l,c,t){const r=l.toLowerCase(),o=c.toLowerCase(),a=s(l,c,t);if(a)return a;const i=r.endsWith(t),h=o.endsWith(t);if(i!==h)return i?-1:1;const y=D(r,o);return y!==0?y:r.localeCompare(o)}e.compareAnything=d;function s(l,c,t){const r=l.toLowerCase(),o=c.toLowerCase(),a=r.startsWith(t),i=o.startsWith(t);if(a!==i)return a?-1:1;if(a&&i){if(r.length<o.length)return-1;if(r.length>o.length)return 1}return 0}e.compareByPrefix=s}),define(ge[94],pe([0,1,15,5]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observe=e.transform=e.toReadable=e.toStream=e.peekStream=e.consumeStream=e.peekReadable=e.consumeReadable=e.newWriteableStream=e.isReadableBufferedStream=e.isReadableStream=void 0;function A(b){const p=b;return p&&[p.on,p.pause,p.resume,p.destroy].every(d=>typeof d=="function")}e.isReadableStream=A;function T(b){const p=b;return p&&A(p.stream)&&Array.isArray(p.buffer)&&typeof p.ended=="boolean"}e.isReadableBufferedStream=T;function P(b,p){return new D(b,p)}e.newWriteableStream=P;class D{constructor(p,d){this.reducer=p,this.options=d,this.state={flowing:!1,ended:!1,destroyed:!1},this.buffer={data:[],error:[]},this.listeners={data:[],error:[],end:[]},this.pendingWritePromises=[]}pause(){this.state.destroyed||(this.state.flowing=!1)}resume(){this.state.destroyed||this.state.flowing||(this.state.flowing=!0,this.flowData(),this.flowErrors(),this.flowEnd())}write(p){var d;if(!this.state.destroyed){if(this.state.flowing)this.emitData(p);else if(this.buffer.data.push(p),typeof((d=this.options)===null||d===void 0?void 0:d.highWaterMark)=="number"&&this.buffer.data.length>this.options.highWaterMark)return new Promise(s=>this.pendingWritePromises.push(s))}}error(p){this.state.destroyed||(this.state.flowing?this.emitError(p):this.buffer.error.push(p))}end(p){this.state.destroyed||(p instanceof Error?this.error(p):p&&this.write(p),this.state.flowing?(this.emitEnd(),this.destroy()):this.state.ended=!0)}emitData(p){this.listeners.data.slice(0).forEach(d=>d(p))}emitError(p){this.listeners.error.length===0?w.onUnexpectedError(p):this.listeners.error.slice(0).forEach(d=>d(p))}emitEnd(){this.listeners.end.slice(0).forEach(p=>p())}on(p,d){if(!this.state.destroyed)switch(p){case"data":this.listeners.data.push(d),this.resume();break;case"end":this.listeners.end.push(d),this.state.flowing&&this.flowEnd()&&this.destroy();break;case"error":this.listeners.error.push(d),this.state.flowing&&this.flowErrors();break}}removeListener(p,d){if(!this.state.destroyed){let s;switch(p){case"data":s=this.listeners.data;break;case"end":s=this.listeners.end;break;case"error":s=this.listeners.error;break}if(s){const l=s.indexOf(d);l>=0&&s.splice(l,1)}}}flowData(){if(this.buffer.data.length>0){const p=this.reducer(this.buffer.data);this.emitData(p),this.buffer.data.length=0;const d=[...this.pendingWritePromises];this.pendingWritePromises.length=0,d.forEach(s=>s())}}flowErrors(){if(this.listeners.error.length>0){for(const p of this.buffer.error)this.emitError(p);this.buffer.error.length=0}}flowEnd(){return this.state.ended?(this.emitEnd(),this.listeners.end.length>0):!1}destroy(){this.state.destroyed||(this.state.destroyed=!0,this.state.ended=!0,this.buffer.data.length=0,this.buffer.error.length=0,this.listeners.data.length=0,this.listeners.error.length=0,this.listeners.end.length=0,this.pendingWritePromises.length=0)}}function C(b,p){const d=[];let s;for(;(s=b.read())!==null;)d.push(s);return p(d)}e.consumeReadable=C;function n(b,p,d){const s=[];let l;for(;(l=b.read())!==null&&s.length<d;)s.push(l);return l===null&&s.length>0?p(s):{read:()=>{if(s.length>0)return s.shift();if(typeof l!="undefined"){const c=l;return l=void 0,c}return b.read()}}}e.peekReadable=n;function I(b,p){return new Promise((d,s)=>{const l=[];b.on("error",c=>s(c)),b.on("end",()=>d(p(l))),b.on("data",c=>l.push(c))})}e.consumeStream=I;function S(b,p){return new Promise((d,s)=>{const l=new k.DisposableStore,c=[],t=a=>{if(c.push(a),c.length>p)return l.dispose(),b.pause(),d({stream:b,buffer:c,ended:!1})};l.add(k.toDisposable(()=>b.removeListener("data",t))),b.on("data",t);const r=a=>s(a);l.add(k.toDisposable(()=>b.removeListener("error",r))),b.on("error",r);const o=()=>d({stream:b,buffer:c,ended:!0});l.add(k.toDisposable(()=>b.removeListener("end",o))),b.on("end",o)})}e.peekStream=S;function v(b,p){const d=P(p);return d.end(b),d}e.toStream=v;function f(b){let p=!1;return{read:()=>p?null:(p=!0,b)}}e.toReadable=f;function u(b,p,d){const s=P(d);return b.on("data",l=>s.write(p.data(l))),b.on("end",()=>s.end()),b.on("error",l=>s.error(p.error?p.error(l):l)),s}e.transform=u;function g(b){const p=Promise.race([new Promise(d=>b.on("end",()=>d())),new Promise(d=>b.on("error",()=>d()))]);return{errorOrEnd(){return b.resume(),p}}}e.observe=g}),define(ge[10],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GraphemeBreakType=e.breakBetweenGraphemeBreakType=e.getGraphemeBreakType=e.singleLetterHash=e.getNLines=e.uppercaseFirstLetter=e.containsUppercaseCharacter=e.fuzzyContains=e.stripUTF8BOM=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.removeAnsiEscapeCodes=e.lcut=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsEmoji=e.containsRTL=e.decodeUTF8=e.encodeUTF8=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpContainsBackreference=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.truncate=e.count=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function w(ue){return!ue||typeof ue!="string"?!0:ue.trim().length===0}e.isFalsyOrWhitespace=w;const k=/{(\d+)}/g;function A(ue,...ye){return ye.length===0?ue:ue.replace(k,function(Ne,ee){const te=parseInt(ee,10);return isNaN(te)||te<0||te>=ye.length?Ne:ye[te]})}e.format=A;function T(ue){return ue.replace(/[<>&]/g,function(ye){switch(ye){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ye}})}e.escape=T;function P(ue){return ue.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=P;function D(ue,ye){let Ne=0;const ee=ye.charCodeAt(0);for(let te=ue.length-1;te>=0;te--)ue.charCodeAt(te)===ee&&Ne++;return Ne}e.count=D;function C(ue,ye,Ne="\u2026"){return ue.length<=ye?ue:`${ue.substr(0,ye)}${Ne}`}e.truncate=C;function n(ue,ye=" "){const Ne=I(ue,ye);return S(Ne,ye)}e.trim=n;function I(ue,ye){if(!ue||!ye)return ue;const Ne=ye.length;if(Ne===0||ue.length===0)return ue;let ee=0;for(;ue.indexOf(ye,ee)===ee;)ee=ee+Ne;return ue.substring(ee)}e.ltrim=I;function S(ue,ye){if(!ue||!ye)return ue;const Ne=ye.length,ee=ue.length;if(Ne===0||ee===0)return ue;let te=ee,G=-1;for(;G=ue.lastIndexOf(ye,te-1),!(G===-1||G+Ne!==te);){if(G===0)return"";te=G}return ue.substring(0,te)}e.rtrim=S;function v(ue){return ue.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=v;function f(ue){return ue.replace(/\*/g,"")}e.stripWildcards=f;function u(ue,ye,Ne={}){if(!ue)throw new Error("Cannot create regex from empty string");ye||(ue=P(ue)),Ne.wholeWord&&(/\B/.test(ue.charAt(0))||(ue="\\b"+ue),/\B/.test(ue.charAt(ue.length-1))||(ue=ue+"\\b"));let ee="";return Ne.global&&(ee+="g"),Ne.matchCase||(ee+="i"),Ne.multiline&&(ee+="m"),Ne.unicode&&(ee+="u"),new RegExp(ue,ee)}e.createRegExp=u;function g(ue){return ue.source==="^"||ue.source==="^$"||ue.source==="$"||ue.source==="^\\s*$"?!1:!!(ue.exec("")&&ue.lastIndex===0)}e.regExpLeadsToEndlessLoop=g;function b(ue){return!!ue.match(/([^\\]|^)(\\\\)*\\\d+/)}e.regExpContainsBackreference=b;function p(ue){return(ue.global?"g":"")+(ue.ignoreCase?"i":"")+(ue.multiline?"m":"")+(ue.unicode?"u":"")}e.regExpFlags=p;function d(ue){return ue.split(/\r\n|\r|\n/)}e.splitLines=d;function s(ue){for(let ye=0,Ne=ue.length;ye<Ne;ye++){const ee=ue.charCodeAt(ye);if(ee!==32&&ee!==9)return ye}return-1}e.firstNonWhitespaceIndex=s;function l(ue,ye=0,Ne=ue.length){for(let ee=ye;ee<Ne;ee++){const te=ue.charCodeAt(ee);if(te!==32&&te!==9)return ue.substring(ye,ee)}return ue.substring(ye,Ne)}e.getLeadingWhitespace=l;function c(ue,ye=ue.length-1){for(let Ne=ye;Ne>=0;Ne--){const ee=ue.charCodeAt(Ne);if(ee!==32&&ee!==9)return Ne}return-1}e.lastNonWhitespaceIndex=c;function t(ue,ye){return ue<ye?-1:ue>ye?1:0}e.compare=t;function r(ue,ye,Ne=0,ee=ue.length,te=0,G=ye.length){for(;Ne<ee&&te<G;Ne++,te++){let oe=ue.charCodeAt(Ne),me=ye.charCodeAt(te);if(oe<me)return-1;if(oe>me)return 1}const F=ee-Ne,ie=G-te;return F<ie?-1:F>ie?1:0}e.compareSubstring=r;function o(ue,ye){return a(ue,ye,0,ue.length,0,ye.length)}e.compareIgnoreCase=o;function a(ue,ye,Ne=0,ee=ue.length,te=0,G=ye.length){for(;Ne<ee&&te<G;Ne++,te++){let oe=ue.charCodeAt(Ne),me=ye.charCodeAt(te);if(oe!==me){const ke=oe-me;if(!(ke===32&&h(me))&&!(ke===-32&&h(oe)))return i(oe)&&i(me)?ke:r(ue.toLowerCase(),ye.toLowerCase(),Ne,ee,te,G)}}const F=ee-Ne,ie=G-te;return F<ie?-1:F>ie?1:0}e.compareSubstringIgnoreCase=a;function i(ue){return ue>=97&&ue<=122}e.isLowerAsciiLetter=i;function h(ue){return ue>=65&&ue<=90}e.isUpperAsciiLetter=h;function y(ue){return i(ue)||h(ue)}function m(ue,ye){return ue.length===ye.length&&E(ue,ye)}e.equalsIgnoreCase=m;function E(ue,ye,Ne=ue.length){for(let ee=0;ee<Ne;ee++){const te=ue.charCodeAt(ee),G=ye.charCodeAt(ee);if(te!==G){if(y(te)&&y(G)){const F=Math.abs(te-G);if(F!==0&&F!==32)return!1}else if(String.fromCharCode(te).toLowerCase()!==String.fromCharCode(G).toLowerCase())return!1}}return!0}function _(ue,ye){const Ne=ye.length;return ye.length>ue.length?!1:E(ue,ye,Ne)}e.startsWithIgnoreCase=_;function L(ue,ye){let Ne,ee=Math.min(ue.length,ye.length);for(Ne=0;Ne<ee;Ne++)if(ue.charCodeAt(Ne)!==ye.charCodeAt(Ne))return Ne;return ee}e.commonPrefixLength=L;function R(ue,ye){let Ne,ee=Math.min(ue.length,ye.length);const te=ue.length-1,G=ye.length-1;for(Ne=0;Ne<ee;Ne++)if(ue.charCodeAt(te-Ne)!==ye.charCodeAt(G-Ne))return Ne;return ee}e.commonSuffixLength=R;function N(ue){return 55296<=ue&&ue<=56319}e.isHighSurrogate=N;function W(ue){return 56320<=ue&&ue<=57343}e.isLowSurrogate=W;function x(ue,ye){return(ue-55296<<10)+(ye-56320)+65536}e.computeCodePoint=x;function M(ue,ye,Ne){const ee=ue.charCodeAt(Ne);if(N(ee)&&Ne+1<ye){const te=ue.charCodeAt(Ne+1);if(W(te))return x(ee,te)}return ee}e.getNextCodePoint=M;function $(ue,ye){const Ne=ue.charCodeAt(ye-1);if(W(Ne)&&ye>1){const ee=ue.charCodeAt(ye-2);if(N(ee))return x(ee,Ne)}return Ne}function O(ue,ye){const Ne=Be.getInstance(),ee=ye,te=ue.length,G=M(ue,te,ye);ye+=G>=65536?2:1;let F=Ne.getGraphemeBreakType(G);for(;ye<te;){const ie=M(ue,te,ye),oe=Ne.getGraphemeBreakType(ie);if(Re(F,oe))break;ye+=ie>=65536?2:1,F=oe}return ye-ee}e.nextCharLength=O;function z(ue,ye){const Ne=Be.getInstance(),ee=ye,te=$(ue,ye);ye-=te>=65536?2:1;let G=Ne.getGraphemeBreakType(te);for(;ye>0;){const F=$(ue,ye),ie=Ne.getGraphemeBreakType(F);if(Re(ie,G))break;ye-=F>=65536?2:1,G=ie}return ee-ye}e.prevCharLength=z;function J(ue,ye){const Ne=Be.getInstance(),ee=ue.length,te=ye,G=M(ue,ee,ye),F=Ne.getGraphemeBreakType(G);ye+=G>=65536?2:1;let ie=F;for(;ye<ee;){const me=M(ue,ee,ye),ke=Ne.getGraphemeBreakType(me);if(Re(ie,ke))break;ye+=me>=65536?2:1,ie=ke}const oe=ye;for(ye=te,ie=F;ye>0;){const me=$(ue,ye),ke=Ne.getGraphemeBreakType(me);if(Re(ke,ie))break;ye-=me>=65536?2:1,ie=ke}return[ye,oe]}function U(ue,ye){return ye>0&&W(ue.charCodeAt(ye))?J(ue,ye-1):J(ue,ye)}e.getCharContainingOffset=U;function V(ue){const ye=ue.length;let Ne=0,ee=0;for(;ee<ye;){const F=M(ue,ye,ee);ee+=F>=65536?2:1,F<128?Ne+=1:F<2048?Ne+=2:F<65536?Ne+=3:Ne+=4}const te=new Uint8Array(Ne);ee=0;let G=0;for(;ee<ye;){const F=M(ue,ye,ee);ee+=F>=65536?2:1,F<128?te[G++]=F:F<2048?(te[G++]=192|(F&1984)>>>6,te[G++]=128|(F&63)>>>0):F<65536?(te[G++]=224|(F&61440)>>>12,te[G++]=128|(F&4032)>>>6,te[G++]=128|(F&63)>>>0):(te[G++]=240|(F&1835008)>>>18,te[G++]=128|(F&258048)>>>12,te[G++]=128|(F&4032)>>>6,te[G++]=128|(F&63)>>>0)}return te}e.encodeUTF8=V;function B(ue){const ye=ue.byteLength,Ne=[];let ee=0;for(;ee<ye;){const te=ue[ee];let G;if(te>=240&&ee+3<ye?G=(ue[ee++]&7)<<18>>>0|(ue[ee++]&63)<<12>>>0|(ue[ee++]&63)<<6>>>0|(ue[ee++]&63)<<0>>>0:te>=224&&ee+2<ye?G=(ue[ee++]&15)<<12>>>0|(ue[ee++]&63)<<6>>>0|(ue[ee++]&63)<<0>>>0:te>=192&&ee+1<ye?G=(ue[ee++]&31)<<6>>>0|(ue[ee++]&63)<<0>>>0:G=ue[ee++],G>=0&&G<=55295||G>=57344&&G<=65535)Ne.push(String.fromCharCode(G));else if(G>=65536&&G<=1114111){const F=G-65536,ie=55296+((F&1047552)>>>10),oe=56320+((F&1023)>>>0);Ne.push(String.fromCharCode(ie)),Ne.push(String.fromCharCode(oe))}else Ne.push(String.fromCharCode(65533))}return Ne.join("")}e.decodeUTF8=B;const Y=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function ae(ue){return Y.test(ue)}e.containsRTL=ae;const ce=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDE73\uDE78-\uDE82\uDE90-\uDE95])/;function fe(ue){return ce.test(ue)}e.containsEmoji=fe;const _e=/^[\t\n\r\x20-\x7E]*$/;function be(ue){return _e.test(ue)}e.isBasicASCII=be,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function H(ue){return e.UNUSUAL_LINE_TERMINATORS.test(ue)}e.containsUnusualLineTerminators=H;function X(ue){for(let ye=0,Ne=ue.length;ye<Ne;ye++)if(re(ue.charCodeAt(ye)))return!0;return!1}e.containsFullWidthCharacter=X;function re(ue){return ue=+ue,ue>=11904&&ue<=55215||ue>=63744&&ue<=64255||ue>=65281&&ue<=65374}e.isFullWidthCharacter=re;function Q(ue){return ue>=127462&&ue<=127487||ue>=9728&&ue<=10175||ue>=127744&&ue<=128591||ue>=128640&&ue<=128764||ue>=128992&&ue<=129003||ue>=129280&&ue<=129535||ue>=129648&&ue<=129651||ue>=129656&&ue<=129666||ue>=129680&&ue<=129685}e.isEmojiImprecise=Q;function le(ue,ye){if(ue.length<ye)return ue;const Ne=/\b/g;let ee=0;for(;Ne.test(ue)&&!(ue.length-Ne.lastIndex<ye);)ee=Ne.lastIndex,Ne.lastIndex+=1;return ue.substring(ee).replace(/^\s/,"")}e.lcut=le;const ve=/\x1B\x5B[12]?K/g,De=/\x1b\[\d+m/g,Me=/\x1b\[0?m/g;function Ee(ue){return ue&&(ue=ue.replace(ve,""),ue=ue.replace(De,""),ue=ue.replace(Me,"")),ue}e.removeAnsiEscapeCodes=Ee,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function Pe(ue){return!!(ue&&ue.length>0&&ue.charCodeAt(0)===65279)}e.startsWithUTF8BOM=Pe;function Ce(ue){return Pe(ue)?ue.substr(1):ue}e.stripUTF8BOM=Ce;function Oe(ue,ye){if(!ue||!ye||ue.length<ye.length)return!1;const Ne=ye.length,ee=ue.toLowerCase();let te=0,G=-1;for(;te<Ne;){const F=ee.indexOf(ye[te],G+1);if(F<0)return!1;G=F,te++}return!0}e.fuzzyContains=Oe;function Se(ue,ye=!1){return ue?(ye&&(ue=ue.replace(/\\./g,"")),ue.toLowerCase()!==ue):!1}e.containsUppercaseCharacter=Se;function ze(ue){return ue.charAt(0).toUpperCase()+ue.slice(1)}e.uppercaseFirstLetter=ze;function K(ue,ye=1){if(ye===0)return"";let Ne=-1;do Ne=ue.indexOf(`
`,Ne+1),ye--;while(ye>0&&Ne>=0);return Ne===-1?ue:(ue[Ne-1]==="\r"&&Ne--,ue.substr(0,Ne))}e.getNLines=K;function se(ue){const ye=90-65+1;return ue=ue%(2*ye),ue<ye?String.fromCharCode(97+ue):String.fromCharCode(65+ue-ye)}e.singleLetterHash=se;function we(ue){return Be.getInstance().getGraphemeBreakType(ue)}e.getGraphemeBreakType=we;function Re(ue,ye){return ue===0?ye!==5&&ye!==7:ue===2&&ye===3?!1:ue===4||ue===2||ue===3||ye===4||ye===2||ye===3?!0:!(ue===8&&(ye===8||ye===9||ye===11||ye===12)||(ue===11||ue===9)&&(ye===9||ye===10)||(ue===12||ue===10)&&ye===10||ye===5||ye===13||ye===7||ue===1||ue===13&&ye===14||ue===6&&ye===6)}e.breakBetweenGraphemeBreakType=Re;var Ue;(function(ue){ue[ue.Other=0]="Other",ue[ue.Prepend=1]="Prepend",ue[ue.CR=2]="CR",ue[ue.LF=3]="LF",ue[ue.Control=4]="Control",ue[ue.Extend=5]="Extend",ue[ue.Regional_Indicator=6]="Regional_Indicator",ue[ue.SpacingMark=7]="SpacingMark",ue[ue.L=8]="L",ue[ue.V=9]="V",ue[ue.T=10]="T",ue[ue.LV=11]="LV",ue[ue.LVT=12]="LVT",ue[ue.ZWJ=13]="ZWJ",ue[ue.Extended_Pictographic=14]="Extended_Pictographic"})(Ue=e.GraphemeBreakType||(e.GraphemeBreakType={}));class Be{constructor(){this._data=je()}static getInstance(){return Be._INSTANCE||(Be._INSTANCE=new Be),Be._INSTANCE}getGraphemeBreakType(ye){if(ye<32)return ye===10?3:ye===13?2:4;if(ye<127)return 0;const Ne=this._data,ee=Ne.length/3;let te=1;for(;te<=ee;)if(ye<Ne[3*te])te=2*te;else if(ye>Ne[3*te+1])te=2*te+1;else return Ne[3*te+2];return 0}}Be._INSTANCE=null;function je(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}}),define(ge[27],pe([0,1,10,94]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.newWriteableBufferStream=e.streamToBufferReadableStream=e.bufferToStream=e.bufferedStreamToBuffer=e.streamToBuffer=e.bufferToReadable=e.readableToBuffer=e.writeUInt8=e.readUInt8=e.writeUInt32LE=e.readUInt32LE=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const A=typeof Buffer!="undefined",T=typeof TextEncoder!="undefined",P=typeof TextDecoder!="undefined";let D,C;class n{constructor(i){this.buffer=i,this.byteLength=this.buffer.byteLength}static alloc(i){return A?new n(Buffer.allocUnsafe(i)):new n(new Uint8Array(i))}static wrap(i){return A&&!Buffer.isBuffer(i)&&(i=Buffer.from(i.buffer,i.byteOffset,i.byteLength)),new n(i)}static fromString(i,h){return!((h==null?void 0:h.dontUseNodeBuffer)||!1)&&A?new n(Buffer.from(i)):T?(D||(D=new TextEncoder),new n(D.encode(i))):new n(w.encodeUTF8(i))}static concat(i,h){if(typeof h=="undefined"){h=0;for(let E=0,_=i.length;E<_;E++)h+=i[E].byteLength}const y=n.alloc(h);let m=0;for(let E=0,_=i.length;E<_;E++){const L=i[E];y.set(L,m),m+=L.byteLength}return y}toString(){return A?this.buffer.toString():P?(C||(C=new TextDecoder),C.decode(this.buffer)):w.decodeUTF8(this.buffer)}slice(i,h){return new n(this.buffer.subarray(i,h))}set(i,h){i instanceof n?this.buffer.set(i.buffer,h):this.buffer.set(i,h)}readUInt32BE(i){return v(this.buffer,i)}writeUInt32BE(i,h){f(this.buffer,i,h)}readUInt32LE(i){return u(this.buffer,i)}writeUInt32LE(i,h){g(this.buffer,i,h)}readUInt8(i){return b(this.buffer,i)}writeUInt8(i,h){p(this.buffer,i,h)}}e.VSBuffer=n;function I(a,i){return a[i+0]<<0>>>0|a[i+1]<<8>>>0}e.readUInt16LE=I;function S(a,i,h){a[h+0]=i&255,i=i>>>8,a[h+1]=i&255}e.writeUInt16LE=S;function v(a,i){return a[i]*2**24+a[i+1]*2**16+a[i+2]*2**8+a[i+3]}e.readUInt32BE=v;function f(a,i,h){a[h+3]=i,i=i>>>8,a[h+2]=i,i=i>>>8,a[h+1]=i,i=i>>>8,a[h]=i}e.writeUInt32BE=f;function u(a,i){return a[i+0]<<0>>>0|a[i+1]<<8>>>0|a[i+2]<<16>>>0|a[i+3]<<24>>>0}e.readUInt32LE=u;function g(a,i,h){a[h+0]=i&255,i=i>>>8,a[h+1]=i&255,i=i>>>8,a[h+2]=i&255,i=i>>>8,a[h+3]=i&255}e.writeUInt32LE=g;function b(a,i){return a[i]}e.readUInt8=b;function p(a,i,h){a[h]=i}e.writeUInt8=p;function d(a){return k.consumeReadable(a,i=>n.concat(i))}e.readableToBuffer=d;function s(a){return k.toReadable(a)}e.bufferToReadable=s;function l(a){return k.consumeStream(a,i=>n.concat(i))}e.streamToBuffer=l;async function c(a){return a.ended?n.concat(a.buffer):n.concat([...a.buffer,await l(a.stream)])}e.bufferedStreamToBuffer=c;function t(a){return k.toStream(a,i=>n.concat(i))}e.bufferToStream=t;function r(a){return k.transform(a,{data:i=>typeof i=="string"?n.fromString(i):n.wrap(i)},i=>n.concat(i))}e.streamToBufferReadableStream=r;function o(a){return k.newWriteableStream(i=>n.concat(i),a)}e.newWriteableBufferStream=o}),define(ge[75],pe([0,1,10]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.Hasher=e.stringHash=e.doHash=e.hash=void 0;function k(p){return A(p,0)}e.hash=k;function A(p,d){switch(typeof p){case"object":return p===null?T(349,d):Array.isArray(p)?C(p,d):n(p,d);case"string":return D(p,d);case"boolean":return P(p,d);case"number":return T(p,d);case"undefined":return T(937,d);default:return T(617,d)}}e.doHash=A;function T(p,d){return(d<<5)-d+p|0}function P(p,d){return T(p?433:863,d)}function D(p,d){d=T(149417,d);for(let s=0,l=p.length;s<l;s++)d=T(p.charCodeAt(s),d);return d}e.stringHash=D;function C(p,d){return d=T(104579,d),p.reduce((s,l)=>A(l,s),d)}function n(p,d){return d=T(181387,d),Object.keys(p).sort().reduce((s,l)=>(s=D(l,s),A(p[l],s)),d)}class I{constructor(){this._value=0}get value(){return this._value}hash(d){return this._value=A(d,this._value),this._value}}e.Hasher=I;var S;(function(p){p[p.BLOCK_SIZE=64]="BLOCK_SIZE",p[p.UNICODE_REPLACEMENT=65533]="UNICODE_REPLACEMENT"})(S||(S={}));function v(p,d,s=32){const l=s-d,c=~((1<<l)-1);return(p<<d|(c&p)>>>l)>>>0}function f(p,d=0,s=p.byteLength,l=0){for(let c=0;c<s;c++)p[d+c]=l}function u(p,d,s="0"){for(;p.length<d;)p=s+p;return p}function g(p,d=32){return p instanceof ArrayBuffer?Array.from(new Uint8Array(p)).map(s=>s.toString(16).padStart(2,"0")).join(""):u((p>>>0).toString(16),d/4)}e.toHexString=g;class b{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(d){const s=d.length;if(s!==0){const l=this._buff;let c=this._buffLen,t=this._leftoverHighSurrogate,r,o;for(t!==0?(r=t,o=-1,t=0):(r=d.charCodeAt(0),o=0);;){let a=r;if(w.isHighSurrogate(r))if(o+1<s){const i=d.charCodeAt(o+1);w.isLowSurrogate(i)?(o++,a=w.computeCodePoint(r,i)):a=65533}else{t=r;break}else w.isLowSurrogate(r)&&(a=65533);if(c=this._push(l,c,a),o++,o<s)r=d.charCodeAt(o);else break}this._buffLen=c,this._leftoverHighSurrogate=t}}_push(d,s,l){return l<128?d[s++]=l:l<2048?(d[s++]=192|(l&1984)>>>6,d[s++]=128|(l&63)>>>0):l<65536?(d[s++]=224|(l&61440)>>>12,d[s++]=128|(l&4032)>>>6,d[s++]=128|(l&63)>>>0):(d[s++]=240|(l&1835008)>>>18,d[s++]=128|(l&258048)>>>12,d[s++]=128|(l&4032)>>>6,d[s++]=128|(l&63)>>>0),s>=64&&(this._step(),s-=64,this._totalLen+=64,d[0]=d[64+0],d[1]=d[64+1],d[2]=d[64+2]),s}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),g(this._h0)+g(this._h1)+g(this._h2)+g(this._h3)+g(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,f(this._buff,this._buffLen),this._buffLen>56&&(this._step(),f(this._buff));const d=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(d/4294967296),!1),this._buffDV.setUint32(60,d%4294967296,!1),this._step()}_step(){const d=b._bigBlock32,s=this._buffDV;for(let y=0;y<64;y+=4)d.setUint32(y,s.getUint32(y,!1),!1);for(let y=64;y<320;y+=4)d.setUint32(y,v(d.getUint32(y-12,!1)^d.getUint32(y-32,!1)^d.getUint32(y-56,!1)^d.getUint32(y-64,!1),1),!1);let l=this._h0,c=this._h1,t=this._h2,r=this._h3,o=this._h4,a,i,h;for(let y=0;y<80;y++)y<20?(a=c&t|~c&r,i=1518500249):y<40?(a=c^t^r,i=1859775393):y<60?(a=c&t|c&r|t&r,i=2400959708):(a=c^t^r,i=3395469782),h=v(l,5)+a+o+i+d.getUint32(y*4,!1)&4294967295,o=r,r=t,t=v(c,30),c=l,l=h;this._h0=this._h0+l&4294967295,this._h1=this._h1+c&4294967295,this._h2=this._h2+t&4294967295,this._h3=this._h3+r&4294967295,this._h4=this._h4+o&4294967295}}e.StringSHA1=b,b._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ge[76],pe([0,1,10]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(A){A[A.Ignore=0]="Ignore",A[A.Info=1]="Info",A[A.Warning=2]="Warning",A[A.Error=3]="Error"})(k||(k={})),function(A){const T="error",P="warning",D="warn",C="info";function n(I){return I?w.equalsIgnoreCase(T,I)?A.Error:w.equalsIgnoreCase(P,I)||w.equalsIgnoreCase(D,I)?A.Warning:w.equalsIgnoreCase(C,I)?A.Info:A.Ignore:A.Ignore}A.fromValue=n}(k||(k={})),e.default=k}),define(ge[16],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotImplementedProxy=e.withUndefinedAsNull=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.areFunctions=e.isFunction=e.isEmptyObject=e.assertAllDefined=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isNumber=e.isObject=e.isStringArray=e.isString=e.isArray=void 0;function w(i){return Array.isArray(i)}e.isArray=w;function k(i){return typeof i=="string"}e.isString=k;function A(i){return Array.isArray(i)&&i.every(h=>k(h))}e.isStringArray=A;function T(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)&&!(i instanceof RegExp)&&!(i instanceof Date)}e.isObject=T;function P(i){return typeof i=="number"&&!isNaN(i)}e.isNumber=P;function D(i){return i===!0||i===!1}e.isBoolean=D;function C(i){return typeof i=="undefined"}e.isUndefined=C;function n(i){return!I(i)}e.isDefined=n;function I(i){return C(i)||i===null}e.isUndefinedOrNull=I;function S(i,h){if(!i)throw new Error(h?`Unexpected type, expected '${h}'`:"Unexpected type")}e.assertType=S;function v(i){if(I(i))throw new Error("Assertion Failed: argument is undefined or null");return i}e.assertIsDefined=v;function f(...i){const h=[];for(let y=0;y<i.length;y++){const m=i[y];if(I(m))throw new Error(`Assertion Failed: argument at index ${y} is undefined or null`);h.push(m)}return h}e.assertAllDefined=f;const u=Object.prototype.hasOwnProperty;function g(i){if(!T(i))return!1;for(let h in i)if(u.call(i,h))return!1;return!0}e.isEmptyObject=g;function b(i){return typeof i=="function"}e.isFunction=b;function p(...i){return i.length>0&&i.every(b)}e.areFunctions=p;function d(i,h){const y=Math.min(i.length,h.length);for(let m=0;m<y;m++)s(i[m],h[m])}e.validateConstraints=d;function s(i,h){if(k(h)){if(typeof i!==h)throw new Error(`argument does not match constraint: typeof ${h}`)}else if(b(h)){try{if(i instanceof h)return}catch(y){}if(!I(i)&&i.constructor===h||h.length===1&&h.call(void 0,i)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=s;function l(i){let h=[],y=Object.getPrototypeOf(i);for(;Object.prototype!==y;)h=h.concat(Object.getOwnPropertyNames(y)),y=Object.getPrototypeOf(y);return h}e.getAllPropertyNames=l;function c(i){const h=[];for(const y of l(i))typeof i[y]=="function"&&h.push(y);return h}e.getAllMethodNames=c;function t(i,h){const y=E=>function(){const _=Array.prototype.slice.call(arguments,0);return h(E,_)};let m={};for(const E of i)m[E]=y(E);return m}e.createProxyObject=t;function r(i){return i===null?void 0:i}e.withNullAsUndefined=r;function o(i){return typeof i=="undefined"?null:i}e.withUndefinedAsNull=o;function a(i){return class{constructor(){return new Proxy({},{get(h,y){if(h[y])return h[y];throw new Error(`Not Implemented: ${i}->${String(y)}`)}})}}}e.NotImplementedProxy=a}),define(ge[30],pe([0,1,9,10,7,16]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toSlashes=e.isPathSeparator=void 0;function P(r){return r===47||r===92}e.isPathSeparator=P;function D(r){return r.replace(/[\\/]/g,A.posix.sep)}e.toSlashes=D;function C(r,o=A.posix.sep){if(!r)return"";const a=r.length,i=r.charCodeAt(0);if(P(i)){if(P(r.charCodeAt(1))&&!P(r.charCodeAt(2))){let y=3;const m=y;for(;y<a&&!P(r.charCodeAt(y));y++);if(m!==y&&!P(r.charCodeAt(y+1))){for(y+=1;y<a;y++)if(P(r.charCodeAt(y)))return r.slice(0,y+1).replace(/[\\/]/g,o)}}return o}else if(b(i)&&r.charCodeAt(1)===58)return P(r.charCodeAt(2))?r.slice(0,2)+o:r.slice(0,2);let h=r.indexOf("://");if(h!==-1){for(h+=3;h<a;h++)if(P(r.charCodeAt(h)))return r.slice(0,h+1)}return""}e.getRoot=C;function n(r){if(!w.isWindows||!r||r.length<5)return!1;let o=r.charCodeAt(0);if(o!==92||(o=r.charCodeAt(1),o!==92))return!1;let a=2;const i=a;for(;a<r.length&&(o=r.charCodeAt(a),o!==92);a++);return!(i===a||(o=r.charCodeAt(a+1),isNaN(o)||o===92))}e.isUNC=n;const I=/[\\/:\*\?"<>\|]/g,S=/[\\/]/g,v=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function f(r,o=w.isWindows){const a=o?I:S;return!(!r||r.length===0||/^\s+$/.test(r)||(a.lastIndex=0,a.test(r))||o&&v.test(r)||r==="."||r===".."||o&&r[r.length-1]==="."||o&&r.length!==r.trim().length||r.length>255)}e.isValidBasename=f;function u(r,o,a){const i=r===o;return!a||i?i:!r||!o?!1:k.equalsIgnoreCase(r,o)}e.isEqual=u;function g(r,o,a,i=A.sep){if(r===o)return!0;if(!r||!o||o.length>r.length)return!1;if(a){if(!k.startsWithIgnoreCase(r,o))return!1;if(o.length===r.length)return!0;let y=o.length;return o.charAt(o.length-1)===i&&y--,r.charAt(y)===i}return o.charAt(o.length-1)!==i&&(o+=i),r.indexOf(o)===0}e.isEqualOrParent=g;function b(r){return r>=65&&r<=90||r>=97&&r<=122}e.isWindowsDriveLetter=b;function p(r,o){return w.isWindows&&r.endsWith(":")&&(r+=A.sep),A.isAbsolute(r)||(r=A.join(o,r)),r=A.normalize(r),w.isWindows?(r=k.rtrim(r,A.sep),r.endsWith(":")&&(r+=A.sep)):(r=k.rtrim(r,A.sep),r||(r=A.sep)),r}e.sanitizeFilePath=p;function d(r){const o=A.normalize(r);return w.isWindows?r.length>3?!1:s(o)&&(r.length===2||o.charCodeAt(2)===92):o===A.posix.sep}e.isRootOrDriveLetter=d;function s(r){return w.isWindows?b(r.charCodeAt(0))&&r.charCodeAt(1)===58:!1}e.hasDriveLetter=s;function l(r){return s(r)?r[0]:void 0}e.getDriveLetter=l;function c(r,o,a){return o.length>r.length?-1:r===o?0:(a&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o))}e.indexOfPath=c;function t(r){const o=r.split(":");let a,i,h;if(o.forEach(y=>{const m=Number(y);T.isNumber(m)?i===void 0?i=m:h===void 0&&(h=m):a=a?[a,y].join(":"):y}),!a)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:a,line:i!==void 0?i:void 0,column:h!==void 0?h:i!==void 0?1:void 0}}e.parseLineAndColumnAware=t}),define(ge[25],pe([0,1,16]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCaseInsensitive=e.distinct=e.getOrDefault=e.safeStringify=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function k(u){if(!u||typeof u!="object"||u instanceof RegExp)return u;const g=Array.isArray(u)?[]:{};return Object.keys(u).forEach(b=>{u[b]&&typeof u[b]=="object"?g[b]=k(u[b]):g[b]=u[b]}),g}e.deepClone=k;function A(u){if(!u||typeof u!="object")return u;const g=[u];for(;g.length>0;){const b=g.shift();Object.freeze(b);for(const p in b)if(T.call(b,p)){const d=b[p];typeof d=="object"&&!Object.isFrozen(d)&&g.push(d)}}return u}e.deepFreeze=A;const T=Object.prototype.hasOwnProperty;function P(u,g){return D(u,g,new Set)}e.cloneAndChange=P;function D(u,g,b){if(w.isUndefinedOrNull(u))return u;const p=g(u);if(typeof p!="undefined")return p;if(w.isArray(u)){const d=[];for(const s of u)d.push(D(s,g,b));return d}if(w.isObject(u)){if(b.has(u))throw new Error("Cannot clone recursive data-structure");b.add(u);const d={};for(let s in u)T.call(u,s)&&(d[s]=D(u[s],g,b));return b.delete(u),d}return u}function C(u,g,b=!0){return w.isObject(u)?(w.isObject(g)&&Object.keys(g).forEach(p=>{p in u?b&&(w.isObject(u[p])&&w.isObject(g[p])?C(u[p],g[p],b):u[p]=g[p]):u[p]=g[p]}),u):g}e.mixin=C;function n(u,g){if(u===g)return!0;if(u==null||g===null||g===void 0||typeof u!=typeof g||typeof u!="object"||Array.isArray(u)!==Array.isArray(g))return!1;let b,p;if(Array.isArray(u)){if(u.length!==g.length)return!1;for(b=0;b<u.length;b++)if(!n(u[b],g[b]))return!1}else{const d=[];for(p in u)d.push(p);d.sort();const s=[];for(p in g)s.push(p);if(s.sort(),!n(d,s))return!1;for(b=0;b<d.length;b++)if(!n(u[d[b]],g[d[b]]))return!1}return!0}e.equals=n;function I(u){const g=new Set;return JSON.stringify(u,(b,p)=>{if(w.isObject(p)||Array.isArray(p)){if(g.has(p))return"[Circular]";g.add(p)}return p})}e.safeStringify=I;function S(u,g,b){const p=g(u);return typeof p=="undefined"?b:p}e.getOrDefault=S;function v(u,g){const b=Object.create(null);return!u||!g||Object.keys(g).forEach(d=>{const s=u[d],l=g[d];n(s,l)||(b[d]=l)}),b}e.distinct=v;function f(u,g){const b=g.toLowerCase(),p=Object.keys(u).find(d=>d.toLowerCase()===b);return p?u[p]:u[g]}e.getCaseInsensitive=f}),define(ge[95],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=e.Constants=void 0;var w;(function(T){T[T.MAX_SAFE_SMALL_INTEGER=1073741824]="MAX_SAFE_SMALL_INTEGER",T[T.MIN_SAFE_SMALL_INTEGER=-1073741824]="MIN_SAFE_SMALL_INTEGER",T[T.MAX_UINT_8=255]="MAX_UINT_8",T[T.MAX_UINT_16=65535]="MAX_UINT_16",T[T.MAX_UINT_32=4294967295]="MAX_UINT_32",T[T.UNICODE_SUPPLEMENTARY_PLANE_BEGIN=65536]="UNICODE_SUPPLEMENTARY_PLANE_BEGIN"})(w=e.Constants||(e.Constants={}));function k(T){return T<0?0:T>255?255:T|0}e.toUint8=k;function A(T){return T<0?0:T>4294967295?4294967295:T|0}e.toUint32=A}),define(ge[2],pe([0,1,9,7]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const A=/^\w[\w\d+.-]*$/,T=/^\//,P=/^\/\//;function D(o,a){if(!o.scheme&&a)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${o.authority}", path: "${o.path}", query: "${o.query}", fragment: "${o.fragment}"}`);if(o.scheme&&!A.test(o.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(o.path){if(o.authority){if(!T.test(o.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(P.test(o.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function C(o,a){return!o&&!a?"file":o}function n(o,a){switch(o){case"https":case"http":case"file":a?a[0]!==S&&(a=S+a):a=S;break}return a}const I="",S="/",v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{constructor(a,i,h,y,m,E=!1){typeof a=="object"?(this.scheme=a.scheme||I,this.authority=a.authority||I,this.path=a.path||I,this.query=a.query||I,this.fragment=a.fragment||I):(this.scheme=C(a,E),this.authority=i||I,this.path=n(this.scheme,h||I),this.query=y||I,this.fragment=m||I,D(this,E))}static isUri(a){return a instanceof f?!0:a?typeof a.authority=="string"&&typeof a.fragment=="string"&&typeof a.path=="string"&&typeof a.query=="string"&&typeof a.scheme=="string"&&typeof a.fsPath=="string"&&typeof a.with=="function"&&typeof a.toString=="function":!1}get fsPath(){return s(this,!1)}with(a){if(!a)return this;let{scheme:i,authority:h,path:y,query:m,fragment:E}=a;return i===void 0?i=this.scheme:i===null&&(i=I),h===void 0?h=this.authority:h===null&&(h=I),y===void 0?y=this.path:y===null&&(y=I),m===void 0?m=this.query:m===null&&(m=I),E===void 0?E=this.fragment:E===null&&(E=I),i===this.scheme&&h===this.authority&&y===this.path&&m===this.query&&E===this.fragment?this:new g(i,h,y,m,E)}static parse(a,i=!1){const h=v.exec(a);return h?new g(h[2]||I,r(h[4]||I),r(h[5]||I),r(h[7]||I),r(h[9]||I),i):new g(I,I,I,I,I)}static file(a){let i=I;if(w.isWindows&&(a=a.replace(/\\/g,S)),a[0]===S&&a[1]===S){const h=a.indexOf(S,2);h===-1?(i=a.substring(2),a=S):(i=a.substring(2,h),a=a.substring(h)||S)}return new g("file",i,a,I,I)}static from(a){return new g(a.scheme,a.authority,a.path,a.query,a.fragment)}static joinPath(a,...i){if(!a.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let h;return w.isWindows&&a.scheme==="file"?h=f.file(k.win32.join(s(a,!0),...i)).path:h=k.posix.join(a.path,...i),a.with({path:h})}toString(a=!1){return l(this,a)}toJSON(){return this}static revive(a){if(a){if(a instanceof f)return a;{const i=new g(a);return i._formatted=a.external,i._fsPath=a._sep===u?a.fsPath:null,i}}else return a}}e.URI=f;const u=w.isWindows?1:void 0;class g extends f{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=s(this,!1)),this._fsPath}toString(a=!1){return a?l(this,!0):(this._formatted||(this._formatted=l(this,!1)),this._formatted)}toJSON(){const a={$mid:1};return this._fsPath&&(a.fsPath=this._fsPath,a._sep=u),this._formatted&&(a.external=this._formatted),this.path&&(a.path=this.path),this.scheme&&(a.scheme=this.scheme),this.authority&&(a.authority=this.authority),this.query&&(a.query=this.query),this.fragment&&(a.fragment=this.fragment),a}}const b={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function p(o,a){let i,h=-1;for(let y=0;y<o.length;y++){const m=o.charCodeAt(y);if(m>=97&&m<=122||m>=65&&m<=90||m>=48&&m<=57||m===45||m===46||m===95||m===126||a&&m===47)h!==-1&&(i+=encodeURIComponent(o.substring(h,y)),h=-1),i!==void 0&&(i+=o.charAt(y));else{i===void 0&&(i=o.substr(0,y));const E=b[m];E!==void 0?(h!==-1&&(i+=encodeURIComponent(o.substring(h,y)),h=-1),i+=E):h===-1&&(h=y)}}return h!==-1&&(i+=encodeURIComponent(o.substring(h))),i!==void 0?i:o}function d(o){let a;for(let i=0;i<o.length;i++){const h=o.charCodeAt(i);h===35||h===63?(a===void 0&&(a=o.substr(0,i)),a+=b[h]):a!==void 0&&(a+=o[i])}return a!==void 0?a:o}function s(o,a){let i;return o.authority&&o.path.length>1&&o.scheme==="file"?i=`//${o.authority}${o.path}`:o.path.charCodeAt(0)===47&&(o.path.charCodeAt(1)>=65&&o.path.charCodeAt(1)<=90||o.path.charCodeAt(1)>=97&&o.path.charCodeAt(1)<=122)&&o.path.charCodeAt(2)===58?a?i=o.path.substr(1):i=o.path[1].toLowerCase()+o.path.substr(2):i=o.path,w.isWindows&&(i=i.replace(/\//g,"\\")),i}e.uriToFsPath=s;function l(o,a){const i=a?d:p;let h="",{scheme:y,authority:m,path:E,query:_,fragment:L}=o;if(y&&(h+=y,h+=":"),(m||y==="file")&&(h+=S,h+=S),m){let R=m.indexOf("@");if(R!==-1){const N=m.substr(0,R);m=m.substr(R+1),R=N.indexOf(":"),R===-1?h+=i(N,!1):(h+=i(N.substr(0,R),!1),h+=":",h+=i(N.substr(R+1),!1)),h+="@"}m=m.toLowerCase(),R=m.indexOf(":"),R===-1?h+=i(m,!1):(h+=i(m.substr(0,R),!1),h+=m.substr(R))}if(E){if(E.length>=3&&E.charCodeAt(0)===47&&E.charCodeAt(2)===58){const R=E.charCodeAt(1);R>=65&&R<=90&&(E=`/${String.fromCharCode(R+32)}:${E.substr(3)}`)}else if(E.length>=2&&E.charCodeAt(1)===58){const R=E.charCodeAt(0);R>=65&&R<=90&&(E=`${String.fromCharCode(R+32)}:${E.substr(2)}`)}h+=i(E,!0)}return _&&(h+="?",h+=i(_,!1)),L&&(h+="#",h+=a?L:p(L,!1)),h}function c(o){try{return decodeURIComponent(o)}catch(a){return o.length>3?o.substr(0,3)+c(o.substr(3)):o}}const t=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function r(o){return o.match(t)?o.replace(t,a=>c(a)):o}}),define(ge[22],pe([0,1,2,10]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.Touch=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=e.setToString=e.mapToString=e.getOrSet=void 0;function A(d,s,l){let c=d.get(s);return c===void 0&&(c=l,d.set(s,c)),c}e.getOrSet=A;function T(d){const s=[];return d.forEach((l,c)=>{s.push(`${c} => ${l}`)}),`Map(${d.size}) {${s.join(", ")}}`}e.mapToString=T;function P(d){const s=[];return d.forEach(l=>{s.push(l)}),`Set(${d.size}) {${s.join(", ")}}`}e.setToString=P;class D{constructor(){this._value="",this._pos=0}reset(s){return this._value=s,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(s){const l=s.charCodeAt(0),c=this._value.charCodeAt(this._pos);return l-c}value(){return this._value[this._pos]}}e.StringIterator=D;class C{constructor(s=!0){this._caseSensitive=s}reset(s){return this._value=s,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let s=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(s)this._from++;else break;else s=!1;return this}cmp(s){return this._caseSensitive?k.compareSubstring(s,this._value,0,s.length,this._from,this._to):k.compareSubstringIgnoreCase(s,this._value,0,s.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=C;class n{constructor(s=!0,l=!0){this._splitOnBackslash=s,this._caseSensitive=l}reset(s){return this._value=s.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let s=!0;for(;this._to<this._value.length;this._to++){const l=this._value.charCodeAt(this._to);if(l===47||this._splitOnBackslash&&l===92)if(s)this._from++;else break;else s=!1}return this}cmp(s){return this._caseSensitive?k.compareSubstring(s,this._value,0,s.length,this._from,this._to):k.compareSubstringIgnoreCase(s,this._value,0,s.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=n;var I;(function(d){d[d.Scheme=1]="Scheme",d[d.Authority=2]="Authority",d[d.Path=3]="Path",d[d.Query=4]="Query",d[d.Fragment=5]="Fragment"})(I||(I={}));class S{constructor(s){this._ignorePathCasing=s,this._states=[],this._stateIdx=0}reset(s){return this._value=s,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new n(!1,!this._ignorePathCasing(s)),this._pathIterator.reset(s.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(s){if(this._states[this._stateIdx]===1)return k.compareIgnoreCase(s,this._value.scheme);if(this._states[this._stateIdx]===2)return k.compareIgnoreCase(s,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(s);if(this._states[this._stateIdx]===4)return k.compare(s,this._value.query);if(this._states[this._stateIdx]===5)return k.compare(s,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=S;class v{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class f{constructor(s){this._iter=s}static forUris(s=()=>!1){return new f(new S(s))}static forPaths(){return new f(new n)}static forStrings(){return new f(new D)}static forConfigKeys(){return new f(new C)}clear(){this._root=void 0}set(s,l){const c=this._iter.reset(s);let t;for(this._root||(this._root=new v,this._root.segment=c.value()),t=this._root;;){const o=c.cmp(t.segment);if(o>0)t.left||(t.left=new v,t.left.segment=c.value()),t=t.left;else if(o<0)t.right||(t.right=new v,t.right.segment=c.value()),t=t.right;else if(c.hasNext())c.next(),t.mid||(t.mid=new v,t.mid.segment=c.value()),t=t.mid;else break}const r=t.value;return t.value=l,t.key=s,r}get(s){var l;return(l=this._getNode(s))===null||l===void 0?void 0:l.value}_getNode(s){const l=this._iter.reset(s);let c=this._root;for(;c;){const t=l.cmp(c.segment);if(t>0)c=c.left;else if(t<0)c=c.right;else if(l.hasNext())l.next(),c=c.mid;else break}return c}has(s){const l=this._getNode(s);return!((l==null?void 0:l.value)===void 0&&(l==null?void 0:l.mid)===void 0)}delete(s){return this._delete(s,!1)}deleteSuperstr(s){return this._delete(s,!0)}_delete(s,l){const c=this._iter.reset(s),t=[];let r=this._root;for(;r;){const o=c.cmp(r.segment);if(o>0)t.push([1,r]),r=r.left;else if(o<0)t.push([-1,r]),r=r.right;else if(c.hasNext())c.next(),t.push([0,r]),r=r.mid;else{for(l?(r.left=void 0,r.mid=void 0,r.right=void 0):r.value=void 0;t.length>0&&r.isEmpty();){let[a,i]=t.pop();switch(a){case 1:i.left=void 0;break;case 0:i.mid=void 0;break;case-1:i.right=void 0;break}r=i}break}}}findSubstr(s){const l=this._iter.reset(s);let c=this._root,t;for(;c;){const r=l.cmp(c.segment);if(r>0)c=c.left;else if(r<0)c=c.right;else if(l.hasNext())l.next(),t=c.value||t,c=c.mid;else break}return c&&c.value||t}findSuperstr(s){const l=this._iter.reset(s);let c=this._root;for(;c;){const t=l.cmp(c.segment);if(t>0)c=c.left;else if(t<0)c=c.right;else if(l.hasNext())l.next(),c=c.mid;else return c.mid?this._entries(c.mid):void 0}}forEach(s){for(const[l,c]of this)s(c,l)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(s){s&&(yield*this._entries(s.left),s.value&&(yield[s.key,s.value]),yield*this._entries(s.mid),yield*this._entries(s.right))}}e.TernarySearchTree=f;class u{constructor(s,l){this[Symbol.toStringTag]="ResourceMap",s instanceof u?(this.map=new Map(s.map),this.toKey=l!=null?l:u.defaultToKey):(this.map=new Map,this.toKey=s!=null?s:u.defaultToKey)}set(s,l){return this.map.set(this.toKey(s),l),this}get(s){return this.map.get(this.toKey(s))}has(s){return this.map.has(this.toKey(s))}get size(){return this.map.size}clear(){this.map.clear()}delete(s){return this.map.delete(this.toKey(s))}forEach(s,l){typeof l!="undefined"&&(s=s.bind(l));for(let[c,t]of this.map)s(t,w.URI.parse(c),this)}values(){return this.map.values()}*keys(){for(let s of this.map.keys())yield w.URI.parse(s)}*entries(){for(let s of this.map.entries())yield[w.URI.parse(s[0]),s[1]]}*[Symbol.iterator](){for(let s of this.map)yield[w.URI.parse(s[0]),s[1]]}}e.ResourceMap=u,u.defaultToKey=d=>d.toString();var g;(function(d){d[d.None=0]="None",d[d.AsOld=1]="AsOld",d[d.AsNew=2]="AsNew"})(g=e.Touch||(e.Touch={}));class b{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)===null||s===void 0?void 0:s.value}get last(){var s;return(s=this._tail)===null||s===void 0?void 0:s.value}has(s){return this._map.has(s)}get(s,l=0){const c=this._map.get(s);if(!!c)return l!==0&&this.touch(c,l),c.value}set(s,l,c=0){let t=this._map.get(s);if(t)t.value=l,c!==0&&this.touch(t,c);else{switch(t={key:s,value:l,next:void 0,previous:void 0},c){case 0:this.addItemLast(t);break;case 1:this.addItemFirst(t);break;case 2:this.addItemLast(t);break;default:this.addItemLast(t);break}this._map.set(s,t),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const l=this._map.get(s);if(!!l)return this._map.delete(s),this.removeItem(l),this._size--,l.value}shift(){if(!(!this._head&&!this._tail)){if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}}forEach(s,l){const c=this._state;let t=this._head;for(;t;){if(l?s.bind(l)(t.value,t.key,this):s(t.value,t.key,this),this._state!==c)throw new Error("LinkedMap got modified during iteration.");t=t.next}}keys(){const s=this,l=this._state;let c=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==l)throw new Error("LinkedMap got modified during iteration.");if(c){const r={value:c.key,done:!1};return c=c.next,r}else return{value:void 0,done:!0}}};return t}values(){const s=this,l=this._state;let c=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==l)throw new Error("LinkedMap got modified during iteration.");if(c){const r={value:c.value,done:!1};return c=c.next,r}else return{value:void 0,done:!0}}};return t}entries(){const s=this,l=this._state;let c=this._head;const t={[Symbol.iterator](){return t},next(){if(s._state!==l)throw new Error("LinkedMap got modified during iteration.");if(c){const r={value:[c.key,c.value],done:!1};return c=c.next,r}else return{value:void 0,done:!0}}};return t}[Symbol.iterator](){return this.entries()}trimOld(s){if(!(s>=this.size)){if(s===0){this.clear();return}let l=this._head,c=this.size;for(;l&&c>s;)this._map.delete(l.key),l=l.next,c--;this._head=l,this._size=c,l&&(l.previous=void 0),this._state++}}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const l=s.next,c=s.previous;if(!l||!c)throw new Error("Invalid list");l.previous=c,c.next=l}s.next=void 0,s.previous=void 0,this._state++}touch(s,l){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(l!==1&&l!==2)){if(l===1){if(s===this._head)return;const c=s.next,t=s.previous;s===this._tail?(t.next=void 0,this._tail=t):(c.previous=t,t.next=c),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(l===2){if(s===this._tail)return;const c=s.next,t=s.previous;s===this._head?(c.previous=void 0,this._head=c):(c.previous=t,t.next=c),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((l,c)=>{s.push([c,l])}),s}fromJSON(s){this.clear();for(const[l,c]of s)this.set(l,c)}}e.LinkedMap=b;class p extends b{constructor(s,l=1){super();this._limit=s,this._ratio=Math.min(Math.max(0,l),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get ratio(){return this._ratio}set ratio(s){this._ratio=Math.min(Math.max(0,s),1),this.checkTrim()}get(s,l=2){return super.get(s,l)}peek(s){return super.get(s,0)}set(s,l){return super.set(s,l,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=p}),define(ge[96],pe([0,1,22,10]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGraceful=e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy2=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function A(...Ee){return function(Pe,Ce){for(let Oe=0,Se=Ee.length;Oe<Se;Oe++){const ze=Ee[Oe](Pe,Ce);if(ze)return ze}return null}}e.or=A,e.matchesStrictPrefix=T.bind(void 0,!1),e.matchesPrefix=T.bind(void 0,!0);function T(Ee,Pe,Ce){if(!Ce||Ce.length<Pe.length)return null;let Oe;return Ee?Oe=k.startsWithIgnoreCase(Ce,Pe):Oe=Ce.indexOf(Pe)===0,Oe?Pe.length>0?[{start:0,end:Pe.length}]:[]:null}function P(Ee,Pe){const Ce=Pe.toLowerCase().indexOf(Ee.toLowerCase());return Ce===-1?null:[{start:Ce,end:Ce+Ee.length}]}e.matchesContiguousSubString=P;function D(Ee,Pe){return C(Ee.toLowerCase(),Pe.toLowerCase(),0,0)}e.matchesSubString=D;function C(Ee,Pe,Ce,Oe){if(Ce===Ee.length)return[];if(Oe===Pe.length)return null;if(Ee[Ce]===Pe[Oe]){let Se=null;return(Se=C(Ee,Pe,Ce+1,Oe+1))?p({start:Oe,end:Oe+1},Se):null}return C(Ee,Pe,Ce,Oe+1)}function n(Ee){return 97<=Ee&&Ee<=122}function I(Ee){return 65<=Ee&&Ee<=90}e.isUpper=I;function S(Ee){return 48<=Ee&&Ee<=57}function v(Ee){return Ee===32||Ee===9||Ee===10||Ee===13}const f=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(Ee=>f.add(Ee.charCodeAt(0)));function u(Ee){return v(Ee)||f.has(Ee)}function g(Ee,Pe){return Ee===Pe||u(Ee)&&u(Pe)}function b(Ee){return n(Ee)||I(Ee)||S(Ee)}function p(Ee,Pe){return Pe.length===0?Pe=[Ee]:Ee.end===Pe[0].start?Pe[0].start=Ee.start:Pe.unshift(Ee),Pe}function d(Ee,Pe){for(let Ce=Pe;Ce<Ee.length;Ce++){const Oe=Ee.charCodeAt(Ce);if(I(Oe)||S(Oe)||Ce>0&&!b(Ee.charCodeAt(Ce-1)))return Ce}return Ee.length}function s(Ee,Pe,Ce,Oe){if(Ce===Ee.length)return[];if(Oe===Pe.length)return null;if(Ee[Ce]!==Pe[Oe].toLowerCase())return null;{let Se=null,ze=Oe+1;for(Se=s(Ee,Pe,Ce+1,Oe+1);!Se&&(ze=d(Pe,ze))<Pe.length;)Se=s(Ee,Pe,Ce+1,ze),ze++;return Se===null?null:p({start:Oe,end:Oe+1},Se)}}function l(Ee){let Pe=0,Ce=0,Oe=0,Se=0,ze=0;for(let Ue=0;Ue<Ee.length;Ue++)ze=Ee.charCodeAt(Ue),I(ze)&&Pe++,n(ze)&&Ce++,b(ze)&&Oe++,S(ze)&&Se++;const K=Pe/Ee.length,se=Ce/Ee.length,we=Oe/Ee.length,Re=Se/Ee.length;return{upperPercent:K,lowerPercent:se,alphaPercent:we,numericPercent:Re}}function c(Ee){const{upperPercent:Pe,lowerPercent:Ce}=Ee;return Ce===0&&Pe>.6}function t(Ee){const{upperPercent:Pe,lowerPercent:Ce,alphaPercent:Oe,numericPercent:Se}=Ee;return Ce>.2&&Pe<.8&&Oe>.6&&Se<.2}function r(Ee){let Pe=0,Ce=0,Oe=0,Se=0;for(let ze=0;ze<Ee.length;ze++)Oe=Ee.charCodeAt(ze),I(Oe)&&Pe++,n(Oe)&&Ce++,v(Oe)&&Se++;return(Pe===0||Ce===0)&&Se===0?Ee.length<=30:Pe<=5}function o(Ee,Pe){if(!Pe||(Pe=Pe.trim(),Pe.length===0)||!r(Ee)||Pe.length>60)return null;const Ce=l(Pe);if(!t(Ce)){if(!c(Ce))return null;Pe=Pe.toLowerCase()}let Oe=null,Se=0;for(Ee=Ee.toLowerCase();Se<Pe.length&&(Oe=s(Ee,Pe,0,Se))===null;)Se=d(Pe,Se+1);return Oe}e.matchesCamelCase=o;function a(Ee,Pe,Ce=!1){if(!Pe||Pe.length===0)return null;let Oe=null,Se=0;for(Ee=Ee.toLowerCase(),Pe=Pe.toLowerCase();Se<Pe.length&&(Oe=i(Ee,Pe,0,Se,Ce))===null;)Se=h(Pe,Se+1);return Oe}e.matchesWords=a;function i(Ee,Pe,Ce,Oe,Se){if(Ce===Ee.length)return[];if(Oe===Pe.length)return null;if(g(Ee.charCodeAt(Ce),Pe.charCodeAt(Oe))){let ze=null,K=Oe+1;if(ze=i(Ee,Pe,Ce+1,Oe+1,Se),!Se)for(;!ze&&(K=h(Pe,K))<Pe.length;)ze=i(Ee,Pe,Ce+1,K,Se),K++;return ze===null?null:p({start:Oe,end:Oe+1},ze)}else return null}function h(Ee,Pe){for(let Ce=Pe;Ce<Ee.length;Ce++)if(u(Ee.charCodeAt(Ce))||Ce>0&&u(Ee.charCodeAt(Ce-1)))return Ce;return Ee.length}const y=A(e.matchesPrefix,o,P),m=A(e.matchesPrefix,o,D),E=new w.LRUCache(1e4);function _(Ee,Pe,Ce=!1){if(typeof Ee!="string"||typeof Pe!="string")return null;let Oe=E.get(Ee);Oe||(Oe=new RegExp(k.convertSimple2RegExpPattern(Ee),"i"),E.set(Ee,Oe));const Se=Oe.exec(Pe);return Se?[{start:Se.index,end:Se.index+Se[0].length}]:Ce?m(Ee,Pe):y(Ee,Pe)}e.matchesFuzzy=_;function L(Ee,Pe){const Ce=X(Ee,Ee.toLowerCase(),0,Pe,Pe.toLowerCase(),0,!0);return Ce?N(Ce):null}e.matchesFuzzy2=L;function R(Ee,Pe,Ce,Oe,Se,ze){const K=X(Ee,Pe,0,Oe,Se,0,!0);if(K)return K;let se=[],we=0,Re=ze;for(let Ue=0;Ue<Pe.length&&Ue<W;++Ue){const Be=Se.indexOf(Pe.charAt(Ue),Re);if(Be>=0)we+=1,se.unshift(Be),Re=Be+1;else if(se.length>0)break}return[we,ze,...se]}e.anyScore=R;function N(Ee){if(typeof Ee=="undefined")return[];const Pe=[],Ce=Ee[1];for(let Oe=Ee.length-1;Oe>1;Oe--){const Se=Ee[Oe]+Ce,ze=Pe[Pe.length-1];ze&&ze.end===Se?ze.end=Se+1:Pe.push({start:Se,end:Se+1})}return Pe}e.createMatches=N;const W=128;function x(){const Ee=[],Pe=[];for(let Ce=0;Ce<=W;Ce++)Pe[Ce]=0;for(let Ce=0;Ce<=W;Ce++)Ee.push(Pe.slice(0));return Ee}function M(Ee){const Pe=[];for(let Ce=0;Ce<=Ee;Ce++)Pe[Ce]=0;return Pe}const $=M(2*W),O=M(2*W),z=x(),J=x(),U=x(),V=!1;function B(Ee,Pe,Ce,Oe,Se){function ze(se,we,Re=" "){for(;se.length<we;)se=Re+se;return se}let K=` |   |${Oe.split("").map(se=>ze(se,3)).join("|")}
`;for(let se=0;se<=Ce;se++)se===0?K+=" |":K+=`${Pe[se-1]}|`,K+=Ee[se].slice(0,Se+1).map(we=>ze(we.toString(),3)).join("|")+`
`;return K}function Y(Ee,Pe,Ce,Oe){Ee=Ee.substr(Pe),Ce=Ce.substr(Oe),console.log(B(J,Ee,Ee.length,Ce,Ce.length)),console.log(B(U,Ee,Ee.length,Ce,Ce.length)),console.log(B(z,Ee,Ee.length,Ce,Ce.length))}function ae(Ee,Pe){if(Pe<0||Pe>=Ee.length)return!1;const Ce=Ee.codePointAt(Pe);switch(Ce){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!k.isEmojiImprecise(Ce)}}function ce(Ee,Pe){if(Pe<0||Pe>=Ee.length)return!1;switch(Ee.charCodeAt(Pe)){case 32:case 9:return!0;default:return!1}}function fe(Ee,Pe,Ce){return Pe[Ee]!==Ce[Ee]}function _e(Ee,Pe,Ce,Oe,Se,ze,K=!1){for(;Pe<Ce&&Se<ze;)Ee[Pe]===Oe[Se]&&(K&&($[Pe]=Se),Pe+=1),Se+=1;return Pe===Ce}e.isPatternInWord=_e;var be;(function(Ee){Ee[Ee.Diag=1]="Diag",Ee[Ee.Left=2]="Left",Ee[Ee.LeftLeft=3]="LeftLeft"})(be||(be={}));var H;(function(Ee){Ee.Default=[-100,0];function Pe(Ce){return!Ce||Ce[0]===-100&&Ce[1]===0&&Ce[2]===0}Ee.isDefault=Pe})(H=e.FuzzyScore||(e.FuzzyScore={}));function X(Ee,Pe,Ce,Oe,Se,ze,K){const se=Ee.length>W?W:Ee.length,we=Oe.length>W?W:Oe.length;if(!(Ce>=se||ze>=we||se-Ce>we-ze)&&!!_e(Pe,Ce,se,Se,ze,we,!0)){re(se,we,Ce,ze,Pe,Se);let Re=1,Ue=1,Be=Ce,je=ze;const ue=[!1];for(Re=1,Be=Ce;Be<se;Re++,Be++){const G=$[Be],F=O[Be],ie=Be+1<se?O[Be+1]:we;for(Ue=G-ze+1,je=G;je<ie;Ue++,je++){let oe=Number.MIN_SAFE_INTEGER,me=!1;je<=F&&(oe=Q(Ee,Pe,Be,Ce,Oe,Se,je,we,ze,z[Re-1][Ue-1]===0,ue));let ke=0;oe!==Number.MAX_SAFE_INTEGER&&(me=!0,ke=oe+J[Re-1][Ue-1]);const Ae=je>G,xe=Ae?J[Re][Ue-1]+(z[Re][Ue-1]>0?-5:0):0,qe=je>G+1&&z[Re][Ue-1]>0,Ge=qe?J[Re][Ue-2]+(z[Re][Ue-2]>0?-5:0):0;if(qe&&(!Ae||Ge>=xe)&&(!me||Ge>=ke))J[Re][Ue]=Ge,U[Re][Ue]=3,z[Re][Ue]=0;else if(Ae&&(!me||xe>=ke))J[Re][Ue]=xe,U[Re][Ue]=2,z[Re][Ue]=0;else if(me)J[Re][Ue]=ke,U[Re][Ue]=1,z[Re][Ue]=z[Re-1][Ue-1]+1;else throw new Error("not possible")}}if(V&&Y(Ee,Ce,Oe,ze),!(!ue[0]&&!K)){Re--,Ue--;const ye=[J[Re][Ue],ze];let Ne=0,ee=0;for(;Re>=1;){let G=Ue;do{const F=U[Re][G];if(F===3)G=G-2;else if(F===2)G=G-1;else break}while(G>=1);Ne>1&&Pe[Ce+Re-1]===Se[ze+Ue-1]&&!fe(G+ze-1,Oe,Se)&&Ne+1>z[Re][G]&&(G=Ue),G===Ue?Ne++:Ne=1,ee||(ee=G),Re--,Ue=G-1,ye.push(Ue)}we===se&&(ye[0]+=2);const te=ee-se;return ye[0]-=te,ye}}}e.fuzzyScore=X;function re(Ee,Pe,Ce,Oe,Se,ze){let K=Ee-1,se=Pe-1;for(;K>=Ce&&se>=Oe;)Se[K]===ze[se]&&(O[K]=se,K--),se--}function Q(Ee,Pe,Ce,Oe,Se,ze,K,se,we,Re,Ue){if(Pe[Ce]!==ze[K])return Number.MIN_SAFE_INTEGER;let Be=1,je=!1;return K===Ce-Oe?Be=Ee[Ce]===Se[K]?7:5:fe(K,Se,ze)&&(K===0||!fe(K-1,Se,ze))?(Be=Ee[Ce]===Se[K]?7:5,je=!0):ae(ze,K)&&(K===0||!ae(ze,K-1))?Be=5:(ae(ze,K-1)||ce(ze,K-1))&&(Be=5,je=!0),Be>1&&Ce===Oe&&(Ue[0]=!0),je||(je=fe(K,Se,ze)||ae(ze,K-1)||ce(ze,K-1)),Ce===Oe?K>we&&(Be-=je?3:5):Re?Be+=je?2:0:Be+=je?0:1,K+1===se&&(Be-=je?3:5),Be}function le(Ee,Pe,Ce,Oe,Se,ze,K){return De(Ee,Pe,Ce,Oe,Se,ze,!0,K)}e.fuzzyScoreGracefulAggressive=le;function ve(Ee,Pe,Ce,Oe,Se,ze,K){return De(Ee,Pe,Ce,Oe,Se,ze,!1,K)}e.fuzzyScoreGraceful=ve;function De(Ee,Pe,Ce,Oe,Se,ze,K,se){let we=X(Ee,Pe,Ce,Oe,Se,ze,se);if(we&&!K)return we;if(Ee.length>=3){const Re=Math.min(7,Ee.length-1);for(let Ue=Ce+1;Ue<Re;Ue++){const Be=Me(Ee,Ue);if(Be){const je=X(Be,Be.toLowerCase(),Ce,Oe,Se,ze,se);je&&(je[0]-=3,(!we||je[0]>we[0])&&(we=je))}}}return we}function Me(Ee,Pe){if(!(Pe+1>=Ee.length)){const Ce=Ee[Pe],Oe=Ee[Pe+1];if(Ce!==Oe)return Ee.slice(0,Pe)+Oe+Ce+Ee.slice(Pe+2)}}}),define(ge[97],pe([0,1,93,96,7,9,10]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.compareItemsByFuzzyScore=e.scoreItemFuzzy=e.scoreFuzzy2=e.scoreFuzzy=void 0;const D=0,C=[D,[]];function n(M,$,O,z){if(!M||!$)return C;const J=M.length,U=$.length;if(J<U)return C;const V=M.toLowerCase();return!z&&!V.includes(O)?C:I($,O,U,M,V,J)}e.scoreFuzzy=n;function I(M,$,O,z,J,U){const V=[],B=[];for(let fe=0;fe<O;fe++){const _e=fe*U,be=_e-U,H=fe>0,X=M[fe],re=$[fe];for(let Q=0;Q<U;Q++){const le=Q>0,ve=_e+Q,De=ve-1,Me=be+Q-1,Ee=le?V[De]:0,Pe=H&&le?V[Me]:0,Ce=H&&le?B[Me]:0;let Oe;!Pe&&H?Oe=0:Oe=S(X,re,z,J,Q,Ce),Oe&&Pe+Oe>=Ee?(B[ve]=Ce+1,V[ve]=Pe+Oe):(B[ve]=D,V[ve]=Ee)}}const Y=[];let ae=O-1,ce=U-1;for(;ae>=0&&ce>=0;){const fe=ae*U+ce;B[fe]===D||(Y.push(ce),ae--),ce--}return[V[O*U-1],Y.reverse()]}function S(M,$,O,z,J,U){let V=0;if(!v($,z[J]))return V;if(V+=1,U>0&&(V+=U*5),M===O[J]&&(V+=1),J===0)V+=8;else{const B=f(O.charCodeAt(J-1));B?V+=B:k.isUpper(O.charCodeAt(J))&&(V+=2)}return V}function v(M,$){return M===$?!0:M==="/"||M==="\\"?$==="/"||$==="\\":!1}function f(M){switch(M){case 47:case 92:return 5;case 95:case 45:case 46:case 32:case 39:case 34:case 58:return 4;default:return 0}}const u=[void 0,[]];function g(M,$,O=0,z=0){const J=$;return J.values&&J.values.length>1?b(M,J.values,O,z):p(M,$,O,z)}e.scoreFuzzy2=g;function b(M,$,O,z){let J=0;const U=[];for(const V of $){const[B,Y]=p(M,V,O,z);if(typeof B!="number")return u;J+=B,U.push(...Y)}return[J,h(U)]}function p(M,$,O,z){const J=k.fuzzyScore($.original,$.originalLowercase,O,M,M.toLowerCase(),z,!0);return J?[J[0],k.createMatches(J)]:u}const d=Object.freeze({score:0}),s=1<<18,l=1<<17,c=1<<16;function t(M,$,O,z,J){if(!M||!$.normalized)return d;const U=z.getItemLabel(M);if(!U)return d;const V=z.getItemDescription(M);let B;V?B=`${U}${V}${$.normalized}${Array.isArray($.values)?$.values.length:""}${O}`:B=`${U}${$.normalized}${Array.isArray($.values)?$.values.length:""}${O}`;const Y=J[B];if(Y)return Y;const ae=r(U,V,z.getItemPath(M),$,O);return J[B]=ae,ae}e.scoreItemFuzzy=t;function r(M,$,O,z,J){const U=!O||!z.containsPathSeparator;return O&&(T.isLinux?z.pathNormalized===O:P.equalsIgnoreCase(z.pathNormalized,O))?{score:s,labelMatch:[{start:0,end:M.length}],descriptionMatch:$?[{start:0,end:$.length}]:void 0}:z.values&&z.values.length>1?o(M,$,O,z.values,U,J):a(M,$,O,z,U,J)}function o(M,$,O,z,J,U){let V=0;const B=[],Y=[];for(const ae of z){const{score:ce,labelMatch:fe,descriptionMatch:_e}=a(M,$,O,ae,J,U);if(ce===D)return d;V+=ce,fe&&B.push(...fe),_e&&Y.push(..._e)}return{score:V,labelMatch:h(B),descriptionMatch:h(Y)}}function a(M,$,O,z,J,U){if(J||!$){const[V,B]=n(M,z.normalized,z.normalizedLowercase,U);if(V){const Y=k.matchesPrefix(z.normalized,M);let ae;return Y?(ae=l,ae+=Math.round(z.normalized.length/M.length*100)):ae=c,{score:ae+V,labelMatch:Y||i(B)}}}if($){let V=$;O&&(V=`${$}${A.sep}`);const B=V.length,Y=`${V}${M}`,[ae,ce]=n(Y,z.normalized,z.normalizedLowercase,U);if(ae){const fe=i(ce),_e=[],be=[];return fe.forEach(H=>{H.start<B&&H.end>B?(_e.push({start:0,end:H.end-B}),be.push({start:H.start,end:B})):H.start>=B?_e.push({start:H.start-B,end:H.end-B}):be.push(H)}),{score:ae,labelMatch:_e,descriptionMatch:be}}}return d}function i(M){const $=[];if(!M)return $;let O;for(const z of M)O&&O.end===z?O.end+=1:(O={start:z,end:z+1},$.push(O));return $}function h(M){const $=M.sort((J,U)=>J.start-U.start),O=[];let z;for(const J of $)!z||!y(z,J)?(z=J,O.push(J)):(z.start=Math.min(z.start,J.start),z.end=Math.max(z.end,J.end));return O}function y(M,$){return!(M.end<$.start||$.end<M.start)}function m(M,$,O,z,J,U){const V=t(M,O,z,J,U),B=t($,O,z,J,U),Y=V.score,ae=B.score;if((Y===s||ae===s)&&Y!==ae)return Y===s?-1:1;if(Y>c||ae>c){if(Y!==ae)return Y>ae?-1:1;if(Y<l&&ae<l){const re=_(V.labelMatch,B.labelMatch);if(re!==0)return re}const H=J.getItemLabel(M)||"",X=J.getItemLabel($)||"";if(H.length!==X.length)return H.length-X.length}if(Y!==ae)return Y>ae?-1:1;const ce=Array.isArray(V.labelMatch)&&V.labelMatch.length>0,fe=Array.isArray(B.labelMatch)&&B.labelMatch.length>0;if(ce&&!fe)return-1;if(fe&&!ce)return 1;const _e=E(M,V,J),be=E($,B,J);return _e&&be&&_e!==be?be>_e?-1:1:L(M,$,O,J)}e.compareItemsByFuzzyScore=m;function E(M,$,O){let z=-1,J=-1;if($.descriptionMatch&&$.descriptionMatch.length?z=$.descriptionMatch[0].start:$.labelMatch&&$.labelMatch.length&&(z=$.labelMatch[0].start),$.labelMatch&&$.labelMatch.length){if(J=$.labelMatch[$.labelMatch.length-1].end,$.descriptionMatch&&$.descriptionMatch.length){const U=O.getItemDescription(M);U&&(J+=U.length)}}else $.descriptionMatch&&$.descriptionMatch.length&&(J=$.descriptionMatch[$.descriptionMatch.length-1].end);return J-z}function _(M,$){if(!M&&!$||(!M||!M.length)&&(!$||!$.length))return 0;if(!$||!$.length)return-1;if(!M||!M.length)return 1;const O=M[0].start,J=M[M.length-1].end-O,U=$[0].start,B=$[$.length-1].end-U;return J===B?0:B<J?1:-1}function L(M,$,O,z){const J=z.getItemLabel(M)||"",U=z.getItemLabel($)||"",V=z.getItemDescription(M),B=z.getItemDescription($),Y=J.length+(V?V.length:0),ae=U.length+(B?B.length:0);if(Y!==ae)return Y-ae;const ce=z.getItemPath(M),fe=z.getItemPath($);return ce&&fe&&ce.length!==fe.length?ce.length-fe.length:J!==U?w.compareAnything(J,U,O.normalized):V&&B&&V!==B?w.compareAnything(V,B,O.normalized):ce&&fe&&ce!==fe?w.compareAnything(ce,fe,O.normalized):0}const R=" ";function N(M){typeof M!="string"&&(M="");const $=M.toLowerCase(),{pathNormalized:O,normalized:z,normalizedLowercase:J}=W(M),U=O.indexOf(A.sep)>=0;let V;const B=M.split(R);if(B.length>1)for(const Y of B){const{pathNormalized:ae,normalized:ce,normalizedLowercase:fe}=W(Y);ce&&(V||(V=[]),V.push({original:Y,originalLowercase:Y.toLowerCase(),pathNormalized:ae,normalized:ce,normalizedLowercase:fe}))}return{original:M,originalLowercase:$,pathNormalized:O,normalized:z,normalizedLowercase:J,values:V,containsPathSeparator:U}}e.prepareQuery=N;function W(M){let $;T.isWindows?$=M.replace(/\//g,A.sep):$=M.replace(/\\/g,A.sep);const O=P.stripWildcards($).replace(/\s/g,"");return{pathNormalized:$,normalized:O,normalizedLowercase:O.toLowerCase()}}function x(M){return Array.isArray(M)?N(M.map($=>$.original).join(R)):N(M.original)}e.pieceToQuery=x}),define(ge[33],pe([0,1,10,30,7,22,19]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPathTerms=e.getBasenameTerms=e.isRelativePattern=e.hasSiblingFn=e.hasSiblingPromiseFn=e.parse=e.match=e.splitGlobAware=e.getEmptyExpression=void 0;function D(){return Object.create(null)}e.getEmptyExpression=D;const C="**",n="/",I="[/\\\\]",S="[^/\\\\]",v=/\//g;function f(V){switch(V){case 0:return"";case 1:return`${S}*?`;default:return`(?:${I}|${S}+${I}|${I}${S}+)*?`}}function u(V,B){if(!V)return[];const Y=[];let ae=!1,ce=!1,fe="";for(const _e of V){switch(_e){case B:if(!ae&&!ce){Y.push(fe),fe="";continue}break;case"{":ae=!0;break;case"}":ae=!1;break;case"[":ce=!0;break;case"]":ce=!1;break}fe+=_e}return fe&&Y.push(fe),Y}e.splitGlobAware=u;function g(V){if(!V)return"";let B="";const Y=u(V,n);if(Y.every(ae=>ae===C))B=".*";else{let ae=!1;Y.forEach((ce,fe)=>{if(ce===C){ae||(B+=f(2),ae=!0);return}let _e=!1,be="",H=!1,X="";for(const re of ce){if(re!=="}"&&_e){be+=re;continue}if(H&&(re!=="]"||!X)){let Q;re==="-"?Q=re:(re==="^"||re==="!")&&!X?Q="^":re===n?Q="":Q=w.escapeRegExpCharacters(re),X+=Q;continue}switch(re){case"{":_e=!0;continue;case"[":H=!0;continue;case"}":B+=`(?:${u(be,",").map(ve=>g(ve)).join("|")})`,_e=!1,be="";break;case"]":B+="["+X+"]",H=!1,X="";break;case"?":B+=S;continue;case"*":B+=f(1);continue;default:B+=w.escapeRegExpCharacters(re)}}fe<Y.length-1&&(Y[fe+1]!==C||fe+2<Y.length)&&(B+=I),ae=!1})}return B}const b=/^\*\*\/\*\.[\w\.-]+$/,p=/^\*\*\/([\w\.-]+)\/?$/,d=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,s=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,l=/^\*\*((\/[\w\.-]+)+)\/?$/,c=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,t=new T.LRUCache(1e4),r=function(){return!1},o=function(){return null};function a(V,B){if(!V)return o;let Y;typeof V!="string"?Y=V.pattern:Y=V,Y=Y.trim();const ae=`${Y}_${!!B.trimForExclusions}`;let ce=t.get(ae);if(ce)return i(ce,V);let fe;if(b.test(Y)){const _e=Y.substr(4);ce=function(be,H){return typeof be=="string"&&be.endsWith(_e)?Y:null}}else(fe=p.exec(h(Y,B)))?ce=y(fe[1],Y):(B.trimForExclusions?s:d).test(Y)?ce=m(Y,B):(fe=l.exec(h(Y,B)))?ce=E(fe[1].substr(1),Y,!0):(fe=c.exec(h(Y,B)))?ce=E(fe[1],Y,!1):ce=_(Y);return t.set(ae,ce),i(ce,V)}function i(V,B){return typeof B=="string"?V:function(Y,ae){return k.isEqualOrParent(Y,B.base)?V(A.relative(B.base,Y),ae):null}}function h(V,B){return B.trimForExclusions&&V.endsWith("/**")?V.substr(0,V.length-2):V}function y(V,B){const Y=`/${V}`,ae=`\\${V}`,ce=function(_e,be){return typeof _e!="string"?null:be?be===V?B:null:_e===V||_e.endsWith(Y)||_e.endsWith(ae)?B:null},fe=[V];return ce.basenames=fe,ce.patterns=[B],ce.allBasenames=fe,ce}function m(V,B){const Y=U(V.slice(1,-1).split(",").map(be=>a(be,B)).filter(be=>be!==o),V),ae=Y.length;if(!ae)return o;if(ae===1)return Y[0];const ce=function(be,H){for(let X=0,re=Y.length;X<re;X++)if(Y[X](be,H))return V;return null},fe=Y.find(be=>!!be.allBasenames);fe&&(ce.allBasenames=fe.allBasenames);const _e=Y.reduce((be,H)=>H.allPaths?be.concat(H.allPaths):be,[]);return _e.length&&(ce.allPaths=_e),ce}function E(V,B,Y){const ae=A.sep===A.posix.sep,ce=ae?V:V.replace(v,A.sep),fe=A.sep+ce,_e=A.posix.sep+V,be=Y?function(H,X){return typeof H=="string"&&(H===ce||H.endsWith(fe)||!ae&&(H===V||H.endsWith(_e)))?B:null}:function(H,X){return typeof H=="string"&&(H===ce||!ae&&H===V)?B:null};return be.allPaths=[(Y?"*/":"./")+V],be}function _(V){try{const B=new RegExp(`^${g(V)}$`);return function(Y){return B.lastIndex=0,typeof Y=="string"&&B.test(Y)?V:null}}catch(B){return o}}function L(V,B,Y){return!V||typeof B!="string"?!1:R(V)(B,void 0,Y)}e.match=L;function R(V,B={}){if(!V)return r;if(typeof V=="string"||M(V)){const Y=a(V,B);if(Y===o)return r;const ae=function(ce,fe){return!!Y(ce,fe)};return Y.allBasenames&&(ae.allBasenames=Y.allBasenames),Y.allPaths&&(ae.allPaths=Y.allPaths),ae}return z(V,B)}e.parse=R;function N(V){if(!!V){let B;return Y=>(B||(B=(V()||Promise.resolve([])).then(ae=>ae?x(ae):{})),B.then(ae=>!!ae[Y]))}}e.hasSiblingPromiseFn=N;function W(V){if(!!V){let B;return Y=>{if(!B){const ae=V();B=ae?x(ae):{}}return!!B[Y]}}}e.hasSiblingFn=W;function x(V){const B={};for(const Y of V)B[Y]=!0;return B}function M(V){const B=V;return B&&typeof B.base=="string"&&typeof B.pattern=="string"}e.isRelativePattern=M;function $(V){return V.allBasenames||[]}e.getBasenameTerms=$;function O(V){return V.allPaths||[]}e.getPathTerms=O;function z(V,B){const Y=U(Object.getOwnPropertyNames(V).map(be=>J(be,V[be],B)).filter(be=>be!==o)),ae=Y.length;if(!ae)return o;if(!Y.some(be=>!!be.requiresSiblings)){if(ae===1)return Y[0];const be=function(re,Q){for(let le=0,ve=Y.length;le<ve;le++){const De=Y[le](re,Q);if(De)return De}return null},H=Y.find(re=>!!re.allBasenames);H&&(be.allBasenames=H.allBasenames);const X=Y.reduce((re,Q)=>Q.allPaths?re.concat(Q.allPaths):re,[]);return X.length&&(be.allPaths=X),be}const ce=function(be,H,X){let re;for(let Q=0,le=Y.length;Q<le;Q++){const ve=Y[Q];ve.requiresSiblings&&X&&(H||(H=A.basename(be)),re||(re=H.substr(0,H.length-A.extname(be).length)));const De=ve(be,H,re,X);if(De)return De}return null},fe=Y.find(be=>!!be.allBasenames);fe&&(ce.allBasenames=fe.allBasenames);const _e=Y.reduce((be,H)=>H.allPaths?be.concat(H.allPaths):be,[]);return _e.length&&(ce.allPaths=_e),ce}function J(V,B,Y){if(B===!1)return o;const ae=a(V,Y);if(ae===o)return o;if(typeof B=="boolean")return ae;if(B){const ce=B.when;if(typeof ce=="string"){const fe=(_e,be,H,X)=>{if(!X||!ae(_e,be))return null;const re=ce.replace("$(basename)",H),Q=X(re);return P.isThenable(Q)?Q.then(le=>le?V:null):Q?V:null};return fe.requiresSiblings=!0,fe}}return ae}function U(V,B){const Y=V.filter(be=>!!be.basenames);if(Y.length<2)return V;const ae=Y.reduce((be,H)=>{const X=H.basenames;return X?be.concat(X):be},[]);let ce;if(B){ce=[];for(let be=0,H=ae.length;be<H;be++)ce.push(B)}else ce=Y.reduce((be,H)=>{const X=H.patterns;return X?be.concat(X):be},[]);const fe=function(be,H){if(typeof be!="string")return null;if(!H){let re;for(re=be.length;re>0;re--){const Q=be.charCodeAt(re-1);if(Q===47||Q===92)break}H=be.substr(re)}const X=ae.indexOf(H);return X!==-1?ce[X]:null};fe.basenames=ae,fe.patterns=ce,fe.allBasenames=ae;const _e=V.filter(be=>!be.basenames);return _e.push(fe),_e}}),define(ge[133],pe([0,1,96,10]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownUnescapeIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const A=/(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function T(g){return g.replace(A,(b,p)=>p?b:`\\${b}`)}e.escapeIcons=T;const P=/\\\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function D(g){return g.replace(P,b=>`\\${b}`)}e.markdownEscapeEscapedIcons=D;const C=/(\\)?\$\\\(([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?)\\\)/gi;function n(g){return g.replace(C,(b,p,d)=>p?b:`$(${d})`)}e.markdownUnescapeIcons=n;const I=/(\s)?(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)(\s)?/gi;function S(g){return g.indexOf(e.iconStartMarker)===-1?g:g.replace(I,(b,p,d,s)=>d?b:p||s||"")}e.stripIcons=S;function v(g){const b=g.indexOf(e.iconStartMarker);return b===-1?{text:g}:f(g,b)}e.parseLabelWithIcons=v;function f(g,b){const p=[];let d="";function s(h){if(h){d+=h;for(const y of h)p.push(t)}}let l=-1,c="",t=0,r,o,a=b;const i=g.length;for(s(g.substr(0,b));a<i;)r=g[a],o=g[a+1],r===e.iconStartMarker[0]&&o===e.iconStartMarker[1]?(l=a,s(c),c=e.iconStartMarker,a++):r===")"&&l!==-1?(t+=a-l+1,l=-1,c=""):l!==-1?/^[a-z0-9\-]$/i.test(r)?c+=r:(s(c),l=-1,c=""):s(r),a++;return s(c),{text:d,iconOffsets:p}}function u(g,b,p=!1){const{text:d,iconOffsets:s}=b;if(!s||s.length===0)return w.matchesFuzzy(g,d,p);const l=k.ltrim(d," "),c=d.length-l.length,t=w.matchesFuzzy(g,l,p);if(t)for(const r of t){const o=s[r.start+c]+c;r.start+=o,r.end+=o}return t}e.matchesFuzzyIconAware=u}),define(ge[98],pe([0,1,12,133,15]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.markedStringsEquals=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=e.MarkdownStringTextNewlineStyle=void 0;var T;(function(u){u[u.Paragraph=0]="Paragraph",u[u.Break=1]="Break"})(T=e.MarkdownStringTextNewlineStyle||(e.MarkdownStringTextNewlineStyle={}));class P{constructor(g="",b=!1){var p,d;if(this.value=g,typeof this.value!="string")throw A.illegalArgument("value");typeof b=="boolean"?(this.isTrusted=b,this.supportThemeIcons=!1):(this.isTrusted=(p=b.isTrusted)!==null&&p!==void 0?p:void 0,this.supportThemeIcons=(d=b.supportThemeIcons)!==null&&d!==void 0?d:!1)}appendText(g,b=0){return this.value+=S(this.supportThemeIcons?k.escapeIcons(g):g).replace(/([ \t]+)/g,(p,d)=>"&nbsp;".repeat(d.length)).replace(/^>/gm,"\\>").replace(/\n/g,b===1?`\\
`:`

`),this}appendMarkdown(g){return this.value+=g,this}appendCodeblock(g,b){return this.value+="\n```",this.value+=g,this.value+=`
`,this.value+=b,this.value+="\n```\n",this}}e.MarkdownString=P;function D(u){return C(u)?!u.value:Array.isArray(u)?u.every(D):!0}e.isEmptyMarkdownString=D;function C(u){return u instanceof P?!0:u&&typeof u=="object"?typeof u.value=="string"&&(typeof u.isTrusted=="boolean"||u.isTrusted===void 0)&&(typeof u.supportThemeIcons=="boolean"||u.supportThemeIcons===void 0):!1}e.isMarkdownString=C;function n(u,g){return!u&&!g?!0:!u||!g?!1:Array.isArray(u)&&Array.isArray(g)?w.equals(u,g,I):C(u)&&C(g)?I(u,g):!1}e.markedStringsEquals=n;function I(u,g){return u===g?!0:!u||!g?!1:u.value===g.value&&u.isTrusted===g.isTrusted&&u.supportThemeIcons===g.supportThemeIcons}function S(u){return u.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=S;function v(u){return u&&u.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=v;function f(u){const g=[],b=u.split("|").map(d=>d.trim());u=b[0];const p=b[1];if(p){const d=/height=(\d+)/.exec(p),s=/width=(\d+)/.exec(p),l=d?d[1]:"",c=s?s[1]:"",t=isFinite(parseInt(c)),r=isFinite(parseInt(l));t&&g.push(`width="${c}"`),r&&g.push(`height="${l}"`)}return{href:u,dimensions:g}}e.parseHrefAndDimensions=f}),define(ge[58],pe([0,1,27,10,2]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=e.stringify=void 0;function T(n){return JSON.stringify(n,D)}e.stringify=T;function P(n){let I=JSON.parse(n);return I=C(I),I}e.parse=P;function D(n,I){return I instanceof RegExp?{$mid:2,source:I.source,flags:k.regExpFlags(I)}:I}function C(n,I=0){if(!n||I>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return A.URI.revive(n);case 2:return new RegExp(n.source,n.flags)}if(n instanceof w.VSBuffer||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let S=0;S<n.length;++S)n[S]=C(n[S],I+1);else for(const S in n)Object.hasOwnProperty.call(n,S)&&(n[S]=C(n[S],I+1))}return n}e.revive=C}),define(ge[13],pe([0,1,2,9]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.Schemas=void 0;var A;(function(D){D.inMemory="inmemory",D.vscode="vscode",D.internal="private",D.walkThrough="walkThrough",D.walkThroughSnippet="walkThroughSnippet",D.http="http",D.https="https",D.file="file",D.mailto="mailto",D.untitled="untitled",D.data="data",D.command="command",D.vscodeRemote="vscode-remote",D.vscodeRemoteResource="vscode-remote-resource",D.userData="vscode-userdata",D.vscodeCustomEditor="vscode-custom-editor",D.vscodeNotebook="vscode-notebook",D.vscodeNotebookCell="vscode-notebook-cell",D.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",D.vscodeSettings="vscode-settings",D.webviewPanel="webview-panel",D.vscodeWebview="vscode-webview",D.vscodeWebviewResource="vscode-webview-resource",D.extension="extension",D.vscodeFileResource="vscode-file"})(A=e.Schemas||(e.Schemas={}));class T{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(C){this._preferredWebSchema=C}setDelegate(C){this._delegate=C}set(C,n,I){this._hosts[C]=n,this._ports[C]=I}setConnectionToken(C,n){this._connectionTokens[C]=n}rewrite(C){if(this._delegate)return this._delegate(C);const n=C.authority;let I=this._hosts[n];I&&I.indexOf(":")!==-1&&(I=`[${I}]`);const S=this._ports[n],v=this._connectionTokens[n];let f=`path=${encodeURIComponent(C.path)}`;return typeof v=="string"&&(f+=`&tkn=${encodeURIComponent(v)}`),w.URI.from({scheme:k.isWeb?this._preferredWebSchema:A.vscodeRemoteResource,authority:`${I}:${S}`,path:"/vscode-remote-resource",query:f})}}e.RemoteAuthorities=new T;class P{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(C,n,I){const S=this.toUri(C,n);return S.scheme===A.vscodeRemote?e.RemoteAuthorities.rewrite(S):k.isNative&&(I||k.isPreferringBrowserCodeLoad)&&S.scheme===A.file?S.with({scheme:A.vscodeFileResource,authority:S.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):S}asFileUri(C,n){const I=this.toUri(C,n);return I.scheme===A.vscodeFileResource?I.with({scheme:A.file,authority:I.authority!==this.FALLBACK_AUTHORITY?I.authority:null,query:null,fragment:null}):I}toUri(C,n){return w.URI.isUri(C)?C:w.URI.parse(n.toUrl(C))}}e.FileAccess=new P}),define(ge[77],pe([0,1,22]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeAccents=e.normalizeNFD=e.normalizeNFC=e.canNormalize=void 0,e.canNormalize=typeof String.prototype.normalize=="function";const k=new w.LRUCache(1e4);function A(n){return C(n,"NFC",k)}e.normalizeNFC=A;const T=new w.LRUCache(1e4);function P(n){return C(n,"NFD",T)}e.normalizeNFD=P;const D=/[^\u0000-\u0080]/;function C(n,I,S){if(!e.canNormalize||!n)return n;const v=S.get(n);if(v)return v;let f;return D.test(n)?f=n.normalize(I):f=n,S.set(n,f),f}e.removeAccents=function(){if(e.canNormalize){const n=/[\u0300-\u036f]/g;return function(I){return P(I).replace(n,"")}}else return function(n){return n}}()}),define(ge[23],pe([0,1,30,7,2,10,13,9]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function C(f){return A.uriToFsPath(f,!0)}e.originalFSPath=C;class n{constructor(u){this._ignorePathCasing=u}compare(u,g,b=!1){return u===g?0:T.compare(this.getComparisonKey(u,b),this.getComparisonKey(g,b))}isEqual(u,g,b=!1){return u===g?!0:!u||!g?!1:this.getComparisonKey(u,b)===this.getComparisonKey(g,b)}getComparisonKey(u,g=!1){return u.with({path:this._ignorePathCasing(u)?u.path.toLowerCase():void 0,fragment:g?null:void 0}).toString()}ignorePathCasing(u){return this._ignorePathCasing(u)}isEqualOrParent(u,g,b=!1){if(u.scheme===g.scheme){if(u.scheme===P.Schemas.file)return w.isEqualOrParent(C(u),C(g),this._ignorePathCasing(u))&&u.query===g.query&&(b||u.fragment===g.fragment);if(e.isEqualAuthority(u.authority,g.authority))return w.isEqualOrParent(u.path,g.path,this._ignorePathCasing(u),"/")&&u.query===g.query&&(b||u.fragment===g.fragment)}return!1}joinPath(u,...g){return A.URI.joinPath(u,...g)}basenameOrAuthority(u){return e.basename(u)||u.authority}basename(u){return k.posix.basename(u.path)}extname(u){return k.posix.extname(u.path)}dirname(u){if(u.path.length===0)return u;let g;return u.scheme===P.Schemas.file?g=A.URI.file(k.dirname(C(u))).path:(g=k.posix.dirname(u.path),u.authority&&g.length&&g.charCodeAt(0)!==47&&(console.error(`dirname("${u.toString})) resulted in a relative path`),g="/")),u.with({path:g})}normalizePath(u){if(!u.path.length)return u;let g;return u.scheme===P.Schemas.file?g=A.URI.file(k.normalize(C(u))).path:g=k.posix.normalize(u.path),u.with({path:g})}relativePath(u,g){if(!(u.scheme!==g.scheme||!e.isEqualAuthority(u.authority,g.authority))){if(u.scheme===P.Schemas.file){const d=k.relative(C(u),C(g));return D.isWindows?w.toSlashes(d):d}let b=u.path||"/",p=g.path||"/";if(this._ignorePathCasing(u)){let d=0;for(const s=Math.min(b.length,p.length);d<s&&!(b.charCodeAt(d)!==p.charCodeAt(d)&&b.charAt(d).toLowerCase()!==p.charAt(d).toLowerCase());d++);b=p.substr(0,d)+b.substr(d)}return k.posix.relative(b,p)}}resolvePath(u,g){if(u.scheme===P.Schemas.file){const b=A.URI.file(k.resolve(C(u),g));return u.with({authority:b.authority,path:b.path})}return g.indexOf("/")===-1&&(g=w.toSlashes(g),/^[a-zA-Z]:(\/|$)/.test(g)&&(g="/"+g)),u.with({path:k.posix.resolve(u.path,g)})}isAbsolutePath(u){return!!u.path&&u.path[0]==="/"}isEqualAuthority(u,g){return u===g||T.equalsIgnoreCase(u,g)}hasTrailingPathSeparator(u,g=k.sep){if(u.scheme===P.Schemas.file){const b=C(u);return b.length>w.getRoot(b).length&&b[b.length-1]===g}else{const b=u.path;return b.length>1&&b.charCodeAt(b.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(u.fsPath)}}removeTrailingPathSeparator(u,g=k.sep){return e.hasTrailingPathSeparator(u,g)?u.with({path:u.path.substr(0,u.path.length-1)}):u}addTrailingPathSeparator(u,g=k.sep){let b=!1;if(u.scheme===P.Schemas.file){const p=C(u);b=p!==void 0&&p.length===w.getRoot(p).length&&p[p.length-1]===g}else{g="/";const p=u.path;b=p.length===1&&p.charCodeAt(p.length-1)===47}return!b&&!e.hasTrailingPathSeparator(u,g)?u.with({path:u.path+"/"}):u}}e.ExtUri=n,e.extUri=new n(()=>!1),e.extUriBiasedIgnorePathCase=new n(f=>f.scheme===P.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new n(f=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function I(f,u){const g=[];for(let b=0;b<f.length;b++){const p=u(f[b]);f.some((d,s)=>s===b?!1:e.isEqualOrParent(p,u(d)))||g.push(f[b])}return g}e.distinctParents=I;var S;(function(f){f.META_DATA_LABEL="label",f.META_DATA_DESCRIPTION="description",f.META_DATA_SIZE="size",f.META_DATA_MIME="mime";function u(g){const b=new Map;g.path.substring(g.path.indexOf(";")+1,g.path.lastIndexOf(";")).split(";").forEach(s=>{const[l,c]=s.split(":");l&&c&&b.set(l,c)});const d=g.path.substring(0,g.path.indexOf(";"));return d&&b.set(f.META_DATA_MIME,d),b}f.parseMetaData=u})(S=e.DataUri||(e.DataUri={}));function v(f,u,g){if(u){let b=f.path;return b&&b[0]!==k.posix.sep&&(b=k.posix.sep+b),f.with({scheme:g,authority:u,path:b})}return f.with({scheme:g})}e.toLocalResource=v}),define(ge[78],pe([0,1,2,7,10,13,9,23,30]),function(Z,e,w,k,A,T,P,D,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitName=e.unmnemonicLabel=e.mnemonicButtonLabel=e.mnemonicMenuLabel=e.template=e.shorten=e.untildify=e.tildify=e.normalizeDriveLetter=e.getBaseLabel=e.getPathLabel=void 0;function n(a,i,h){if(typeof a=="string"&&(a=w.URI.file(a)),h){const m=h.getWorkspaceFolder(a);if(m){const E=h.getWorkspace().folders.length>1;let _;if(D.isEqual(m.uri,a)?_="":_=D.relativePath(m.uri,a),E){const L=m.name?m.name:D.basename(m.uri);_=_?L+" \u2022 "+_:L}return _}}if(a.scheme!==T.Schemas.file&&a.scheme!==T.Schemas.untitled)return a.with({query:null,fragment:null}).toString(!0);if(C.hasDriveLetter(a.fsPath))return k.normalize(S(a.fsPath));let y=k.normalize(a.fsPath);return!P.isWindows&&(i==null?void 0:i.userHome)&&(y=f(y,i.userHome.fsPath)),y}e.getPathLabel=n;function I(a){if(!!a){typeof a=="string"&&(a=w.URI.file(a));const i=D.basename(a)||(a.scheme===T.Schemas.file?a.fsPath:a.path);return P.isWindows&&C.isRootOrDriveLetter(i)?S(i):i}}e.getBaseLabel=I;function S(a){return C.hasDriveLetter(a)?a.charAt(0).toUpperCase()+a.slice(1):a}e.normalizeDriveLetter=S;let v=Object.create(null);function f(a,i){if(P.isWindows||!a||!i)return a;let h=v.original===i?v.normalized:void 0;return h||(h=`${A.rtrim(i,k.posix.sep)}${k.posix.sep}`,v={original:i,normalized:h}),(P.isLinux?a.startsWith(h):A.startsWithIgnoreCase(a,h))&&(a=`~/${a.substr(h.length)}`),a}e.tildify=f;function u(a,i){return a.replace(/^~($|\/|\\)/,`${i}$1`)}e.untildify=u;const g="\u2026",b="\\\\",p="~";function d(a,i=k.sep){const h=new Array(a.length);let y=!1;for(let m=0;m<a.length;m++){let E=a[m];if(E===""){h[m]=`.${i}`;continue}if(!E){h[m]=E;continue}y=!0;let _="";E.indexOf(b)===0?(_=E.substr(0,E.indexOf(b)+b.length),E=E.substr(E.indexOf(b)+b.length)):E.indexOf(i)===0?(_=E.substr(0,E.indexOf(i)+i.length),E=E.substr(E.indexOf(i)+i.length)):E.indexOf(p)===0&&(_=E.substr(0,E.indexOf(p)+p.length),E=E.substr(E.indexOf(p)+p.length));const L=E.split(i);for(let R=1;y&&R<=L.length;R++)for(let N=L.length-R;y&&N>=0;N--){y=!1;let W=L.slice(N,N+R).join(i);for(let x=0;!y&&x<a.length;x++)if(x!==m&&a[x]&&a[x].indexOf(W)>-1){const M=N+R===L.length,$=N>0&&a[x].indexOf(i)>-1?i+W:W,O=a[x].endsWith($);y=!M||O}if(!y){let x="";(L[0].endsWith(":")||_!=="")&&(N===1&&(N=0,R++,W=L[0]+i+W),N>0&&(x=L[0]+i),x=_+x),N>0&&(x=x+g+i),x=x+W,N+R<L.length&&(x=x+i+g),h[m]=x}}y&&(h[m]=E)}return h}e.shorten=d;var s;(function(a){a[a.TEXT=0]="TEXT",a[a.VARIABLE=1]="VARIABLE",a[a.SEPARATOR=2]="SEPARATOR"})(s||(s={}));function l(a,i=Object.create(null)){const h=[];let y=!1,m="";for(const E of a)if(E==="$"||y&&E==="{")m&&h.push({value:m,type:s.TEXT}),m="",y=!0;else if(E==="}"&&y){const _=i[m];if(typeof _=="string")_.length&&h.push({value:_,type:s.VARIABLE});else if(_){const L=h[h.length-1];(!L||L.type!==s.SEPARATOR)&&h.push({value:_.label,type:s.SEPARATOR})}m="",y=!1}else m+=E;return m&&!y&&h.push({value:m,type:s.TEXT}),h.filter((E,_)=>{if(E.type===s.SEPARATOR){const L=h[_-1],R=h[_+1];return[L,R].every(N=>N&&(N.type===s.VARIABLE||N.type===s.TEXT)&&N.value.length>0)}return!0}).map(E=>E.value).join("")}e.template=l;function c(a,i){return P.isMacintosh||i?a.replace(/\(&&\w\)|&&/g,"").replace(/&/g,P.isMacintosh?"&":"&&"):a.replace(/&&|&/g,h=>h==="&"?"&&":"&")}e.mnemonicMenuLabel=c;function t(a,i){return P.isMacintosh||i?a.replace(/\(&&\w\)|&&/g,""):P.isWindows?a.replace(/&&|&/g,h=>h==="&"?"&&":"&"):a.replace(/&&/g,"_")}e.mnemonicButtonLabel=t;function r(a){return a.replace(/&/g,"&&")}e.unmnemonicLabel=r;function o(a){const i=a.indexOf("/")!==-1?k.posix:k.win32,h=i.basename(a),y=i.dirname(a);return h.length?{name:h,parentPath:y}:{name:y,parentPath:""}}e.splitName=o}),define(ge[99],pe([0,1,2]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformAndReviveIncomingURIs=e.transformIncomingURIs=e.transformOutgoingURIs=e.DefaultURITransformer=e.URITransformer=void 0;function k(I){return I.toJSON()}class A{constructor(S){this._uriTransformer=S}transformIncoming(S){const v=this._uriTransformer.transformIncoming(S);return v===S?S:k(w.URI.from(v))}transformOutgoing(S){const v=this._uriTransformer.transformOutgoing(S);return v===S?S:k(w.URI.from(v))}transformOutgoingURI(S){const v=this._uriTransformer.transformOutgoing(S);return v===S?S:w.URI.from(v)}transformOutgoingScheme(S){return this._uriTransformer.transformOutgoingScheme(S)}}e.URITransformer=A,e.DefaultURITransformer=new class{transformIncoming(I){return I}transformOutgoing(I){return I}transformOutgoingURI(I){return I}transformOutgoingScheme(I){return I}};function T(I,S,v){if(!I||v>200)return null;if(typeof I=="object"){if(I instanceof w.URI)return S.transformOutgoing(I);for(let f in I)if(Object.hasOwnProperty.call(I,f)){const u=T(I[f],S,v+1);u!==null&&(I[f]=u)}}return null}function P(I,S){const v=T(I,S,0);return v===null?I:v}e.transformOutgoingURIs=P;function D(I,S,v,f){if(!I||f>200)return null;if(typeof I=="object"){if(I.$mid===1)return v?w.URI.revive(S.transformIncoming(I)):S.transformIncoming(I);for(let u in I)if(Object.hasOwnProperty.call(I,u)){const g=D(I[u],S,v,f+1);g!==null&&(I[u]=g)}}return null}function C(I,S){const v=D(I,S,!1,0);return v===null?I:v}e.transformIncomingURIs=C;function n(I,S){const v=D(I,S,!0,0);return v===null?I:v}e.transformAndReviveIncomingURIs=n}),define(ge[26],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=e.isUUID=void 0;const w=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function k(C){return w.test(C)}e.isUUID=k;const A=new Uint8Array(16),T=[];for(let C=0;C<256;C++)T.push(C.toString(16).padStart(2,"0"));const P=function(C){for(let n=0;n<C.length;n++)C[n]=Math.floor(Math.random()*256);return C};function D(){P(A),A[6]=A[6]&15|64,A[8]=A[8]&63|128;let C=0,n="";return n+=T[A[C++]],n+=T[A[C++]],n+=T[A[C++]],n+=T[A[C++]],n+="-",n+=T[A[C++]],n+=T[A[C++]],n+="-",n+=T[A[C++]],n+=T[A[C++]],n+="-",n+=T[A[C++]],n+=T[A[C++]],n+="-",n+=T[A[C++]],n+=T[A[C++]],n+=T[A[C++]],n+=T[A[C++]],n+=T[A[C++]],n+=T[A[C++]],n}e.generateUuid=D}),define(ge[134],pe([0,1,100]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecoder=void 0;class k{constructor(T="utf8"){this.stringDecoder=new w.StringDecoder(T),this.remaining=null}write(T){const P=[],D=this.remaining?this.remaining+this.stringDecoder.write(T):this.stringDecoder.write(T);if(D.length<1)return P;let C=0,n,I=C;for(;I<D.length;)if(n=D.charCodeAt(I),n===13||n===10){if(P.push(D.substring(C,I)),I++,I<D.length){const S=n;n=D.charCodeAt(I),(S===13&&n===10||S===10&&n===13)&&I++}C=I}else I++;return this.remaining=C<D.length?D.substr(C):null,P}end(){return this.remaining}}e.LineDecoder=k}),define(ge[24],pe([0,1,38,39,7,19,9,3,59,30,26,77]),function(Z,e,w,k,A,T,P,D,C,n,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.copy=e.move=e.whenDeleted=e.fileExists=e.dirExists=e.readDirsInDir=e.writeFileSync=e.writeFile=e.mkdirp=e.readFile=e.truncate=e.symlink=e.unlink=e.readlink=e.renameIgnoreError=e.rename=e.lstat=e.statLink=e.stat=e.chmod=e.exists=e.readdirSync=e.readdirWithFileTypes=e.readdir=e.rimrafSync=e.rimraf=e.RimRafMode=e.MAX_HEAP_SIZE=e.MAX_FILE_SIZE=void 0;const v=300*1024*1024,f=16*1024*1024*1024,u=700*1024*1024,g=700*2*1024*1024;e.MAX_FILE_SIZE=process.arch==="ia32"?v:f,e.MAX_HEAP_SIZE=process.arch==="ia32"?u:g;var b;(function(Q){Q[Q.UNLINK=0]="UNLINK",Q[Q.MOVE=1]="MOVE"})(b=e.RimRafMode||(e.RimRafMode={}));async function p(Q,le=b.UNLINK){if(n.isRootOrDriveLetter(Q))throw new Error("rimraf - will refuse to recursively delete root");return le===b.UNLINK?d(Q):s(Q)}e.rimraf=p;async function d(Q){try{const le=await m(Q);if(le.isDirectory()&&!le.isSymbolicLink()){const ve=await c(Q);await Promise.all(ve.map(De=>d(A.join(Q,De)))),await C.promisify(w.rmdir)(Q)}else{const ve=le.mode;return ve&w.constants.S_IWUSR||await i(Q,ve|w.constants.S_IWUSR),R(Q)}}catch(le){if(le.code!=="ENOENT")throw le}}async function s(Q){try{const le=A.join(k.tmpdir(),I.generateUuid());try{await E(Q,le)}catch(ve){return d(Q)}d(le)}catch(le){if(le.code!=="ENOENT")throw le}}function l(Q){if(n.isRootOrDriveLetter(Q))throw new Error("rimraf - will refuse to recursively delete root");try{const le=w.lstatSync(Q);if(le.isDirectory()&&!le.isSymbolicLink())r(Q).map(De=>l(A.join(Q,De))),w.rmdirSync(Q);else{const ve=le.mode;return ve&w.constants.S_IWUSR||w.chmodSync(Q,ve|w.constants.S_IWUSR),w.unlinkSync(Q)}}catch(le){if(le.code!=="ENOENT")throw le}}e.rimrafSync=l;async function c(Q){return o(await C.promisify(w.readdir)(Q))}e.readdir=c;async function t(Q){const le=await C.promisify(w.readdir)(Q,{withFileTypes:!0});if(P.isMacintosh)for(const ve of le)ve.name=S.normalizeNFC(ve.name);return le}e.readdirWithFileTypes=t;function r(Q){return o(w.readdirSync(Q))}e.readdirSync=r;function o(Q){return P.isMacintosh?Q.map(le=>S.normalizeNFC(le)):Q}function a(Q){return C.promisify(w.exists)(Q)}e.exists=a;function i(Q,le){return C.promisify(w.chmod)(Q,le)}e.chmod=i;function h(Q){return C.promisify(w.stat)(Q)}e.stat=h;async function y(Q){let le;try{if(le=await m(Q),!le.isSymbolicLink())return{stat:le}}catch(ve){}try{return{stat:await h(Q),symbolicLink:(le==null?void 0:le.isSymbolicLink())?{dangling:!1}:void 0}}catch(ve){if(ve.code==="ENOENT"&&le)return{stat:le,symbolicLink:{dangling:!0}};if(P.isWindows&&ve.code==="EACCES"&&le)try{return{stat:await h(await L(Q)),symbolicLink:le.isSymbolicLink()?{dangling:!1}:void 0}}catch(De){if(De.code==="ENOENT")return{stat:le,symbolicLink:{dangling:!0}};throw De}throw ve}}e.statLink=y;function m(Q){return C.promisify(w.lstat)(Q)}e.lstat=m;function E(Q,le){return C.promisify(w.rename)(Q,le)}e.rename=E;function _(Q,le){return new Promise(ve=>w.rename(Q,le,()=>ve()))}e.renameIgnoreError=_;function L(Q){return C.promisify(w.readlink)(Q)}e.readlink=L;function R(Q){return C.promisify(w.unlink)(Q)}e.unlink=R;function N(Q,le,ve){return C.promisify(w.symlink)(Q,le,ve)}e.symlink=N;function W(Q,le){return C.promisify(w.truncate)(Q,le)}e.truncate=W;function x(Q,le){return C.promisify(w.readFile)(Q,le)}e.readFile=x;async function M(Q,le){return C.promisify(w.mkdir)(Q,{mode:le,recursive:!0})}e.mkdirp=M;const $=new Map;function O(Q,le,ve){const De=z(Q);return J(De).queue(()=>{const Me=Y(ve);return new Promise((Ee,Pe)=>V(Q,le,Me,Ce=>Ce?Pe(Ce):Ee()))})}e.writeFile=O;function z(Q){let le=Q;return(P.isWindows||P.isMacintosh)&&(le=le.toLowerCase()),le}function J(Q){const le=$.get(Q);if(le)return le;const ve=new T.Queue;return $.set(Q,ve),D.Event.once(ve.onFinished)(()=>{$.delete(Q),ve.dispose()}),ve}let U=!0;function V(Q,le,ve,De){if(!U)return w.writeFile(Q,le,{mode:ve.mode,flag:ve.flag},De);w.open(Q,ve.flag,ve.mode,(Me,Ee)=>{if(Me)return De(Me);w.writeFile(Ee,le,Pe=>{if(Pe)return w.close(Ee,()=>De(Pe));w.fdatasync(Ee,Ce=>(Ce&&(console.warn("[node.js fs] fdatasync is now disabled for this session because it failed: ",Ce),U=!1),w.close(Ee,Oe=>De(Oe))))})})}function B(Q,le,ve){const De=Y(ve);if(!U)return w.writeFileSync(Q,le,{mode:De.mode,flag:De.flag});const Me=w.openSync(Q,De.flag,De.mode);try{w.writeFileSync(Me,le);try{w.fdatasyncSync(Me)}catch(Ee){console.warn("[node.js fs] fdatasyncSync is now disabled for this session because it failed: ",Ee),U=!1}}finally{w.closeSync(Me)}}e.writeFileSync=B;function Y(Q){return Q?{mode:typeof Q.mode=="number"?Q.mode:438,flag:typeof Q.flag=="string"?Q.flag:"w"}:{mode:438,flag:"w"}}async function ae(Q){const le=await c(Q),ve=[];for(const De of le)await ce(A.join(Q,De))&&ve.push(De);return ve}e.readDirsInDir=ae;async function ce(Q){try{const{stat:le,symbolicLink:ve}=await y(Q);return le.isDirectory()&&(ve==null?void 0:ve.dangling)!==!0}catch(le){}return!1}e.dirExists=ce;async function fe(Q){try{const{stat:le,symbolicLink:ve}=await y(Q);return le.isFile()&&(ve==null?void 0:ve.dangling)!==!0}catch(le){}return!1}e.fileExists=fe;function _e(Q){return new Promise(le=>{let ve=!1;const De=setInterval(()=>{ve||(ve=!0,w.exists(Q,Me=>{ve=!1,Me||(clearInterval(De),le(void 0))}))},1e3)})}e.whenDeleted=_e;async function be(Q,le){if(Q!==le){async function ve(De){const Me=await m(De);if(!(Me.isDirectory()||Me.isSymbolicLink())){const Ee=await C.promisify(w.open)(De,"a");try{await C.promisify(w.futimes)(Ee,Me.atime,new Date)}catch(Pe){}return C.promisify(w.close)(Ee)}}try{await E(Q,le),await ve(le)}catch(De){if(Q.toLowerCase()!==le.toLowerCase()&&De.code==="EXDEV"||Q.endsWith("."))await X(Q,le),await p(Q,b.MOVE),await ve(le);else throw De}}}e.move=be;const H=511;async function X(Q,le,ve){const De=ve!=null?ve:Object.create(null);if(!De[Q]){De[Q]=!0;const{stat:Me,symbolicLink:Ee}=await y(Q);if(!(Ee==null?void 0:Ee.dangling)){if(!Me.isDirectory())return re(Q,le,Me.mode&H);await M(le,Me.mode&H);const Pe=await c(Q);for(let Ce=0;Ce<Pe.length;Ce++){const Oe=Pe[Ce];await X(A.join(Q,Oe),A.join(le,Oe),De)}}}}e.copy=X;async function re(Q,le,ve){return new Promise((De,Me)=>{const Ee=w.createReadStream(Q),Pe=w.createWriteStream(le,{mode:ve});let Ce=!1;const Oe=Se=>{if(!Ce){if(Ce=!0,Se)return Me(Se);w.chmod(le,ve,ze=>ze?Me(ze):De())}};Ee.once("error",Se=>Oe(Se)),Pe.once("error",Se=>Oe(Se)),Pe.once("close",()=>Oe()),Ee.pipe(Pe)})}}),define(ge[135],pe([0,1,38,10,7,24,59]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.realpathSync=e.realpath=e.realcaseSync=void 0;function D(S){const v=A.dirname(S);if(S===v)return S;const f=(A.basename(S)||S).toLowerCase();try{const g=T.readdirSync(v).filter(b=>b.toLowerCase()===f);if(g.length===1){const b=D(v);if(b)return A.join(b,g[0])}else if(g.length>1){const b=g.indexOf(f);if(b>=0){const p=D(v);if(p)return A.join(p,g[b])}}}catch(u){}return null}e.realcaseSync=D;async function C(S){try{return await P.promisify(w.realpath)(S)}catch(v){const f=I(S);return await P.promisify(w.access)(f,w.constants.R_OK),f}}e.realpath=C;function n(S){try{return w.realpathSync(S)}catch(v){const f=I(S);return w.accessSync(f,w.constants.R_OK),f}}e.realpathSync=n;function I(S){return k.rtrim(A.normalize(S),A.sep)}});var ht=this&&this.__await||function(Z){return this instanceof ht?(this.v=Z,this):new ht(Z)},bi=this&&this.__asyncGenerator||function(Z,e,w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var k=w.apply(Z,e||[]),A,T=[];return A={},P("next"),P("throw"),P("return"),A[Symbol.asyncIterator]=function(){return this},A;function P(v){k[v]&&(A[v]=function(f){return new Promise(function(u,g){T.push([v,f,u,g])>1||D(v,f)})})}function D(v,f){try{C(k[v](f))}catch(u){S(T[0][3],u)}}function C(v){v.value instanceof ht?Promise.resolve(v.value.v).then(n,I):S(T[0][2],v)}function n(v){D("next",v)}function I(v){D("throw",v)}function S(v,f){v(f),T.shift(),T.length&&D(T[0][0],T[0][1])}},ii=this&&this.__asyncValues||function(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=Z[Symbol.asyncIterator],w;return e?e.call(Z):(Z=typeof __values=="function"?__values(Z):Z[Symbol.iterator](),w={},k("next"),k("throw"),k("return"),w[Symbol.asyncIterator]=function(){return this},w);function k(T){w[T]=Z[T]&&function(P){return new Promise(function(D,C){P=Z[T](P),A(D,C,P.done,P.value)})}}function A(T,P,D,C){Promise.resolve(C).then(function(n){T({value:n,done:D})},P)}};define(ge[101],pe([0,1,24,39,7,37]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFirstAvailablePowerShellInstallation=e.enumeratePowerShellInstallations=void 0;const P="Windows PowerShell",D="Windows PowerShell (x86)",C=/^\d+$/,n=/^Microsoft.PowerShell_.*/,I=/^Microsoft.PowerShellPreview_.*/,S=process.arch==="x64",v=S||k.arch()==="x64";class f{constructor(o,a,i){this.exePath=o,this.displayName=a,this.knownToExist=i}async exists(){return this.knownToExist===void 0&&(this.knownToExist=await w.fileExists(this.exePath)),this.knownToExist}}function u({useAlternateBitness:r=!1}={}){return r?S?T.env["ProgramFiles(x86)"]||null:v&&T.env.ProgramW6432||null:T.env.ProgramFiles||null}function g({useAlternateBitness:r=!1}={}){const o=T.env.windir;return r?S?A.join(o,"SysWOW64"):v?A.join(o,"Sysnative"):A.join(o,"System32"):A.join(o,"System32")}async function b({useAlternateBitness:r=!1,findPreview:o=!1}={}){const a=u({useAlternateBitness:r});if(!a)return null;const i=A.join(a,"PowerShell");if(!await w.dirExists(i))return null;let h=-1,y=null;for(const _ of await w.readdir(i)){let L=-1;if(o){const N=_.indexOf("-");if(N<0)continue;const W=_.substring(0,N);if(!C.test(W)||_.substring(N+1)!=="preview")continue;L=parseInt(W,10)}else{if(!C.test(_))continue;L=parseInt(_,10)}if(!(L<=h)){const R=A.join(i,_,"pwsh.exe");!await w.fileExists(R)||(y=R,h=L)}}if(!y)return null;const m=a.includes("x86")?" (x86)":"",E=o?" Preview":"";return new f(y,`PowerShell${E}${m}`,!0)}async function p({findPreview:r}={}){if(!T.env.LOCALAPPDATA)return null;const o=A.join(T.env.LOCALAPPDATA,"Microsoft","WindowsApps");if(!await w.dirExists(o))return null;const{pwshMsixDirRegex:a,pwshMsixName:i}=r?{pwshMsixDirRegex:I,pwshMsixName:"PowerShell Preview (Store)"}:{pwshMsixDirRegex:n,pwshMsixName:"PowerShell (Store)"};for(const h of await w.readdir(o))if(a.test(h)){const y=A.join(o,h,"pwsh.exe");return new f(y,i)}return null}function d(){const r=A.join(k.homedir(),".dotnet","tools","pwsh.exe");return new f(r,".NET Core PowerShell Global Tool")}function s({useAlternateBitness:r=!1}={}){if(!v&&r)return null;const o=g({useAlternateBitness:r}),a=A.join(o,"WindowsPowerShell","v1.0","powershell.exe");let i;return S?i=r?D:P:v?i=r?P:D:i=D,new f(a,i,!0)}function l(){return bi(this,arguments,function*(){let o=yield ht(b());o&&(yield yield ht(o)),o=yield ht(b({useAlternateBitness:!0})),o&&(yield yield ht(o)),o=yield ht(p()),o&&(yield yield ht(o)),o=d(),o&&(yield yield ht(o)),o=yield ht(b({findPreview:!0})),o&&(yield yield ht(o)),o=yield ht(p({findPreview:!0})),o&&(yield yield ht(o)),o=yield ht(b({useAlternateBitness:!0,findPreview:!0})),o&&(yield yield ht(o)),o=s(),o&&(yield yield ht(o)),o=s({useAlternateBitness:!0}),o&&(yield yield ht(o))})}function c(){return bi(this,arguments,function*(){var o,a;try{for(var i=ii(l()),h;h=yield ht(i.next()),!h.done;){const y=h.value;(yield ht(y.exists()))&&(yield yield ht(y))}}catch(y){o={error:y}}finally{try{h&&!h.done&&(a=i.return)&&(yield ht(a.call(i)))}finally{if(o)throw o.error}}})}e.enumeratePowerShellInstallations=c;async function t(){var r,o;try{for(var a=ii(c()),i;i=await a.next(),!i.done;)return i.value}catch(h){r={error:h}}finally{try{i&&!i.done&&(o=a.return)&&await o.call(a)}finally{if(r)throw r.error}}return null}e.getFirstAvailablePowerShellInstallation=t}),define(ge[102],pe([0,1,3,5,19,21,15,27,12,16,58,10]),function(Z,e,w,k,A,T,P,D,C,n,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPCLogger=e.logWithColors=e.createChannelSender=e.createChannelReceiver=e.StaticRouter=e.getNextTickChannel=e.getDelayedChannel=e.IPCClient=e.IPCServer=e.ChannelClient=e.RequestInitiator=e.ChannelServer=e.ResponseType=e.RequestType=void 0;var v;(function(V){V[V.Promise=100]="Promise",V[V.PromiseCancel=101]="PromiseCancel",V[V.EventListen=102]="EventListen",V[V.EventDispose=103]="EventDispose"})(v=e.RequestType||(e.RequestType={}));function f(V){switch(V){case 100:return"req";case 101:return"cancel";case 102:return"subscribe";case 103:return"unsubscribe"}}var u;(function(V){V[V.Initialize=200]="Initialize",V[V.PromiseSuccess=201]="PromiseSuccess",V[V.PromiseError=202]="PromiseError",V[V.PromiseErrorObj=203]="PromiseErrorObj",V[V.EventFire=204]="EventFire"})(u=e.ResponseType||(e.ResponseType={}));function g(V){switch(V){case 200:return"init";case 201:return"reply:";case 202:case 203:return"replyErr:";case 204:return"event:"}}var b;(function(V){V[V.Uninitialized=0]="Uninitialized",V[V.Idle=1]="Idle"})(b||(b={}));class p{constructor(B){this.buffer=B,this.pos=0}read(B){const Y=this.buffer.slice(this.pos,this.pos+B);return this.pos+=Y.byteLength,Y}}class d{constructor(){this.buffers=[]}get buffer(){return D.VSBuffer.concat(this.buffers)}write(B){this.buffers.push(B)}}var s;(function(V){V[V.Undefined=0]="Undefined",V[V.String=1]="String",V[V.Buffer=2]="Buffer",V[V.VSBuffer=3]="VSBuffer",V[V.Array=4]="Array",V[V.Object=5]="Object"})(s||(s={}));function l(V){const B=D.VSBuffer.alloc(4);return B.writeUInt32BE(V,0),B}function c(V){return V.read(4).readUInt32BE(0)}function t(V){const B=D.VSBuffer.alloc(1);return B.writeUInt8(V,0),B}const r={Undefined:t(s.Undefined),String:t(s.String),Buffer:t(s.Buffer),VSBuffer:t(s.VSBuffer),Array:t(s.Array),Object:t(s.Object)},o=typeof Buffer!="undefined";function a(V,B){if(typeof B=="undefined")V.write(r.Undefined);else if(typeof B=="string"){const Y=D.VSBuffer.fromString(B);V.write(r.String),V.write(l(Y.byteLength)),V.write(Y)}else if(o&&Buffer.isBuffer(B)){const Y=D.VSBuffer.wrap(B);V.write(r.Buffer),V.write(l(Y.byteLength)),V.write(Y)}else if(B instanceof D.VSBuffer)V.write(r.VSBuffer),V.write(l(B.byteLength)),V.write(B);else if(Array.isArray(B)){V.write(r.Array),V.write(l(B.length));for(const Y of B)a(V,Y)}else{const Y=D.VSBuffer.fromString(JSON.stringify(B));V.write(r.Object),V.write(l(Y.byteLength)),V.write(Y)}}function i(V){switch(V.read(1).readUInt8(0)){case s.Undefined:return;case s.String:return V.read(c(V)).toString();case s.Buffer:return V.read(c(V)).buffer;case s.VSBuffer:return V.read(c(V));case s.Array:{const Y=c(V),ae=[];for(let ce=0;ce<Y;ce++)ae.push(i(V));return ae}case s.Object:return JSON.parse(V.read(c(V)).toString())}}class h{constructor(B,Y,ae=null,ce=1e3){this.protocol=B,this.ctx=Y,this.logger=ae,this.timeoutDelay=ce,this.channels=new Map,this.activeRequests=new Map,this.pendingRequests=new Map,this.protocolListener=this.protocol.onMessage(fe=>this.onRawMessage(fe)),this.sendResponse({type:200})}registerChannel(B,Y){this.channels.set(B,Y),setTimeout(()=>this.flushPendingRequests(B),0)}sendResponse(B){switch(B.type){case 200:{const Y=this.send([B.type]);this.logger&&this.logger.logOutgoing(Y,0,1,g(B.type));return}case 201:case 202:case 204:case 203:{const Y=this.send([B.type,B.id],B.data);this.logger&&this.logger.logOutgoing(Y,B.id,1,g(B.type),B.data);return}}}send(B,Y=void 0){const ae=new d;return a(ae,B),a(ae,Y),this.sendBuffer(ae.buffer)}sendBuffer(B){try{return this.protocol.send(B),B.byteLength}catch(Y){return 0}}onRawMessage(B){const Y=new p(B),ae=i(Y),ce=i(Y),fe=ae[0];switch(fe){case 100:return this.logger&&this.logger.logIncoming(B.byteLength,ae[1],1,`${f(fe)}: ${ae[2]}.${ae[3]}`,ce),this.onPromise({type:fe,id:ae[1],channelName:ae[2],name:ae[3],arg:ce});case 102:return this.logger&&this.logger.logIncoming(B.byteLength,ae[1],1,`${f(fe)}: ${ae[2]}.${ae[3]}`,ce),this.onEventListen({type:fe,id:ae[1],channelName:ae[2],name:ae[3],arg:ce});case 101:return this.logger&&this.logger.logIncoming(B.byteLength,ae[1],1,`${f(fe)}`),this.disposeActiveRequest({type:fe,id:ae[1]});case 103:return this.logger&&this.logger.logIncoming(B.byteLength,ae[1],1,`${f(fe)}`),this.disposeActiveRequest({type:fe,id:ae[1]})}}onPromise(B){const Y=this.channels.get(B.channelName);if(!Y){this.collectPendingRequest(B);return}const ae=new T.CancellationTokenSource;let ce;try{ce=Y.call(this.ctx,B.name,B.arg,ae.token)}catch(be){ce=Promise.reject(be)}const fe=B.id;ce.then(be=>{this.sendResponse({id:fe,data:be,type:201}),this.activeRequests.delete(B.id)},be=>{be instanceof Error?this.sendResponse({id:fe,data:{message:be.message,name:be.name,stack:be.stack?be.stack.split?be.stack.split(`
`):be.stack:void 0},type:202}):this.sendResponse({id:fe,data:be,type:203}),this.activeRequests.delete(B.id)});const _e=k.toDisposable(()=>ae.cancel());this.activeRequests.set(B.id,_e)}onEventListen(B){const Y=this.channels.get(B.channelName);if(!Y){this.collectPendingRequest(B);return}const ae=B.id,fe=Y.listen(this.ctx,B.name,B.arg)(_e=>this.sendResponse({id:ae,data:_e,type:204}));this.activeRequests.set(B.id,fe)}disposeActiveRequest(B){const Y=this.activeRequests.get(B.id);Y&&(Y.dispose(),this.activeRequests.delete(B.id))}collectPendingRequest(B){let Y=this.pendingRequests.get(B.channelName);Y||(Y=[],this.pendingRequests.set(B.channelName,Y));const ae=setTimeout(()=>{console.error(`Unknown channel: ${B.channelName}`),B.type===100&&this.sendResponse({id:B.id,data:{name:"Unknown channel",message:`Channel name '${B.channelName}' timed out after ${this.timeoutDelay}ms`,stack:void 0},type:202})},this.timeoutDelay);Y.push({request:B,timeoutTimer:ae})}flushPendingRequests(B){const Y=this.pendingRequests.get(B);if(Y){for(const ae of Y)switch(clearTimeout(ae.timeoutTimer),ae.request.type){case 100:this.onPromise(ae.request);break;case 102:this.onEventListen(ae.request);break}this.pendingRequests.delete(B)}}dispose(){this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),this.activeRequests.forEach(B=>B.dispose()),this.activeRequests.clear()}}e.ChannelServer=h;var y;(function(V){V[V.LocalSide=0]="LocalSide",V[V.OtherSide=1]="OtherSide"})(y=e.RequestInitiator||(e.RequestInitiator={}));class m{constructor(B,Y=null){this.protocol=B,this.isDisposed=!1,this.state=b.Uninitialized,this.activeRequests=new Set,this.handlers=new Map,this.lastRequestId=0,this._onDidInitialize=new w.Emitter,this.onDidInitialize=this._onDidInitialize.event,this.protocolListener=this.protocol.onMessage(ae=>this.onBuffer(ae)),this.logger=Y}getChannel(B){const Y=this;return{call(ae,ce,fe){return Y.isDisposed?Promise.reject(P.canceled()):Y.requestPromise(B,ae,ce,fe)},listen(ae,ce){return Y.isDisposed?Promise.reject(P.canceled()):Y.requestEvent(B,ae,ce)}}}requestPromise(B,Y,ae,ce=T.CancellationToken.None){const fe=this.lastRequestId++,be={id:fe,type:100,channelName:B,name:Y,arg:ae};if(ce.isCancellationRequested)return Promise.reject(P.canceled());let H;return new Promise((re,Q)=>{if(ce.isCancellationRequested)return Q(P.canceled());const le=()=>{const Ee=Pe=>{switch(Pe.type){case 201:this.handlers.delete(fe),re(Pe.data);break;case 202:this.handlers.delete(fe);const Ce=new Error(Pe.data.message);Ce.stack=Pe.data.stack,Ce.name=Pe.data.name,Q(Ce);break;case 203:this.handlers.delete(fe),Q(Pe.data);break}};this.handlers.set(fe,Ee),this.sendRequest(be)};let ve=null;this.state===b.Idle?le():(ve=A.createCancelablePromise(Ee=>this.whenInitialized()),ve.then(()=>{ve=null,le()}));const De=()=>{ve?(ve.cancel(),ve=null):this.sendRequest({id:fe,type:101}),Q(P.canceled())},Me=ce.onCancellationRequested(De);H=k.combinedDisposable(k.toDisposable(De),Me),this.activeRequests.add(H)}).finally(()=>{this.activeRequests.delete(H)})}requestEvent(B,Y,ae){const ce=this.lastRequestId++,_e={id:ce,type:102,channelName:B,name:Y,arg:ae};let be=null;const H=new w.Emitter({onFirstListenerAdd:()=>{be=A.createCancelablePromise(re=>this.whenInitialized()),be.then(()=>{be=null,this.activeRequests.add(H),this.sendRequest(_e)})},onLastListenerRemove:()=>{be?(be.cancel(),be=null):(this.activeRequests.delete(H),this.sendRequest({id:ce,type:103}))}}),X=re=>H.fire(re.data);return this.handlers.set(ce,X),H.event}sendRequest(B){switch(B.type){case 100:case 102:{const Y=this.send([B.type,B.id,B.channelName,B.name],B.arg);this.logger&&this.logger.logOutgoing(Y,B.id,0,`${f(B.type)}: ${B.channelName}.${B.name}`,B.arg);return}case 101:case 103:{const Y=this.send([B.type,B.id]);this.logger&&this.logger.logOutgoing(Y,B.id,0,f(B.type));return}}}send(B,Y=void 0){const ae=new d;return a(ae,B),a(ae,Y),this.sendBuffer(ae.buffer)}sendBuffer(B){try{return this.protocol.send(B),B.byteLength}catch(Y){return 0}}onBuffer(B){const Y=new p(B),ae=i(Y),ce=i(Y),fe=ae[0];switch(fe){case 200:return this.logger&&this.logger.logIncoming(B.byteLength,0,0,g(fe)),this.onResponse({type:ae[0]});case 201:case 202:case 204:case 203:return this.logger&&this.logger.logIncoming(B.byteLength,ae[1],0,g(fe),ce),this.onResponse({type:ae[0],id:ae[1],data:ce})}}onResponse(B){if(B.type===200){this.state=b.Idle,this._onDidInitialize.fire();return}const Y=this.handlers.get(B.id);Y&&Y(B)}whenInitialized(){return this.state===b.Idle?Promise.resolve():w.Event.toPromise(this.onDidInitialize)}dispose(){this.isDisposed=!0,this.protocolListener&&(this.protocolListener.dispose(),this.protocolListener=null),this.activeRequests.forEach(B=>B.dispose()),this.activeRequests.clear()}}e.ChannelClient=m;class E{constructor(B){this.channels=new Map,this._connections=new Set,this._onDidAddConnection=new w.Emitter,this.onDidAddConnection=this._onDidAddConnection.event,this._onDidRemoveConnection=new w.Emitter,this.onDidRemoveConnection=this._onDidRemoveConnection.event,B(({protocol:Y,onDidClientDisconnect:ae})=>{w.Event.once(Y.onMessage)(fe=>{const _e=new p(fe),be=i(_e),H=new h(Y,be),X=new m(Y);this.channels.forEach((Q,le)=>H.registerChannel(le,Q));const re={channelServer:H,channelClient:X,ctx:be};this._connections.add(re),this._onDidAddConnection.fire(re),ae(()=>{H.dispose(),X.dispose(),this._connections.delete(re),this._onDidRemoveConnection.fire(re)})})})}get connections(){const B=[];return this._connections.forEach(Y=>B.push(Y)),B}getChannel(B,Y){const ae=this;return{call(ce,fe,_e){let be;if(n.isFunction(Y)){let X=C.getRandomElement(ae.connections.filter(Y));be=X?Promise.resolve(X):w.Event.toPromise(w.Event.filter(ae.onDidAddConnection,Y))}else be=Y.routeCall(ae,ce,fe);const H=be.then(X=>X.channelClient.getChannel(B));return L(H).call(ce,fe,_e)},listen(ce,fe){if(n.isFunction(Y))return ae.getMulticastEvent(B,Y,ce,fe);const _e=Y.routeEvent(ae,ce,fe).then(be=>be.channelClient.getChannel(B));return L(_e).listen(ce,fe)}}}getMulticastEvent(B,Y,ae,ce){const fe=this;let _e=new k.DisposableStore;const be=new w.Emitter({onFirstListenerAdd:()=>{_e=new k.DisposableStore;const H=new w.EventMultiplexer,X=new Map,re=le=>{const De=le.channelClient.getChannel(B).listen(ae,ce),Me=H.add(De);X.set(le,Me)},Q=le=>{const ve=X.get(le);!ve||(ve.dispose(),X.delete(le))};fe.connections.filter(Y).forEach(re),w.Event.filter(fe.onDidAddConnection,Y)(re,void 0,_e),fe.onDidRemoveConnection(Q,void 0,_e),H.event(be.fire,be,_e),_e.add(H)},onLastListenerRemove:()=>{_e.dispose()}});return be.event}registerChannel(B,Y){this.channels.set(B,Y),this._connections.forEach(ae=>{ae.channelServer.registerChannel(B,Y)})}dispose(){this.channels.clear(),this._connections.clear(),this._onDidAddConnection.dispose(),this._onDidRemoveConnection.dispose()}}e.IPCServer=E;class _{constructor(B,Y,ae=null){const ce=new d;a(ce,Y),B.send(ce.buffer),this.channelClient=new m(B,ae),this.channelServer=new h(B,Y,ae)}getChannel(B){return this.channelClient.getChannel(B)}registerChannel(B,Y){this.channelServer.registerChannel(B,Y)}dispose(){this.channelClient.dispose(),this.channelServer.dispose()}}e.IPCClient=_;function L(V){return{call(B,Y,ae){return V.then(ce=>ce.call(B,Y,ae))},listen(B,Y){const ae=new w.Relay;return V.then(ce=>ae.input=ce.listen(B,Y)),ae.event}}}e.getDelayedChannel=L;function R(V){let B=!1;return{call(Y,ae,ce){return B?V.call(Y,ae,ce):A.timeout(0).then(()=>B=!0).then(()=>V.call(Y,ae,ce))},listen(Y,ae){if(B)return V.listen(Y,ae);const ce=new w.Relay;return A.timeout(0).then(()=>B=!0).then(()=>ce.input=V.listen(Y,ae)),ce.event}}}e.getNextTickChannel=R;class N{constructor(B){this.fn=B}routeCall(B){return this.route(B)}routeEvent(B){return this.route(B)}async route(B){for(const Y of B.connections)if(await Promise.resolve(this.fn(Y.ctx)))return Promise.resolve(Y);return await w.Event.toPromise(B.onDidAddConnection),await this.route(B)}}e.StaticRouter=N;function W(V,B){const Y=V,ae=B&&B.disableMarshalling,ce=new Map;for(const fe in Y)M(fe)&&ce.set(fe,w.Event.buffer(Y[fe],!0));return new class{listen(fe,_e){const be=ce.get(_e);if(be)return be;throw new Error(`Event not found: ${_e}`)}call(fe,_e,be){const H=Y[_e];if(typeof H=="function"){if(!ae&&Array.isArray(be))for(let X=0;X<be.length;X++)be[X]=I.revive(be[X]);return H.apply(Y,be)}throw new Error(`Method not found: ${_e}`)}}}e.createChannelReceiver=W;function x(V,B){const Y=B&&B.disableMarshalling;return new Proxy({},{get(ae,ce){var fe;if(typeof ce=="string")return((fe=B==null?void 0:B.properties)===null||fe===void 0?void 0:fe.has(ce))?B.properties.get(ce):M(ce)?V.listen(ce):async function(..._e){let be;B&&!n.isUndefinedOrNull(B.context)?be=[B.context,..._e]:be=_e;const H=await V.call(ce,be);return Y?H:I.revive(H)};throw new Error(`Property not found: ${String(ce)}`)}})}e.createChannelSender=x;function M(V){return V[0]==="o"&&V[1]==="n"&&S.isUpperAsciiLetter(V.charCodeAt(2))}const $=[["#2977B1","#FC802D","#34A13A","#D3282F","#9366BA"],["#8B564C","#E177C0","#7F7F7F","#BBBE3D","#2EBECD"]];function O(V){if(Array.isArray(V))return V;if(V&&typeof V=="object"&&typeof V.toString=="function"){let B=V.toString();if(B!=="[object Object]")return B}return V}function z(V){return Array.isArray(V)?V.map(O):O(V)}function J(V,B,Y,ae,ce,fe,_e){_e=z(_e);const be=$[ce],H=be[ae%be.length];let X=[`%c[${V}]%c[${String(B).padStart(7," ")}]%c[len: ${String(Y).padStart(5," ")}]%c${String(ae).padStart(5," ")} - ${fe}`,"color: darkgreen","color: grey","color: grey",`color: ${H}`];/\($/.test(fe)?(X=X.concat(_e),X.push(")")):X.push(_e),console.log.apply(console,X)}e.logWithColors=J;class U{constructor(B,Y){this._outgoingPrefix=B,this._incomingPrefix=Y,this._totalIncoming=0,this._totalOutgoing=0}logOutgoing(B,Y,ae,ce,fe){this._totalOutgoing+=B,J(this._outgoingPrefix,this._totalOutgoing,B,Y,ae,ce,fe)}logIncoming(B,Y,ae,ce,fe){this._totalIncoming+=B,J(this._incomingPrefix,this._totalIncoming,B,Y,ae,ce,fe)}}e.IPCLogger=U}),define(ge[103],pe([0,1,3,102,5,27,9,37]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PersistentProtocol=e.BufferedEmitter=e.Client=e.Protocol=e.ProtocolConstants=e.ChunkStream=void 0;let C=null;function n(){return C||(C=T.VSBuffer.alloc(0)),C}class I{constructor(){this._chunks=[],this._totalLength=0}get byteLength(){return this._totalLength}acceptChunk(o){this._chunks.push(o),this._totalLength+=o.byteLength}read(o){return this._read(o,!0)}peek(o){return this._read(o,!1)}_read(o,a){if(o===0)return n();if(o>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===o){const m=this._chunks[0];return a&&(this._chunks.shift(),this._totalLength-=o),m}if(this._chunks[0].byteLength>o){const m=this._chunks[0].slice(0,o);return a&&(this._chunks[0]=this._chunks[0].slice(o),this._totalLength-=o),m}let i=T.VSBuffer.alloc(o),h=0,y=0;for(;o>0;){const m=this._chunks[y];if(m.byteLength>o){const E=m.slice(0,o);i.set(E,h),h+=o,a&&(this._chunks[y]=m.slice(o),this._totalLength-=o),o-=o}else i.set(m,h),h+=m.byteLength,a?(this._chunks.shift(),this._totalLength-=m.byteLength):y++,o-=m.byteLength}return i}}e.ChunkStream=I;var S;(function(r){r[r.None=0]="None",r[r.Regular=1]="Regular",r[r.Control=2]="Control",r[r.Ack=3]="Ack",r[r.KeepAlive=4]="KeepAlive",r[r.Disconnect=5]="Disconnect",r[r.ReplayRequest=6]="ReplayRequest"})(S||(S={}));var v;(function(r){r[r.HeaderLength=13]="HeaderLength",r[r.AcknowledgeTime=2e3]="AcknowledgeTime",r[r.AcknowledgeTimeoutTime=2e4]="AcknowledgeTimeoutTime",r[r.KeepAliveTime=5e3]="KeepAliveTime",r[r.KeepAliveTimeoutTime=2e4]="KeepAliveTimeoutTime",r[r.ReconnectionGraceTime=108e5]="ReconnectionGraceTime",r[r.ReconnectionShortGraceTime=3e5]="ReconnectionShortGraceTime"})(v=e.ProtocolConstants||(e.ProtocolConstants={}));class f{constructor(o,a,i,h){this.type=o,this.id=a,this.ack=i,this.data=h,this.writtenTime=0}get size(){return this.data.byteLength}}class u extends A.Disposable{constructor(o){super();this._onMessage=this._register(new w.Emitter),this.onMessage=this._onMessage.event,this._state={readHead:!0,readLen:13,messageType:0,id:0,ack:0},this._socket=o,this._isDisposed=!1,this._incomingData=new I,this._register(this._socket.onData(a=>this.acceptChunk(a))),this.lastReadTime=Date.now()}acceptChunk(o){if(!(!o||o.byteLength===0))for(this.lastReadTime=Date.now(),this._incomingData.acceptChunk(o);this._incomingData.byteLength>=this._state.readLen;){const a=this._incomingData.read(this._state.readLen);if(this._state.readHead)this._state.readHead=!1,this._state.readLen=a.readUInt32BE(9),this._state.messageType=a.readUInt8(0),this._state.id=a.readUInt32BE(1),this._state.ack=a.readUInt32BE(5);else{const i=this._state.messageType,h=this._state.id,y=this._state.ack;if(this._state.readHead=!0,this._state.readLen=13,this._state.messageType=0,this._state.id=0,this._state.ack=0,this._onMessage.fire(new f(i,h,y,a)),this._isDisposed)break}}}readEntireBuffer(){return this._incomingData.read(this._incomingData.byteLength)}dispose(){this._isDisposed=!0,super.dispose()}}class g{constructor(o){this._isDisposed=!1,this._socket=o,this._data=[],this._totalLength=0,this.lastWriteTime=0}dispose(){try{this.flush()}catch(o){}this._isDisposed=!0}drain(){return this.flush(),this._socket.drain()}flush(){this._writeNow()}write(o){if(!this._isDisposed){o.writtenTime=Date.now(),this.lastWriteTime=Date.now();const a=T.VSBuffer.alloc(13);a.writeUInt8(o.type,0),a.writeUInt32BE(o.id,1),a.writeUInt32BE(o.ack,5),a.writeUInt32BE(o.data.byteLength,9),this._writeSoon(a,o.data)}}_bufferAdd(o,a){const i=this._totalLength===0;return this._data.push(o,a),this._totalLength+=o.byteLength+a.byteLength,i}_bufferTake(){const o=T.VSBuffer.concat(this._data,this._totalLength);return this._data.length=0,this._totalLength=0,o}_writeSoon(o,a){this._bufferAdd(o,a)&&P.setImmediate(()=>{this._writeNow()})}_writeNow(){this._totalLength!==0&&this._socket.write(this._bufferTake())}}class b extends A.Disposable{constructor(o){super();this._onMessage=new w.Emitter,this.onMessage=this._onMessage.event,this._onDidDispose=new w.Emitter,this.onDidDispose=this._onDidDispose.event,this._socket=o,this._socketWriter=this._register(new g(this._socket)),this._socketReader=this._register(new u(this._socket)),this._register(this._socketReader.onMessage(a=>{a.type===1&&this._onMessage.fire(a.data)})),this._register(this._socket.onClose(()=>this._onDidDispose.fire()))}drain(){return this._socketWriter.drain()}getSocket(){return this._socket}sendDisconnect(){}send(o){this._socketWriter.write(new f(1,0,0,o))}}e.Protocol=b;class p extends k.IPCClient{constructor(o,a,i=null){super(o,a,i);this.protocol=o}static fromSocket(o,a){return new p(new b(o),a)}get onDidDispose(){return this.protocol.onDidDispose}dispose(){super.dispose();const o=this.protocol.getSocket();this.protocol.sendDisconnect(),this.protocol.dispose(),o.end()}}e.Client=p;class d{constructor(){this._hasListeners=!1,this._isDeliveringMessages=!1,this._bufferedMessages=[],this._emitter=new w.Emitter({onFirstListenerAdd:()=>{this._hasListeners=!0,D.nextTick(()=>this._deliverMessages())},onLastListenerRemove:()=>{this._hasListeners=!1}}),this.event=this._emitter.event}_deliverMessages(){if(!this._isDeliveringMessages){for(this._isDeliveringMessages=!0;this._hasListeners&&this._bufferedMessages.length>0;)this._emitter.fire(this._bufferedMessages.shift());this._isDeliveringMessages=!1}}fire(o){this._hasListeners?this._bufferedMessages.length>0?this._bufferedMessages.push(o):this._emitter.fire(o):this._bufferedMessages.push(o)}flushBuffer(){this._bufferedMessages=[]}}e.BufferedEmitter=d;class s{constructor(o){this.data=o,this.next=null}}class l{constructor(){this._first=null,this._last=null}peek(){return this._first?this._first.data:null}toArray(){let o=[],a=0,i=this._first;for(;i;)o[a++]=i.data,i=i.next;return o}pop(){if(!!this._first){if(this._first===this._last){this._first=null,this._last=null;return}this._first=this._first.next}}push(o){const a=new s(o);if(!this._first){this._first=a,this._last=a;return}this._last.next=a,this._last=a}}class c{constructor(){this.lastRuns=[];const o=Date.now();for(let a=0;a<c._HISTORY_LENGTH;a++)this.lastRuns[a]=o-1e3*a;setInterval(()=>{for(let a=c._HISTORY_LENGTH;a>=1;a--)this.lastRuns[a]=this.lastRuns[a-1];this.lastRuns[0]=Date.now()},1e3)}static getInstance(){return c._INSTANCE||(c._INSTANCE=new c),c._INSTANCE}load(){const o=Date.now(),a=(1+c._HISTORY_LENGTH)*1e3;let i=0;for(let h=0;h<c._HISTORY_LENGTH;h++)o-this.lastRuns[h]<=a&&i++;return 1-i/c._HISTORY_LENGTH}hasHighLoad(){return this.load()>=.5}}c._HISTORY_LENGTH=10,c._INSTANCE=null;class t{constructor(o,a=null){this._loadEstimator=c.getInstance(),this._onControlMessage=new d,this.onControlMessage=this._onControlMessage.event,this._onMessage=new d,this.onMessage=this._onMessage.event,this._onDidDispose=new d,this.onDidDispose=this._onDidDispose.event,this._onSocketClose=new d,this.onSocketClose=this._onSocketClose.event,this._onSocketTimeout=new d,this.onSocketTimeout=this._onSocketTimeout.event,this._isReconnecting=!1,this._outgoingUnackMsg=new l,this._outgoingMsgId=0,this._outgoingAckId=0,this._outgoingAckTimeout=null,this._incomingMsgId=0,this._incomingAckId=0,this._incomingMsgLastTime=0,this._incomingAckTimeout=null,this._outgoingKeepAliveTimeout=null,this._incomingKeepAliveTimeout=null,this._lastReplayRequestTime=0,this._socketDisposables=[],this._socket=o,this._socketWriter=new g(this._socket),this._socketDisposables.push(this._socketWriter),this._socketReader=new u(this._socket),this._socketDisposables.push(this._socketReader),this._socketDisposables.push(this._socketReader.onMessage(i=>this._receiveMessage(i))),this._socketDisposables.push(this._socket.onClose(()=>this._onSocketClose.fire())),a&&this._socketReader.acceptChunk(a),this._sendKeepAliveCheck(),this._recvKeepAliveCheck()}get unacknowledgedCount(){return this._outgoingMsgId-this._outgoingAckId}dispose(){this._outgoingAckTimeout&&(clearTimeout(this._outgoingAckTimeout),this._outgoingAckTimeout=null),this._incomingAckTimeout&&(clearTimeout(this._incomingAckTimeout),this._incomingAckTimeout=null),this._outgoingKeepAliveTimeout&&(clearTimeout(this._outgoingKeepAliveTimeout),this._outgoingKeepAliveTimeout=null),this._incomingKeepAliveTimeout&&(clearTimeout(this._incomingKeepAliveTimeout),this._incomingKeepAliveTimeout=null),this._socketDisposables=A.dispose(this._socketDisposables)}drain(){return this._socketWriter.drain()}sendDisconnect(){const o=new f(5,0,0,n());this._socketWriter.write(o),this._socketWriter.flush()}_sendKeepAliveCheck(){if(!this._outgoingKeepAliveTimeout){const o=Date.now()-this._socketWriter.lastWriteTime;if(o>=5e3){const a=new f(4,0,0,n());this._socketWriter.write(a),this._sendKeepAliveCheck();return}this._outgoingKeepAliveTimeout=setTimeout(()=>{this._outgoingKeepAliveTimeout=null,this._sendKeepAliveCheck()},5e3-o+5)}}_recvKeepAliveCheck(){if(!this._incomingKeepAliveTimeout){const o=Date.now()-this._socketReader.lastReadTime;if(o>=2e4&&!this._loadEstimator.hasHighLoad()){this._onSocketTimeout.fire(void 0);return}this._incomingKeepAliveTimeout=setTimeout(()=>{this._incomingKeepAliveTimeout=null,this._recvKeepAliveCheck()},Math.max(2e4-o,0)+5)}}getSocket(){return this._socket}getMillisSinceLastIncomingData(){return Date.now()-this._socketReader.lastReadTime}beginAcceptReconnection(o,a){this._isReconnecting=!0,this._socketDisposables=A.dispose(this._socketDisposables),this._onControlMessage.flushBuffer(),this._onSocketClose.flushBuffer(),this._onSocketTimeout.flushBuffer(),this._socket.dispose(),this._lastReplayRequestTime=0,this._socket=o,this._socketWriter=new g(this._socket),this._socketDisposables.push(this._socketWriter),this._socketReader=new u(this._socket),this._socketDisposables.push(this._socketReader),this._socketDisposables.push(this._socketReader.onMessage(i=>this._receiveMessage(i))),this._socketDisposables.push(this._socket.onClose(()=>this._onSocketClose.fire())),this._socketReader.acceptChunk(a)}endAcceptReconnection(){this._isReconnecting=!1;const o=this._outgoingUnackMsg.toArray();for(let a=0,i=o.length;a<i;a++)this._socketWriter.write(o[a]);this._recvAckCheck(),this._sendKeepAliveCheck(),this._recvKeepAliveCheck()}acceptDisconnect(){this._onDidDispose.fire()}_receiveMessage(o){if(o.ack>this._outgoingAckId){this._outgoingAckId=o.ack;do{const a=this._outgoingUnackMsg.peek();if(a&&a.id<=o.ack)this._outgoingUnackMsg.pop();else break}while(!0)}if(o.type===1){if(o.id>this._incomingMsgId)if(o.id!==this._incomingMsgId+1){const a=Date.now();a-this._lastReplayRequestTime>1e4&&(this._lastReplayRequestTime=a,this._socketWriter.write(new f(6,0,0,n())))}else this._incomingMsgId=o.id,this._incomingMsgLastTime=Date.now(),this._sendAckCheck(),this._onMessage.fire(o.data)}else if(o.type===2)this._onControlMessage.fire(o.data);else if(o.type===5)this._onDidDispose.fire();else if(o.type===6){const a=this._outgoingUnackMsg.toArray();for(let i=0,h=a.length;i<h;i++)this._socketWriter.write(a[i]);this._recvAckCheck()}}readEntireBuffer(){return this._socketReader.readEntireBuffer()}flush(){this._socketWriter.flush()}send(o){const a=++this._outgoingMsgId;this._incomingAckId=this._incomingMsgId;const i=new f(1,a,this._incomingAckId,o);this._outgoingUnackMsg.push(i),this._isReconnecting||(this._socketWriter.write(i),this._recvAckCheck())}sendControl(o){const a=new f(2,0,0,o);this._socketWriter.write(a)}_sendAckCheck(){if(!(this._incomingMsgId<=this._incomingAckId)&&!this._incomingAckTimeout){const o=Date.now()-this._incomingMsgLastTime;if(o>=2e3){this._sendAck();return}this._incomingAckTimeout=setTimeout(()=>{this._incomingAckTimeout=null,this._sendAckCheck()},2e3-o+5)}}_recvAckCheck(){if(!(this._outgoingMsgId<=this._outgoingAckId)&&!this._outgoingAckTimeout){const o=this._outgoingUnackMsg.peek(),a=Date.now()-o.writtenTime;if(a>=2e4&&!this._loadEstimator.hasHighLoad()){this._onSocketTimeout.fire(void 0);return}this._outgoingAckTimeout=setTimeout(()=>{this._outgoingAckTimeout=null,this._recvAckCheck()},Math.max(2e4-a,0)+5)}}_sendAck(){if(!(this._incomingMsgId<=this._incomingAckId)){this._incomingAckId=this._incomingMsgId;const o=new f(3,0,this._incomingAckId,n());this._socketWriter.write(o)}}}e.PersistentProtocol=t}),define(ge[104],pe([0,1,95]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(D){let C=w.toUint8(D);this._defaultValue=C,this._asciiMap=k._createAsciiMap(C),this._map=new Map}static _createAsciiMap(D){let C=new Uint8Array(256);for(let n=0;n<256;n++)C[n]=D;return C}set(D,C){let n=w.toUint8(C);D>=0&&D<256?this._asciiMap[D]=n:this._map.set(D,n)}get(D){return D>=0&&D<256?this._asciiMap[D]:this._map.get(D)||this._defaultValue}}e.CharacterClassifier=k;var A;(function(P){P[P.False=0]="False",P[P.True=1]="True"})(A||(A={}));class T{constructor(){this._actual=new k(0)}add(D){this._actual.set(D,1)}has(D){return this._actual.get(D)===1}}e.CharacterSet=T}),define(ge[136],pe([0,1,104]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=e.WordCharacterClass=void 0;var k;(function(P){P[P.Regular=0]="Regular",P[P.Whitespace=1]="Whitespace",P[P.WordSeparator=2]="WordSeparator"})(k=e.WordCharacterClass||(e.WordCharacterClass={}));class A extends w.CharacterClassifier{constructor(D){super(0);for(let C=0,n=D.length;C<n;C++)this.set(D.charCodeAt(C),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=A;function T(P){let D={};return C=>(D.hasOwnProperty(C)||(D[C]=P(C)),D[C])}e.getMapForWordSeparators=T(P=>new A(P))}),define(ge[48],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class w{constructor(A,T){this.lineNumber=A,this.column=T}with(A=this.lineNumber,T=this.column){return A===this.lineNumber&&T===this.column?this:new w(A,T)}delta(A=0,T=0){return this.with(this.lineNumber+A,this.column+T)}equals(A){return w.equals(this,A)}static equals(A,T){return!A&&!T?!0:!!A&&!!T&&A.lineNumber===T.lineNumber&&A.column===T.column}isBefore(A){return w.isBefore(this,A)}static isBefore(A,T){return A.lineNumber<T.lineNumber?!0:T.lineNumber<A.lineNumber?!1:A.column<T.column}isBeforeOrEqual(A){return w.isBeforeOrEqual(this,A)}static isBeforeOrEqual(A,T){return A.lineNumber<T.lineNumber?!0:T.lineNumber<A.lineNumber?!1:A.column<=T.column}static compare(A,T){let P=A.lineNumber|0,D=T.lineNumber|0;if(P===D){let C=A.column|0,n=T.column|0;return C-n}return P-D}clone(){return new w(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(A){return new w(A.lineNumber,A.column)}static isIPosition(A){return A&&typeof A.lineNumber=="number"&&typeof A.column=="number"}}e.Position=w}),define(ge[44],pe([0,1,48]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(T,P,D,C){T>D||T===D&&P>C?(this.startLineNumber=D,this.startColumn=C,this.endLineNumber=T,this.endColumn=P):(this.startLineNumber=T,this.startColumn=P,this.endLineNumber=D,this.endColumn=C)}isEmpty(){return k.isEmpty(this)}static isEmpty(T){return T.startLineNumber===T.endLineNumber&&T.startColumn===T.endColumn}containsPosition(T){return k.containsPosition(this,T)}static containsPosition(T,P){return!(P.lineNumber<T.startLineNumber||P.lineNumber>T.endLineNumber||P.lineNumber===T.startLineNumber&&P.column<T.startColumn||P.lineNumber===T.endLineNumber&&P.column>T.endColumn)}containsRange(T){return k.containsRange(this,T)}static containsRange(T,P){return!(P.startLineNumber<T.startLineNumber||P.endLineNumber<T.startLineNumber||P.startLineNumber>T.endLineNumber||P.endLineNumber>T.endLineNumber||P.startLineNumber===T.startLineNumber&&P.startColumn<T.startColumn||P.endLineNumber===T.endLineNumber&&P.endColumn>T.endColumn)}strictContainsRange(T){return k.strictContainsRange(this,T)}static strictContainsRange(T,P){return!(P.startLineNumber<T.startLineNumber||P.endLineNumber<T.startLineNumber||P.startLineNumber>T.endLineNumber||P.endLineNumber>T.endLineNumber||P.startLineNumber===T.startLineNumber&&P.startColumn<=T.startColumn||P.endLineNumber===T.endLineNumber&&P.endColumn>=T.endColumn)}plusRange(T){return k.plusRange(this,T)}static plusRange(T,P){let D,C,n,I;return P.startLineNumber<T.startLineNumber?(D=P.startLineNumber,C=P.startColumn):P.startLineNumber===T.startLineNumber?(D=P.startLineNumber,C=Math.min(P.startColumn,T.startColumn)):(D=T.startLineNumber,C=T.startColumn),P.endLineNumber>T.endLineNumber?(n=P.endLineNumber,I=P.endColumn):P.endLineNumber===T.endLineNumber?(n=P.endLineNumber,I=Math.max(P.endColumn,T.endColumn)):(n=T.endLineNumber,I=T.endColumn),new k(D,C,n,I)}intersectRanges(T){return k.intersectRanges(this,T)}static intersectRanges(T,P){let D=T.startLineNumber,C=T.startColumn,n=T.endLineNumber,I=T.endColumn,S=P.startLineNumber,v=P.startColumn,f=P.endLineNumber,u=P.endColumn;return D<S?(D=S,C=v):D===S&&(C=Math.max(C,v)),n>f?(n=f,I=u):n===f&&(I=Math.min(I,u)),D>n||D===n&&C>I?null:new k(D,C,n,I)}equalsRange(T){return k.equalsRange(this,T)}static equalsRange(T,P){return!!T&&!!P&&T.startLineNumber===P.startLineNumber&&T.startColumn===P.startColumn&&T.endLineNumber===P.endLineNumber&&T.endColumn===P.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(T){return new w.Position(T.endLineNumber,T.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(T){return new w.Position(T.startLineNumber,T.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(T,P){return new k(this.startLineNumber,this.startColumn,T,P)}setStartPosition(T,P){return new k(T,P,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(T){return new k(T.startLineNumber,T.startColumn,T.startLineNumber,T.startColumn)}static fromPositions(T,P=T){return new k(T.lineNumber,T.column,P.lineNumber,P.column)}static lift(T){return T?new k(T.startLineNumber,T.startColumn,T.endLineNumber,T.endColumn):null}static isIRange(T){return T&&typeof T.startLineNumber=="number"&&typeof T.startColumn=="number"&&typeof T.endLineNumber=="number"&&typeof T.endColumn=="number"}static areIntersectingOrTouching(T,P){return!(T.endLineNumber<P.startLineNumber||T.endLineNumber===P.startLineNumber&&T.endColumn<P.startColumn||P.endLineNumber<T.startLineNumber||P.endLineNumber===T.startLineNumber&&P.endColumn<T.startColumn)}static areIntersecting(T,P){return!(T.endLineNumber<P.startLineNumber||T.endLineNumber===P.startLineNumber&&T.endColumn<=P.startColumn||P.endLineNumber<T.startLineNumber||P.endLineNumber===T.startLineNumber&&P.endColumn<=T.startColumn)}static compareRangesUsingStarts(T,P){if(T&&P){const n=T.startLineNumber|0,I=P.startLineNumber|0;if(n===I){const S=T.startColumn|0,v=P.startColumn|0;if(S===v){const f=T.endLineNumber|0,u=P.endLineNumber|0;if(f===u){const g=T.endColumn|0,b=P.endColumn|0;return g-b}return f-u}return S-v}return n-I}return(T?1:0)-(P?1:0)}static compareRangesUsingEnds(T,P){return T.endLineNumber===P.endLineNumber?T.endColumn===P.endColumn?T.startLineNumber===P.startLineNumber?T.startColumn-P.startColumn:T.startLineNumber-P.startLineNumber:T.endColumn-P.endColumn:T.endLineNumber-P.endLineNumber}static spansMultipleLines(T){return T.endLineNumber>T.startLineNumber}}e.Range=k}),define(ge[137],pe([0,1,48,44]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=e.SelectionDirection=void 0;var A;(function(P){P[P.LTR=0]="LTR",P[P.RTL=1]="RTL"})(A=e.SelectionDirection||(e.SelectionDirection={}));class T extends k.Range{constructor(D,C,n,I){super(D,C,n,I);this.selectionStartLineNumber=D,this.selectionStartColumn=C,this.positionLineNumber=n,this.positionColumn=I}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(D){return T.selectionsEqual(this,D)}static selectionsEqual(D,C){return D.selectionStartLineNumber===C.selectionStartLineNumber&&D.selectionStartColumn===C.selectionStartColumn&&D.positionLineNumber===C.positionLineNumber&&D.positionColumn===C.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(D,C){return this.getDirection()===0?new T(this.startLineNumber,this.startColumn,D,C):new T(D,C,this.startLineNumber,this.startColumn)}getPosition(){return new w.Position(this.positionLineNumber,this.positionColumn)}setStartPosition(D,C){return this.getDirection()===0?new T(D,C,this.endLineNumber,this.endColumn):new T(this.endLineNumber,this.endColumn,D,C)}static fromPositions(D,C=D){return new T(D.lineNumber,D.column,C.lineNumber,C.column)}static liftSelection(D){return new T(D.selectionStartLineNumber,D.selectionStartColumn,D.positionLineNumber,D.positionColumn)}static selectionsArrEqual(D,C){if(D&&!C||!D&&C)return!1;if(!D&&!C)return!0;if(D.length!==C.length)return!1;for(let n=0,I=D.length;n<I;n++)if(!this.selectionsEqual(D[n],C[n]))return!1;return!0}static isISelection(D){return D&&typeof D.selectionStartLineNumber=="number"&&typeof D.selectionStartColumn=="number"&&typeof D.positionLineNumber=="number"&&typeof D.positionColumn=="number"}static createWithDirection(D,C,n,I,S){return S===0?new T(D,C,n,I):new T(n,I,D,C)}}e.Selection=T}),define(ge[105],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.ValidAnnotatedEditOperation=e.ModelConstants=e.TrackedRangeStickiness=e.FindMatch=e.TextModelResolvedOptions=e.EndOfLineSequence=e.DefaultEndOfLine=e.EndOfLinePreference=e.MinimapPosition=e.OverviewRulerLane=void 0;var w;(function(f){f[f.Left=1]="Left",f[f.Center=2]="Center",f[f.Right=4]="Right",f[f.Full=7]="Full"})(w=e.OverviewRulerLane||(e.OverviewRulerLane={}));var k;(function(f){f[f.Inline=1]="Inline",f[f.Gutter=2]="Gutter"})(k=e.MinimapPosition||(e.MinimapPosition={}));var A;(function(f){f[f.TextDefined=0]="TextDefined",f[f.LF=1]="LF",f[f.CRLF=2]="CRLF"})(A=e.EndOfLinePreference||(e.EndOfLinePreference={}));var T;(function(f){f[f.LF=1]="LF",f[f.CRLF=2]="CRLF"})(T=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var P;(function(f){f[f.LF=0]="LF",f[f.CRLF=1]="CRLF"})(P=e.EndOfLineSequence||(e.EndOfLineSequence={}));class D{constructor(u){this.tabSize=Math.max(1,u.tabSize|0),this.indentSize=u.tabSize|0,this.insertSpaces=Boolean(u.insertSpaces),this.defaultEOL=u.defaultEOL|0,this.trimAutoWhitespace=Boolean(u.trimAutoWhitespace)}equals(u){return this.tabSize===u.tabSize&&this.indentSize===u.indentSize&&this.insertSpaces===u.insertSpaces&&this.defaultEOL===u.defaultEOL&&this.trimAutoWhitespace===u.trimAutoWhitespace}createChangeEvent(u){return{tabSize:this.tabSize!==u.tabSize,indentSize:this.indentSize!==u.indentSize,insertSpaces:this.insertSpaces!==u.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==u.trimAutoWhitespace}}}e.TextModelResolvedOptions=D;class C{constructor(u,g){this.range=u,this.matches=g}}e.FindMatch=C;var n;(function(f){f[f.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",f[f.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",f[f.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",f[f.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(n=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var I;(function(f){f[f.FIRST_LINE_DETECTION_LENGTH_LIMIT=1e3]="FIRST_LINE_DETECTION_LENGTH_LIMIT"})(I=e.ModelConstants||(e.ModelConstants={}));class S{constructor(u,g,b,p,d,s){this.identifier=u,this.range=g,this.text=b,this.forceMoveMarkers=p,this.isAutoWhitespaceEdit=d,this._isTracked=s}}e.ValidAnnotatedEditOperation=S;class v{constructor(u,g,b){this.reverseEdits=u,this.changes=g,this.trimAutoWhitespaceLineNumbers=b}}e.ApplyEditsResult=v}),define(ge[138],pe([0,1,10,136,48,44,105]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.SearchData=e.isMultilineRegexSource=e.SearchParams=void 0;const D=999;class C{constructor(s,l,c,t){this.searchString=s,this.isRegex=l,this.matchCase=c,this.wordSeparators=t}parseSearchRequest(){if(this.searchString==="")return null;let s;this.isRegex?s=n(this.searchString):s=this.searchString.indexOf(`
`)>=0;let l=null;try{l=w.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:s,global:!0,unicode:!0})}catch(t){return null}if(!l)return null;let c=!this.isRegex&&!s;return c&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(c=this.matchCase),new I(l,this.wordSeparators?k.getMapForWordSeparators(this.wordSeparators):null,c?this.searchString:null)}}e.SearchParams=C;function n(d){if(!d||d.length===0)return!1;for(let s=0,l=d.length;s<l;s++)if(d.charCodeAt(s)===92){if(s++,s>=l)break;const t=d.charCodeAt(s);if(t===110||t===114||t===87||t===119)return!0}return!1}e.isMultilineRegexSource=n;class I{constructor(s,l,c){this.regex=s,this.wordSeparators=l,this.simpleSearch=c}}e.SearchData=I;function S(d,s,l){if(!l)return new P.FindMatch(d,null);let c=[];for(let t=0,r=s.length;t<r;t++)c[t]=s[t];return new P.FindMatch(d,c)}e.createFindMatch=S;class v{constructor(s){let l=[],c=0;for(let t=0,r=s.length;t<r;t++)s.charCodeAt(t)===10&&(l[c++]=t);this._lineFeedsOffsets=l}findLineFeedCountBeforeOffset(s){const l=this._lineFeedsOffsets;let c=0,t=l.length-1;if(t===-1||s<=l[0])return 0;for(;c<t;){const r=c+((t-c)/2>>0);l[r]>=s?t=r-1:l[r+1]>=s?(c=r,t=r):c=r+1}return c+1}}class f{static findMatches(s,l,c,t,r){const o=l.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(s,c,new p(o.wordSeparators,o.regex),t,r):this._doFindMatchesLineByLine(s,c,o,t,r):[]}static _getMultilineMatchRange(s,l,c,t,r,o){let a,i=0;t?(i=t.findLineFeedCountBeforeOffset(r),a=l+r+i):a=l+r;let h;if(t){let _=t.findLineFeedCountBeforeOffset(r+o.length)-i;h=a+o.length+_}else h=a+o.length;const y=s.getPositionAt(a),m=s.getPositionAt(h);return new T.Range(y.lineNumber,y.column,m.lineNumber,m.column)}static _doFindMatchesMultiline(s,l,c,t,r){const o=s.getOffsetAt(l.getStartPosition()),a=s.getValueInRange(l,1),i=s.getEOL()===`\r
`?new v(a):null,h=[];let y=0,m;for(c.reset(0);m=c.next(a);)if(h[y++]=S(this._getMultilineMatchRange(s,o,a,i,m.index,m[0]),m,t),y>=r)return h;return h}static _doFindMatchesLineByLine(s,l,c,t,r){const o=[];let a=0;if(l.startLineNumber===l.endLineNumber){const h=s.getLineContent(l.startLineNumber).substring(l.startColumn-1,l.endColumn-1);return a=this._findMatchesInLine(c,h,l.startLineNumber,l.startColumn-1,a,o,t,r),o}const i=s.getLineContent(l.startLineNumber).substring(l.startColumn-1);a=this._findMatchesInLine(c,i,l.startLineNumber,l.startColumn-1,a,o,t,r);for(let h=l.startLineNumber+1;h<l.endLineNumber&&a<r;h++)a=this._findMatchesInLine(c,s.getLineContent(h),h,0,a,o,t,r);if(a<r){const h=s.getLineContent(l.endLineNumber).substring(0,l.endColumn-1);a=this._findMatchesInLine(c,h,l.endLineNumber,0,a,o,t,r)}return o}static _findMatchesInLine(s,l,c,t,r,o,a,i){const h=s.wordSeparators;if(!a&&s.simpleSearch){const E=s.simpleSearch,_=E.length,L=l.length;let R=-_;for(;(R=l.indexOf(E,R+_))!==-1;)if((!h||b(h,l,L,R,_))&&(o[r++]=new P.FindMatch(new T.Range(c,R+1+t,c,R+1+_+t),null),r>=i))return r;return r}const y=new p(s.wordSeparators,s.regex);let m;y.reset(0);do if(m=y.next(l),m&&(o[r++]=S(new T.Range(c,m.index+1+t,c,m.index+1+m[0].length+t),m,a),r>=i))return r;while(m);return r}static findNextMatch(s,l,c,t){const r=l.parseSearchRequest();if(!r)return null;const o=new p(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindNextMatchMultiline(s,c,o,t):this._doFindNextMatchLineByLine(s,c,o,t)}static _doFindNextMatchMultiline(s,l,c,t){const r=new A.Position(l.lineNumber,1),o=s.getOffsetAt(r),a=s.getLineCount(),i=s.getValueInRange(new T.Range(r.lineNumber,r.column,a,s.getLineMaxColumn(a)),1),h=s.getEOL()===`\r
`?new v(i):null;c.reset(l.column-1);let y=c.next(i);return y?S(this._getMultilineMatchRange(s,o,i,h,y.index,y[0]),y,t):l.lineNumber!==1||l.column!==1?this._doFindNextMatchMultiline(s,new A.Position(1,1),c,t):null}static _doFindNextMatchLineByLine(s,l,c,t){const r=s.getLineCount(),o=l.lineNumber,a=s.getLineContent(o),i=this._findFirstMatchInLine(c,a,o,l.column,t);if(i)return i;for(let h=1;h<=r;h++){const y=(o+h-1)%r,m=s.getLineContent(y+1),E=this._findFirstMatchInLine(c,m,y+1,1,t);if(E)return E}return null}static _findFirstMatchInLine(s,l,c,t,r){s.reset(t-1);const o=s.next(l);return o?S(new T.Range(c,o.index+1,c,o.index+1+o[0].length),o,r):null}static findPreviousMatch(s,l,c,t){const r=l.parseSearchRequest();if(!r)return null;const o=new p(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindPreviousMatchMultiline(s,c,o,t):this._doFindPreviousMatchLineByLine(s,c,o,t)}static _doFindPreviousMatchMultiline(s,l,c,t){const r=this._doFindMatchesMultiline(s,new T.Range(1,1,l.lineNumber,l.column),c,t,10*D);if(r.length>0)return r[r.length-1];const o=s.getLineCount();return l.lineNumber!==o||l.column!==s.getLineMaxColumn(o)?this._doFindPreviousMatchMultiline(s,new A.Position(o,s.getLineMaxColumn(o)),c,t):null}static _doFindPreviousMatchLineByLine(s,l,c,t){const r=s.getLineCount(),o=l.lineNumber,a=s.getLineContent(o).substring(0,l.column-1),i=this._findLastMatchInLine(c,a,o,t);if(i)return i;for(let h=1;h<=r;h++){const y=(r+o-h-1)%r,m=s.getLineContent(y+1),E=this._findLastMatchInLine(c,m,y+1,t);if(E)return E}return null}static _findLastMatchInLine(s,l,c,t){let r=null,o;for(s.reset(0);o=s.next(l);)r=S(new T.Range(c,o.index+1,c,o.index+1+o[0].length),o,t);return r}}e.TextModelSearch=f;function u(d,s,l,c,t){if(c===0)return!0;const r=s.charCodeAt(c-1);if(d.get(r)!==0||r===13||r===10)return!0;if(t>0){const o=s.charCodeAt(c);if(d.get(o)!==0)return!0}return!1}function g(d,s,l,c,t){if(c+t===l)return!0;const r=s.charCodeAt(c+t);if(d.get(r)!==0||r===13||r===10)return!0;if(t>0){const o=s.charCodeAt(c+t-1);if(d.get(o)!==0)return!0}return!1}function b(d,s,l,c,t){return u(d,s,l,c,t)&&g(d,s,l,c,t)}e.isValidMatch=b;class p{constructor(s,l){this._wordSeparators=s,this._searchRegex=l,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(s){this._searchRegex.lastIndex=s,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(s){const l=s.length;let c;do{if(this._prevMatchStartIndex+this._prevMatchLength===l||(c=this._searchRegex.exec(s),!c))return null;const t=c.index,r=c[0].length;if(t===this._prevMatchStartIndex&&r===this._prevMatchLength){if(r===0){w.getNextCodePoint(s,l,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=t,this._prevMatchLength=r,!this._wordSeparators||b(this._wordSeparators,s,l,t,r))return c}while(c);return null}}e.Searcher=p}),define(ge[106],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function w(D=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const n of e.USUAL_WORD_SEPARATORS)D.indexOf(n)>=0||(C+="\\"+n);return C+="\\s]+)",new RegExp(C,"g")}e.DEFAULT_WORD_REGEXP=w();function k(D){let C=e.DEFAULT_WORD_REGEXP;if(D&&D instanceof RegExp)if(D.global)C=D;else{let n="g";D.ignoreCase&&(n+="i"),D.multiline&&(n+="m"),D.unicode&&(n+="u"),C=new RegExp(D.source,n)}return C.lastIndex=0,C}e.ensureValidWordDefinition=k;const A={maxLen:1e3,windowSize:15,timeBudget:150};function T(D,C,n,I,S=A){if(n.length>S.maxLen){let b=D-S.maxLen/2;return b<0?b=0:I+=b,n=n.substring(b,D+S.maxLen/2),T(D,C,n,I,S)}const v=Date.now(),f=D-1-I;let u=-1,g=null;for(let b=1;!(Date.now()-v>=S.timeBudget);b++){const p=f-S.windowSize*b;C.lastIndex=Math.max(0,p);const d=P(C,n,f,u);if(!d&&g||(g=d,p<=0))break;u=p}if(g){let b={word:g[0],startColumn:I+1+g.index,endColumn:I+1+g.index+g[0].length};return C.lastIndex=0,b}return null}e.getWordAtText=T;function P(D,C,n,I){let S;for(;S=D.exec(C);){const v=S.index||0;if(v<=n&&D.lastIndex>=n)return S;if(I>0&&v>I)return null}return null}}),define(ge[139],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var w;(function(P){P[P.None=0]="None",P[P.Indent=1]="Indent",P[P.IndentOutdent=2]="IndentOutdent",P[P.Outdent=3]="Outdent"})(w=e.IndentAction||(e.IndentAction={}));class k{constructor(D){if(this.open=D.open,this.close=D.close,this._standardTokenMask=0,Array.isArray(D.notIn))for(let C=0,n=D.notIn.length;C<n;C++)switch(D.notIn[C]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(D){return(this._standardTokenMask&D)==0}}e.StandardAutoClosingPairConditional=k;class A{constructor(D){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const C of D)T(this.autoClosingPairsOpenByStart,C.open.charAt(0),C),T(this.autoClosingPairsOpenByEnd,C.open.charAt(C.open.length-1),C),T(this.autoClosingPairsCloseByStart,C.close.charAt(0),C),T(this.autoClosingPairsCloseByEnd,C.close.charAt(C.close.length-1),C),C.close.length===1&&C.open.length===1&&T(this.autoClosingPairsCloseSingleChar,C.close,C)}}e.AutoClosingPairs=A;function T(P,D,C){P.has(D)?P.get(D).push(C):P.set(D,[C])}}),define(ge[79],pe([0,1,33,7]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function A(T,P,D,C){if(Array.isArray(T)){let n=0;for(const I of T){const S=A(I,P,D,C);if(S===10)return S;S>n&&(n=S)}return n}else{if(typeof T=="string")return C?T==="*"?5:T===D?10:0:0;if(T){const{language:n,pattern:I,scheme:S,hasAccessToAllModels:v}=T;if(!C&&!v)return 0;let f=0;if(S)if(S===P.scheme)f=10;else if(S==="*")f=5;else return 0;if(n)if(n===D)f=10;else if(n==="*")f=Math.max(f,5);else return 0;if(I){let u;if(typeof I=="string"?u=I:u=Object.assign(Object.assign({},I),{base:k.normalize(I.base)}),u===P.fsPath||w.match(u,P.fsPath))f=10;else return 0}return f}else return 0}}e.score=A}),define(ge[140],pe([0,1,104]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=e.State=void 0;var k;(function(f){f[f.Invalid=0]="Invalid",f[f.Start=1]="Start",f[f.H=2]="H",f[f.HT=3]="HT",f[f.HTT=4]="HTT",f[f.HTTP=5]="HTTP",f[f.F=6]="F",f[f.FI=7]="FI",f[f.FIL=8]="FIL",f[f.BeforeColon=9]="BeforeColon",f[f.AfterColon=10]="AfterColon",f[f.AlmostThere=11]="AlmostThere",f[f.End=12]="End",f[f.Accept=13]="Accept",f[f.LastKnownState=14]="LastKnownState"})(k=e.State||(e.State={}));class A{constructor(u,g,b){const p=new Uint8Array(u*g);for(let d=0,s=u*g;d<s;d++)p[d]=b;this._data=p,this.rows=u,this.cols=g}get(u,g){return this._data[u*this.cols+g]}set(u,g,b){this._data[u*this.cols+g]=b}}e.Uint8Matrix=A;class T{constructor(u){let g=0,b=0;for(let d=0,s=u.length;d<s;d++){let[l,c,t]=u[d];c>g&&(g=c),l>b&&(b=l),t>b&&(b=t)}g++,b++;let p=new A(b,g,0);for(let d=0,s=u.length;d<s;d++){let[l,c,t]=u[d];p.set(l,c,t)}this._states=p,this._maxCharCode=g}nextState(u,g){return g<0||g>=this._maxCharCode?0:this._states.get(u,g)}}e.StateMachine=T;let P=null;function D(){return P===null&&(P=new T([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),P}var C;(function(f){f[f.None=0]="None",f[f.ForceTermination=1]="ForceTermination",f[f.CannotEndIn=2]="CannotEndIn"})(C||(C={}));let n=null;function I(){if(n===null){n=new w.CharacterClassifier(0);const f=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u3011\u300F\u300D\u300B\u3009\u201D\u2019\uFF40\uFF5E\u2026`;for(let g=0;g<f.length;g++)n.set(f.charCodeAt(g),1);const u=".,;";for(let g=0;g<u.length;g++)n.set(u.charCodeAt(g),2)}return n}class S{static _createLink(u,g,b,p,d){let s=d-1;do{const l=g.charCodeAt(s);if(u.get(l)!==2)break;s--}while(s>p);if(p>0){const l=g.charCodeAt(p-1),c=g.charCodeAt(s);(l===40&&c===41||l===91&&c===93||l===123&&c===125)&&s--}return{range:{startLineNumber:b,startColumn:p+1,endLineNumber:b,endColumn:s+2},url:g.substring(p,s+1)}}static computeLinks(u,g=D()){const b=I();let p=[];for(let d=1,s=u.getLineCount();d<=s;d++){const l=u.getLineContent(d),c=l.length;let t=0,r=0,o=0,a=1,i=!1,h=!1,y=!1,m=!1;for(;t<c;){let E=!1;const _=l.charCodeAt(t);if(a===13){let L;switch(_){case 40:i=!0,L=0;break;case 41:L=i?0:1;break;case 91:y=!0,h=!0,L=0;break;case 93:y=!1,L=h?0:1;break;case 123:m=!0,L=0;break;case 125:L=m?0:1;break;case 39:L=o===34||o===96?0:1;break;case 34:L=o===39||o===96?0:1;break;case 96:L=o===39||o===34?0:1;break;case 42:L=o===42?1:0;break;case 124:L=o===124?1:0;break;case 32:L=y?0:1;break;default:L=b.get(_)}L===1&&(p.push(S._createLink(b,l,d,r,t)),E=!0)}else if(a===12){let L;_===91?(h=!0,L=0):L=b.get(_),L===1?E=!0:a=13}else a=g.nextState(a,_),a===0&&(E=!0);E&&(a=1,i=!1,h=!1,m=!1,r=t+1,o=_),t++}a===13&&p.push(S._createLink(b,l,d,r,c))}return p}}e.LinkComputer=S;function v(f){return!f||typeof f.getLineCount!="function"||typeof f.getLineContent!="function"?[]:S.computeLinks(f)}e.computeLinks=v}),define(ge[141],pe([0,1,3,5]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistryImpl=void 0;class A{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(P){this._onDidChange.fire({changedLanguages:P,changedColorMap:!1})}register(P,D){return this._map.set(P,D),this.fire([P]),k.toDisposable(()=>{this._map.get(P)===D&&(this._map.delete(P),this.fire([P]))})}registerPromise(P,D){let C=null,n=!1;return this._promises.set(P,D.then(I=>{this._promises.delete(P),!(n||!I)&&(C=this.register(P,I))})),k.toDisposable(()=>{n=!0,C&&C.dispose()})}getPromise(P){const D=this.get(P);if(D)return Promise.resolve(D);const C=this._promises.get(P);return C?C.then(n=>this.get(P)):null}get(P){return this._map.get(P)||null}setColorMap(P){this._colorMap=P,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistryImpl=A}),define(ge[107],pe([0,1,27,9]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSemanticTokensDto=e.encodeSemanticTokensDto=void 0;var A;(function(S){S[S.Full=1]="Full",S[S.Delta=2]="Delta"})(A||(A={}));function T(S){for(let v=0,f=S.length;v<f;v+=4){const u=S[v+0],g=S[v+1],b=S[v+2],p=S[v+3];S[v+0]=p,S[v+1]=b,S[v+2]=g,S[v+3]=u}}function P(S){const v=new Uint8Array(S.buffer,S.byteOffset,S.length*4);return k.isLittleEndian()||T(v),w.VSBuffer.wrap(v)}function D(S){const v=S.buffer;if(k.isLittleEndian()||T(v),v.byteOffset%4==0)return new Uint32Array(v.buffer,v.byteOffset,v.length/4);{const f=new Uint8Array(v.byteLength);return f.set(v),new Uint32Array(f.buffer,f.byteOffset,f.length/4)}}function C(S){const v=new Uint32Array(n(S));let f=0;if(v[f++]=S.id,S.type==="full")v[f++]=1,v[f++]=S.data.length,v.set(S.data,f),f+=S.data.length;else{v[f++]=2,v[f++]=S.deltas.length;for(const u of S.deltas)v[f++]=u.start,v[f++]=u.deleteCount,u.data?(v[f++]=u.data.length,v.set(u.data,f),f+=u.data.length):v[f++]=0}return P(v)}e.encodeSemanticTokensDto=C;function n(S){let v=0;if(v+=1+1,S.type==="full")v+=1+S.data.length;else{v+=1,v+=(1+1+1)*S.deltas.length;for(const f of S.deltas)f.data&&(v+=f.data.length)}return v}function I(S){const v=D(S);let f=0;const u=v[f++];if(v[f++]===1){const d=v[f++],s=v.subarray(f,f+d);return f+=d,{id:u,type:"full",data:s}}const b=v[f++];let p=[];for(let d=0;d<b;d++){const s=v[f++],l=v[f++],c=v[f++];let t;c>0&&(t=v.subarray(f,f+c),f+=c),p[d]={start:s,deleteCount:l,data:t}}return{id:u,type:"delta",deltas:p}}e.decodeSemanticTokensDto=I}),define(ge[108],pe([0,1,95]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumComputer=e.PrefixSumIndexOfResult=void 0;class k{constructor(P,D){this.index=P,this.remainder=D}}e.PrefixSumIndexOfResult=k;class A{constructor(P){this.values=P,this.prefixSum=new Uint32Array(P.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}getCount(){return this.values.length}insertValues(P,D){P=w.toUint32(P);const C=this.values,n=this.prefixSum,I=D.length;return I===0?!1:(this.values=new Uint32Array(C.length+I),this.values.set(C.subarray(0,P),0),this.values.set(C.subarray(P),P+I),this.values.set(D,P),P-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=P-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(P,D){return P=w.toUint32(P),D=w.toUint32(D),this.values[P]===D?!1:(this.values[P]=D,P-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=P-1),!0)}removeValues(P,D){P=w.toUint32(P),D=w.toUint32(D);const C=this.values,n=this.prefixSum;if(P>=C.length)return!1;let I=C.length-P;return D>=I&&(D=I),D===0?!1:(this.values=new Uint32Array(C.length-D),this.values.set(C.subarray(0,P),0),this.values.set(C.subarray(P+D),P),this.prefixSum=new Uint32Array(this.values.length),P-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=P-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalValue(){return this.values.length===0?0:this._getAccumulatedValue(this.values.length-1)}getAccumulatedValue(P){return P<0?0:(P=w.toUint32(P),this._getAccumulatedValue(P))}_getAccumulatedValue(P){if(P<=this.prefixSumValidIndex[0])return this.prefixSum[P];let D=this.prefixSumValidIndex[0]+1;D===0&&(this.prefixSum[0]=this.values[0],D++),P>=this.values.length&&(P=this.values.length-1);for(let C=D;C<=P;C++)this.prefixSum[C]=this.prefixSum[C-1]+this.values[C];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],P),this.prefixSum[P]}getIndexOf(P){P=Math.floor(P),this.getTotalValue();let D=0,C=this.values.length-1,n=0,I=0,S=0;for(;D<=C;)if(n=D+(C-D)/2|0,I=this.prefixSum[n],S=I-this.values[n],P<S)C=n-1;else if(P>=I)D=n+1;else break;return new k(n,P-S)}}e.PrefixSumComputer=A}),define(ge[142],pe([0,1,10,48,108]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class T{constructor(D,C,n,I){this._uri=D,this._lines=C,this._eol=n,this._versionId=I,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(D){D.eol&&D.eol!==this._eol&&(this._eol=D.eol,this._lineStarts=null);const C=D.changes;for(const n of C)this._acceptDeleteRange(n.range),this._acceptInsertText(new k.Position(n.range.startLineNumber,n.range.startColumn),n.text);this._versionId=D.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const D=this._eol.length,C=this._lines.length,n=new Uint32Array(C);for(let I=0;I<C;I++)n[I]=this._lines[I].length+D;this._lineStarts=new A.PrefixSumComputer(n)}}_setLineText(D,C){this._lines[D]=C,this._lineStarts&&this._lineStarts.changeValue(D,this._lines[D].length+this._eol.length)}_acceptDeleteRange(D){if(D.startLineNumber===D.endLineNumber){if(D.startColumn===D.endColumn)return;this._setLineText(D.startLineNumber-1,this._lines[D.startLineNumber-1].substring(0,D.startColumn-1)+this._lines[D.startLineNumber-1].substring(D.endColumn-1));return}this._setLineText(D.startLineNumber-1,this._lines[D.startLineNumber-1].substring(0,D.startColumn-1)+this._lines[D.endLineNumber-1].substring(D.endColumn-1)),this._lines.splice(D.startLineNumber,D.endLineNumber-D.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(D.startLineNumber,D.endLineNumber-D.startLineNumber)}_acceptInsertText(D,C){if(C.length!==0){let n=w.splitLines(C);if(n.length===1){this._setLineText(D.lineNumber-1,this._lines[D.lineNumber-1].substring(0,D.column-1)+n[0]+this._lines[D.lineNumber-1].substring(D.column-1));return}n[n.length-1]+=this._lines[D.lineNumber-1].substring(D.column-1),this._setLineText(D.lineNumber-1,this._lines[D.lineNumber-1].substring(0,D.column-1)+n[0]);let I=new Uint32Array(n.length-1);for(let S=1;S<n.length;S++)this._lines.splice(D.lineNumber+S-1,0,n[S]),I[S-1]=n[S].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(D.lineNumber,I)}}}e.MirrorTextModel=T}),define(ge[143],pe([17,18]),function(Z,e){return Z.create("vs/base/common/date",e)}),define(ge[144],pe([0,1,143]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalISOString=e.fromNow=void 0;const k=60,A=k*60,T=A*24,P=T*7,D=T*30,C=T*365;function n(S,v){typeof S!="number"&&(S=S.getTime());const f=Math.round((new Date().getTime()-S)/1e3);if(f<-30)return w.localize(0,null,n(new Date().getTime()+f*1e3,!1));if(f<30)return w.localize(1,null);let u;return f<k?(u=f,v?u===1?w.localize(2,null,u):w.localize(3,null,u):u===1?w.localize(4,null,u):w.localize(5,null,u)):f<A?(u=Math.floor(f/k),v?u===1?w.localize(6,null,u):w.localize(7,null,u):u===1?w.localize(8,null,u):w.localize(9,null,u)):f<T?(u=Math.floor(f/A),v?u===1?w.localize(10,null,u):w.localize(11,null,u):u===1?w.localize(12,null,u):w.localize(13,null,u)):f<P?(u=Math.floor(f/T),v?u===1?w.localize(14,null,u):w.localize(15,null,u):u===1?w.localize(16,null,u):w.localize(17,null,u)):f<D?(u=Math.floor(f/P),v?u===1?w.localize(18,null,u):w.localize(19,null,u):u===1?w.localize(20,null,u):w.localize(21,null,u)):f<C?(u=Math.floor(f/D),v?u===1?w.localize(22,null,u):w.localize(23,null,u):u===1?w.localize(24,null,u):w.localize(25,null,u)):(u=Math.floor(f/C),v?u===1?w.localize(26,null,u):w.localize(27,null,u):u===1?w.localize(28,null,u):w.localize(29,null,u))}e.fromNow=n;function I(S){return S.getFullYear()+"-"+String(S.getMonth()+1).padStart(2,"0")+"-"+String(S.getDate()).padStart(2,"0")+"T"+String(S.getHours()).padStart(2,"0")+":"+String(S.getMinutes()).padStart(2,"0")+":"+String(S.getSeconds()).padStart(2,"0")+"."+(S.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}e.toLocalISOString=I}),define(ge[145],pe([17,18]),function(Z,e){return Z.create("vs/base/common/errorMessage",e)}),define(ge[49],pe([0,1,145,16,12]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function T(n,I){return I&&(n.stack||n.stacktrace)?w.localize(0,null,D(n),P(n.stack)||P(n.stacktrace)):D(n)}function P(n){return Array.isArray(n)?n.join(`
`):n}function D(n){return typeof n.code=="string"&&typeof n.errno=="number"&&typeof n.syscall=="string"?w.localize(1,null,n.message):n.message||w.localize(2,null)}function C(n=null,I=!1){if(!n)return w.localize(3,null);if(Array.isArray(n)){const S=A.coalesce(n),v=C(S[0],I);return S.length>1?w.localize(4,null,v,S.length):v}if(k.isString(n))return n;if(n.detail){const S=n.detail;if(S.error)return T(S.error,I);if(S.exception)return T(S.exception,I)}return n.stack?T(n,I):n.message?n.message:w.localize(5,null)}e.toErrorMessage=C}),define(ge[146],pe([17,18]),function(Z,e){return Z.create("vs/base/node/processes",e)}),define(ge[80],pe([0,1,7,38,59,34,146,16,25,30,9,134,13]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.win32=e.createQueuedSender=e.LineProcess=e.AbstractProcess=e.getWindowsShell=e.TerminateResponseCode=e.Source=void 0;function f(l){switch(l){case 0:return 0;case 1:return 2;case 128:return 3;default:return 1}}function u(l,c){if(I.isWindows)try{const t={stdio:["pipe","pipe","ignore"]};c&&(t.cwd=c);const r=T.execFile("taskkill",["/T","/F","/PID",l.pid.toString()],t);return new Promise(o=>{r.once("error",a=>{o({success:!1,error:a})}),r.once("exit",(a,i)=>{o(a===0?{success:!0}:{success:!1,code:a!==null?a:1})})})}catch(t){return Promise.resolve({success:!1,error:t,code:t.status?f(t.status):1})}else if(I.isLinux||I.isMacintosh)try{const t=v.FileAccess.asFileUri("vs/base/node/terminateProcess.sh",Z).fsPath;return new Promise(r=>{T.execFile(t,[l.pid.toString()],{encoding:"utf8",shell:!0},(o,a,i)=>{r(o?{success:!1,error:o}:{success:!0})})})}catch(t){return Promise.resolve({success:!1,error:t})}else l.kill("SIGKILL");return Promise.resolve({success:!0})}function g(l=process.env){return l.comspec||"cmd.exe"}e.getWindowsShell=g;class b{constructor(c,t,r,o){if(t!==void 0&&r!==void 0&&o!==void 0)this.cmd=c,this.args=t,this.shell=r,this.options=o;else{const a=c;this.cmd=a.command,this.shell=a.isShellCommand,this.args=a.args.slice(0),this.options=a.options||{}}if(this.childProcess=null,this.childProcessPromise=null,this.terminateRequested=!1,this.options.env){const a=Object.create(null);Object.keys(process.env).forEach(i=>{a[i]=process.env[i]}),Object.keys(this.options.env).forEach(i=>{a[i]=this.options.env[i]}),this.options.env=a}}getSanitizedCommand(){let c=this.cmd.toLowerCase();const t=c.lastIndexOf(w.sep);return t!==-1&&(c=c.substring(t+1)),b.WellKnowCommands[c]?c:"other"}start(c){return I.isWindows&&(this.options&&this.options.cwd&&n.isUNC(this.options.cwd)||!this.options&&n.isUNC(process.cwd()))?Promise.reject(new Error(P.localize(0,null))):this.useExec().then(t=>{let r,o;const a=new Promise((i,h)=>{r=i,o=h});if(t){let i=this.cmd;this.args&&(i=i+" "+this.args.join(" ")),this.childProcess=T.exec(i,this.options,(h,y,m)=>{this.childProcess=null;const E=h;E&&E.killed?o({killed:this.terminateRequested,stdout:y.toString(),stderr:m.toString()}):this.handleExec(r,c,h,y,m)})}else{let i=null;const h=y=>{this.childProcess=null,this.childProcessPromise=null,this.handleClose(y,r,c,o);const m={terminated:this.terminateRequested};D.isNumber(y)&&(m.cmdCode=y),r(m)};if(this.shell&&I.isWindows){const y=C.deepClone(this.options);y.windowsVerbatimArguments=!0,y.detached=!1;let m=!1,E=!1;const _=[];let L=this.ensureQuotes(this.cmd);_.push(L.value),m=L.quoted,this.args&&this.args.forEach(N=>{L=this.ensureQuotes(N),_.push(L.value),E=E&&L.quoted});const R=["/s","/c"];m?E?R.push('"'+_.join(" ")+'"'):_.length>1?R.push('"'+_[0]+'" '+_.slice(1).join(" ")):R.push('"'+_[0]+'"'):R.push(_.join(" ")),i=T.spawn(g(),R,y)}else this.cmd&&(i=T.spawn(this.cmd,this.args,this.options));i&&(this.childProcess=i,this.childProcessPromise=Promise.resolve(i),this.pidResolve&&(this.pidResolve(D.isNumber(i.pid)?i.pid:-1),this.pidResolve=void 0),i.on("error",y=>{this.childProcess=null,o({terminated:this.terminateRequested,error:y})}),i.pid&&(this.childProcess.on("close",h),this.handleSpawn(i,r,c,o,!0)))}return a})}handleClose(c,t,r,o){}ensureQuotes(c){return b.regexp.test(c)?{value:'"'+c+'"',quoted:!0}:{value:c,quoted:c.length>0&&c[0]==='"'&&c[c.length-1]==='"'}}get pid(){return this.childProcessPromise?this.childProcessPromise.then(c=>c.pid,c=>-1):new Promise(c=>{this.pidResolve=c})}terminate(){return this.childProcessPromise?this.childProcessPromise.then(c=>(this.terminateRequested=!0,u(c,this.options.cwd).then(t=>(t.success&&(this.childProcess=null),t))),c=>({success:!0})):Promise.resolve({success:!0})}useExec(){return new Promise(c=>{if(!this.shell||!I.isWindows)return c(!1);const t=T.spawn(g(),["/s","/c"]);t.on("error",r=>c(!0)),t.on("exit",r=>c(!1))})}}e.AbstractProcess=b,b.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},b.regexp=/^[^"].* .*[^"]/;class p extends b{constructor(c,t,r,o){super(c,t,r,o);this.stdoutLineDecoder=null,this.stderrLineDecoder=null}handleExec(c,t,r,o,a){[o,a].forEach((i,h)=>{const y=new S.LineDecoder;y.write(i).forEach(_=>{t({line:_,source:h===0?0:1})});const E=y.end();E&&t({line:E,source:h===0?0:1})}),c({terminated:this.terminateRequested,error:r})}handleSpawn(c,t,r,o,a){const i=new S.LineDecoder,h=new S.LineDecoder;c.stdout.on("data",y=>{i.write(y).forEach(E=>r({line:E,source:0}))}),c.stderr.on("data",y=>{h.write(y).forEach(E=>r({line:E,source:1}))}),this.stdoutLineDecoder=i,this.stderrLineDecoder=h}handleClose(c,t,r,o){const a=this.stdoutLineDecoder?this.stdoutLineDecoder.end():null;a&&r({line:a,source:0});const i=this.stderrLineDecoder?this.stderrLineDecoder.end():null;i&&r({line:i,source:1})}}e.LineProcess=p;function d(l){let c=[],t=!1;const r=function(o){if(t){c.push(o);return}(!l.send(o,i=>{if(i&&console.error(i),t=!1,c.length>0){const h=c.slice(0);c=[],h.forEach(y=>r(y))}})||I.isWindows)&&(t=!0)};return{send:r}}e.createQueuedSender=d;var s;(function(l){async function c(t,r,o){if(w.isAbsolute(t))return t;if(r===void 0&&(r=process.cwd()),w.dirname(t)!=="."||(o===void 0&&D.isString(process.env.PATH)&&(o=process.env.PATH.split(w.delimiter)),o===void 0||o.length===0))return w.join(r,t);async function i(h){return await A.promisify(k.exists)(h)?!(await A.promisify(k.stat)(h)).isDirectory():!1}for(let h of o){let y;if(w.isAbsolute(h)?y=w.join(h,t):y=w.join(r,h,t),await i(y))return y;let m=y+".com";if(await i(m)||(m=y+".exe",await i(m)))return m}return w.join(r,t)}l.findExecutable=c})(s=e.win32||(e.win32={}))}),define(ge[147],pe([0,1,39,9,101,80]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSystemShellSync=e.getSystemShell=void 0;async function P(f,u=process.env){return f===3?k.isWindows?S():T.getWindowsShell(u):n(f,u)}e.getSystemShell=P;function D(f,u=process.env){return f===3?k.isWindows?v(u):T.getWindowsShell(u):n(f,u)}e.getSystemShellSync=D;let C=null;function n(f,u){if(k.isLinux&&f===1||k.isMacintosh&&f===2)return"/bin/bash";if(!C){let g;if(k.isWindows)g="/bin/bash";else{if(g=u.SHELL,!g)try{g=w.userInfo().shell}catch(b){}g||(g="sh"),g==="/bin/false"&&(g="/bin/bash")}C=g}return C}let I=null;async function S(){return I||(I=(await A.getFirstAvailablePowerShellInstallation()).exePath),I}function v(f){if(I)return I;const u=k.isWindows&&parseFloat(w.release())>=10,g=f.hasOwnProperty("PROCESSOR_ARCHITEW6432"),b=`${f.windir}\\${g?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return u?b:T.getWindowsShell(f)}}),define(ge[148],pe([17,18]),function(Z,e){return Z.create("vs/editor/common/config/editorOptions",e)}),define(ge[149],pe([0,1,148,9,106]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.EditorOption=e.editorOptionsRegistry=e.EDITOR_MODEL_DEFAULTS=e.EDITOR_FONT_DEFAULTS=e.WrappingIndent=e.filterValidationDecorations=e.RenderLineNumbersType=e.EditorLayoutInfoComputer=e.RenderMinimap=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.stringSet=e.boolean=e.ComputeOptionsMemory=e.ValidatedEditorOptions=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=e.EditorAutoIndentStrategy=void 0;var T;(function(K){K[K.None=0]="None",K[K.Keep=1]="Keep",K[K.Brackets=2]="Brackets",K[K.Advanced=3]="Advanced",K[K.Full=4]="Full"})(T=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={})),e.MINIMAP_GUTTER_WIDTH=8;class P{constructor(se){this._values=se}hasChanged(se){return this._values[se]}}e.ConfigurationChangedEvent=P;class D{constructor(){this._values=[]}_read(se){return this._values[se]}get(se){return this._values[se]}_write(se,we){this._values[se]=we}}e.ValidatedEditorOptions=D;class C{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=C;class n{constructor(se,we,Re,Ue){this.id=se,this.name=we,this.defaultValue=Re,this.schema=Ue}compute(se,we,Re){return Re}}class I{constructor(se,we=null){this.schema=void 0,this.id=se,this.name="_never_",this.defaultValue=void 0,this.deps=we}validate(se){return this.defaultValue}}class S{constructor(se,we,Re,Ue){this.id=se,this.name=we,this.defaultValue=Re,this.schema=Ue}validate(se){return typeof se=="undefined"?this.defaultValue:se}compute(se,we,Re){return Re}}function v(K,se){return typeof K=="undefined"?se:K==="false"?!1:Boolean(K)}e.boolean=v;class f extends S{constructor(se,we,Re,Ue=void 0){typeof Ue!="undefined"&&(Ue.type="boolean",Ue.default=Re),super(se,we,Re,Ue)}validate(se){return v(se,this.defaultValue)}}class u extends S{constructor(se,we,Re,Ue,Be,je=void 0){typeof je!="undefined"&&(je.type="integer",je.default=Re,je.minimum=Ue,je.maximum=Be),super(se,we,Re,je),this.minimum=Ue,this.maximum=Be}static clampedInt(se,we,Re,Ue){if(typeof se=="undefined")return we;let Be=parseInt(se,10);return isNaN(Be)?we:(Be=Math.max(Re,Be),Be=Math.min(Ue,Be),Be|0)}validate(se){return u.clampedInt(se,this.defaultValue,this.minimum,this.maximum)}}class g extends S{constructor(se,we,Re,Ue,Be){typeof Be!="undefined"&&(Be.type="number",Be.default=Re),super(se,we,Re,Be),this.validationFn=Ue}static clamp(se,we,Re){return se<we?we:se>Re?Re:se}static float(se,we){if(typeof se=="number")return se;if(typeof se=="undefined")return we;const Re=parseFloat(se);return isNaN(Re)?we:Re}validate(se){return this.validationFn(g.float(se,this.defaultValue))}}class b extends S{static string(se,we){return typeof se!="string"?we:se}constructor(se,we,Re,Ue=void 0){typeof Ue!="undefined"&&(Ue.type="string",Ue.default=Re),super(se,we,Re,Ue)}validate(se){return b.string(se,this.defaultValue)}}function p(K,se,we){return typeof K!="string"||we.indexOf(K)===-1?se:K}e.stringSet=p;class d extends S{constructor(se,we,Re,Ue,Be=void 0){typeof Be!="undefined"&&(Be.type="string",Be.enum=Ue,Be.default=Re),super(se,we,Re,Be),this._allowedValues=Ue}validate(se){return p(se,this.defaultValue,this._allowedValues)}}class s extends n{constructor(se,we,Re,Ue,Be,je,ue=void 0){typeof ue!="undefined"&&(ue.type="string",ue.enum=Be,ue.default=Ue),super(se,we,Re,ue),this._allowedValues=Be,this._convert=je}validate(se){return typeof se!="string"?this.defaultValue:this._allowedValues.indexOf(se)===-1?this.defaultValue:this._convert(se)}}function l(K){switch(K){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class c extends n{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[w.localize(0,null),w.localize(1,null),w.localize(2,null)],default:"auto",description:w.localize(3,null)})}validate(se){switch(se){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(se,we,Re){return Re===0?se.accessibilitySupport:Re}}class t extends n{constructor(){const se={insertSpace:!0,ignoreEmptyLines:!0};super(16,"comments",se,{"editor.comments.insertSpace":{type:"boolean",default:se.insertSpace,description:w.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:se.ignoreEmptyLines,description:w.localize(5,null)}})}validate(se){if(!se||typeof se!="object")return this.defaultValue;const we=se;return{insertSpace:v(we.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:v(we.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}var r;(function(K){K[K.Hidden=0]="Hidden",K[K.Blink=1]="Blink",K[K.Smooth=2]="Smooth",K[K.Phase=3]="Phase",K[K.Expand=4]="Expand",K[K.Solid=5]="Solid"})(r=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));function o(K){switch(K){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var a;(function(K){K[K.Line=1]="Line",K[K.Block=2]="Block",K[K.Underline=3]="Underline",K[K.LineThin=4]="LineThin",K[K.BlockOutline=5]="BlockOutline",K[K.UnderlineThin=6]="UnderlineThin"})(a=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function i(K){switch(K){case a.Line:return"line";case a.Block:return"block";case a.Underline:return"underline";case a.LineThin:return"line-thin";case a.BlockOutline:return"block-outline";case a.UnderlineThin:return"underline-thin"}}e.cursorStyleToString=i;function h(K){switch(K){case"line":return a.Line;case"block":return a.Block;case"underline":return a.Underline;case"line-thin":return a.LineThin;case"block-outline":return a.BlockOutline;case"underline-thin":return a.UnderlineThin}}class y extends I{constructor(){super(121,[60,29])}compute(se,we,Re){const Ue=["monaco-editor"];return we.get(29)&&Ue.push(we.get(29)),se.extraEditorClassName&&Ue.push(se.extraEditorClassName),we.get(60)==="default"?Ue.push("mouse-default"):we.get(60)==="copy"&&Ue.push("mouse-copy"),we.get(95)&&Ue.push("showUnused"),we.get(119)&&Ue.push("showDeprecated"),Ue.join(" ")}}class m extends f{constructor(){super(28,"emptySelectionClipboard",!0,{description:w.localize(6,null)})}compute(se,we,Re){return Re&&se.emptySelectionClipboard}}class E extends n{constructor(){const se={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(31,"find",se,{"editor.find.cursorMoveOnType":{type:"boolean",default:se.cursorMoveOnType,description:w.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:se.seedSearchStringFromSelection,description:w.localize(8,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:se.autoFindInSelection,enumDescriptions:[w.localize(9,null),w.localize(10,null),w.localize(11,null)],description:w.localize(12,null)},"editor.find.globalFindClipboard":{type:"boolean",default:se.globalFindClipboard,description:w.localize(13,null),included:k.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:se.addExtraSpaceOnTop,description:w.localize(14,null)},"editor.find.loop":{type:"boolean",default:se.loop,description:w.localize(15,null)}})}validate(se){if(!se||typeof se!="object")return this.defaultValue;const we=se;return{cursorMoveOnType:v(we.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:v(we.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:typeof se.autoFindInSelection=="boolean"?se.autoFindInSelection?"always":"never":p(we.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:v(we.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:v(we.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:v(we.loop,this.defaultValue.loop)}}}class _ extends n{constructor(){super(39,"fontLigatures",_.OFF,{anyOf:[{type:"boolean",description:w.localize(16,null)},{type:"string",description:w.localize(17,null)}],description:w.localize(18,null),default:!1})}validate(se){return typeof se=="undefined"?this.defaultValue:typeof se=="string"?se==="false"?_.OFF:se==="true"?_.ON:se:Boolean(se)?_.ON:_.OFF}}e.EditorFontLigatures=_,_.OFF='"liga" off, "calt" off',_.ON='"liga" on, "calt" on';class L extends I{constructor(){super(38)}compute(se,we,Re){return se.fontInfo}}class R extends S{constructor(){super(40,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:w.localize(19,null)})}validate(se){let we=g.float(se,this.defaultValue);return we===0?e.EDITOR_FONT_DEFAULTS.fontSize:g.clamp(we,6,100)}compute(se,we,Re){return se.fontInfo.fontSize}}class N extends n{constructor(){super(41,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:N.MINIMUM_VALUE,maximum:N.MAXIMUM_VALUE,errorMessage:w.localize(20,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:N.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:w.localize(21,null)})}validate(se){return se==="normal"||se==="bold"?se:String(u.clampedInt(se,e.EDITOR_FONT_DEFAULTS.fontWeight,N.MINIMUM_VALUE,N.MAXIMUM_VALUE))}}N.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],N.MINIMUM_VALUE=1,N.MAXIMUM_VALUE=1e3;class W extends n{constructor(){const se={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},we={type:"string",enum:["peek","gotoAndPeek","goto"],default:se.multiple,enumDescriptions:[w.localize(22,null),w.localize(23,null),w.localize(24,null)]};super(45,"gotoLocation",se,{"editor.gotoLocation.multiple":{deprecationMessage:w.localize(25,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:w.localize(26,null)},we),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:w.localize(27,null)},we),"editor.gotoLocation.multipleDeclarations":Object.assign({description:w.localize(28,null)},we),"editor.gotoLocation.multipleImplementations":Object.assign({description:w.localize(29,null)},we),"editor.gotoLocation.multipleReferences":Object.assign({description:w.localize(30,null)},we),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:se.alternativeDefinitionCommand,description:w.localize(31,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:se.alternativeTypeDefinitionCommand,description:w.localize(32,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:se.alternativeDeclarationCommand,description:w.localize(33,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:se.alternativeImplementationCommand,description:w.localize(34,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:se.alternativeReferenceCommand,description:w.localize(35,null)}})}validate(se){var we,Re,Ue,Be,je;if(!se||typeof se!="object")return this.defaultValue;const ue=se;return{multiple:p(ue.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(we=ue.multipleDefinitions)!==null&&we!==void 0?we:p(ue.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Re=ue.multipleTypeDefinitions)!==null&&Re!==void 0?Re:p(ue.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Ue=ue.multipleDeclarations)!==null&&Ue!==void 0?Ue:p(ue.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Be=ue.multipleImplementations)!==null&&Be!==void 0?Be:p(ue.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(je=ue.multipleReferences)!==null&&je!==void 0?je:p(ue.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:b.string(ue.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:b.string(ue.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:b.string(ue.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:b.string(ue.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:b.string(ue.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class x extends n{constructor(){const se={enabled:!0,delay:300,sticky:!0};super(48,"hover",se,{"editor.hover.enabled":{type:"boolean",default:se.enabled,description:w.localize(36,null)},"editor.hover.delay":{type:"number",default:se.delay,description:w.localize(37,null)},"editor.hover.sticky":{type:"boolean",default:se.sticky,description:w.localize(38,null)}})}validate(se){if(!se||typeof se!="object")return this.defaultValue;const we=se;return{enabled:v(we.enabled,this.defaultValue.enabled),delay:u.clampedInt(we.delay,this.defaultValue.delay,0,1e4),sticky:v(we.sticky,this.defaultValue.sticky)}}}var M;(function(K){K[K.None=0]="None",K[K.Text=1]="Text",K[K.Blocks=2]="Blocks"})(M=e.RenderMinimap||(e.RenderMinimap={}));class $ extends I{constructor(){super(124,[44,52,33,59,87,54,55,89,111,114,115,116,2])}compute(se,we,Re){return $.computeLayout(we,{memory:se.memory,outerWidth:se.outerWidth,outerHeight:se.outerHeight,isDominatedByLongLines:se.isDominatedByLongLines,lineHeight:se.fontInfo.lineHeight,viewLineCount:se.viewLineCount,lineNumbersDigitCount:se.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:se.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:se.fontInfo.maxDigitWidth,pixelRatio:se.pixelRatio})}static computeContainedMinimapLineCount(se){const we=se.height/se.lineHeight,Re=se.scrollBeyondLastLine?we-1:0,Ue=(se.viewLineCount+Re)/(se.pixelRatio*se.height),Be=Math.floor(se.viewLineCount/Ue);return{typicalViewportLineCount:we,extraLinesBeyondLastLine:Re,desiredRatio:Ue,minimapLineCount:Be}}static _computeMinimapLayout(se,we){const Re=se.outerWidth,Ue=se.outerHeight,Be=se.pixelRatio;if(!se.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Be*Ue),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Ue};const je=we.stableMinimapLayoutInput,ue=je&&se.outerHeight===je.outerHeight&&se.lineHeight===je.lineHeight&&se.typicalHalfwidthCharacterWidth===je.typicalHalfwidthCharacterWidth&&se.pixelRatio===je.pixelRatio&&se.scrollBeyondLastLine===je.scrollBeyondLastLine&&se.minimap.enabled===je.minimap.enabled&&se.minimap.side===je.minimap.side&&se.minimap.size===je.minimap.size&&se.minimap.showSlider===je.minimap.showSlider&&se.minimap.renderCharacters===je.minimap.renderCharacters&&se.minimap.maxColumn===je.minimap.maxColumn&&se.minimap.scale===je.minimap.scale&&se.verticalScrollbarWidth===je.verticalScrollbarWidth&&se.isViewportWrapping===je.isViewportWrapping,ye=se.lineHeight,Ne=se.typicalHalfwidthCharacterWidth,ee=se.scrollBeyondLastLine,te=se.minimap.renderCharacters;let G=Be>=2?Math.round(se.minimap.scale*2):se.minimap.scale;const F=se.minimap.maxColumn,ie=se.minimap.size,oe=se.minimap.side,me=se.verticalScrollbarWidth,ke=se.viewLineCount,Ae=se.remainingWidth,xe=se.isViewportWrapping,qe=te?2:3;let Ge=Math.floor(Be*Ue);const Ke=Ge/Be;let st=!1,$e=!1,Xe=qe*G,ft=G/Be,et=1;if(ie==="fill"||ie==="fit"){const{typicalViewportLineCount:at,extraLinesBeyondLastLine:ut,desiredRatio:rt,minimapLineCount:kt}=$.computeContainedMinimapLineCount({viewLineCount:ke,scrollBeyondLastLine:ee,height:Ue,lineHeight:ye,pixelRatio:Be});if(ke/kt>1)st=!0,$e=!0,G=1,Xe=1,ft=G/Be;else{let Et=!1,pt=G+1;if(ie==="fit"){const yt=Math.ceil((ke+ut)*Xe);xe&&ue&&Ae<=we.stableFitRemainingWidth?(Et=!0,pt=we.stableFitMaxMinimapScale):(Et=yt>Ge,xe&&Et?(we.stableMinimapLayoutInput=se,we.stableFitRemainingWidth=Ae):(we.stableMinimapLayoutInput=null,we.stableFitRemainingWidth=0))}if(ie==="fill"||Et){st=!0;const yt=G;Xe=Math.min(ye*Be,Math.max(1,Math.floor(1/rt))),G=Math.min(pt,Math.max(1,Math.floor(Xe/qe))),G>yt&&(et=Math.min(2,G/yt)),ft=G/Be/et,Ge=Math.ceil(Math.max(at,ke+ut)*Xe),xe&&Et&&(we.stableFitMaxMinimapScale=G)}}}const mt=Math.floor(F*ft),ot=Math.min(mt,Math.max(0,Math.floor((Ae-me-2)*ft/(Ne+ft)))+e.MINIMAP_GUTTER_WIDTH);let Ze=Math.floor(Be*ot);const St=Ze/Be;Ze=Math.floor(Ze*et);const wt=te?1:2,gt=oe==="left"?0:Re-ot-me;return{renderMinimap:wt,minimapLeft:gt,minimapWidth:ot,minimapHeightIsEditorHeight:st,minimapIsSampling:$e,minimapScale:G,minimapLineHeight:Xe,minimapCanvasInnerWidth:Ze,minimapCanvasInnerHeight:Ge,minimapCanvasOuterWidth:St,minimapCanvasOuterHeight:Ke}}static computeLayout(se,we){const Re=we.outerWidth|0,Ue=we.outerHeight|0,Be=we.lineHeight|0,je=we.lineNumbersDigitCount|0,ue=we.typicalHalfwidthCharacterWidth,ye=we.maxDigitWidth,Ne=we.pixelRatio,ee=we.viewLineCount,te=se.get(116),G=te==="inherit"?se.get(115):te,F=G==="inherit"?se.get(111):G,ie=se.get(114),oe=se.get(2),me=we.isDominatedByLongLines,ke=se.get(44),Ae=se.get(54).renderType!==0,xe=se.get(55),qe=se.get(89),Ge=se.get(59),Ke=se.get(87),st=Ke.verticalScrollbarSize,$e=Ke.verticalHasArrows,Xe=Ke.arrowSize,ft=Ke.horizontalScrollbarSize,et=se.get(52),mt=se.get(33);let ot;if(typeof et=="string"&&/^\d+(\.\d+)?ch$/.test(et)){const Pt=parseFloat(et.substr(0,et.length-2));ot=u.clampedInt(Pt*ue,0,0,1e3)}else ot=u.clampedInt(et,0,0,1e3);mt&&(ot+=16);let Ze=0;if(Ae){const Pt=Math.max(je,xe);Ze=Math.round(Pt*ye)}let St=0;ke&&(St=Be);let wt=0,gt=wt+St,at=gt+Ze,ut=at+ot;const rt=Re-St-Ze-ot;let kt=!1,_t=!1,Et=-1;oe!==2&&(G==="inherit"&&me?(kt=!0,_t=!0):F==="on"||F==="bounded"?_t=!0:F==="wordWrapColumn"&&(Et=ie));const pt=$._computeMinimapLayout({outerWidth:Re,outerHeight:Ue,lineHeight:Be,typicalHalfwidthCharacterWidth:ue,pixelRatio:Ne,scrollBeyondLastLine:qe,minimap:Ge,verticalScrollbarWidth:st,viewLineCount:ee,remainingWidth:rt,isViewportWrapping:_t},we.memory||new C);pt.renderMinimap!==0&&pt.minimapLeft===0&&(wt+=pt.minimapWidth,gt+=pt.minimapWidth,at+=pt.minimapWidth,ut+=pt.minimapWidth);const yt=rt-pt.minimapWidth,vt=Math.max(1,Math.floor((yt-st-2)/ue)),Ct=$e?Xe:0;return _t&&(Et=Math.max(1,vt),F==="bounded"&&(Et=Math.min(Et,ie))),{width:Re,height:Ue,glyphMarginLeft:wt,glyphMarginWidth:St,lineNumbersLeft:gt,lineNumbersWidth:Ze,decorationsLeft:at,decorationsWidth:ot,contentLeft:ut,contentWidth:yt,minimap:pt,viewportColumn:vt,isWordWrapMinified:kt,isViewportWrapping:_t,wrappingColumn:Et,verticalScrollbarWidth:st,horizontalScrollbarHeight:ft,overviewRuler:{top:Ct,width:st,height:Ue-2*Ct,right:0}}}}e.EditorLayoutInfoComputer=$;class O extends n{constructor(){const se={enabled:!0};super(51,"lightbulb",se,{"editor.lightbulb.enabled":{type:"boolean",default:se.enabled,description:w.localize(39,null)}})}validate(se){return!se||typeof se!="object"?this.defaultValue:{enabled:v(se.enabled,this.defaultValue.enabled)}}}class z extends n{constructor(){const se={enabled:!0,fontSize:0,fontFamily:e.EDITOR_FONT_DEFAULTS.fontFamily};super(120,"inlineHints",se,{"editor.inlineHints.enabled":{type:"boolean",default:se.enabled,description:w.localize(40,null)},"editor.inlineHints.fontSize":{type:"number",default:se.fontSize,description:w.localize(41,null)},"editor.inlineHints.fontFamily":{type:"string",default:se.fontFamily,description:w.localize(42,null)}})}validate(se){if(!se||typeof se!="object")return this.defaultValue;const we=se;return{enabled:v(we.enabled,this.defaultValue.enabled),fontSize:u.clampedInt(we.fontSize,this.defaultValue.fontSize,0,100),fontFamily:b.string(we.fontFamily,this.defaultValue.fontFamily)}}}class J extends u{constructor(){super(53,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,0,150,{description:w.localize(43,null)})}compute(se,we,Re){return se.fontInfo.lineHeight}}class U extends n{constructor(){const se={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(59,"minimap",se,{"editor.minimap.enabled":{type:"boolean",default:se.enabled,description:w.localize(44,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[w.localize(45,null),w.localize(46,null),w.localize(47,null)],default:se.size,description:w.localize(48,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:se.side,description:w.localize(49,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:se.showSlider,description:w.localize(50,null)},"editor.minimap.scale":{type:"number",default:se.scale,minimum:1,maximum:3,enum:[1,2,3],description:w.localize(51,null)},"editor.minimap.renderCharacters":{type:"boolean",default:se.renderCharacters,description:w.localize(52,null)},"editor.minimap.maxColumn":{type:"number",default:se.maxColumn,description:w.localize(53,null)}})}validate(se){if(!se||typeof se!="object")return this.defaultValue;const we=se;return{enabled:v(we.enabled,this.defaultValue.enabled),size:p(we.size,this.defaultValue.size,["proportional","fill","fit"]),side:p(we.side,this.defaultValue.side,["right","left"]),showSlider:p(we.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:v(we.renderCharacters,this.defaultValue.renderCharacters),scale:u.clampedInt(we.scale,1,1,3),maxColumn:u.clampedInt(we.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function V(K){return K==="ctrlCmd"?k.isMacintosh?"metaKey":"ctrlKey":"altKey"}class B extends n{constructor(){super(69,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(54,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:w.localize(55,null)}})}validate(se){if(!se||typeof se!="object")return this.defaultValue;const we=se;return{top:u.clampedInt(we.top,0,0,1e3),bottom:u.clampedInt(we.bottom,0,0,1e3)}}}class Y extends n{constructor(){const se={enabled:!0,cycle:!1};super(70,"parameterHints",se,{"editor.parameterHints.enabled":{type:"boolean",default:se.enabled,description:w.localize(56,null)},"editor.parameterHints.cycle":{type:"boolean",default:se.cycle,description:w.localize(57,null)}})}validate(se){if(!se||typeof se!="object")return this.defaultValue;const we=se;return{enabled:v(we.enabled,this.defaultValue.enabled),cycle:v(we.cycle,this.defaultValue.cycle)}}}class ae extends I{constructor(){super(122)}compute(se,we,Re){return se.pixelRatio}}class ce extends n{constructor(){const se={other:!0,comments:!1,strings:!1};super(73,"quickSuggestions",se,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:se.strings,description:w.localize(58,null)},comments:{type:"boolean",default:se.comments,description:w.localize(59,null)},other:{type:"boolean",default:se.other,description:w.localize(60,null)}}}],default:se,description:w.localize(61,null)});this.defaultValue=se}validate(se){if(typeof se=="boolean")return se;if(se&&typeof se=="object"){const we=se,Re={other:v(we.other,this.defaultValue.other),comments:v(we.comments,this.defaultValue.comments),strings:v(we.strings,this.defaultValue.strings)};return Re.other&&Re.comments&&Re.strings?!0:!Re.other&&!Re.comments&&!Re.strings?!1:Re}return this.defaultValue}}var fe;(function(K){K[K.Off=0]="Off",K[K.On=1]="On",K[K.Relative=2]="Relative",K[K.Interval=3]="Interval",K[K.Custom=4]="Custom"})(fe=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));class _e extends n{constructor(){super(54,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[w.localize(62,null),w.localize(63,null),w.localize(64,null),w.localize(65,null)],default:"on",description:w.localize(66,null)})}validate(se){let we=this.defaultValue.renderType,Re=this.defaultValue.renderFn;return typeof se!="undefined"&&(typeof se=="function"?(we=4,Re=se):se==="interval"?we=3:se==="relative"?we=2:se==="on"?we=1:we=0),{renderType:we,renderFn:Re}}}function be(K){const se=K.get(82);return se==="editable"?K.get(75):se!=="on"}e.filterValidationDecorations=be;class H extends n{constructor(){const se=[],we={type:"number",description:w.localize(67,null)};super(86,"rulers",se,{type:"array",items:{anyOf:[we,{type:["object"],properties:{column:we,color:{type:"string",description:w.localize(68,null),format:"color-hex"}}}]},default:se,description:w.localize(69,null)})}validate(se){if(Array.isArray(se)){let we=[];for(let Re of se)if(typeof Re=="number")we.push({column:u.clampedInt(Re,0,0,1e4),color:null});else if(Re&&typeof Re=="object"){const Ue=Re;we.push({column:u.clampedInt(Ue.column,0,0,1e4),color:Ue.color})}return we.sort((Re,Ue)=>Re.column-Ue.column),we}return this.defaultValue}}function X(K,se){if(typeof K!="string")return se;switch(K){case"hidden":return 2;case"visible":return 3;default:return 1}}class re extends n{constructor(){super(87,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1})}validate(se){if(!se||typeof se!="object")return this.defaultValue;const we=se,Re=u.clampedInt(we.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Ue=u.clampedInt(we.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:u.clampedInt(we.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:X(we.vertical,this.defaultValue.vertical),horizontal:X(we.horizontal,this.defaultValue.horizontal),useShadows:v(we.useShadows,this.defaultValue.useShadows),verticalHasArrows:v(we.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:v(we.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:v(we.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:v(we.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Re,horizontalSliderSize:u.clampedInt(we.horizontalSliderSize,Re,0,1e3),verticalScrollbarSize:Ue,verticalSliderSize:u.clampedInt(we.verticalSliderSize,Ue,0,1e3),scrollByPage:v(we.scrollByPage,this.defaultValue.scrollByPage)}}}class Q extends n{constructor(){const se={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(101,"suggest",se,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[w.localize(70,null),w.localize(71,null)],default:se.insertMode,description:w.localize(72,null)},"editor.suggest.filterGraceful":{type:"boolean",default:se.filterGraceful,description:w.localize(73,null)},"editor.suggest.localityBonus":{type:"boolean",default:se.localityBonus,description:w.localize(74,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:se.shareSuggestSelections,markdownDescription:w.localize(75,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:se.snippetsPreventQuickSuggestions,description:w.localize(76,null)},"editor.suggest.showIcons":{type:"boolean",default:se.showIcons,description:w.localize(77,null)},"editor.suggest.showStatusBar":{type:"boolean",default:se.showStatusBar,description:w.localize(78,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:se.showInlineDetails,description:w.localize(79,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:w.localize(80,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:w.localize(81,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:w.localize(82,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:w.localize(83,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:w.localize(84,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:w.localize(85,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:w.localize(86,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:w.localize(87,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:w.localize(88,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:w.localize(89,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:w.localize(90,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:w.localize(91,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:w.localize(92,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:w.localize(93,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:w.localize(94,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:w.localize(95,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:w.localize(96,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:w.localize(97,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:w.localize(98,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:w.localize(99,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:w.localize(100,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:w.localize(101,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:w.localize(102,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:w.localize(103,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:w.localize(104,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:w.localize(105,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:w.localize(106,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:w.localize(107,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:w.localize(108,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:w.localize(109,null)}})}validate(se){if(!se||typeof se!="object")return this.defaultValue;const we=se;return{insertMode:p(we.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:v(we.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:v(we.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:v(we.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:v(we.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:v(we.showIcons,this.defaultValue.showIcons),showStatusBar:v(we.showStatusBar,this.defaultValue.showStatusBar),showInlineDetails:v(we.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:v(we.showMethods,this.defaultValue.showMethods),showFunctions:v(we.showFunctions,this.defaultValue.showFunctions),showConstructors:v(we.showConstructors,this.defaultValue.showConstructors),showFields:v(we.showFields,this.defaultValue.showFields),showVariables:v(we.showVariables,this.defaultValue.showVariables),showClasses:v(we.showClasses,this.defaultValue.showClasses),showStructs:v(we.showStructs,this.defaultValue.showStructs),showInterfaces:v(we.showInterfaces,this.defaultValue.showInterfaces),showModules:v(we.showModules,this.defaultValue.showModules),showProperties:v(we.showProperties,this.defaultValue.showProperties),showEvents:v(we.showEvents,this.defaultValue.showEvents),showOperators:v(we.showOperators,this.defaultValue.showOperators),showUnits:v(we.showUnits,this.defaultValue.showUnits),showValues:v(we.showValues,this.defaultValue.showValues),showConstants:v(we.showConstants,this.defaultValue.showConstants),showEnums:v(we.showEnums,this.defaultValue.showEnums),showEnumMembers:v(we.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:v(we.showKeywords,this.defaultValue.showKeywords),showWords:v(we.showWords,this.defaultValue.showWords),showColors:v(we.showColors,this.defaultValue.showColors),showFiles:v(we.showFiles,this.defaultValue.showFiles),showReferences:v(we.showReferences,this.defaultValue.showReferences),showFolders:v(we.showFolders,this.defaultValue.showFolders),showTypeParameters:v(we.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:v(we.showSnippets,this.defaultValue.showSnippets),showUsers:v(we.showUsers,this.defaultValue.showUsers),showIssues:v(we.showIssues,this.defaultValue.showIssues)}}}class le extends n{constructor(){super(97,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:w.localize(110,null),default:!0,type:"boolean"}})}validate(se){return!se||typeof se!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:v(se.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class ve extends I{constructor(){super(123,[75])}compute(se,we,Re){return we.get(75)?!0:se.tabFocusMode}}var De;(function(K){K[K.None=0]="None",K[K.Same=1]="Same",K[K.Indent=2]="Indent",K[K.DeepIndent=3]="DeepIndent"})(De=e.WrappingIndent||(e.WrappingIndent={}));function Me(K){switch(K){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class Ee extends I{constructor(){super(125,[124])}compute(se,we,Re){const Ue=we.get(124);return{isDominatedByLongLines:se.isDominatedByLongLines,isWordWrapMinified:Ue.isWordWrapMinified,isViewportWrapping:Ue.isViewportWrapping,wrappingColumn:Ue.wrappingColumn}}}const Pe="Consolas, 'Courier New', monospace",Ce="Menlo, Monaco, 'Courier New', monospace",Oe="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";e.EDITOR_FONT_DEFAULTS={fontFamily:k.isMacintosh?Ce:k.isLinux?Oe:Pe,fontWeight:"normal",fontSize:k.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},e.editorOptionsRegistry=[];function Se(K){return e.editorOptionsRegistry[K.id]=K,K}var ze;(function(K){K[K.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",K[K.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",K[K.accessibilitySupport=2]="accessibilitySupport",K[K.accessibilityPageSize=3]="accessibilityPageSize",K[K.ariaLabel=4]="ariaLabel",K[K.autoClosingBrackets=5]="autoClosingBrackets",K[K.autoClosingOvertype=6]="autoClosingOvertype",K[K.autoClosingQuotes=7]="autoClosingQuotes",K[K.autoIndent=8]="autoIndent",K[K.automaticLayout=9]="automaticLayout",K[K.autoSurround=10]="autoSurround",K[K.codeLens=11]="codeLens",K[K.codeLensFontFamily=12]="codeLensFontFamily",K[K.codeLensFontSize=13]="codeLensFontSize",K[K.colorDecorators=14]="colorDecorators",K[K.columnSelection=15]="columnSelection",K[K.comments=16]="comments",K[K.contextmenu=17]="contextmenu",K[K.copyWithSyntaxHighlighting=18]="copyWithSyntaxHighlighting",K[K.cursorBlinking=19]="cursorBlinking",K[K.cursorSmoothCaretAnimation=20]="cursorSmoothCaretAnimation",K[K.cursorStyle=21]="cursorStyle",K[K.cursorSurroundingLines=22]="cursorSurroundingLines",K[K.cursorSurroundingLinesStyle=23]="cursorSurroundingLinesStyle",K[K.cursorWidth=24]="cursorWidth",K[K.disableLayerHinting=25]="disableLayerHinting",K[K.disableMonospaceOptimizations=26]="disableMonospaceOptimizations",K[K.dragAndDrop=27]="dragAndDrop",K[K.emptySelectionClipboard=28]="emptySelectionClipboard",K[K.extraEditorClassName=29]="extraEditorClassName",K[K.fastScrollSensitivity=30]="fastScrollSensitivity",K[K.find=31]="find",K[K.fixedOverflowWidgets=32]="fixedOverflowWidgets",K[K.folding=33]="folding",K[K.foldingStrategy=34]="foldingStrategy",K[K.foldingHighlight=35]="foldingHighlight",K[K.unfoldOnClickAfterEndOfLine=36]="unfoldOnClickAfterEndOfLine",K[K.fontFamily=37]="fontFamily",K[K.fontInfo=38]="fontInfo",K[K.fontLigatures=39]="fontLigatures",K[K.fontSize=40]="fontSize",K[K.fontWeight=41]="fontWeight",K[K.formatOnPaste=42]="formatOnPaste",K[K.formatOnType=43]="formatOnType",K[K.glyphMargin=44]="glyphMargin",K[K.gotoLocation=45]="gotoLocation",K[K.hideCursorInOverviewRuler=46]="hideCursorInOverviewRuler",K[K.highlightActiveIndentGuide=47]="highlightActiveIndentGuide",K[K.hover=48]="hover",K[K.inDiffEditor=49]="inDiffEditor",K[K.letterSpacing=50]="letterSpacing",K[K.lightbulb=51]="lightbulb",K[K.lineDecorationsWidth=52]="lineDecorationsWidth",K[K.lineHeight=53]="lineHeight",K[K.lineNumbers=54]="lineNumbers",K[K.lineNumbersMinChars=55]="lineNumbersMinChars",K[K.linkedEditing=56]="linkedEditing",K[K.links=57]="links",K[K.matchBrackets=58]="matchBrackets",K[K.minimap=59]="minimap",K[K.mouseStyle=60]="mouseStyle",K[K.mouseWheelScrollSensitivity=61]="mouseWheelScrollSensitivity",K[K.mouseWheelZoom=62]="mouseWheelZoom",K[K.multiCursorMergeOverlapping=63]="multiCursorMergeOverlapping",K[K.multiCursorModifier=64]="multiCursorModifier",K[K.multiCursorPaste=65]="multiCursorPaste",K[K.occurrencesHighlight=66]="occurrencesHighlight",K[K.overviewRulerBorder=67]="overviewRulerBorder",K[K.overviewRulerLanes=68]="overviewRulerLanes",K[K.padding=69]="padding",K[K.parameterHints=70]="parameterHints",K[K.peekWidgetDefaultFocus=71]="peekWidgetDefaultFocus",K[K.definitionLinkOpensInPeek=72]="definitionLinkOpensInPeek",K[K.quickSuggestions=73]="quickSuggestions",K[K.quickSuggestionsDelay=74]="quickSuggestionsDelay",K[K.readOnly=75]="readOnly",K[K.renameOnType=76]="renameOnType",K[K.renderControlCharacters=77]="renderControlCharacters",K[K.renderIndentGuides=78]="renderIndentGuides",K[K.renderFinalNewline=79]="renderFinalNewline",K[K.renderLineHighlight=80]="renderLineHighlight",K[K.renderLineHighlightOnlyWhenFocus=81]="renderLineHighlightOnlyWhenFocus",K[K.renderValidationDecorations=82]="renderValidationDecorations",K[K.renderWhitespace=83]="renderWhitespace",K[K.revealHorizontalRightPadding=84]="revealHorizontalRightPadding",K[K.roundedSelection=85]="roundedSelection",K[K.rulers=86]="rulers",K[K.scrollbar=87]="scrollbar",K[K.scrollBeyondLastColumn=88]="scrollBeyondLastColumn",K[K.scrollBeyondLastLine=89]="scrollBeyondLastLine",K[K.scrollPredominantAxis=90]="scrollPredominantAxis",K[K.selectionClipboard=91]="selectionClipboard",K[K.selectionHighlight=92]="selectionHighlight",K[K.selectOnLineNumbers=93]="selectOnLineNumbers",K[K.showFoldingControls=94]="showFoldingControls",K[K.showUnused=95]="showUnused",K[K.snippetSuggestions=96]="snippetSuggestions",K[K.smartSelect=97]="smartSelect",K[K.smoothScrolling=98]="smoothScrolling",K[K.stickyTabStops=99]="stickyTabStops",K[K.stopRenderingLineAfter=100]="stopRenderingLineAfter",K[K.suggest=101]="suggest",K[K.suggestFontSize=102]="suggestFontSize",K[K.suggestLineHeight=103]="suggestLineHeight",K[K.suggestOnTriggerCharacters=104]="suggestOnTriggerCharacters",K[K.suggestSelection=105]="suggestSelection",K[K.tabCompletion=106]="tabCompletion",K[K.tabIndex=107]="tabIndex",K[K.unusualLineTerminators=108]="unusualLineTerminators",K[K.useTabStops=109]="useTabStops",K[K.wordSeparators=110]="wordSeparators",K[K.wordWrap=111]="wordWrap",K[K.wordWrapBreakAfterCharacters=112]="wordWrapBreakAfterCharacters",K[K.wordWrapBreakBeforeCharacters=113]="wordWrapBreakBeforeCharacters",K[K.wordWrapColumn=114]="wordWrapColumn",K[K.wordWrapOverride1=115]="wordWrapOverride1",K[K.wordWrapOverride2=116]="wordWrapOverride2",K[K.wrappingIndent=117]="wrappingIndent",K[K.wrappingStrategy=118]="wrappingStrategy",K[K.showDeprecated=119]="showDeprecated",K[K.inlineHints=120]="inlineHints",K[K.editorClassName=121]="editorClassName",K[K.pixelRatio=122]="pixelRatio",K[K.tabFocusMode=123]="tabFocusMode",K[K.layoutInfo=124]="layoutInfo",K[K.wrappingInfo=125]="wrappingInfo"})(ze=e.EditorOption||(e.EditorOption={})),e.EditorOptions={acceptSuggestionOnCommitCharacter:Se(new f(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:w.localize(111,null)})),acceptSuggestionOnEnter:Se(new d(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",w.localize(112,null),""],markdownDescription:w.localize(113,null)})),accessibilitySupport:Se(new c),accessibilityPageSize:Se(new u(3,"accessibilityPageSize",10,1,1073741824,{description:w.localize(114,null)})),ariaLabel:Se(new b(4,"ariaLabel",w.localize(115,null))),autoClosingBrackets:Se(new d(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(116,null),w.localize(117,null),""],description:w.localize(118,null)})),autoClosingOvertype:Se(new d(6,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",w.localize(119,null),""],description:w.localize(120,null)})),autoClosingQuotes:Se(new d(7,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",w.localize(121,null),w.localize(122,null),""],description:w.localize(123,null)})),autoIndent:Se(new s(8,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],l,{enumDescriptions:[w.localize(124,null),w.localize(125,null),w.localize(126,null),w.localize(127,null),w.localize(128,null)],description:w.localize(129,null)})),automaticLayout:Se(new f(9,"automaticLayout",!1)),autoSurround:Se(new d(10,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[w.localize(130,null),w.localize(131,null),w.localize(132,null),""],description:w.localize(133,null)})),stickyTabStops:Se(new f(99,"stickyTabStops",!1,{description:w.localize(134,null)})),codeLens:Se(new f(11,"codeLens",!0,{description:w.localize(135,null)})),codeLensFontFamily:Se(new b(12,"codeLensFontFamily","",{description:w.localize(136,null)})),codeLensFontSize:Se(new u(13,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,description:w.localize(137,null)})),colorDecorators:Se(new f(14,"colorDecorators",!0,{description:w.localize(138,null)})),columnSelection:Se(new f(15,"columnSelection",!1,{description:w.localize(139,null)})),comments:Se(new t),contextmenu:Se(new f(17,"contextmenu",!0)),copyWithSyntaxHighlighting:Se(new f(18,"copyWithSyntaxHighlighting",!0,{description:w.localize(140,null)})),cursorBlinking:Se(new s(19,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],o,{description:w.localize(141,null)})),cursorSmoothCaretAnimation:Se(new f(20,"cursorSmoothCaretAnimation",!1,{description:w.localize(142,null)})),cursorStyle:Se(new s(21,"cursorStyle",a.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],h,{description:w.localize(143,null)})),cursorSurroundingLines:Se(new u(22,"cursorSurroundingLines",0,0,1073741824,{description:w.localize(144,null)})),cursorSurroundingLinesStyle:Se(new d(23,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[w.localize(145,null),w.localize(146,null)],description:w.localize(147,null)})),cursorWidth:Se(new u(24,"cursorWidth",0,0,1073741824,{markdownDescription:w.localize(148,null)})),disableLayerHinting:Se(new f(25,"disableLayerHinting",!1)),disableMonospaceOptimizations:Se(new f(26,"disableMonospaceOptimizations",!1)),dragAndDrop:Se(new f(27,"dragAndDrop",!0,{description:w.localize(149,null)})),emptySelectionClipboard:Se(new m),extraEditorClassName:Se(new b(29,"extraEditorClassName","")),fastScrollSensitivity:Se(new g(30,"fastScrollSensitivity",5,K=>K<=0?5:K,{markdownDescription:w.localize(150,null)})),find:Se(new E),fixedOverflowWidgets:Se(new f(32,"fixedOverflowWidgets",!1)),folding:Se(new f(33,"folding",!0,{description:w.localize(151,null)})),foldingStrategy:Se(new d(34,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[w.localize(152,null),w.localize(153,null)],description:w.localize(154,null)})),foldingHighlight:Se(new f(35,"foldingHighlight",!0,{description:w.localize(155,null)})),unfoldOnClickAfterEndOfLine:Se(new f(36,"unfoldOnClickAfterEndOfLine",!1,{description:w.localize(156,null)})),fontFamily:Se(new b(37,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:w.localize(157,null)})),fontInfo:Se(new L),fontLigatures2:Se(new _),fontSize:Se(new R),fontWeight:Se(new N),formatOnPaste:Se(new f(42,"formatOnPaste",!1,{description:w.localize(158,null)})),formatOnType:Se(new f(43,"formatOnType",!1,{description:w.localize(159,null)})),glyphMargin:Se(new f(44,"glyphMargin",!0,{description:w.localize(160,null)})),gotoLocation:Se(new W),hideCursorInOverviewRuler:Se(new f(46,"hideCursorInOverviewRuler",!1,{description:w.localize(161,null)})),highlightActiveIndentGuide:Se(new f(47,"highlightActiveIndentGuide",!0,{description:w.localize(162,null)})),hover:Se(new x),inDiffEditor:Se(new f(49,"inDiffEditor",!1)),letterSpacing:Se(new g(50,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,K=>g.clamp(K,-5,20),{description:w.localize(163,null)})),lightbulb:Se(new O),lineDecorationsWidth:Se(new S(52,"lineDecorationsWidth",10)),lineHeight:Se(new J),lineNumbers:Se(new _e),lineNumbersMinChars:Se(new u(55,"lineNumbersMinChars",5,1,300)),linkedEditing:Se(new f(56,"linkedEditing",!1,{description:w.localize(164,null)})),links:Se(new f(57,"links",!0,{description:w.localize(165,null)})),matchBrackets:Se(new d(58,"matchBrackets","always",["always","near","never"],{description:w.localize(166,null)})),minimap:Se(new U),mouseStyle:Se(new d(60,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Se(new g(61,"mouseWheelScrollSensitivity",1,K=>K===0?1:K,{markdownDescription:w.localize(167,null)})),mouseWheelZoom:Se(new f(62,"mouseWheelZoom",!1,{markdownDescription:w.localize(168,null)})),multiCursorMergeOverlapping:Se(new f(63,"multiCursorMergeOverlapping",!0,{description:w.localize(169,null)})),multiCursorModifier:Se(new s(64,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],V,{markdownEnumDescriptions:[w.localize(170,null),w.localize(171,null)],markdownDescription:w.localize(172,null)})),multiCursorPaste:Se(new d(65,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[w.localize(173,null),w.localize(174,null)],markdownDescription:w.localize(175,null)})),occurrencesHighlight:Se(new f(66,"occurrencesHighlight",!0,{description:w.localize(176,null)})),overviewRulerBorder:Se(new f(67,"overviewRulerBorder",!0,{description:w.localize(177,null)})),overviewRulerLanes:Se(new u(68,"overviewRulerLanes",3,0,3)),padding:Se(new B),parameterHints:Se(new Y),peekWidgetDefaultFocus:Se(new d(71,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[w.localize(178,null),w.localize(179,null)],description:w.localize(180,null)})),definitionLinkOpensInPeek:Se(new f(72,"definitionLinkOpensInPeek",!1,{description:w.localize(181,null)})),quickSuggestions:Se(new ce),quickSuggestionsDelay:Se(new u(74,"quickSuggestionsDelay",10,0,1073741824,{description:w.localize(182,null)})),readOnly:Se(new f(75,"readOnly",!1)),renameOnType:Se(new f(76,"renameOnType",!1,{description:w.localize(183,null),markdownDeprecationMessage:w.localize(184,null)})),renderControlCharacters:Se(new f(77,"renderControlCharacters",!1,{description:w.localize(185,null)})),renderIndentGuides:Se(new f(78,"renderIndentGuides",!0,{description:w.localize(186,null)})),renderFinalNewline:Se(new f(79,"renderFinalNewline",!0,{description:w.localize(187,null)})),renderLineHighlight:Se(new d(80,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",w.localize(188,null)],description:w.localize(189,null)})),renderLineHighlightOnlyWhenFocus:Se(new f(81,"renderLineHighlightOnlyWhenFocus",!1,{description:w.localize(190,null)})),renderValidationDecorations:Se(new d(82,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Se(new d(83,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",w.localize(191,null),w.localize(192,null),w.localize(193,null),""],description:w.localize(194,null)})),revealHorizontalRightPadding:Se(new u(84,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Se(new f(85,"roundedSelection",!0,{description:w.localize(195,null)})),rulers:Se(new H),scrollbar:Se(new re),scrollBeyondLastColumn:Se(new u(88,"scrollBeyondLastColumn",5,0,1073741824,{description:w.localize(196,null)})),scrollBeyondLastLine:Se(new f(89,"scrollBeyondLastLine",!0,{description:w.localize(197,null)})),scrollPredominantAxis:Se(new f(90,"scrollPredominantAxis",!0,{description:w.localize(198,null)})),selectionClipboard:Se(new f(91,"selectionClipboard",!0,{description:w.localize(199,null),included:k.isLinux})),selectionHighlight:Se(new f(92,"selectionHighlight",!0,{description:w.localize(200,null)})),selectOnLineNumbers:Se(new f(93,"selectOnLineNumbers",!0)),showFoldingControls:Se(new d(94,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[w.localize(201,null),w.localize(202,null)],description:w.localize(203,null)})),showUnused:Se(new f(95,"showUnused",!0,{description:w.localize(204,null)})),showDeprecated:Se(new f(119,"showDeprecated",!0,{description:w.localize(205,null)})),inlineHints:Se(new z),snippetSuggestions:Se(new d(96,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[w.localize(206,null),w.localize(207,null),w.localize(208,null),w.localize(209,null)],description:w.localize(210,null)})),smartSelect:Se(new le),smoothScrolling:Se(new f(98,"smoothScrolling",!1,{description:w.localize(211,null)})),stopRenderingLineAfter:Se(new u(100,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Se(new Q),suggestFontSize:Se(new u(102,"suggestFontSize",0,0,1e3,{markdownDescription:w.localize(212,null)})),suggestLineHeight:Se(new u(103,"suggestLineHeight",0,0,1e3,{markdownDescription:w.localize(213,null)})),suggestOnTriggerCharacters:Se(new f(104,"suggestOnTriggerCharacters",!0,{description:w.localize(214,null)})),suggestSelection:Se(new d(105,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[w.localize(215,null),w.localize(216,null),w.localize(217,null)],description:w.localize(218,null)})),tabCompletion:Se(new d(106,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[w.localize(219,null),w.localize(220,null),w.localize(221,null)],description:w.localize(222,null)})),tabIndex:Se(new u(107,"tabIndex",0,-1,1073741824)),unusualLineTerminators:Se(new d(108,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[w.localize(223,null),w.localize(224,null),w.localize(225,null)],description:w.localize(226,null)})),useTabStops:Se(new f(109,"useTabStops",!0,{description:w.localize(227,null)})),wordSeparators:Se(new b(110,"wordSeparators",A.USUAL_WORD_SEPARATORS,{description:w.localize(228,null)})),wordWrap:Se(new d(111,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[w.localize(229,null),w.localize(230,null),w.localize(231,null),w.localize(232,null)],description:w.localize(233,null)})),wordWrapBreakAfterCharacters:Se(new b(112,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Se(new b(113,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Se(new u(114,"wordWrapColumn",80,1,1073741824,{markdownDescription:w.localize(234,null)})),wordWrapOverride1:Se(new d(115,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Se(new d(116,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Se(new s(117,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Me,{enumDescriptions:[w.localize(235,null),w.localize(236,null),w.localize(237,null),w.localize(238,null)],description:w.localize(239,null)})),wrappingStrategy:Se(new d(118,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[w.localize(240,null),w.localize(241,null)],description:w.localize(242,null)})),editorClassName:Se(new y),pixelRatio:Se(new ae),tabFocusMode:Se(new ve),layoutInfo:Se(new $),wrappingInfo:Se(new Ee)}}),define(ge[150],pe([17,18]),function(Z,e){return Z.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ge[151],pe([17,18]),function(Z,e){return Z.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(ge[152],pe([17,18]),function(Z,e){return Z.create("vs/platform/files/common/files",e)}),define(ge[153],pe([17,18]),function(Z,e){return Z.create("vs/platform/markers/common/markers",e)}),define(ge[154],pe([17,18]),function(Z,e){return Z.create("vs/platform/theme/common/iconRegistry",e)}),define(ge[155],pe([17,18]),function(Z,e){return Z.create("vs/platform/workspaces/common/workspaces",e)}),define(ge[156],pe([17,18]),function(Z,e){return Z.create("vs/workbench/api/common/extHost.api.impl",e)}),define(ge[157],pe([17,18]),function(Z,e){return Z.create("vs/workbench/api/common/extHostDiagnostics",e)}),define(ge[158],pe([17,18]),function(Z,e){return Z.create("vs/workbench/api/common/extHostExtensionActivator",e)}),define(ge[159],pe([17,18]),function(Z,e){return Z.create("vs/workbench/api/common/extHostExtensionService",e)}),define(ge[160],pe([17,18]),function(Z,e){return Z.create("vs/workbench/api/common/extHostProgress",e)}),define(ge[161],pe([17,18]),function(Z,e){return Z.create("vs/workbench/api/common/extHostStatusBar",e)}),define(ge[162],pe([17,18]),function(Z,e){return Z.create("vs/workbench/api/common/extHostTerminalService",e)}),define(ge[163],pe([17,18]),function(Z,e){return Z.create("vs/workbench/api/common/extHostTreeViews",e)}),define(ge[164],pe([17,18]),function(Z,e){return Z.create("vs/workbench/api/common/extHostWorkspace",e)}),define(ge[165],pe([17,18]),function(Z,e){return Z.create("vs/workbench/api/node/extHostDebugService",e)}),define(ge[166],pe([17,18]),function(Z,e){return Z.create("vs/workbench/common/views",e)}),define(ge[167],pe([17,18]),function(Z,e){return Z.create("vs/workbench/contrib/debug/common/abstractDebugAdapter",e)}),define(ge[168],pe([17,18]),function(Z,e){return Z.create("vs/workbench/contrib/debug/node/debugAdapter",e)}),define(ge[169],pe([17,18]),function(Z,e){return Z.create("vs/workbench/contrib/externalTerminal/node/externalTerminalService",e)}),define(ge[170],pe([17,18]),function(Z,e){return Z.create("vs/workbench/contrib/search/common/queryBuilder",e)}),define(ge[171],pe([17,18]),function(Z,e){return Z.create("vs/workbench/contrib/terminal/common/terminal",e)}),define(ge[172],pe([17,18]),function(Z,e){return Z.create("vs/workbench/contrib/terminal/node/terminalProcess",e)}),define(ge[173],pe([17,18]),function(Z,e){return Z.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(ge[109],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSyncDescriptor=e.SyncDescriptor=void 0;class w{constructor(T,P=[],D=!1){this.ctor=T,this.staticArguments=P,this.supportsDelayedInstantiation=D}}e.SyncDescriptor=w;const k=(A,...T)=>new w(A,T);e.createSyncDescriptor=k}),define(ge[81],pe([0,1,109]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const k=[];function A(P,D,C){k.push([P,new w.SyncDescriptor(D,[],C)])}e.registerSingleton=A;function T(){return k}e.getSingletonServiceDescriptors=T}),define(ge[174],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class w{constructor(T){this.incoming=new Map,this.outgoing=new Map,this.data=T}}e.Node=w;class k{constructor(T){this._hashFn=T,this._nodes=new Map}roots(){const T=[];for(let P of this._nodes.values())P.outgoing.size===0&&T.push(P);return T}insertEdge(T,P){const D=this.lookupOrInsertNode(T),C=this.lookupOrInsertNode(P);D.outgoing.set(this._hashFn(P),C),C.incoming.set(this._hashFn(T),D)}removeNode(T){const P=this._hashFn(T);this._nodes.delete(P);for(let D of this._nodes.values())D.outgoing.delete(P),D.incoming.delete(P)}lookupOrInsertNode(T){const P=this._hashFn(T);let D=this._nodes.get(P);return D||(D=new w(T),this._nodes.set(P,D)),D}lookup(T){return this._nodes.get(this._hashFn(T))}isEmpty(){return this._nodes.size===0}toString(){let T=[];for(let[P,D]of this._nodes)T.push(`${P}, (incoming)[${[...D.incoming.keys()].join(", ")}], (outgoing)[${[...D.outgoing.keys()].join(",")}]`);return T.join(`
`)}}e.Graph=k}),define(ge[4],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=e.createDecorator=e.IInstantiationService=e._util=void 0;var w;(function(P){P.serviceIds=new Map,P.DI_TARGET="$di$target",P.DI_DEPENDENCIES="$di$dependencies";function D(C){return C[P.DI_DEPENDENCIES]||[]}P.getServiceDependencies=D})(w=e._util||(e._util={})),e.IInstantiationService=A("instantiationService");function k(P,D,C,n){D[w.DI_TARGET]===D?D[w.DI_DEPENDENCIES].push({id:P,index:C,optional:n}):(D[w.DI_DEPENDENCIES]=[{id:P,index:C,optional:n}],D[w.DI_TARGET]=D)}function A(P){if(w.serviceIds.has(P))return w.serviceIds.get(P);const D=function(C,n,I){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(D,C,I,!1)};return D.toString=()=>P,w.serviceIds.set(P,D),D}e.createDecorator=A;function T(P){return function(D,C,n){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");k(P,D,n,!0)}}e.optional=T}),define(ge[175],pe([0,1,4]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.IModelService=void 0,e.IModelService=w.createDecorator("modelService");function k(A){return!A.isTooLargeForSyncing()&&!A.isForSimpleWidget}e.shouldSynchronizeModel=k}),define(ge[176],pe([0,1,3,75,5,22,74,79,175]),function(Z,e,w,k,A,T,P,D,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRequestDelays=e.LanguageFeatureRegistry=void 0;function n(v){return typeof v=="string"?!1:Array.isArray(v)?v.every(n):!!v.exclusive}class I{constructor(){this._clock=0,this._entries=[],this._onDidChange=new w.Emitter}get onDidChange(){return this._onDidChange.event}register(f,u){let g={selector:f,provider:u,_score:-1,_time:this._clock++};return this._entries.push(g),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),A.toDisposable(()=>{if(g){let b=this._entries.indexOf(g);b>=0&&(this._entries.splice(b,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),g=void 0)}})}has(f){return this.all(f).length>0}all(f){if(!f)return[];this._updateScores(f);const u=[];for(let g of this._entries)g._score>0&&u.push(g.provider);return u}ordered(f){const u=[];return this._orderedForEach(f,g=>u.push(g.provider)),u}orderedGroups(f){const u=[];let g,b;return this._orderedForEach(f,p=>{g&&b===p._score?g.push(p.provider):(b=p._score,g=[p.provider],u.push(g))}),u}_orderedForEach(f,u){if(!!f){this._updateScores(f);for(const g of this._entries)g._score>0&&u(g)}}_updateScores(f){let u={uri:f.uri.toString(),language:f.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===u.language&&this._lastCandidate.uri===u.uri)){this._lastCandidate=u;for(let g of this._entries)if(g._score=D.score(g.selector,f.uri,f.getLanguageIdentifier().language,C.shouldSynchronizeModel(f)),n(g.selector)&&g._score>0){for(let b of this._entries)b._score=0;g._score=1e3;break}this._entries.sort(I._compareByScoreAndTime)}}static _compareByScoreAndTime(f,u){return f._score<u._score?1:f._score>u._score?-1:f._time<u._time?1:f._time>u._time?-1:0}}e.LanguageFeatureRegistry=I;class S{constructor(f,u,g=Number.MAX_SAFE_INTEGER){this._registry=f,this.min=u,this.max=g,this._cache=new T.LRUCache(50,.7)}_key(f){return f.id+k.hash(this._registry.all(f))}_clamp(f){return f===void 0?this.min:Math.min(this.max,Math.max(this.min,Math.floor(f*1.3)))}get(f){const u=this._key(f),g=this._cache.get(u);return this._clamp(g==null?void 0:g.value)}update(f,u){const g=this._key(f);let b=this._cache.get(g);return b||(b=new P.MovingAverage,this._cache.set(g,b)),b.update(u),this.get(f)}}e.LanguageFeatureRequestDelays=S}),define(ge[82],pe([0,1,2,44,176,141,57]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExternalUriOpenerPriority=e.TokenizationRegistry=e.DocumentRangeSemanticTokensProviderRegistry=e.DocumentSemanticTokensProviderRegistry=e.FoldingRangeProviderRegistry=e.SelectionRangeRegistry=e.ColorProviderRegistry=e.LinkProviderRegistry=e.OnTypeFormattingEditProviderRegistry=e.DocumentRangeFormattingEditProviderRegistry=e.DocumentFormattingEditProviderRegistry=e.CodeActionProviderRegistry=e.InlineHintsProviderRegistry=e.CodeLensProviderRegistry=e.TypeDefinitionProviderRegistry=e.ImplementationProviderRegistry=e.DeclarationProviderRegistry=e.DefinitionProviderRegistry=e.LinkedEditingRangeProviderRegistry=e.DocumentHighlightProviderRegistry=e.DocumentSymbolProviderRegistry=e.EvaluatableExpressionProviderRegistry=e.HoverProviderRegistry=e.SignatureHelpProviderRegistry=e.CompletionProviderRegistry=e.RenameProviderRegistry=e.ReferenceProviderRegistry=e.CommentMode=e.CommentThreadCollapsibleState=e.FoldingRangeKind=e.SymbolKinds=e.SymbolTag=e.SymbolKind=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.CodeActionTriggerType=e.CompletionTriggerKind=e.CompletionItemInsertTextRule=e.CompletionItemTag=e.completionKindFromString=e.completionKindToCssClass=e.CompletionItemKind=e.TokenMetadata=e.MetadataConsts=e.StandardTokenType=e.ColorId=e.FontStyle=e.LanguageIdentifier=e.LanguageId=void 0;var D;(function(m){m[m.Null=0]="Null",m[m.PlainText=1]="PlainText"})(D=e.LanguageId||(e.LanguageId={}));class C{constructor(E,_){this.language=E,this.id=_}}e.LanguageIdentifier=C;var n;(function(m){m[m.NotSet=-1]="NotSet",m[m.None=0]="None",m[m.Italic=1]="Italic",m[m.Bold=2]="Bold",m[m.Underline=4]="Underline"})(n=e.FontStyle||(e.FontStyle={}));var I;(function(m){m[m.None=0]="None",m[m.DefaultForeground=1]="DefaultForeground",m[m.DefaultBackground=2]="DefaultBackground"})(I=e.ColorId||(e.ColorId={}));var S;(function(m){m[m.Other=0]="Other",m[m.Comment=1]="Comment",m[m.String=2]="String",m[m.RegEx=4]="RegEx"})(S=e.StandardTokenType||(e.StandardTokenType={}));var v;(function(m){m[m.LANGUAGEID_MASK=255]="LANGUAGEID_MASK",m[m.TOKEN_TYPE_MASK=1792]="TOKEN_TYPE_MASK",m[m.FONT_STYLE_MASK=14336]="FONT_STYLE_MASK",m[m.FOREGROUND_MASK=8372224]="FOREGROUND_MASK",m[m.BACKGROUND_MASK=4286578688]="BACKGROUND_MASK",m[m.ITALIC_MASK=2048]="ITALIC_MASK",m[m.BOLD_MASK=4096]="BOLD_MASK",m[m.UNDERLINE_MASK=8192]="UNDERLINE_MASK",m[m.SEMANTIC_USE_ITALIC=1]="SEMANTIC_USE_ITALIC",m[m.SEMANTIC_USE_BOLD=2]="SEMANTIC_USE_BOLD",m[m.SEMANTIC_USE_UNDERLINE=4]="SEMANTIC_USE_UNDERLINE",m[m.SEMANTIC_USE_FOREGROUND=8]="SEMANTIC_USE_FOREGROUND",m[m.SEMANTIC_USE_BACKGROUND=16]="SEMANTIC_USE_BACKGROUND",m[m.LANGUAGEID_OFFSET=0]="LANGUAGEID_OFFSET",m[m.TOKEN_TYPE_OFFSET=8]="TOKEN_TYPE_OFFSET",m[m.FONT_STYLE_OFFSET=11]="FONT_STYLE_OFFSET",m[m.FOREGROUND_OFFSET=14]="FOREGROUND_OFFSET",m[m.BACKGROUND_OFFSET=23]="BACKGROUND_OFFSET"})(v=e.MetadataConsts||(e.MetadataConsts={}));class f{static getLanguageId(E){return(E&255)>>>0}static getTokenType(E){return(E&1792)>>>8}static getFontStyle(E){return(E&14336)>>>11}static getForeground(E){return(E&8372224)>>>14}static getBackground(E){return(E&4286578688)>>>23}static getClassNameFromMetadata(E){let _=this.getForeground(E),L="mtk"+_,R=this.getFontStyle(E);return R&1&&(L+=" mtki"),R&2&&(L+=" mtkb"),R&4&&(L+=" mtku"),L}static getInlineStyleFromMetadata(E,_){const L=this.getForeground(E),R=this.getFontStyle(E);let N=`color: ${_[L]};`;return R&1&&(N+="font-style: italic;"),R&2&&(N+="font-weight: bold;"),R&4&&(N+="text-decoration: underline;"),N}}e.TokenMetadata=f;var u;(function(m){m[m.Method=0]="Method",m[m.Function=1]="Function",m[m.Constructor=2]="Constructor",m[m.Field=3]="Field",m[m.Variable=4]="Variable",m[m.Class=5]="Class",m[m.Struct=6]="Struct",m[m.Interface=7]="Interface",m[m.Module=8]="Module",m[m.Property=9]="Property",m[m.Event=10]="Event",m[m.Operator=11]="Operator",m[m.Unit=12]="Unit",m[m.Value=13]="Value",m[m.Constant=14]="Constant",m[m.Enum=15]="Enum",m[m.EnumMember=16]="EnumMember",m[m.Keyword=17]="Keyword",m[m.Text=18]="Text",m[m.Color=19]="Color",m[m.File=20]="File",m[m.Reference=21]="Reference",m[m.Customcolor=22]="Customcolor",m[m.Folder=23]="Folder",m[m.TypeParameter=24]="TypeParameter",m[m.User=25]="User",m[m.Issue=26]="Issue",m[m.Snippet=27]="Snippet"})(u=e.CompletionItemKind||(e.CompletionItemKind={})),e.completionKindToCssClass=function(){let m=Object.create(null);return m[0]="symbol-method",m[1]="symbol-function",m[2]="symbol-constructor",m[3]="symbol-field",m[4]="symbol-variable",m[5]="symbol-class",m[6]="symbol-struct",m[7]="symbol-interface",m[8]="symbol-module",m[9]="symbol-property",m[10]="symbol-event",m[11]="symbol-operator",m[12]="symbol-unit",m[13]="symbol-value",m[14]="symbol-constant",m[15]="symbol-enum",m[16]="symbol-enum-member",m[17]="symbol-keyword",m[27]="symbol-snippet",m[18]="symbol-text",m[19]="symbol-color",m[20]="symbol-file",m[21]="symbol-reference",m[22]="symbol-customcolor",m[23]="symbol-folder",m[24]="symbol-type-parameter",m[25]="account",m[26]="issues",function(E){const _=m[E];let L=_&&P.iconRegistry.get(_);return L||(console.info("No codicon found for CompletionItemKind "+E),L=P.Codicon.symbolProperty),L.classNames}}(),e.completionKindFromString=function(){let m=Object.create(null);return m.method=0,m.function=1,m.constructor=2,m.field=3,m.variable=4,m.class=5,m.struct=6,m.interface=7,m.module=8,m.property=9,m.event=10,m.operator=11,m.unit=12,m.value=13,m.constant=14,m.enum=15,m["enum-member"]=16,m.enumMember=16,m.keyword=17,m.snippet=27,m.text=18,m.color=19,m.file=20,m.reference=21,m.customcolor=22,m.folder=23,m["type-parameter"]=24,m.typeParameter=24,m.account=25,m.issue=26,function(E,_){let L=m[E];return typeof L=="undefined"&&!_&&(L=9),L}}();var g;(function(m){m[m.Deprecated=1]="Deprecated"})(g=e.CompletionItemTag||(e.CompletionItemTag={}));var b;(function(m){m[m.KeepWhitespace=1]="KeepWhitespace",m[m.InsertAsSnippet=4]="InsertAsSnippet"})(b=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var p;(function(m){m[m.Invoke=0]="Invoke",m[m.TriggerCharacter=1]="TriggerCharacter",m[m.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(p=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var d;(function(m){m[m.Auto=1]="Auto",m[m.Manual=2]="Manual"})(d=e.CodeActionTriggerType||(e.CodeActionTriggerType={}));var s;(function(m){m[m.Invoke=1]="Invoke",m[m.TriggerCharacter=2]="TriggerCharacter",m[m.ContentChange=3]="ContentChange"})(s=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var l;(function(m){m[m.Text=0]="Text",m[m.Read=1]="Read",m[m.Write=2]="Write"})(l=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function c(m){return m&&w.URI.isUri(m.uri)&&k.Range.isIRange(m.range)&&(k.Range.isIRange(m.originSelectionRange)||k.Range.isIRange(m.targetSelectionRange))}e.isLocationLink=c;var t;(function(m){m[m.File=0]="File",m[m.Module=1]="Module",m[m.Namespace=2]="Namespace",m[m.Package=3]="Package",m[m.Class=4]="Class",m[m.Method=5]="Method",m[m.Property=6]="Property",m[m.Field=7]="Field",m[m.Constructor=8]="Constructor",m[m.Enum=9]="Enum",m[m.Interface=10]="Interface",m[m.Function=11]="Function",m[m.Variable=12]="Variable",m[m.Constant=13]="Constant",m[m.String=14]="String",m[m.Number=15]="Number",m[m.Boolean=16]="Boolean",m[m.Array=17]="Array",m[m.Object=18]="Object",m[m.Key=19]="Key",m[m.Null=20]="Null",m[m.EnumMember=21]="EnumMember",m[m.Struct=22]="Struct",m[m.Event=23]="Event",m[m.Operator=24]="Operator",m[m.TypeParameter=25]="TypeParameter"})(t=e.SymbolKind||(e.SymbolKind={}));var r;(function(m){m[m.Deprecated=1]="Deprecated"})(r=e.SymbolTag||(e.SymbolTag={}));var o;(function(m){const E=new Map;E.set("file",0),E.set("module",1),E.set("namespace",2),E.set("package",3),E.set("class",4),E.set("method",5),E.set("property",6),E.set("field",7),E.set("constructor",8),E.set("enum",9),E.set("interface",10),E.set("function",11),E.set("variable",12),E.set("constant",13),E.set("string",14),E.set("number",15),E.set("boolean",16),E.set("array",17),E.set("object",18),E.set("key",19),E.set("null",20),E.set("enum-member",21),E.set("struct",22),E.set("event",23),E.set("operator",24),E.set("type-parameter",25);const _=new Map;_.set(0,"file"),_.set(1,"module"),_.set(2,"namespace"),_.set(3,"package"),_.set(4,"class"),_.set(5,"method"),_.set(6,"property"),_.set(7,"field"),_.set(8,"constructor"),_.set(9,"enum"),_.set(10,"interface"),_.set(11,"function"),_.set(12,"variable"),_.set(13,"constant"),_.set(14,"string"),_.set(15,"number"),_.set(16,"boolean"),_.set(17,"array"),_.set(18,"object"),_.set(19,"key"),_.set(20,"null"),_.set(21,"enum-member"),_.set(22,"struct"),_.set(23,"event"),_.set(24,"operator"),_.set(25,"type-parameter");function L(W){return E.get(W)}m.fromString=L;function R(W){return _.get(W)}m.toString=R;function N(W,x){const M=_.get(W);let $=M&&P.iconRegistry.get("symbol-"+M);return $||(console.info("No codicon found for SymbolKind "+W),$=P.Codicon.symbolProperty),`${x?"inline":"block"} ${$.classNames}`}m.toCssClassName=N})(o=e.SymbolKinds||(e.SymbolKinds={}));class a{constructor(E){this.value=E}}e.FoldingRangeKind=a,a.Comment=new a("comment"),a.Imports=new a("imports"),a.Region=new a("region");var i;(function(m){m[m.Collapsed=0]="Collapsed",m[m.Expanded=1]="Expanded"})(i=e.CommentThreadCollapsibleState||(e.CommentThreadCollapsibleState={}));var h;(function(m){m[m.Editing=0]="Editing",m[m.Preview=1]="Preview"})(h=e.CommentMode||(e.CommentMode={})),e.ReferenceProviderRegistry=new A.LanguageFeatureRegistry,e.RenameProviderRegistry=new A.LanguageFeatureRegistry,e.CompletionProviderRegistry=new A.LanguageFeatureRegistry,e.SignatureHelpProviderRegistry=new A.LanguageFeatureRegistry,e.HoverProviderRegistry=new A.LanguageFeatureRegistry,e.EvaluatableExpressionProviderRegistry=new A.LanguageFeatureRegistry,e.DocumentSymbolProviderRegistry=new A.LanguageFeatureRegistry,e.DocumentHighlightProviderRegistry=new A.LanguageFeatureRegistry,e.LinkedEditingRangeProviderRegistry=new A.LanguageFeatureRegistry,e.DefinitionProviderRegistry=new A.LanguageFeatureRegistry,e.DeclarationProviderRegistry=new A.LanguageFeatureRegistry,e.ImplementationProviderRegistry=new A.LanguageFeatureRegistry,e.TypeDefinitionProviderRegistry=new A.LanguageFeatureRegistry,e.CodeLensProviderRegistry=new A.LanguageFeatureRegistry,e.InlineHintsProviderRegistry=new A.LanguageFeatureRegistry,e.CodeActionProviderRegistry=new A.LanguageFeatureRegistry,e.DocumentFormattingEditProviderRegistry=new A.LanguageFeatureRegistry,e.DocumentRangeFormattingEditProviderRegistry=new A.LanguageFeatureRegistry,e.OnTypeFormattingEditProviderRegistry=new A.LanguageFeatureRegistry,e.LinkProviderRegistry=new A.LanguageFeatureRegistry,e.ColorProviderRegistry=new A.LanguageFeatureRegistry,e.SelectionRangeRegistry=new A.LanguageFeatureRegistry,e.FoldingRangeProviderRegistry=new A.LanguageFeatureRegistry,e.DocumentSemanticTokensProviderRegistry=new A.LanguageFeatureRegistry,e.DocumentRangeSemanticTokensProviderRegistry=new A.LanguageFeatureRegistry,e.TokenizationRegistry=new T.TokenizationRegistryImpl;var y;(function(m){m[m.None=0]="None",m[m.Option=1]="Option",m[m.Default=2]="Default",m[m.Preferred=3]="Preferred"})(y=e.ExternalUriOpenerPriority||(e.ExternalUriOpenerPriority={}))}),define(ge[177],pe([0,1,5,16,4,3,73,72]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullCommandService=e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=A.createDecorator("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new T.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(C,n){if(!C)throw new Error("invalid command");if(typeof C=="string"){if(!n)throw new Error("invalid command");return this.registerCommand({id:C,handler:n})}if(C.description){const u=[];for(let b of C.description.args)u.push(b.constraint);const g=C.handler;C.handler=function(b,...p){return k.validateConstraints(p,u),g(b,...p)}}const{id:I}=C;let S=this._commands.get(I);S||(S=new P.LinkedList,this._commands.set(I,S));let v=S.unshift(C),f=w.toDisposable(()=>{v();const u=this._commands.get(I);(u==null?void 0:u.isEmpty())&&this._commands.delete(I)});return this._onDidRegisterCommand.fire(I),f}registerCommandAlias(C,n){return e.CommandsRegistry.registerCommand(C,(I,...S)=>I.get(e.ICommandService).executeCommand(n,...S))}getCommand(C){const n=this._commands.get(C);if(!(!n||n.isEmpty()))return D.Iterable.first(n)}getCommands(){const C=new Map;for(const n of this._commands.keys()){const I=this.getCommand(n);I&&C.set(n,I)}return C}},e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>w.Disposable.None,onDidExecuteCommand:()=>w.Disposable.None,executeCommand(){return Promise.resolve(void 0)}}}),define(ge[60],pe([0,1,10,4,9]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=e.ContextKeyExprType=void 0;let T=A.userAgent||"";const P=new Map;P.set("false",!1),P.set("true",!0),P.set("isMac",A.isMacintosh),P.set("isLinux",A.isLinux),P.set("isWindows",A.isWindows),P.set("isWeb",A.isWeb),P.set("isMacNative",A.isMacintosh&&!A.isWeb),P.set("isEdge",T.indexOf("Edg/")>=0),P.set("isFirefox",T.indexOf("Firefox")>=0),P.set("isChrome",T.indexOf("Chrome")>=0),P.set("isSafari",T.indexOf("Safari")>=0),P.set("isIPad",T.indexOf("iPad")>=0);const D=Object.prototype.hasOwnProperty;var C;(function(E){E[E.False=0]="False",E[E.True=1]="True",E[E.Defined=2]="Defined",E[E.Not=3]="Not",E[E.Equals=4]="Equals",E[E.NotEquals=5]="NotEquals",E[E.And=6]="And",E[E.Regex=7]="Regex",E[E.NotRegex=8]="NotRegex",E[E.Or=9]="Or",E[E.In=10]="In",E[E.NotIn=11]="NotIn",E[E.Greater=12]="Greater",E[E.GreaterEquals=13]="GreaterEquals",E[E.Smaller=14]="Smaller",E[E.SmallerEquals=15]="SmallerEquals"})(C=e.ContextKeyExprType||(e.ContextKeyExprType={}));class n{static false(){return S.INSTANCE}static true(){return v.INSTANCE}static has(_){return f.create(_)}static equals(_,L){return u.create(_,L)}static notEquals(_,L){return p.create(_,L)}static regex(_,L){return r.create(_,L)}static in(_,L){return g.create(_,L)}static not(_){return d.create(_)}static and(..._){return a.create(_)}static or(..._){return i.create(_)}static greater(_,L){return s.create(_,L)}static less(_,L){return c.create(_,L)}static deserialize(_,L=!1){if(!!_)return this._deserializeOrExpression(_,L)}static _deserializeOrExpression(_,L){let R=_.split("||");return i.create(R.map(N=>this._deserializeAndExpression(N,L)))}static _deserializeAndExpression(_,L){let R=_.split("&&");return a.create(R.map(N=>this._deserializeOne(N,L)))}static _deserializeOne(_,L){if(_=_.trim(),_.indexOf("!=")>=0){let R=_.split("!=");return p.create(R[0].trim(),this._deserializeValue(R[1],L))}if(_.indexOf("==")>=0){let R=_.split("==");return u.create(R[0].trim(),this._deserializeValue(R[1],L))}if(_.indexOf("=~")>=0){let R=_.split("=~");return r.create(R[0].trim(),this._deserializeRegexValue(R[1],L))}if(_.indexOf(" in ")>=0){let R=_.split(" in ");return g.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(_)){const R=_.split(">=");return l.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(_)){const R=_.split(">");return s.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(_)){const R=_.split("<=");return t.create(R[0].trim(),R[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(_)){const R=_.split("<");return c.create(R[0].trim(),R[1].trim())}return/^\!\s*/.test(_)?d.create(_.substr(1).trim()):f.create(_)}static _deserializeValue(_,L){if(_=_.trim(),_==="true")return!0;if(_==="false")return!1;let R=/^'([^']*)'$/.exec(_);return R?R[1].trim():_}static _deserializeRegexValue(_,L){if(w.isFalsyOrWhitespace(_)){if(L)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let R=_.indexOf("/"),N=_.lastIndexOf("/");if(R===N||R<0){if(L)throw new Error(`bad regexp-value '${_}', missing /-enclosure`);return console.warn(`bad regexp-value '${_}', missing /-enclosure`),null}let W=_.slice(R+1,N),x=_[N+1]==="i"?"i":"";try{return new RegExp(W,x)}catch(M){if(L)throw new Error(`bad regexp-value '${_}', parse error: ${M}`);return console.warn(`bad regexp-value '${_}', parse error: ${M}`),null}}}e.ContextKeyExpr=n;function I(E,_){return E.cmp(_)}class S{constructor(){this.type=0}cmp(_){return this.type-_.type}equals(_){return _.type===this.type}evaluate(_){return!1}serialize(){return"false"}keys(){return[]}map(_){return this}negate(){return v.INSTANCE}}e.ContextKeyFalseExpr=S,S.INSTANCE=new S;class v{constructor(){this.type=1}cmp(_){return this.type-_.type}equals(_){return _.type===this.type}evaluate(_){return!0}serialize(){return"true"}keys(){return[]}map(_){return this}negate(){return S.INSTANCE}}e.ContextKeyTrueExpr=v,v.INSTANCE=new v;class f{constructor(_){this.key=_,this.type=2}static create(_){const L=P.get(_);return typeof L=="boolean"?L?v.INSTANCE:S.INSTANCE:new f(_)}cmp(_){return _.type!==this.type?this.type-_.type:y(this.key,_.key)}equals(_){return _.type===this.type?this.key===_.key:!1}evaluate(_){return!!_.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(_){return _.mapDefined(this.key)}negate(){return d.create(this.key)}}e.ContextKeyDefinedExpr=f;class u{constructor(_,L){this.key=_,this.value=L,this.type=4}static create(_,L){if(typeof L=="boolean")return L?f.create(_):d.create(_);const R=P.get(_);return typeof R=="boolean"?L===(R?"true":"false")?v.INSTANCE:S.INSTANCE:new u(_,L)}cmp(_){return _.type!==this.type?this.type-_.type:m(this.key,this.value,_.key,_.value)}equals(_){return _.type===this.type?this.key===_.key&&this.value===_.value:!1}evaluate(_){return _.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(_){return _.mapEquals(this.key,this.value)}negate(){return p.create(this.key,this.value)}}e.ContextKeyEqualsExpr=u;class g{constructor(_,L){this.key=_,this.valueKey=L,this.type=10}static create(_,L){return new g(_,L)}cmp(_){return _.type!==this.type?this.type-_.type:m(this.key,this.valueKey,_.key,_.valueKey)}equals(_){return _.type===this.type?this.key===_.key&&this.valueKey===_.valueKey:!1}evaluate(_){const L=_.getValue(this.valueKey),R=_.getValue(this.key);return Array.isArray(L)?L.indexOf(R)>=0:typeof R=="string"&&typeof L=="object"&&L!==null?D.call(L,R):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(_){return _.mapIn(this.key,this.valueKey)}negate(){return b.create(this)}}e.ContextKeyInExpr=g;class b{constructor(_){this._actual=_,this.type=11}static create(_){return new b(_)}cmp(_){return _.type!==this.type?this.type-_.type:this._actual.cmp(_._actual)}equals(_){return _.type===this.type?this._actual.equals(_._actual):!1}evaluate(_){return!this._actual.evaluate(_)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(_){return new b(this._actual.map(_))}negate(){return this._actual}}e.ContextKeyNotInExpr=b;class p{constructor(_,L){this.key=_,this.value=L,this.type=5}static create(_,L){if(typeof L=="boolean")return L?d.create(_):f.create(_);const R=P.get(_);return typeof R=="boolean"?L===(R?"true":"false")?S.INSTANCE:v.INSTANCE:new p(_,L)}cmp(_){return _.type!==this.type?this.type-_.type:m(this.key,this.value,_.key,_.value)}equals(_){return _.type===this.type?this.key===_.key&&this.value===_.value:!1}evaluate(_){return _.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(_){return _.mapNotEquals(this.key,this.value)}negate(){return u.create(this.key,this.value)}}e.ContextKeyNotEqualsExpr=p;class d{constructor(_){this.key=_,this.type=3}static create(_){const L=P.get(_);return typeof L=="boolean"?L?S.INSTANCE:v.INSTANCE:new d(_)}cmp(_){return _.type!==this.type?this.type-_.type:y(this.key,_.key)}equals(_){return _.type===this.type?this.key===_.key:!1}evaluate(_){return!_.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(_){return _.mapNot(this.key)}negate(){return f.create(this.key)}}e.ContextKeyNotExpr=d;class s{constructor(_,L){this.key=_,this.value=L,this.type=12}static create(_,L){return new s(_,L)}cmp(_){return _.type!==this.type?this.type-_.type:m(this.key,this.value,_.key,_.value)}equals(_){return _.type===this.type?this.key===_.key&&this.value===_.value:!1}evaluate(_){return parseFloat(_.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(_){return _.mapGreater(this.key,this.value)}negate(){return t.create(this.key,this.value)}}e.ContextKeyGreaterExpr=s;class l{constructor(_,L){this.key=_,this.value=L,this.type=13}static create(_,L){return new l(_,L)}cmp(_){return _.type!==this.type?this.type-_.type:m(this.key,this.value,_.key,_.value)}equals(_){return _.type===this.type?this.key===_.key&&this.value===_.value:!1}evaluate(_){return parseFloat(_.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(_){return _.mapGreaterEquals(this.key,this.value)}negate(){return c.create(this.key,this.value)}}e.ContextKeyGreaterEqualsExpr=l;class c{constructor(_,L){this.key=_,this.value=L,this.type=14}static create(_,L){return new c(_,L)}cmp(_){return _.type!==this.type?this.type-_.type:m(this.key,this.value,_.key,_.value)}equals(_){return _.type===this.type?this.key===_.key&&this.value===_.value:!1}evaluate(_){return parseFloat(_.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(_){return _.mapSmaller(this.key,this.value)}negate(){return l.create(this.key,this.value)}}e.ContextKeySmallerExpr=c;class t{constructor(_,L){this.key=_,this.value=L,this.type=15}static create(_,L){return new t(_,L)}cmp(_){return _.type!==this.type?this.type-_.type:m(this.key,this.value,_.key,_.value)}equals(_){return _.type===this.type?this.key===_.key&&this.value===_.value:!1}evaluate(_){return parseFloat(_.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(_){return _.mapSmallerEquals(this.key,this.value)}negate(){return s.create(this.key,this.value)}}e.ContextKeySmallerEqualsExpr=t;class r{constructor(_,L){this.key=_,this.regexp=L,this.type=7}static create(_,L){return new r(_,L)}cmp(_){if(_.type!==this.type)return this.type-_.type;if(this.key<_.key)return-1;if(this.key>_.key)return 1;const L=this.regexp?this.regexp.source:"",R=_.regexp?_.regexp.source:"";return L<R?-1:L>R?1:0}equals(_){if(_.type===this.type){const L=this.regexp?this.regexp.source:"",R=_.regexp?_.regexp.source:"";return this.key===_.key&&L===R}return!1}evaluate(_){let L=_.getValue(this.key);return this.regexp?this.regexp.test(L):!1}serialize(){const _=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${_}`}keys(){return[this.key]}map(_){return _.mapRegex(this.key,this.regexp)}negate(){return o.create(this)}}e.ContextKeyRegexExpr=r;class o{constructor(_){this._actual=_,this.type=8}static create(_){return new o(_)}cmp(_){return _.type!==this.type?this.type-_.type:this._actual.cmp(_._actual)}equals(_){return _.type===this.type?this._actual.equals(_._actual):!1}evaluate(_){return!this._actual.evaluate(_)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(_){return new o(this._actual.map(_))}negate(){return this._actual}}e.ContextKeyNotRegexExpr=o;class a{constructor(_){this.expr=_,this.type=6}static create(_){return a._normalizeArr(_)}cmp(_){if(_.type!==this.type)return this.type-_.type;if(this.expr.length<_.expr.length)return-1;if(this.expr.length>_.expr.length)return 1;for(let L=0,R=this.expr.length;L<R;L++){const N=I(this.expr[L],_.expr[L]);if(N!==0)return N}return 0}equals(_){if(_.type===this.type){if(this.expr.length!==_.expr.length)return!1;for(let L=0,R=this.expr.length;L<R;L++)if(!this.expr[L].equals(_.expr[L]))return!1;return!0}return!1}evaluate(_){for(let L=0,R=this.expr.length;L<R;L++)if(!this.expr[L].evaluate(_))return!1;return!0}static _normalizeArr(_){const L=[];let R=!1;for(const N of _)if(!!N){if(N.type===1){R=!0;continue}if(N.type===0)return S.INSTANCE;if(N.type===6){L.push(...N.expr);continue}L.push(N)}if(L.length===0&&R)return v.INSTANCE;if(L.length!==0){if(L.length===1)return L[0];for(L.sort(I);L.length>1;){const N=L[L.length-1];if(N.type!==9)break;L.pop();const W=L.pop(),x=i.create(N.expr.map(M=>a.create([M,W])));x&&(L.push(x),L.sort(I))}return L.length===1?L[0]:new a(L)}}serialize(){return this.expr.map(_=>_.serialize()).join(" && ")}keys(){const _=[];for(let L of this.expr)_.push(...L.keys());return _}map(_){return new a(this.expr.map(L=>L.map(_)))}negate(){let _=[];for(let L of this.expr)_.push(L.negate());return i.create(_)}}e.ContextKeyAndExpr=a;class i{constructor(_){this.expr=_,this.type=9}static create(_){const L=i._normalizeArr(_);if(L.length!==0)return L.length===1?L[0]:new i(L)}cmp(_){if(_.type!==this.type)return this.type-_.type;if(this.expr.length<_.expr.length)return-1;if(this.expr.length>_.expr.length)return 1;for(let L=0,R=this.expr.length;L<R;L++){const N=I(this.expr[L],_.expr[L]);if(N!==0)return N}return 0}equals(_){if(_.type===this.type){if(this.expr.length!==_.expr.length)return!1;for(let L=0,R=this.expr.length;L<R;L++)if(!this.expr[L].equals(_.expr[L]))return!1;return!0}return!1}evaluate(_){for(let L=0,R=this.expr.length;L<R;L++)if(this.expr[L].evaluate(_))return!0;return!1}static _normalizeArr(_){let L=[],R=!1;if(_){for(let N=0,W=_.length;N<W;N++){const x=_[N];if(!!x){if(x.type===0){R=!0;continue}if(x.type===1)return[v.INSTANCE];if(x.type===9){L=L.concat(x.expr);continue}L.push(x)}}if(L.length===0&&R)return[S.INSTANCE];L.sort(I)}return L}serialize(){return this.expr.map(_=>_.serialize()).join(" || ")}keys(){const _=[];for(let L of this.expr)_.push(...L.keys());return _}map(_){return new i(this.expr.map(L=>L.map(_)))}negate(){let _=[];for(let R of this.expr)_.push(R.negate());const L=R=>R.type===9?R.expr:[R];for(;_.length>1;){const R=_.shift(),N=_.shift(),W=[];for(const x of L(R))for(const M of L(N))W.push(n.and(x,M));_.unshift(n.or(...W))}return _[0]}}e.ContextKeyOrExpr=i;class h extends f{constructor(_,L){super(_);this._defaultValue=L}bindTo(_){return _.createKey(this.key,this._defaultValue)}getValue(_){return _.getContextKeyValue(this.key)}toNegated(){return n.not(this.key)}isEqualTo(_){return n.equals(this.key,_)}notEqualsTo(_){return n.notEquals(this.key,_)}}e.RawContextKey=h,e.IContextKeyService=k.createDecorator("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function y(E,_){return E<_?-1:E>_?1:0}function m(E,_,L,R){return E<L?-1:E>L?1:_<R?-1:_>R?1:0}}),define(ge[178],pe([0,1,4]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INativeEnvironmentService=e.IEnvironmentService=void 0,e.IEnvironmentService=w.createDecorator("environmentService"),e.INativeEnvironmentService=w.createDecorator("nativeEnvironmentService")}),define(ge[179],pe([0,1,151,4,13]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtensionManagementCLIService=e.PreferencesLocalizedLabel=e.PreferencesLabel=e.ExtensionsChannelId=e.ExtensionsLocalizedLabel=e.ExtensionsLabel=e.DefaultIconPath=e.IExtensionTipsService=e.IGlobalExtensionEnablementService=e.ENABLED_EXTENSIONS_STORAGE_PATH=e.DISABLED_EXTENSIONS_STORAGE_PATH=e.IExtensionManagementService=e.ExtensionManagementError=e.INSTALL_ERROR_INCOMPATIBLE=e.INSTALL_ERROR_MALICIOUS=e.INSTALL_ERROR_NOT_SUPPORTED=e.IExtensionGalleryService=e.InstallOperation=e.StatisticType=e.SortOrder=e.SortBy=e.isIExtensionIdentifier=e.EXTENSION_IDENTIFIER_REGEX=e.EXTENSION_IDENTIFIER_PATTERN=void 0,e.EXTENSION_IDENTIFIER_PATTERN="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",e.EXTENSION_IDENTIFIER_REGEX=new RegExp(e.EXTENSION_IDENTIFIER_PATTERN);function T(S){return S&&typeof S=="object"&&typeof S.id=="string"&&(!S.uuid||typeof S.uuid=="string")}e.isIExtensionIdentifier=T;var P;(function(S){S[S.NoneOrRelevance=0]="NoneOrRelevance",S[S.LastUpdatedDate=1]="LastUpdatedDate",S[S.Title=2]="Title",S[S.PublisherName=3]="PublisherName",S[S.InstallCount=4]="InstallCount",S[S.PublishedDate=5]="PublishedDate",S[S.AverageRating=6]="AverageRating",S[S.WeightedRating=12]="WeightedRating"})(P=e.SortBy||(e.SortBy={}));var D;(function(S){S[S.Default=0]="Default",S[S.Ascending=1]="Ascending",S[S.Descending=2]="Descending"})(D=e.SortOrder||(e.SortOrder={}));var C;(function(S){S.Uninstall="uninstall"})(C=e.StatisticType||(e.StatisticType={}));var n;(function(S){S[S.None=0]="None",S[S.Install=1]="Install",S[S.Update=2]="Update"})(n=e.InstallOperation||(e.InstallOperation={})),e.IExtensionGalleryService=k.createDecorator("extensionGalleryService"),e.INSTALL_ERROR_NOT_SUPPORTED="notsupported",e.INSTALL_ERROR_MALICIOUS="malicious",e.INSTALL_ERROR_INCOMPATIBLE="incompatible";class I extends Error{constructor(v,f){super(v);this.code=f}}e.ExtensionManagementError=I,e.IExtensionManagementService=k.createDecorator("extensionManagementService"),e.DISABLED_EXTENSIONS_STORAGE_PATH="extensionsIdentifiers/disabled",e.ENABLED_EXTENSIONS_STORAGE_PATH="extensionsIdentifiers/enabled",e.IGlobalExtensionEnablementService=k.createDecorator("IGlobalExtensionEnablementService"),e.IExtensionTipsService=k.createDecorator("IExtensionTipsService"),e.DefaultIconPath=A.FileAccess.asBrowserUri("./media/defaultIcon.png",Z).toString(!0),e.ExtensionsLabel=w.localize(0,null),e.ExtensionsLocalizedLabel={value:e.ExtensionsLabel,original:"Extensions"},e.ExtensionsChannelId="extensions",e.PreferencesLabel=w.localize(1,null),e.PreferencesLocalizedLabel={value:e.PreferencesLabel,original:"Preferences"},e.IExtensionManagementCLIService=k.createDecorator("IExtensionManagementCLIService")}),define(ge[29],pe([0,1,10,4]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IBuiltinExtensionsScannerService=e.isAuthenticaionProviderExtension=e.isLanguagePackExtension=e.ExtensionIdentifier=e.ExtensionType=e.EXTENSION_CATEGORIES=e.isIExtensionIdentifier=e.BUILTIN_MANIFEST_CACHE_FILE=e.USER_MANIFEST_CACHE_FILE=e.MANIFEST_CACHE_FOLDER=void 0,e.MANIFEST_CACHE_FOLDER="CachedExtensions",e.USER_MANIFEST_CACHE_FILE="user",e.BUILTIN_MANIFEST_CACHE_FILE="builtin";function A(n){return n&&typeof n=="object"&&typeof n.id=="string"&&(!n.uuid||typeof n.uuid=="string")}e.isIExtensionIdentifier=A,e.EXTENSION_CATEGORIES=["Azure","Data Science","Debuggers","Extension Packs","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Themes","Testing","Visualization","Other"];var T;(function(n){n[n.System=0]="System",n[n.User=1]="User"})(T=e.ExtensionType||(e.ExtensionType={}));class P{constructor(I){this.value=I,this._lower=I.toLowerCase()}static equals(I,S){if(typeof I=="undefined"||I===null)return typeof S=="undefined"||S===null;if(typeof S=="undefined"||S===null)return!1;if(typeof I=="string"||typeof S=="string"){let v=typeof I=="string"?I:I.value,f=typeof S=="string"?S:S.value;return w.equalsIgnoreCase(v,f)}return I._lower===S._lower}static toKey(I){return typeof I=="string"?I.toLowerCase():I._lower}}e.ExtensionIdentifier=P;function D(n){return n.contributes&&n.contributes.localizations?n.contributes.localizations.length>0:!1}e.isLanguagePackExtension=D;function C(n){return n.contributes&&n.contributes.authentication?n.contributes.authentication.length>0:!1}e.isAuthenticaionProviderExtension=C,e.IBuiltinExtensionsScannerService=k.createDecorator("IBuiltinExtensionsScannerService")}),define(ge[180],pe([0,1,10,29]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMaliciousExtensionsSet=e.BetterMergeId=e.getGalleryExtensionTelemetryData=e.getLocalExtensionTelemetryData=e.groupByExtension=e.getGalleryExtensionId=e.adoptToGalleryExtensionId=e.getExtensionId=e.ExtensionIdentifierWithVersion=e.areSameExtensions=void 0;function A(f,u){return f.uuid&&u.uuid?f.uuid===u.uuid:f.id===u.id?!0:w.compareIgnoreCase(f.id,u.id)===0}e.areSameExtensions=A;class T{constructor(u,g){this.version=g,this.id=u.id,this.uuid=u.uuid}key(){return`${this.id}-${this.version}`}equals(u){return u instanceof T?A(this,u)&&this.version===u.version:!1}}e.ExtensionIdentifierWithVersion=T;function P(f,u){return`${f}.${u}`}e.getExtensionId=P;function D(f){return f.toLocaleLowerCase()}e.adoptToGalleryExtensionId=D;function C(f,u){return D(P(f,u))}e.getGalleryExtensionId=C;function n(f,u){const g=[],b=p=>{for(const d of g)if(d.some(s=>A(u(s),u(p))))return d;return null};for(const p of f){const d=b(p);d?d.push(p):g.push([p])}return g}e.groupByExtension=n;function I(f){return{id:f.identifier.id,name:f.manifest.name,galleryId:null,publisherId:f.publisherId,publisherName:f.manifest.publisher,publisherDisplayName:f.publisherDisplayName,dependencies:f.manifest.extensionDependencies&&f.manifest.extensionDependencies.length>0}}e.getLocalExtensionTelemetryData=I;function S(f){return Object.assign({id:f.identifier.id,name:f.name,galleryId:f.identifier.uuid,publisherId:f.publisherId,publisherName:f.publisher,publisherDisplayName:f.publisherDisplayName,dependencies:!!(f.properties.dependencies&&f.properties.dependencies.length>0)},f.telemetryData)}e.getGalleryExtensionTelemetryData=S,e.BetterMergeId=new k.ExtensionIdentifier("pprice.better-merge");function v(f){const u=new Set;for(const g of f)g.malicious&&u.add(g.id.id);return u}e.getMaliciousExtensionsSet=v}),define(ge[50],pe([0,1,152,7,2,4,10,16,22]),function(Z,e,w,k,A,T,P,D,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ByteSize=e.FALLBACK_MAX_MEMORY_SIZE_MB=e.MIN_MAX_MEMORY_SIZE_MB=e.whenProviderRegistered=e.etag=e.ETAG_DISABLED=e.FileKind=e.FILES_EXCLUDE_CONFIG=e.FILES_ASSOCIATIONS_CONFIG=e.HotExitConfiguration=e.AutoSaveConfiguration=e.FileOperationResult=e.FileOperationError=e.isParent=e.FileChangesEvent=e.FileChangeType=e.FileOperationEvent=e.FileOperation=e.toFileOperationResult=e.toFileSystemProviderErrorCode=e.markAsFileSystemProviderError=e.ensureFileSystemProviderError=e.createFileSystemProviderError=e.FileSystemProviderError=e.FileSystemProviderErrorCode=e.hasFileReadStreamCapability=e.hasOpenReadWriteCloseCapability=e.hasFileFolderCopyCapability=e.hasReadWriteCapability=e.FileSystemProviderCapabilities=e.FileType=e.IFileService=void 0,e.IFileService=T.createDecorator("fileService");var n;(function(R){R[R.Unknown=0]="Unknown",R[R.File=1]="File",R[R.Directory=2]="Directory",R[R.SymbolicLink=64]="SymbolicLink"})(n=e.FileType||(e.FileType={}));var I;(function(R){R[R.FileReadWrite=2]="FileReadWrite",R[R.FileOpenReadWriteClose=4]="FileOpenReadWriteClose",R[R.FileReadStream=16]="FileReadStream",R[R.FileFolderCopy=8]="FileFolderCopy",R[R.PathCaseSensitive=1024]="PathCaseSensitive",R[R.Readonly=2048]="Readonly",R[R.Trash=4096]="Trash"})(I=e.FileSystemProviderCapabilities||(e.FileSystemProviderCapabilities={}));function S(R){return!!(R.capabilities&2)}e.hasReadWriteCapability=S;function v(R){return!!(R.capabilities&8)}e.hasFileFolderCopyCapability=v;function f(R){return!!(R.capabilities&4)}e.hasOpenReadWriteCloseCapability=f;function u(R){return!!(R.capabilities&16)}e.hasFileReadStreamCapability=u;var g;(function(R){R.FileExists="EntryExists",R.FileNotFound="EntryNotFound",R.FileNotADirectory="EntryNotADirectory",R.FileIsADirectory="EntryIsADirectory",R.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",R.FileTooLarge="EntryTooLarge",R.NoPermissions="NoPermissions",R.Unavailable="Unavailable",R.Unknown="Unknown"})(g=e.FileSystemProviderErrorCode||(e.FileSystemProviderErrorCode={}));class b extends Error{constructor(N,W){super(N);this.code=W}}e.FileSystemProviderError=b;function p(R,N){const W=new b(R.toString(),N);return s(W,N),W}e.createFileSystemProviderError=p;function d(R){return R||p(w.localize(0,null),g.Unknown)}e.ensureFileSystemProviderError=d;function s(R,N){return R.name=N?`${N} (FileSystemError)`:"FileSystemError",R}e.markAsFileSystemProviderError=s;function l(R){if(!R)return g.Unknown;if(R instanceof b)return R.code;const N=/^(.+) \(FileSystemError\)$/.exec(R.name);if(!N)return g.Unknown;switch(N[1]){case g.FileExists:return g.FileExists;case g.FileIsADirectory:return g.FileIsADirectory;case g.FileNotADirectory:return g.FileNotADirectory;case g.FileNotFound:return g.FileNotFound;case g.FileExceedsMemoryLimit:return g.FileExceedsMemoryLimit;case g.FileTooLarge:return g.FileTooLarge;case g.NoPermissions:return g.NoPermissions;case g.Unavailable:return g.Unavailable}return g.Unknown}e.toFileSystemProviderErrorCode=l;function c(R){if(R instanceof h)return R.fileOperationResult;switch(l(R)){case g.FileNotFound:return 1;case g.FileIsADirectory:return 0;case g.FileNotADirectory:return 10;case g.NoPermissions:return 6;case g.FileExists:return 4;case g.FileExceedsMemoryLimit:return 9;case g.FileTooLarge:return 7;default:return 11}}e.toFileOperationResult=c;var t;(function(R){R[R.CREATE=0]="CREATE",R[R.DELETE=1]="DELETE",R[R.MOVE=2]="MOVE",R[R.COPY=3]="COPY"})(t=e.FileOperation||(e.FileOperation={}));class r{constructor(N,W,x){this.resource=N,this.operation=W,this.target=x}isOperation(N){return this.operation===N}}e.FileOperationEvent=r;var o;(function(R){R[R.UPDATED=0]="UPDATED",R[R.ADDED=1]="ADDED",R[R.DELETED=2]="DELETED"})(o=e.FileChangeType||(e.FileChangeType={}));class a{constructor(N,W){this.ignorePathCasing=W,this.added=void 0,this.updated=void 0,this.deleted=void 0,this.changes=N;for(const x of N)switch(x.type){case 1:this.added||(this.added=C.TernarySearchTree.forUris(()=>this.ignorePathCasing)),this.added.set(x.resource,x);break;case 0:this.updated||(this.updated=C.TernarySearchTree.forUris(()=>this.ignorePathCasing)),this.updated.set(x.resource,x);break;case 2:this.deleted||(this.deleted=C.TernarySearchTree.forUris(()=>this.ignorePathCasing)),this.deleted.set(x.resource,x);break}}contains(N,...W){return this.doContains(N,{includeChildren:!1},...W)}affects(N,...W){return this.doContains(N,{includeChildren:!0},...W)}doContains(N,W,...x){var M,$,O,z,J,U;if(!N)return!1;const V=x.length>0;return!!((!V||x.includes(1))&&(((M=this.added)===null||M===void 0?void 0:M.get(N))||W.includeChildren&&(($=this.added)===null||$===void 0?void 0:$.findSuperstr(N)))||(!V||x.includes(0))&&(((O=this.updated)===null||O===void 0?void 0:O.get(N))||W.includeChildren&&((z=this.updated)===null||z===void 0?void 0:z.findSuperstr(N)))||(!V||x.includes(2))&&(((J=this.deleted)===null||J===void 0?void 0:J.findSubstr(N))||W.includeChildren&&((U=this.deleted)===null||U===void 0?void 0:U.findSuperstr(N))))}getAdded(){return this.getOfType(1)}gotAdded(){return!!this.added}getDeleted(){return this.getOfType(2)}gotDeleted(){return!!this.deleted}getUpdated(){return this.getOfType(0)}gotUpdated(){return!!this.updated}getOfType(N){const W=[],x=N===1?this.added:N===0?this.updated:this.deleted;if(x)for(const[,M]of x)W.push(M);return W}filter(N){return new a(this.changes.filter(W=>N(W)),this.ignorePathCasing)}}e.FileChangesEvent=a;function i(R,N,W){return!R||!N||R===N||N.length>R.length?!1:(N.charAt(N.length-1)!==k.sep&&(N+=k.sep),W?P.startsWithIgnoreCase(R,N):R.indexOf(N)===0)}e.isParent=i;class h extends Error{constructor(N,W,x){super(N);this.fileOperationResult=W,this.options=x}static isFileOperationError(N){return N instanceof Error&&!D.isUndefinedOrNull(N.fileOperationResult)}}e.FileOperationError=h;var y;(function(R){R[R.FILE_IS_DIRECTORY=0]="FILE_IS_DIRECTORY",R[R.FILE_NOT_FOUND=1]="FILE_NOT_FOUND",R[R.FILE_NOT_MODIFIED_SINCE=2]="FILE_NOT_MODIFIED_SINCE",R[R.FILE_MODIFIED_SINCE=3]="FILE_MODIFIED_SINCE",R[R.FILE_MOVE_CONFLICT=4]="FILE_MOVE_CONFLICT",R[R.FILE_READ_ONLY=5]="FILE_READ_ONLY",R[R.FILE_PERMISSION_DENIED=6]="FILE_PERMISSION_DENIED",R[R.FILE_TOO_LARGE=7]="FILE_TOO_LARGE",R[R.FILE_INVALID_PATH=8]="FILE_INVALID_PATH",R[R.FILE_EXCEEDS_MEMORY_LIMIT=9]="FILE_EXCEEDS_MEMORY_LIMIT",R[R.FILE_NOT_DIRECTORY=10]="FILE_NOT_DIRECTORY",R[R.FILE_OTHER_ERROR=11]="FILE_OTHER_ERROR"})(y=e.FileOperationResult||(e.FileOperationResult={})),e.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"},e.HotExitConfiguration={OFF:"off",ON_EXIT:"onExit",ON_EXIT_AND_WINDOW_CLOSE:"onExitAndWindowClose"},e.FILES_ASSOCIATIONS_CONFIG="files.associations",e.FILES_EXCLUDE_CONFIG="files.exclude";var m;(function(R){R[R.FILE=0]="FILE",R[R.FOLDER=1]="FOLDER",R[R.ROOT_FOLDER=2]="ROOT_FOLDER"})(m=e.FileKind||(e.FileKind={})),e.ETAG_DISABLED="";function E(R){if(!(typeof R.size!="number"||typeof R.mtime!="number"))return R.mtime.toString(29)+R.size.toString(31)}e.etag=E;async function _(R,N){if(!N.canHandleResource(A.URI.from({scheme:R.scheme})))return new Promise(W=>{const x=N.onDidChangeFileSystemProviderRegistrations(M=>{M.scheme===R.scheme&&M.added&&(x.dispose(),W())})})}e.whenProviderRegistered=_,e.MIN_MAX_MEMORY_SIZE_MB=2048,e.FALLBACK_MAX_MEMORY_SIZE_MB=4096;class L{static formatSize(N){return D.isNumber(N)||(N=0),N<L.KB?w.localize(1,null,N.toFixed(0)):N<L.MB?w.localize(2,null,(N/L.KB).toFixed(2)):N<L.GB?w.localize(3,null,(N/L.MB).toFixed(2)):N<L.TB?w.localize(4,null,(N/L.GB).toFixed(2)):w.localize(5,null,(N/L.TB).toFixed(2))}}e.ByteSize=L,L.KB=1024,L.MB=L.KB*L.KB,L.GB=L.MB*L.KB,L.TB=L.GB*L.KB}),define(ge[83],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class w{constructor(...A){this._entries=new Map;for(let[T,P]of A)this.set(T,P)}set(A,T){const P=this._entries.get(A);return this._entries.set(A,T),P}has(A){return this._entries.has(A)}get(A){return this._entries.get(A)}}e.ServiceCollection=w}),define(ge[181],pe([0,1,15,174,109,4,83,19]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationService=void 0;const C=!1;class n extends Error{constructor(u){super("cyclic dependency between services");this.message=u.toString()}}class I{constructor(u=new P.ServiceCollection,g=!1,b){this._activeInstantiations=new Set,this._services=u,this._strict=g,this._parent=b,this._services.set(T.IInstantiationService,this)}createChild(u){return new I(u,this._strict,this)}invokeFunction(u,...g){let b=v.traceInvocation(u),p=!1;try{return u({get:(s,l)=>{if(p)throw w.illegalState("service accessor is only valid during the invocation of its target method");const c=this._getOrCreateServiceInstance(s,b);if(!c&&l!==T.optional)throw new Error(`[invokeFunction] unknown service '${s}'`);return c}},...g)}finally{p=!0,b.stop()}}createInstance(u,...g){let b,p;return u instanceof A.SyncDescriptor?(b=v.traceCreation(u.ctor),p=this._createInstance(u.ctor,u.staticArguments.concat(g),b)):(b=v.traceCreation(u),p=this._createInstance(u,g,b)),b.stop(),p}_createInstance(u,g=[],b){let p=T._util.getServiceDependencies(u).sort((l,c)=>l.index-c.index),d=[];for(const l of p){let c=this._getOrCreateServiceInstance(l.id,b);if(!c&&this._strict&&!l.optional)throw new Error(`[createInstance] ${u.name} depends on UNKNOWN service ${l.id}.`);d.push(c)}let s=p.length>0?p[0].index:g.length;if(g.length!==s){console.warn(`[createInstance] First service dependency of ${u.name} at position ${s+1} conflicts with ${g.length} static arguments`);let l=s-g.length;l>0?g=g.concat(new Array(l)):g=g.slice(0,s)}return new u(...[...g,...d])}_setServiceInstance(u,g){if(this._services.get(u)instanceof A.SyncDescriptor)this._services.set(u,g);else if(this._parent)this._parent._setServiceInstance(u,g);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(u){let g=this._services.get(u);return!g&&this._parent?this._parent._getServiceInstanceOrDescriptor(u):g}_getOrCreateServiceInstance(u,g){let b=this._getServiceInstanceOrDescriptor(u);return b instanceof A.SyncDescriptor?this._safeCreateAndCacheServiceInstance(u,b,g.branch(u,!0)):(g.branch(u,!1),b)}_safeCreateAndCacheServiceInstance(u,g,b){if(this._activeInstantiations.has(u))throw new Error(`illegal state - RECURSIVELY instantiating service '${u}'`);this._activeInstantiations.add(u);try{return this._createAndCacheServiceInstance(u,g,b)}finally{this._activeInstantiations.delete(u)}}_createAndCacheServiceInstance(u,g,b){const p=new k.Graph(l=>l.id.toString());let d=0;const s=[{id:u,desc:g,_trace:b}];for(;s.length;){const l=s.pop();if(p.lookupOrInsertNode(l),d++>1e3)throw new n(p);for(let c of T._util.getServiceDependencies(l.desc.ctor)){let t=this._getServiceInstanceOrDescriptor(c.id);if(!t&&!c.optional&&console.warn(`[createInstance] ${u} depends on ${c.id} which is NOT registered.`),t instanceof A.SyncDescriptor){const r={id:c.id,desc:t,_trace:l._trace.branch(c.id,!0)};p.insertEdge(l,r),s.push(r)}}}for(;;){const l=p.roots();if(l.length===0){if(!p.isEmpty())throw new n(p);break}for(const{data:c}of l){if(this._getServiceInstanceOrDescriptor(c.id)instanceof A.SyncDescriptor){const r=this._createServiceInstanceWithOwner(c.id,c.desc.ctor,c.desc.staticArguments,c.desc.supportsDelayedInstantiation,c._trace);this._setServiceInstance(c.id,r)}p.removeNode(c)}}return this._getServiceInstanceOrDescriptor(u)}_createServiceInstanceWithOwner(u,g,b=[],p,d){if(this._services.get(u)instanceof A.SyncDescriptor)return this._createServiceInstance(g,b,p,d);if(this._parent)return this._parent._createServiceInstanceWithOwner(u,g,b,p,d);throw new Error(`illegalState - creating UNKNOWN service instance ${g.name}`)}_createServiceInstance(u,g=[],b,p){if(b){const d=new D.IdleValue(()=>this._createInstance(u,g,p));return new Proxy(Object.create(null),{get(s,l){if(l in s)return s[l];let c=d.value,t=c[l];return typeof t!="function"||(t=t.bind(c),s[l]=t),t},set(s,l,c){return d.value[l]=c,!0}})}else return this._createInstance(u,g,p)}}e.InstantiationService=I;var S;(function(f){f[f.Creation=0]="Creation",f[f.Invocation=1]="Invocation",f[f.Branch=2]="Branch"})(S||(S={}));class v{constructor(u,g){this.type=u,this.name=g,this._start=Date.now(),this._dep=[]}static traceInvocation(u){return C?new v(1,u.name||u.toString().substring(0,42).replace(/\n/g,"")):v._None}static traceCreation(u){return C?new v(0,u.name):v._None}branch(u,g){let b=new v(2,u.toString());return this._dep.push([u,g,b]),b}stop(){let u=Date.now()-this._start;v._totals+=u;let g=!1;function b(d,s){let l=[],c=new Array(d+1).join("	");for(const[t,r,o]of s._dep)if(r&&o){g=!0,l.push(`${c}CREATES -> ${t}`);let a=b(d+1,o);a&&l.push(a)}else l.push(`${c}uses -> ${t}`);return l.join(`
`)}let p=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${b(1,this)}`,`DONE, took ${u.toFixed(2)}ms (grand total ${v._totals.toFixed(2)}ms)`];(u>2||g)&&console.log(p.join(`
`))}}v._None=new class extends v{constructor(){super(-1,null)}stop(){}branch(){return this}},v._totals=0}),define(ge[11],pe([0,1,4,5,9,3,49]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevelToString=e.parseLogLevel=e.getLogLevel=e.NullLogService=e.DelegatedLogService=e.MultiplexLogService=e.ConsoleLogInMainService=e.LogServiceAdapter=e.ConsoleLogService=e.ConsoleLogMainService=e.AbstractLogService=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILoggerService=e.ILogService=void 0,e.ILogService=w.createDecorator("logService"),e.ILoggerService=w.createDecorator("loggerService");function D(){return new Date().toISOString()}var C;(function(l){l[l.Trace=0]="Trace",l[l.Debug=1]="Debug",l[l.Info=2]="Info",l[l.Warning=3]="Warning",l[l.Error=4]="Error",l[l.Critical=5]="Critical",l[l.Off=6]="Off"})(C=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=C.Info;class n extends k.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new T.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(c){this.level!==c&&(this.level=c,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogService=n;class I extends n{constructor(c=e.DEFAULT_LOG_LEVEL){super();this.setLevel(c),this.useColors=!A.isWindows}trace(c,...t){this.getLevel()<=C.Trace&&(this.useColors?console.log(`[90m[main ${D()}][0m`,c,...t):console.log(`[main ${D()}]`,c,...t))}debug(c,...t){this.getLevel()<=C.Debug&&(this.useColors?console.log(`[90m[main ${D()}][0m`,c,...t):console.log(`[main ${D()}]`,c,...t))}info(c,...t){this.getLevel()<=C.Info&&(this.useColors?console.log(`[90m[main ${D()}][0m`,c,...t):console.log(`[main ${D()}]`,c,...t))}warn(c,...t){this.getLevel()<=C.Warning&&(this.useColors?console.warn(`[93m[main ${D()}][0m`,c,...t):console.warn(`[main ${D()}]`,c,...t))}error(c,...t){this.getLevel()<=C.Error&&(this.useColors?console.error(`[91m[main ${D()}][0m`,c,...t):console.error(`[main ${D()}]`,c,...t))}critical(c,...t){this.getLevel()<=C.Critical&&(this.useColors?console.error(`[90m[main ${D()}][0m`,c,...t):console.error(`[main ${D()}]`,c,...t))}dispose(){}flush(){}}e.ConsoleLogMainService=I;class S extends n{constructor(c=e.DEFAULT_LOG_LEVEL){super();this.setLevel(c)}trace(c,...t){this.getLevel()<=C.Trace&&console.log("%cTRACE","color: #888",c,...t)}debug(c,...t){this.getLevel()<=C.Debug&&console.log("%cDEBUG","background: #eee; color: #888",c,...t)}info(c,...t){this.getLevel()<=C.Info&&console.log("%c INFO","color: #33f",c,...t)}warn(c,...t){this.getLevel()<=C.Warning&&console.log("%c WARN","color: #993",c,...t)}error(c,...t){this.getLevel()<=C.Error&&console.log("%c  ERR","color: #f33",c,...t)}critical(c,...t){this.getLevel()<=C.Critical&&console.log("%cCRITI","background: #f33; color: white",c,...t)}dispose(){}flush(){}}e.ConsoleLogService=S;class v extends n{constructor(c,t=e.DEFAULT_LOG_LEVEL){super();this.adapter=c,this.setLevel(t)}trace(c,...t){this.getLevel()<=C.Trace&&this.adapter.consoleLog("trace",[this.extractMessage(c),...t])}debug(c,...t){this.getLevel()<=C.Debug&&this.adapter.consoleLog("debug",[this.extractMessage(c),...t])}info(c,...t){this.getLevel()<=C.Info&&this.adapter.consoleLog("info",[this.extractMessage(c),...t])}warn(c,...t){this.getLevel()<=C.Warning&&this.adapter.consoleLog("warn",[this.extractMessage(c),...t])}error(c,...t){this.getLevel()<=C.Error&&this.adapter.consoleLog("error",[this.extractMessage(c),...t])}critical(c,...t){this.getLevel()<=C.Critical&&this.adapter.consoleLog("critical",[this.extractMessage(c),...t])}extractMessage(c){return typeof c=="string"?c:P.toErrorMessage(c,this.getLevel()<=C.Trace)}dispose(){}flush(){}}e.LogServiceAdapter=v;class f extends v{constructor(c,t=e.DEFAULT_LOG_LEVEL){super({consoleLog:(r,o)=>c.consoleLog(r,o)},t)}}e.ConsoleLogInMainService=f;class u extends n{constructor(c){super();this.logServices=c,c.length&&this.setLevel(c[0].getLevel())}setLevel(c){for(const t of this.logServices)t.setLevel(c);super.setLevel(c)}trace(c,...t){for(const r of this.logServices)r.trace(c,...t)}debug(c,...t){for(const r of this.logServices)r.debug(c,...t)}info(c,...t){for(const r of this.logServices)r.info(c,...t)}warn(c,...t){for(const r of this.logServices)r.warn(c,...t)}error(c,...t){for(const r of this.logServices)r.error(c,...t)}critical(c,...t){for(const r of this.logServices)r.critical(c,...t)}flush(){for(const c of this.logServices)c.flush()}dispose(){for(const c of this.logServices)c.dispose()}}e.MultiplexLogService=u;class g extends k.Disposable{constructor(c){super();this.logService=c,this._register(c)}get onDidChangeLogLevel(){return this.logService.onDidChangeLogLevel}setLevel(c){this.logService.setLevel(c)}getLevel(){return this.logService.getLevel()}trace(c,...t){this.logService.trace(c,...t)}debug(c,...t){this.logService.debug(c,...t)}info(c,...t){this.logService.info(c,...t)}warn(c,...t){this.logService.warn(c,...t)}error(c,...t){this.logService.error(c,...t)}critical(c,...t){this.logService.critical(c,...t)}flush(){this.logService.flush()}}e.DelegatedLogService=g;class b{constructor(){this.onDidChangeLogLevel=new T.Emitter().event}setLevel(c){}getLevel(){return C.Info}trace(c,...t){}debug(c,...t){}info(c,...t){}warn(c,...t){}error(c,...t){}critical(c,...t){}dispose(){}flush(){}}e.NullLogService=b;function p(l){if(l.verbose)return C.Trace;if(typeof l.logLevel=="string"){const c=d(l.logLevel.toLowerCase());if(c!==void 0)return c}return e.DEFAULT_LOG_LEVEL}e.getLogLevel=p;function d(l){switch(l){case"trace":return C.Trace;case"debug":return C.Debug;case"info":return C.Info;case"warn":return C.Warning;case"error":return C.Error;case"critical":return C.Critical;case"off":return C.Off}}e.parseLogLevel=d;function s(l){switch(l){case C.Trace:return"trace";case C.Debug:return"debug";case C.Info:return"info";case C.Warning:return"warn";case C.Error:return"error";case C.Critical:return"critical";case C.Off:return"off"}}e.LogLevelToString=s}),define(ge[110],pe([0,1,7,11,50]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpdLogService=e.createRotatingLogger=void 0;async function T(n,I){try{const S=await new Promise((f,u)=>{Z(["spdlog"],f,u)});S.setAsyncMode(8192,500);const v=w.join(I,`${n}.log`);return S.createRotatingLoggerAsync(n,v,5*A.ByteSize.MB,6)}catch(S){console.error(S)}return null}function P(n,I,S,v){return Z.__$__nodeRequire("spdlog").createRotatingLogger(n,I,S,v)}e.createRotatingLogger=P;function D(n,I,S){switch(I){case k.LogLevel.Trace:n.trace(S);break;case k.LogLevel.Debug:n.debug(S);break;case k.LogLevel.Info:n.info(S);break;case k.LogLevel.Warning:n.warn(S);break;case k.LogLevel.Error:n.error(S);break;case k.LogLevel.Critical:n.critical(S);break;default:throw new Error("Invalid log level")}}class C extends k.AbstractLogService{constructor(I,S,v){super();this.name=I,this.logsFolder=S,this.buffer=[],this._loggerCreationPromise=void 0,this.setLevel(v),this._createSpdLogLogger(),this._register(this.onDidChangeLogLevel(f=>{this._logger&&this._logger.setLevel(f)}))}_createSpdLogLogger(){return this._loggerCreationPromise||(this._loggerCreationPromise=T(this.name,this.logsFolder).then(I=>{if(I){this._logger=I,this._logger.setLevel(this.getLevel());for(const{level:S,message:v}of this.buffer)D(this._logger,S,v);this.buffer=[]}})),this._loggerCreationPromise}_log(I,S){this._logger?D(this._logger,I,S):this.getLevel()<=I&&this.buffer.push({level:I,message:S})}trace(I,...S){this.getLevel()<=k.LogLevel.Trace&&this._log(k.LogLevel.Trace,this.format([I,...S]))}debug(I,...S){this.getLevel()<=k.LogLevel.Debug&&this._log(k.LogLevel.Debug,this.format([I,...S]))}info(I,...S){this.getLevel()<=k.LogLevel.Info&&this._log(k.LogLevel.Info,this.format([I,...S]))}warn(I,...S){this.getLevel()<=k.LogLevel.Warning&&this._log(k.LogLevel.Warning,this.format([I,...S]))}error(I,...S){if(this.getLevel()<=k.LogLevel.Error)if(I instanceof Error){const v=Array.prototype.slice.call(arguments);v[0]=I.stack,this._log(k.LogLevel.Error,this.format(v))}else this._log(k.LogLevel.Error,this.format([I,...S]))}critical(I,...S){this.getLevel()<=k.LogLevel.Critical&&this._log(k.LogLevel.Critical,this.format([I,...S]))}flush(){this._logger?this._logger.flush():this._loggerCreationPromise&&this._loggerCreationPromise.then(()=>this.flush())}dispose(){this._logger?this.disposeLogger():this._loggerCreationPromise&&this._loggerCreationPromise.then(()=>this.disposeLogger()),this._loggerCreationPromise=void 0}disposeLogger(){this._logger&&(this._logger.drop(),this._logger=void 0)}format(I){let S="";for(let v=0;v<I.length;v++){let f=I[v];if(typeof f=="object")try{f=JSON.stringify(f)}catch(u){}S+=(v>0?" ":"")+f}return S}}e.SpdLogService=C}),define(ge[111],pe([0,1,4,153,76]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=e.MarkerTag=void 0;var T;(function(C){C[C.Unnecessary=1]="Unnecessary",C[C.Deprecated=2]="Deprecated"})(T=e.MarkerTag||(e.MarkerTag={}));var P;(function(C){C[C.Hint=1]="Hint",C[C.Info=2]="Info",C[C.Warning=4]="Warning",C[C.Error=8]="Error"})(P=e.MarkerSeverity||(e.MarkerSeverity={})),function(C){function n(u,g){return g-u}C.compare=n;const I=Object.create(null);I[C.Error]=k.localize(0,null),I[C.Warning]=k.localize(1,null),I[C.Info]=k.localize(2,null);function S(u){return I[u]||""}C.toString=S;function v(u){switch(u){case A.default.Error:return C.Error;case A.default.Warning:return C.Warning;case A.default.Info:return C.Info;case A.default.Ignore:return C.Hint}}C.fromSeverity=v;function f(u){switch(u){case C.Error:return A.default.Error;case C.Warning:return A.default.Warning;case C.Info:return A.default.Info;case C.Hint:return A.default.Ignore}}C.toSeverity=f}(P=e.MarkerSeverity||(e.MarkerSeverity={}));var D;(function(C){const n="";function I(v){return S(v,!0)}C.makeKey=I;function S(v,f){let u=[n];return v.source?u.push(v.source.replace("\xA6","\\\xA6")):u.push(n),v.code?typeof v.code=="string"?u.push(v.code.replace("\xA6","\\\xA6")):u.push(v.code.value.replace("\xA6","\\\xA6")):u.push(n),v.severity!==void 0&&v.severity!==null?u.push(P.toString(v.severity)):u.push(n),v.message&&f?u.push(v.message.replace("\xA6","\\\xA6")):u.push(n),v.startLineNumber!==void 0&&v.startLineNumber!==null?u.push(v.startLineNumber.toString()):u.push(n),v.startColumn!==void 0&&v.startColumn!==null?u.push(v.startColumn.toString()):u.push(n),v.endLineNumber!==void 0&&v.endLineNumber!==null?u.push(v.endLineNumber.toString()):u.push(n),v.endColumn!==void 0&&v.endColumn!==null?u.push(v.endColumn.toString()):u.push(n),u.push(n),u.join("\xA6")}C.makeKeyOptionalMessage=S})(D=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=w.createDecorator("markerService")}),define(ge[182],pe([0,1,76,4,3]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpProgress=e.NoOpNotification=e.NotificationsFilter=e.NeverShowAgainScope=e.INotificationService=e.Severity=void 0,e.Severity=w.default,e.INotificationService=k.createDecorator("notificationService");var T;(function(n){n[n.WORKSPACE=0]="WORKSPACE",n[n.GLOBAL=1]="GLOBAL"})(T=e.NeverShowAgainScope||(e.NeverShowAgainScope={}));var P;(function(n){n[n.OFF=0]="OFF",n[n.SILENT=1]="SILENT",n[n.ERROR=2]="ERROR"})(P=e.NotificationsFilter||(e.NotificationsFilter={}));class D{constructor(){this.progress=new C,this.onDidClose=A.Event.None,this.onDidChangeVisibility=A.Event.None}updateSeverity(I){}updateMessage(I){}updateActions(I){}close(){}}e.NoOpNotification=D;class C{infinite(){}done(){}total(I){}worked(I){}}e.NoOpProgress=C}),define(ge[183],pe([0,1,9,37,13,23]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let P;if(w.isWeb||typeof Z=="undefined"||typeof Z.__$__nodeRequire!="function")P={webBuiltInExtensions:[{name:"ms-vscode.github-browser",version:"0.0.14",repo:"https://github.com/microsoft/vscode-github-browser",metadata:{id:"c1bcff4b-4ecb-466e-b8f6-b02788b5fb5a",publisherId:{publisherId:"5f5636e7-69ed-4afe-b5d6-8d231fb3d3ee",publisherName:"ms-vscode",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"}}],nameShort:"Code",nameLong:"Visual Studio Code",applicationName:"code",win32AppId:"{{F8A2A208-72B3-4D61-95FC-8A65D340689B}",win32x64AppId:"{{EA457B21-F73E-494C-ACAB-524FDE069978}",win32arm64AppId:"{{A5270FC5-65AD-483E-AC30-2C276B63D0AC}",win32UserAppId:"{{D628A17A-9713-46BF-8D57-E671B46A741E}",win32x64UserAppId:"{{771FD6B0-FA20-440A-A002-3B3BAC16DC50}",win32arm64UserAppId:"{{D9E514E7-1A56-452D-9337-2990C0DC4310}",win32NameVersion:"Microsoft Visual Studio Code",win32DirName:"Microsoft VS Code",win32SetupExeBasename:"VSCodeSetup",win32AppUserModelId:"Microsoft.VisualStudioCode",win32ShellNameShort:"Code",win32MutexName:"vscode",win32RegValueName:"VSCode",darwinCredits:"resources/darwin/Credits.rtf",darwinBundleIdentifier:"com.microsoft.VSCode",darwinExecutable:"VSCode",linuxIconName:"com.visualstudio.code",licenseFileName:"LICENSE.rtf",licenseName:"Multiple, see https://code.visualstudio.com/license",urlProtocol:"vscode",dataFolderName:".vscode",serverDataFolderName:".vscode-server",downloadUrl:"https://code.visualstudio.com",updateUrl:"https://update.code.visualstudio.com",webEndpointUrl:"https://vscodeweb.azureedge.net",quality:"stable",extensionsGallery:{serviceUrl:"https://marketplace.visualstudio.com/_apis/public/gallery",cacheUrl:"https://vscode.blob.core.windows.net/gallery/index",itemUrl:"https://marketplace.visualstudio.com/items",controlUrl:"https://az764295.vo.msecnd.net/extensions/marketplace.json",recommendationsUrl:"https://az764295.vo.msecnd.net/extensions/workspaceRecommendations.json.gz"},extensionTips:{"ms-dotnettools.csharp":"{**/*.cs,**/project.json,**/global.json,**/*.csproj,**/*.cshtml,**/*.sln,**/appsettings.json}","msjsdiag.debugger-for-chrome":"{**/*.ts,**/*.tsx,**/*.js,**/*.jsx,**/*.es6,**/.babelrc}","firefox-devtools.vscode-firefox-debug":"{**/*.ts,**/*.tsx,**/*.js,**/*.jsx,**/*.es6,**/.babelrc}","golang.Go":"**/*.go","ms-vscode.PowerShell":"{**/*.ps1,**/*.psd1,**/*.psm1,**/*.ps.config,**/*.ps1.config}","austin.code-gnu-global":"{**/*.c,**/*.cpp,**/*.h}","Ionide.Ionide-fsharp":"{**/*.fsx,**/*.fsi,**/*.fs,**/*.ml,**/*.mli}","dbaeumer.vscode-eslint":"{**/*.js,**/*.jsx,**/*.es6,**/.eslintrc.*,**/.eslintrc,**/.babelrc,**/jsconfig.json}","dbaeumer.jshint":"{**/*.js,**/*.jsx,**/*.es6,**/.babelrc,**/jsconfig.json,**/.jshintrc,**/.jshintignore}","ms-vscode.vscode-typescript-tslint-plugin":"{**/tslint.json}","bmewburn.vscode-intelephense-client":"{**/*.php,**/php.ini}","felixfbecker.php-intellisense":"{**/*.php,**/php.ini}","felixfbecker.php-debug":"{**/*.php,**/php.ini}","ikappas.phpcs":"{**/*.php,**/php.ini}","rust-lang.rust":"{**/*.rs,**/*.rslib}","ms-vscode.cpptools-extension-pack":"{**/*.c,**/*.cpp,**/*.cc,**/.cxx,**/*.hh,**/*.hpp,**/*.hxx,**/*.h}","DavidAnson.vscode-markdownlint":"{**/*.md}","ms-azuretools.vscode-docker":"{**/dockerfile,**/Dockerfile,**/docker-compose.yml,**/docker-compose.*.yml,**/*.cs,**/project.json,**/global.json,**/*.csproj,**/*.cshtml,**/*.sln,**/appsettings.json,**/*.py,**/*.ipynb,**/*.js,**/*.ts,**/package.json}","EditorConfig.EditorConfig":"{**/.editorconfig}","HookyQR.beautify":"{**/.jsbeautifyrc,**/*.js,**/*.jsx,**/*.es6,**/.eslintrc.*,**/.babelrc,**/jsconfig.json}","donjayamanne.githistory":"{**/.gitignore,**/.git}","felipecaputo.git-project-manager":"{**/.gitignore,**/.git}","eamodio.gitlens":"{**/.gitignore,**/.git}","rebornix.Ruby":"{**/*.rb,**/*.erb,**/*.reek,**/.fasterer.yml,**/ruby-lint.yml,**/.rubocop.yml}","DotJoshJohnson.xml":"{**/*.xml}","shinnn.stylelint":"{**/.stylelintrc,**/stylelint.config.js}","eg2.vscode-npm-script":"{**/package.json}","ms-mssql.mssql":"{**/*.sql}","bajdzis.vscode-database":"{**/*.sql}","mtxr.sqltools":"{**/*.sql}","usqlextpublisher.usql-vscode-ext":"{**/*.usql}","ms-vscode.sublime-keybindings":"{**/.sublime-project,**/.sublime-workspace}","k--kato.intellij-idea-keybindings":"{**/.idea}","christian-kohler.npm-intellisense":"{**/package.json}","octref.vetur":"{**/*.vue}","ms-python.python":"{**/*.py,**/*.ipynb}","cake-build.cake-vscode":"{**/build.cake}","Angular.ng-template":"{**/.angular-cli.json,**/angular.json,**/*.ng.html,**/*.ng,**/*.ngml}","vscjava.vscode-maven":"**/pom.xml","ms-azuretools.vscode-azureterraform":"**/*.tf","HashiCorp.terraform":"**/*.tf","vsciot-vscode.vscode-arduino":"**/*.ino","ms-kubernetes-tools.vscode-kubernetes-tools":"{**/Chart.yaml}","GoogleCloudTools.cloudcode":"{**/skaffold.yaml}","Oracle.oracledevtools":"{**/*.sql}"},extensionImportantTips:{"ms-dotnettools.csharp":{name:"C#",languages:["csharp"],pattern:"{**/*.cs,**/global.json,**/*.csproj,**/*.cshtml,**/*.sln}"},"ms-python.python":{name:"Python",languages:["python"],pattern:"{**/*.py,**/*.ipynb}"},"golang.Go":{name:"Go",languages:["go"],pattern:"**/*.go"},"vscjava.vscode-java-pack":{name:"Java",languages:["java"],pattern:"{**/*.java}",isExtensionPack:!0},"ms-vscode.PowerShell":{name:"PowerShell",languages:["powershell"],pattern:"{**/*.ps1,**/*.psd1,**/*.psm1}"},"ms-vscode.cpptools":{name:"C/C++",languages:["c","cpp"],pattern:"{**/*.c,**/*.cpp,**/*.cc,**/.cxx,**/*.hh,**/*.hpp,**/*.hxx,**/*.h}"},"ms-azuretools.vscode-docker":{name:"Docker",languages:["dockerfile"],pattern:"{**/dockerfile,**/Dockerfile,**/docker-compose.yml,**/docker-compose.*.yml}"},"octref.vetur":{name:"Vetur",languages:["vue"],pattern:"{**/*.vue}"},"ms-vscode.cmake-tools":{name:"CMake Tools",pattern:"{**/CMakeLists.txt}"},"msazurermtools.azurerm-vscode-tools":{name:"Azure Resource Manager",pattern:"{**/azuredeploy.json}"},"ms-vscode-remote.remote-containers":{name:"Remote - Containers",pattern:"{**/devcontainer.json}"},"ms-azuretools.vscode-bicep":{name:"Bicep",pattern:"{**/*.bicep}"},"svelte.svelte-vscode":{name:"Svelte",pattern:"{**/*.svelte}"}},keymapExtensionTips:["vscodevim.vim","ms-vscode.sublime-keybindings","ms-vscode.atom-keybindings","ms-vscode.vs-keybindings","ms-vscode.notepadplusplus-keybindings","k--kato.intellij-idea-keybindings","hiro-sun.vscode-emacs","alphabotsec.vscode-eclipse-keybindings","alefragnani.delphi-keybindings"],configBasedExtensionTips:{git:{configPath:".git/config",configName:"Git",recommendations:{"github.vscode-pull-request-github":{name:"GitHub Pull Request",remotes:["github.com"]},"eamodio.gitlens":{name:"GitLens"}}},devContainer:{configPath:".devcontainer/devcontainer.json",configName:"Dev Container",recommendations:{"ms-vscode-remote.remote-containers":{name:"Remote - Containers",important:!0}}}},exeBasedExtensionTips:{az:{friendlyName:"Azure CLI",windowsPath:"%ProgramFiles(x86)%\\Microsoft SDKs\\Azure\\CLI2\\wbin\\az.cmd",recommendations:{"ms-vscode.azurecli":{name:"Azure CLI Tools"}}},heroku:{friendlyName:"Heroku CLI",windowsPath:"%ProgramFiles%\\Heroku\\bin\\heroku.cmd",recommendations:{"ms-azuretools.vscode-azureappservice":{name:"Azure App Service"},"pkosta2005.heroku-command":{name:"heroku-cli"}}},mongo:{friendlyName:"Mongo",windowsPath:"%ProgramFiles%\\MongoDB\\Server\\3.6\\bin\\mongod.exe",recommendations:{"ms-azuretools.vscode-cosmosdb":{name:"Azure Databases"}}},serverless:{friendlyName:"Serverless framework",windowsPath:"%APPDATA%\\npm\\serverless.cmd",recommendations:{"ms-azuretools.vscode-azurefunctions":{name:"Azure Functions"}}},func:{friendlyName:"Azure Function SDK",windowsPath:"%APPDATA%\\npm\\func.cmd",recommendations:{"ms-azuretools.vscode-azurefunctions":{name:"Azure Functions"}}},mysql:{friendlyName:"MySQL",windowsPath:"%ProgramFiles%\\MySQL\\MySQL Server 8.0\\bin\\mysqld.exe",recommendations:{"bajdzis.vscode-database":{name:"vscode-database"},"mtxr.sqltools":{name:"SQLTools"}}},postgres:{friendlyName:"PostgreSQL",windowsPath:"%ProgramFiles%\\PostgreSQL\\11\\bin\\psql.exe",recommendations:{"ms-ossdata.vscode-postgresql":{name:"PostgreSQL"},"bajdzis.vscode-database":{name:"vscode-database"},"mtxr.sqltools":{name:"SQLTools"}}},sqlcmd:{friendlyName:"SQL CLI",recommendations:{"ms-mssql.mssql":{name:"SQL Server (mssql)"}}},now:{friendlyName:"Now CLI",windowsPath:"%APPDATA%\\npm\\now.cmd",recommendations:{"ms-azuretools.vscode-azureappservice":{name:"Azure App Service"},"ms-azuretools.vscode-docker":{name:"Docker"}}},docker:{friendlyName:"Docker",windowsPath:"%ProgramFiles%\\Docker\\Docker\\Resources\\bin\\docker.exe",recommendations:{"ms-azuretools.vscode-docker":{name:"Docker",important:!0},"ms-vscode-remote.remote-containers":{name:"Remote - Containers",important:!0},"ms-kubernetes-tools.vscode-kubernetes-tools":{name:"Kubernetes"},"GoogleCloudTools.cloudcode":{name:"Cloud Code"},"mindaro.mindaro":{name:"Local Process with Kubernetes"}}},kubectl:{friendlyName:"Kubernetes",windowsPath:"%ProgramFiles%\\Docker\\Docker\\Resources\\bin\\kubectl.exe",recommendations:{"ms-azuretools.vscode-docker":{name:"Docker"},"ms-kubernetes-tools.vscode-kubernetes-tools":{name:"Kubernetes"},"GoogleCloudTools.cloudcode":{name:"Cloud Code"},"ms-vscode-remote.remote-containers":{name:"Remote - Containers"},"mindaro.mindaro":{name:"Local Process with Kubernetes"}}},ng:{friendlyName:"Angular CLI",windowsPath:"%APPDATA%\\npmexit\\ng.cmd",recommendations:{"johnpapa.Angular2":{name:"Angular Snippets"}}},"create-react-app":{friendlyName:"Create React App",windowsPath:"%APPDATA%\\npm\\create-react-app.cmd",recommendations:{"msjsdiag.vscode-react-native":{name:"React Native Tools"}}},"react-native":{friendlyName:"React Native",windowsPath:"%APPDATA%\\npm\\react-native-cli",recommendations:{"msjsdiag.vscode-react-native":{name:"React Native Tools"}}},p4:{friendlyName:"Perforce",recommendations:{"slevesque.perforce":{name:"Perforce for VS Code"}}},hg:{friendlyName:"Mercurial",recommendations:{"mrcrowl.hg":{name:"Hg"}}},subl:{friendlyName:"Sublime",windowsPath:"%ProgramFiles%\\Sublime Text3\\sublime_text.exe",recommendations:{"ms-vscode.sublime-keybindings":{name:"Sublime Text Keymap and Settings Importer"}}},atom:{friendlyName:"Atom",windowsPath:"%USERPROFILE%\\AppData\\Local\\atom\\bin\\atom.cmd",recommendations:{"ms-vscode.atom-keybindings":{name:"Atom Keymap"}}},notepadplusplus:{friendlyName:"Notepad++",windowsPath:"%ProgramFiles%\\Notepad++\\Notepad++.exe",recommendations:{"ms-vscode.notepadplusplus-keybindings":{name:"Notepad++ keymap"}}},vi:{friendlyName:"VIM",windowsPath:"%ProgramFiles(x86)%\\Vim\\vim80\\gvim.exe",recommendations:{"vscodevim.vim":{name:"Vim"}}},mvn:{friendlyName:"Maven",recommendations:{"vscjava.vscode-maven":{name:"Maven for Java"}}},"Microsoft Edge":{friendlyName:"Microsoft Edge",windowsPath:"%USERPROFILE%\\AppData\\Local\\Microsoft\\Edge\\Application\\msedge.exe",recommendations:{"msjsdiag.debugger-for-edge":{name:"Debugger for Microsoft Edge"},"ms-edgedevtools.vscode-edge-devtools":{name:"Elements for Microsoft Edge (Chromium)"}}},"Microsoft Edge Dev":{friendlyName:"Microsoft Edge Dev",windowsPath:"%USERPROFILE%\\AppData\\Local\\Microsoft\\Edge Dev\\Application\\msedge.exe",recommendations:{"msjsdiag.debugger-for-edge":{name:"Debugger for Microsoft Edge"},"ms-edgedevtools.vscode-edge-devtools":{name:"Elements for Microsoft Edge (Chromium)"}}},"Microsoft Edge Beta":{friendlyName:"Microsoft Edge Beta",windowsPath:"%USERPROFILE%\\AppData\\Local\\Microsoft\\Edge Beta\\Application\\msedge.exe",recommendations:{"msjsdiag.debugger-for-edge":{name:"Debugger for Microsoft Edge"},"ms-edgedevtools.vscode-edge-devtools":{name:"Elements for Microsoft Edge (Chromium)"}}},"Microsoft Edge Canary":{friendlyName:"Microsoft Edge Canary",windowsPath:"%USERPROFILE%\\AppData\\Local\\Microsoft\\Edge SxS\\Application\\msedge.exe",recommendations:{"msjsdiag.debugger-for-edge":{name:"Debugger for Microsoft Edge"},"ms-edgedevtools.vscode-edge-devtools":{name:"Elements for Microsoft Edge (Chromium)"}}},"Mozilla Firefox (x86)":{friendlyName:"Mozilla Firefox",windowsPath:"%ProgramFiles(x86)%\\Mozilla Firefox\\firefox.exe",recommendations:{"firefox-devtools.vscode-firefox-debug":{name:"Debugger for Firefox"}}},"Mozilla Firefox Developer Edition (x86)":{friendlyName:"Mozilla Firefox Developer Edition",windowsPath:"%ProgramFiles(x86)%\\Firefox Developer Edition\\firefox.exe",recommendations:{"firefox-devtools.vscode-firefox-debug":{name:"Debugger for Firefox"}}},"Mozilla Firefox":{friendlyName:"Mozilla Firefox",windowsPath:"%ProgramFiles%\\Mozilla Firefox\\firefox.exe",recommendations:{"firefox-devtools.vscode-firefox-debug":{name:"Debugger for Firefox"}}},"Mozilla Firefox Developer Edition":{friendlyName:"Mozilla Firefox Developer Edition",windowsPath:"%ProgramFiles%\\Firefox Developer Edition\\firefox.exe",recommendations:{"firefox-devtools.vscode-firefox-debug":{name:"Debugger for Firefox"}}},cordova:{friendlyName:"Cordova",windowsPath:"%APPDATA%\\npm\\cordova",recommendations:{"msjsdiag.cordova-tools":{name:"Cordova Tools"}}},gcloud:{friendlyName:"Google GCloud CLI",windowsPath:"%ProgramFiles(x86)%\\Google\\Cloud SDK\\google-cloud-sdk\\bin\\gcloud.cmd",recommendations:{"GoogleCloudTools.cloudcode":{name:"Cloud Code"}}},skaffold:{friendlyName:"Skaffold Code to Cluster",recommendations:{"ms-azuretools.vscode-docker":{name:"Docker"},"ms-kubernetes-tools.vscode-kubernetes-tools":{name:"Kubernetes"},"GoogleCloudTools.cloudcode":{name:"Cloud Code"},"mindaro.mindaro":{name:"Local Process with Kubernetes"}}},minikube:{friendlyName:"MiniKube Local Kubernetes Cluster",recommendations:{"ms-azuretools.vscode-docker":{name:"Docker"},"ms-kubernetes-tools.vscode-kubernetes-tools":{name:"Kubernetes"},"GoogleCloudTools.cloudcode":{name:"Cloud Code"},"ms-vscode-remote.remote-containers":{name:"Remote - Containers"},"mindaro.mindaro":{name:"Local Process with Kubernetes"}}},podman:{friendlyName:"Podman",recommendations:{"ms-vscode-remote.remote-containers":{name:"Remote - Containers"}}},wsl:{friendlyName:"Windows Subsystem for Linux (WSL)",windowsPath:"%WINDIR%\\system32\\lxss\\LxssManager.dll",important:!0,recommendations:{"ms-vscode-remote.remote-wsl":{name:"Remote - WSL",important:!0}}}},remoteExtensionTips:{wsl:{friendlyName:"Remote - WSL",extensionId:"ms-vscode-remote.remote-wsl"},"ssh-remote":{friendlyName:"Remote - SSH",extensionId:"ms-vscode-remote.remote-ssh"},"dev-container":{friendlyName:"Remote - Containers",extensionId:"ms-vscode-remote.remote-containers"},"attached-container":{friendlyName:"Remote - Containers",extensionId:"ms-vscode-remote.remote-containers"},vsonline:{friendlyName:"Visual Studio Online",extensionId:"ms-vsonline.vsonline"}},extensionKeywords:{md:["Markdown"],js:["JavaScript"],jsx:["JavaScript"],es6:["JavaScript"],html:["Html"],ts:["TypeScript"],tsx:["TypeScript"],css:["CSS"],scss:["SASS"],txt:["Text"],php:["PHP"],php3:["PHP"],php4:["PHP"],ph3:["PHP"],ph4:["PHP"],xml:["XML"],py:["Python"],pyc:["Python"],pyd:["Python"],pyo:["Python"],pyw:["Python"],pyz:["Python"],java:["Java"],class:["Java"],jar:["Java"],c:["c","objective c","objective-c"],m:["objective c","objective-c"],mm:["objective c","objective-c"],cpp:["cpp","c plus plus","c","c++"],cc:["cpp","c plus plus","c","c++"],cxx:["cpp","c plus plus","c++"],hh:["cpp","c plus plus","c++"],hpp:["cpp","c++"],h:["cpp","c plus plus","c++","c","objective c","objective-c"],sql:["sql"],sh:["bash"],bash:["bash"],zsh:["bash","zshell"],cs:["c#","csharp"],csproj:["c#","csharp"],sln:["c#","csharp"],go:["go"],sty:["latex"],tex:["latex"],ps:["powershell"],ps1:["powershell"],rs:["rust"],rslib:["rust"],hs:["haskell"],lhs:["haskell"],scm:["scheme"],ss:["scheme"],clj:["clojure"],cljs:["clojure"],cljc:["clojure"],edn:["clojure"],erl:["erlang"],hrl:["erlang"],scala:["scala"],sc:["scala"],pl:["perl"],pm:["perl"],t:["perl"],pod:["perl"],groovy:["groovy"],swift:["swift"],rb:["ruby"],rbw:["ruby"],jl:["julia"],f:["fortran"],for:["fortran"],f90:["fortran"],f95:["fortran"],coffee:["CoffeeScript"],litcoffee:["CoffeeScript"],yaml:["yaml"],yml:["yaml"],dart:["dart"],json:["json"]},extensionAllowedBadgeProviders:["api.bintray.com","api.travis-ci.com","api.travis-ci.org","app.fossa.io","badge.buildkite.com","badge.fury.io","badge.waffle.io","badgen.net","badges.frapsoft.com","badges.gitter.im","badges.greenkeeper.io","cdn.travis-ci.com","cdn.travis-ci.org","ci.appveyor.com","circleci.com","cla.opensource.microsoft.com","codacy.com","codeclimate.com","codecov.io","coveralls.io","david-dm.org","deepscan.io","dev.azure.com","docs.rs","flat.badgen.net","gemnasium.com","githost.io","gitlab.com","godoc.org","goreportcard.com","img.shields.io","isitmaintained.com","marketplace.visualstudio.com","nodesecurity.io","opencollective.com","snyk.io","travis-ci.com","travis-ci.org","visualstudio.com","vsmarketplacebadge.apphb.com","www.bithound.io","www.versioneye.com"],extensionAllowedBadgeProvidersRegex:["^https:\\/\\/github\\.com\\/[^/]+\\/[^/]+\\/workflows\\/.*badge\\.svg"],crashReporter:{productName:"VSCode",companyName:"Microsoft"},appCenter:{"win32-ia32":"appcenter://code?aid=f4289815-a66e-4ad9-b74f-d8e5bc093e41","win32-x64":"appcenter://code?aid=a4e3233c-699c-46ec-b4f4-9c2a77254662","linux-x64":"appcenter://code?aid=fba07a4d-84bd-4fc8-a125-9640fc8ce171",darwin:"appcenter://code?aid=860d6632-f65b-490b-85a8-3e72944f7774"},enableTelemetry:!0,aiConfig:{asimovKey:"AIF-444c3af9-8e69-4462-ab49-4191e6ad1916"},msftInternalDomains:["redmond.corp.microsoft.com","northamerica.corp.microsoft.com","fareast.corp.microsoft.com","ntdev.corp.microsoft.com","wingroup.corp.microsoft.com","southpacific.corp.microsoft.com","wingroup.windeploy.ntdev.microsoft.com","ddnet.microsoft.com","europe.corp.microsoft.com"],sendASmile:{reportIssueUrl:"https://go.microsoft.com/fwlink/?LinkId=534872",requestFeatureUrl:"https://go.microsoft.com/fwlink/?LinkID=533482"},documentationUrl:"https://go.microsoft.com/fwlink/?LinkID=533484#vscode",releaseNotesUrl:"https://go.microsoft.com/fwlink/?LinkID=533483#vscode",keyboardShortcutsUrlMac:"https://go.microsoft.com/fwlink/?linkid=832143",keyboardShortcutsUrlLinux:"https://go.microsoft.com/fwlink/?linkid=832144",keyboardShortcutsUrlWin:"https://go.microsoft.com/fwlink/?linkid=832145",introductoryVideosUrl:"https://go.microsoft.com/fwlink/?linkid=832146",tipsAndTricksUrl:"https://go.microsoft.com/fwlink/?linkid=852118",newsletterSignupUrl:"https://www.research.net/r/vsc-newsletter",twitterUrl:"https://go.microsoft.com/fwlink/?LinkID=533687",requestFeatureUrl:"https://go.microsoft.com/fwlink/?LinkID=533482",reportIssueUrl:"https://github.com/Microsoft/vscode/issues/new",licenseUrl:"https://go.microsoft.com/fwlink/?LinkID=533485",privacyStatementUrl:"https://go.microsoft.com/fwlink/?LinkId=786907",telemetryOptOutUrl:"https://go.microsoft.com/fwlink/?linkid=870136",npsSurveyUrl:"https://www.research.net/r/Z2RMYRJ",checksumFailMoreInfoUrl:"https://go.microsoft.com/fwlink/?LinkId=828886",electronRepository:"Microsoft/vscode-electron-prebuilt",settingsSearchUrl:"https://bingsettingssearch.trafficmanager.net/api/Search",surveys:[{surveyId:"cpp.1",surveyUrl:"https://www.research.net/r/VBVV6C6",languageId:"cpp",editCount:10,userProbability:.15},{surveyId:"java.2",surveyUrl:"https://www.research.net/r/vscodejava",languageId:"java",editCount:10,userProbability:.3},{surveyId:"javascript.1",surveyUrl:"https://www.research.net/r/vscode-js",languageId:"javascript",editCount:10,userProbability:.05},{surveyId:"typescript.1",surveyUrl:"https://www.research.net/r/vscode-ts",languageId:"typescript",editCount:10,userProbability:.05}],extensionAllowedProposedApi:["GitHub.codespaces","GitHub.vscode-pull-request-github-insiders","GitHub.vscode-pull-request-github","Microsoft.vscode-nmake-tools","ms-ai-tools.notebook-renderers","ms-dotnettools.dotnet-interactive-vscode","ms-python.gather","ms-python.python","ms-toolsai.jupyter","ms-toolsai.vscode-ai","ms-toolsai.vscode-ai-remote","ms-vscode-remote.remote-containers-nightly","ms-vscode-remote.remote-containers","ms-vscode-remote.remote-ssh-edit-nightly","ms-vscode-remote.remote-ssh-edit","ms-vscode-remote.remote-ssh-nightly","ms-vscode-remote.remote-ssh","ms-vscode-remote.remote-wsl-nightly","ms-vscode-remote.remote-wsl","ms-vscode-remote.remote-wsl-recommender","ms-vscode-remote.vscode-remote-extensionpack-nightly","ms-vscode-remote.vscode-remote-extensionpack","ms-vscode.azure-account","ms-vscode.azure-sphere-tools-ui","ms-vscode.azure-sphere-tools","ms-vscode.github-browser","ms-vscode.github-richnav","ms-vscode.js-debug-nightly","ms-vscode.js-debug","ms-vscode.lsif-browser","ms-vscode.vscode-js-profile-flame","ms-vscode.vscode-js-profile-table","ms-vscode.vscode-selfhost-test-provider","ms-vsliveshare.cloudenv-explorer","ms-vsliveshare.cloudenv","ms-vsliveshare.vsliveshare","ms-vsonline.vsonline","sandy081.999-test-github-issue-notebooks"],tasConfig:{endpoint:"https://default.exp-tas.com/vscode/ab",telemetryEventName:"query-expfeature",featuresTelemetryPropertyName:"VSCode.ABExp.Features",assignmentContextTelemetryPropertyName:"abexp.assignmentcontext"},experimentsUrl:"https://vscodeexperiments.azureedge.net/experiments/vscode-experiments.json",extensionKind:{"Shan.code-settings-sync":["ui"],"shalldie.background":["ui"],"techer.open-in-browser":["ui"],"manasxx.background-cover":["ui"],"CoenraadS.bracket-pair-colorizer":["ui","workspace"],"CoenraadS.bracket-pair-colorizer-2":["ui"],"hiro-sun.vscode-emacs":["ui","workspace"],"hnw.vscode-auto-open-markdown-preview":["ui","workspace"],"wayou.vscode-todo-highlight":["ui","workspace"]},linkProtectionTrustedDomains:["https://*.visualstudio.com","https://*.microsoft.com","https://aka.ms","https://vscode-auth.github.com","https://*.gallerycdn.vsassets.io","https://github.com/microsoft/","https://github.com/MicrosoftDocs/","https://login.microsoftonline.com"],auth:{loginUrl:"https://login.microsoftonline.com/common/oauth2/authorize",tokenUrl:"https://login.microsoftonline.com/common/oauth2/token",redirectUrl:"https://vscode-redirect.azurewebsites.net/",clientId:"aebc6443-996d-45c2-90f0-388ff96faa56"},"configurationSync.store":{url:"https://vscode-sync.trafficmanager.net/",stableUrl:"https://vscode-sync.trafficmanager.net/",insidersUrl:"https://vscode-sync-insiders.trafficmanager.net/",canSwitch:!1,authenticationProviders:{microsoft:{scopes:["https://management.core.windows.net/.default","offline_access"]},github:{scopes:["user:email"]}}},builtInExtensions:[{name:"ms-vscode.node-debug",version:"1.44.16",repo:"https://github.com/microsoft/vscode-node-debug",metadata:{id:"b6ded8fb-a0a0-4c1c-acbd-ab2a3bc995a6",publisherId:{publisherId:"5f5636e7-69ed-4afe-b5d6-8d231fb3d3ee",publisherName:"ms-vscode",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"}},{name:"ms-vscode.node-debug2",version:"1.42.5",repo:"https://github.com/microsoft/vscode-node-debug2",metadata:{id:"36d19e17-7569-4841-a001-947eb18602b2",publisherId:{publisherId:"5f5636e7-69ed-4afe-b5d6-8d231fb3d3ee",publisherName:"ms-vscode",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"}},{name:"ms-vscode.references-view",version:"0.0.77",repo:"https://github.com/microsoft/vscode-reference-view",metadata:{id:"dc489f46-520d-4556-ae85-1f9eab3c412d",publisherId:{publisherId:"5f5636e7-69ed-4afe-b5d6-8d231fb3d3ee",publisherName:"ms-vscode",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"}},{name:"ms-vscode.js-debug-companion",version:"1.0.8",repo:"https://github.com/microsoft/vscode-js-debug-companion",metadata:{id:"99cb0b7f-7354-4278-b8da-6cc79972169d",publisherId:{publisherId:"5f5636e7-69ed-4afe-b5d6-8d231fb3d3ee",publisherName:"ms-vscode",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"}},{name:"ms-vscode.js-debug",version:"1.53.0",repo:"https://github.com/microsoft/vscode-js-debug",metadata:{id:"25629058-ddac-4e17-abba-74678e126c5d",publisherId:{publisherId:"5f5636e7-69ed-4afe-b5d6-8d231fb3d3ee",publisherName:"ms-vscode",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"}},{name:"ms-vscode.vscode-js-profile-table",version:"0.0.11",repo:"https://github.com/microsoft/vscode-js-debug",metadata:{id:"7e52b41b-71ad-457b-ab7e-0620f1fc4feb",publisherId:{publisherId:"5f5636e7-69ed-4afe-b5d6-8d231fb3d3ee",publisherName:"ms-vscode",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"}},{name:"ms-vscode-remote.remote-wsl-recommender",version:"0.0.5",repo:"https://github.com/microsoft/vscode-remote-release",metadata:{id:"cb296d3c-017a-4dee-83af-ebb5a5a16e9a",publisherId:{publisherId:"ac9410a2-0d75-40ec-90de-b59bb705801d",publisherName:"ms-vscode-remote",displayName:"Microsoft",flags:"verified"},publisherDisplayName:"Microsoft"},platforms:["win32"],clientOnly:!0}],version:"1.53.2",commit:"622cb03f7e070a9670c94bae1a45d78d7181fbd4",date:"2021-02-11T11:36:16.134Z"},Object.keys(P).length===0&&Object.assign(P,{version:"1.53.0-dev",nameShort:w.isWeb?"Code Web - OSS Dev":"Code - OSS Dev",nameLong:w.isWeb?"Code Web - OSS Dev":"Code - OSS Dev",applicationName:"code-oss",dataFolderName:".vscode-oss",urlProtocol:"code-oss",reportIssueUrl:"https://github.com/microsoft/vscode/issues/new",licenseName:"MIT",licenseUrl:"https://github.com/microsoft/vscode/blob/master/LICENSE.txt",extensionAllowedProposedApi:["ms-vscode.vscode-js-profile-flame","ms-vscode.vscode-js-profile-table","ms-vscode.github-browser"]});else{const D=T.dirname(A.FileAccess.asFileUri("",Z));P=Z.__$__nodeRequire(T.joinPath(D,"product.json").fsPath);const C=Z.__$__nodeRequire(T.joinPath(D,"package.json").fsPath);k.env.VSCODE_DEV&&Object.assign(P,{nameShort:`${P.nameShort} Dev`,nameLong:`${P.nameLong} Dev`,dataFolderName:`${P.dataFolderName}-dev`}),Object.assign(P,{version:C.version})}e.default=P}),define(ge[184],pe([0,1,4,21,5]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.LongRunningOperation=e.Progress=e.emptyProgressRunner=e.ProgressLocation=e.IProgressService=void 0,e.IProgressService=w.createDecorator("progressService");var T;(function(C){C[C.Explorer=1]="Explorer",C[C.Scm=3]="Scm",C[C.Extensions=5]="Extensions",C[C.Window=10]="Window",C[C.Notification=15]="Notification",C[C.Dialog=20]="Dialog"})(T=e.ProgressLocation||(e.ProgressLocation={})),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class P{constructor(n){this.callback=n}get value(){return this._value}report(n){this._value=n,this.callback(this._value)}}e.Progress=P,P.None=Object.freeze({report(){}});class D extends A.Disposable{constructor(n){super();this.progressIndicator=n,this.currentOperationId=0,this.currentOperationDisposables=this._register(new A.DisposableStore)}start(n){this.stop();const I=++this.currentOperationId,S=new k.CancellationTokenSource;return this.currentProgressTimeout=setTimeout(()=>{I===this.currentOperationId&&(this.currentProgressRunner=this.progressIndicator.show(!0))},n),this.currentOperationDisposables.add(A.toDisposable(()=>clearTimeout(this.currentProgressTimeout))),this.currentOperationDisposables.add(A.toDisposable(()=>S.cancel())),this.currentOperationDisposables.add(A.toDisposable(()=>this.currentProgressRunner?this.currentProgressRunner.done():void 0)),{id:I,token:S.token,stop:()=>this.doStop(I),isCurrent:()=>this.currentOperationId===I}}stop(){this.doStop(this.currentOperationId)}doStop(n){this.currentOperationId===n&&this.currentOperationDisposables.clear()}}e.LongRunningOperation=D,e.IEditorProgressService=w.createDecorator("editorProgressService")}),define(ge[41],pe([0,1,16,53]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class A{constructor(){this.data=new Map}add(P,D){k.ok(w.isString(P)),k.ok(w.isObject(D)),k.ok(!this.data.has(P),"There is already an extension with this id"),this.data.set(P,D)}knows(P){return this.data.has(P)}as(P){return this.data.get(P)||null}}e.Registry=new A}),define(ge[112],pe([0,1,41,3]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function A(D){return D.length>0&&D.charAt(D.length-1)==="#"?D.substring(0,D.length-1):D}class T{constructor(){this._onDidChangeSchema=new k.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.schemasById={}}registerSchema(C,n){this.schemasById[A(C)]=n,this._onDidChangeSchema.fire(C)}notifySchemaChanged(C){this._onDidChangeSchema.fire(C)}getSchemaContributions(){return{schemas:this.schemasById}}}const P=new T;w.Registry.add(e.Extensions.JSONContribution,P)}),define(ge[84],pe([0,1,150,3,41,16,112]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScopes=e.validateProperty=e.getDefaultValue=e.overrideIdentifierFromKey=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.ConfigurationScope=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"};var D;(function(b){b[b.APPLICATION=1]="APPLICATION",b[b.MACHINE=2]="MACHINE",b[b.WINDOW=3]="WINDOW",b[b.RESOURCE=4]="RESOURCE",b[b.LANGUAGE_OVERRIDABLE=5]="LANGUAGE_OVERRIDABLE",b[b.MACHINE_OVERRIDABLE=6]="MACHINE_OVERRIDABLE"})(D=e.ConfigurationScope||(e.ConfigurationScope={})),e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const C=A.Registry.as(P.Extensions.JSONContribution);class n{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this.onDidSchemaChange=this._onDidSchemaChange.event,this._onDidUpdateConfiguration=new k.Emitter,this.onDidUpdateConfiguration=this._onDidUpdateConfiguration.event,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:w.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},C.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema)}registerConfiguration(p,d=!0){this.registerConfigurations([p],d)}registerConfigurations(p,d=!0){const s=[];p.forEach(l=>{s.push(...this.validateAndRegisterProperties(l,d)),this.configurationContributors.push(l),this.registerJSONConfiguration(l)}),C.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(s)}deregisterConfigurations(p){const d=[],s=l=>{if(l.properties)for(const c in l.properties)d.push(c),delete this.configurationProperties[c],this.removeFromSchema(c,l.properties[c]);l.allOf&&l.allOf.forEach(c=>s(c))};for(const l of p){s(l);const c=this.configurationContributors.indexOf(l);c!==-1&&this.configurationContributors.splice(c,1)}C.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(d)}registerDefaultConfigurations(p){const d=[],s=[];for(const l of p)for(const c in l)if(d.push(c),e.OVERRIDE_PROPERTY_PATTERN.test(c)){this.defaultValues[c]=Object.assign(Object.assign({},this.defaultValues[c]||{}),l[c]);const t={type:"object",default:this.defaultValues[c],description:w.localize(1,null,c),$ref:e.resourceLanguageSettingsSchemaId};s.push(S(c)),this.configurationProperties[c]=t,this.defaultLanguageConfigurationOverridesNode.properties[c]=t}else{this.defaultValues[c]=l[c];const t=this.configurationProperties[c];t&&(this.updatePropertyDefaultValue(c,t),this.updateSchema(c,t))}this.registerOverrideIdentifiers(s),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(d)}deregisterDefaultConfigurations(p){const d=[];for(const s of p)for(const l in s)if(d.push(l),delete this.defaultValues[l],e.OVERRIDE_PROPERTY_PATTERN.test(l))delete this.configurationProperties[l],delete this.defaultLanguageConfigurationOverridesNode.properties[l];else{const c=this.configurationProperties[l];c&&(this.updatePropertyDefaultValue(l,c),this.updateSchema(l,c))}this.updateOverridePropertyPatternKey(),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(d)}notifyConfigurationSchemaUpdated(...p){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(p){for(const d of p)this.overrideIdentifiers.add(d);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(p,d=!0,s=3){s=T.isUndefinedOrNull(p.scope)?s:p.scope;let l=[],c=p.properties;if(c)for(let r in c){if(d&&u(r)){delete c[r];continue}const o=c[r];if(this.updatePropertyDefaultValue(r,o),e.OVERRIDE_PROPERTY_PATTERN.test(r)?o.scope=void 0:o.scope=T.isUndefinedOrNull(o.scope)?s:o.scope,c[r].hasOwnProperty("included")&&!c[r].included){this.excludedConfigurationProperties[r]=c[r],delete c[r];continue}else this.configurationProperties[r]=c[r];!c[r].deprecationMessage&&c[r].markdownDeprecationMessage&&(c[r].deprecationMessage=c[r].markdownDeprecationMessage),l.push(r)}let t=p.allOf;if(t)for(let r of t)l.push(...this.validateAndRegisterProperties(r,d,s));return l}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}registerJSONConfiguration(p){const d=s=>{let l=s.properties;if(l)for(const t in l)this.updateSchema(t,l[t]);let c=s.allOf;c&&c.forEach(d)};d(p)}updateSchema(p,d){switch(e.allSettings.properties[p]=d,d.scope){case 1:e.applicationSettings.properties[p]=d;break;case 2:e.machineSettings.properties[p]=d;break;case 6:e.machineOverridableSettings.properties[p]=d;break;case 3:e.windowSettings.properties[p]=d;break;case 4:e.resourceSettings.properties[p]=d;break;case 5:e.resourceSettings.properties[p]=d,this.resourceLanguageSettingsSchema.properties[p]=d;break}}removeFromSchema(p,d){switch(delete e.allSettings.properties[p],d.scope){case 1:delete e.applicationSettings.properties[p];break;case 2:delete e.machineSettings.properties[p];break;case 6:delete e.machineOverridableSettings.properties[p];break;case 3:delete e.windowSettings.properties[p];break;case 4:case 5:delete e.resourceSettings.properties[p];break}}updateOverridePropertyPatternKey(){for(const p of this.overrideIdentifiers.values()){const d=`[${p}]`,s={type:"object",description:w.localize(2,null),errorMessage:w.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(d,s),e.allSettings.properties[d]=s,e.applicationSettings.properties[d]=s,e.machineSettings.properties[d]=s,e.machineOverridableSettings.properties[d]=s,e.windowSettings.properties[d]=s,e.resourceSettings.properties[d]=s}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(p,d){let s=this.defaultValues[p];T.isUndefined(s)&&(s=d.default),T.isUndefined(s)&&(s=v(d.type)),d.default=s}}const I="\\[.*\\]$";e.OVERRIDE_PROPERTY_PATTERN=new RegExp(I);function S(b){return b.substring(1,b.length-1)}e.overrideIdentifierFromKey=S;function v(b){switch(Array.isArray(b)?b[0]:b){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=v;const f=new n;A.Registry.add(e.Extensions.Configuration,f);function u(b){return b.trim()?e.OVERRIDE_PROPERTY_PATTERN.test(b)?w.localize(5,null,b):f.getConfigurationProperties()[b]!==void 0?w.localize(6,null,b):null:w.localize(4,null)}e.validateProperty=u;function g(){const b=[],p=f.getConfigurationProperties();for(const d of Object.keys(p))b.push([d,p[d].scope]);return b.push(["launch",4]),b.push(["task",4]),b}e.getScopes=g}),define(ge[85],pe([0,1,25,16,2,41,4,84]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMigratedSettingValue=e.keyFromOverrideIdentifier=e.getDefaultValues=e.getConfigurationKeys=e.merge=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.toOverrides=e.compare=e.ConfigurationTargetToString=e.ConfigurationTarget=e.isConfigurationOverrides=e.IConfigurationService=void 0,e.IConfigurationService=P.createDecorator("configurationService");function C(r){return r&&typeof r=="object"&&(!r.overrideIdentifier||typeof r.overrideIdentifier=="string")&&(!r.resource||r.resource instanceof A.URI)}e.isConfigurationOverrides=C;var n;(function(r){r[r.USER=1]="USER",r[r.USER_LOCAL=2]="USER_LOCAL",r[r.USER_REMOTE=3]="USER_REMOTE",r[r.WORKSPACE=4]="WORKSPACE",r[r.WORKSPACE_FOLDER=5]="WORKSPACE_FOLDER",r[r.DEFAULT=6]="DEFAULT",r[r.MEMORY=7]="MEMORY"})(n=e.ConfigurationTarget||(e.ConfigurationTarget={}));function I(r){switch(r){case 1:return"USER";case 2:return"USER_LOCAL";case 3:return"USER_REMOTE";case 4:return"WORKSPACE";case 5:return"WORKSPACE_FOLDER";case 6:return"DEFAULT";case 7:return"MEMORY"}}e.ConfigurationTargetToString=I;function S(r,o){const a=o?r?o.keys.filter(L=>r.keys.indexOf(L)===-1):[...o.keys]:[],i=r?o?r.keys.filter(L=>o.keys.indexOf(L)===-1):[...r.keys]:[],h=[];if(o&&r){for(const L of r.keys)if(o.keys.indexOf(L)!==-1){const R=p(r.contents,L),N=p(o.contents,L);w.equals(R,N)||h.push(L)}}const y=[],m=L=>{const R={};for(const N of L)for(const W of N.identifiers)R[c(W)]=N;return R},E=o?m(o.overrides):{},_=r?m(r.overrides):{};if(Object.keys(E).length)for(const L of a){const R=E[L];R&&y.push([D.overrideIdentifierFromKey(L),R.keys])}if(Object.keys(_).length)for(const L of i){const R=_[L];R&&y.push([D.overrideIdentifierFromKey(L),R.keys])}if(Object.keys(E).length&&Object.keys(_).length)for(const L of h){const R=_[L],N=E[L];if(R&&N){const W=S({contents:R.contents,keys:R.keys,overrides:[]},{contents:N.contents,keys:N.keys,overrides:[]});y.push([D.overrideIdentifierFromKey(L),[...W.added,...W.removed,...W.updated]])}}return{added:a,removed:i,updated:h,overrides:y}}e.compare=S;function v(r,o){const a=[];for(const i of Object.keys(r))if(D.OVERRIDE_PROPERTY_PATTERN.test(i)){const h={};for(const y in r[i])h[y]=r[i][y];a.push({identifiers:[D.overrideIdentifierFromKey(i).trim()],keys:Object.keys(h),contents:f(h,o)})}return a}e.toOverrides=v;function f(r,o){const a=Object.create(null);for(let i in r)u(a,i,r[i],o);return a}e.toValuesTree=f;function u(r,o,a,i){const h=o.split("."),y=h.pop();let m=r;for(let E=0;E<h.length;E++){let _=h[E],L=m[_];switch(typeof L){case"undefined":L=m[_]=Object.create(null);break;case"object":break;default:i(`Ignoring ${o} as ${h.slice(0,E+1).join(".")} is ${JSON.stringify(L)}`);return}m=L}if(typeof m=="object"&&m!==null)try{m[y]=a}catch(E){i(`Ignoring ${o} as ${h.join(".")} is ${JSON.stringify(m)}`)}else i(`Ignoring ${o} as ${h.join(".")} is ${JSON.stringify(m)}`)}e.addToValueTree=u;function g(r,o){const a=o.split(".");b(r,a)}e.removeFromValueTree=g;function b(r,o){const a=o.shift();if(o.length===0){delete r[a];return}if(Object.keys(r).indexOf(a)!==-1){const i=r[a];typeof i=="object"&&!Array.isArray(i)&&(b(i,o),Object.keys(i).length===0&&delete r[a])}}function p(r,o,a){function i(m,E){let _=m;for(const L of E){if(typeof _!="object"||_===null)return;_=_[L]}return _}const h=o.split("."),y=i(r,h);return typeof y=="undefined"?a:y}e.getConfigurationValue=p;function d(r,o,a){Object.keys(o).forEach(i=>{i!=="__proto__"&&(i in r?k.isObject(r[i])&&k.isObject(o[i])?d(r[i],o[i],a):a&&(r[i]=o[i]):r[i]=o[i])})}e.merge=d;function s(){const r=T.Registry.as(D.Extensions.Configuration).getConfigurationProperties();return Object.keys(r)}e.getConfigurationKeys=s;function l(){const r=Object.create(null),o=T.Registry.as(D.Extensions.Configuration).getConfigurationProperties();for(let a in o){let i=o[a].default;u(r,a,i,h=>console.error(`Conflict in default settings: ${h}`))}return r}e.getDefaultValues=l;function c(r){return`[${r}]`}e.keyFromOverrideIdentifier=c;function t(r,o,a){const i=r.inspect(o),h=r.inspect(a);return typeof i.userValue!="undefined"||typeof i.workspaceValue!="undefined"||typeof i.workspaceFolderValue!="undefined"?i.value:typeof h.userValue!="undefined"||typeof h.workspaceValue!="undefined"||typeof h.workspaceFolderValue!="undefined"?h.value:i.defaultValue}e.getMigratedSettingValue=t}),define(ge[185],pe([0,1,56,22,12,16,25,2,84,85,41,5,3]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AllKeysConfigurationChangeEvent=e.ConfigurationChangeEvent=e.mergeChanges=e.Configuration=e.UserSettings=e.ConfigurationModelParser=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class f{constructor(t={},r=[],o=[]){this._contents=t,this._keys=r,this._overrides=o,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(t){return t?n.getConfigurationValue(this.contents,t):this.contents}getOverrideValue(t,r){const o=this.getContentsForOverrideIdentifer(r);return o?t?n.getConfigurationValue(o,t):o:void 0}getKeysForOverrideIdentifier(t){for(const r of this.overrides)if(r.identifiers.indexOf(t)!==-1)return r.keys;return[]}override(t){const r=this.getContentsForOverrideIdentifer(t);if(!r||typeof r!="object"||!Object.keys(r).length)return this;let o={};for(const a of A.distinct([...Object.keys(this.contents),...Object.keys(r)])){let i=this.contents[a],h=r[a];h&&(typeof i=="object"&&typeof h=="object"?(i=P.deepClone(i),this.mergeContents(i,h)):i=h),o[a]=i}return new f(o,this.keys,this.overrides)}merge(...t){const r=P.deepClone(this.contents),o=P.deepClone(this.overrides),a=[...this.keys];for(const i of t){this.mergeContents(r,i.contents);for(const h of i.overrides){const[y]=o.filter(m=>A.equals(m.identifiers,h.identifiers));y?this.mergeContents(y.contents,h.contents):o.push(P.deepClone(h))}for(const h of i.keys)a.indexOf(h)===-1&&a.push(h)}return new f(r,a,o)}freeze(){return this.isFrozen=!0,this}mergeContents(t,r){for(const o of Object.keys(r)){if(o in t&&T.isObject(t[o])&&T.isObject(r[o])){this.mergeContents(t[o],r[o]);continue}t[o]=P.deepClone(r[o])}}checkAndFreeze(t){return this.isFrozen&&!Object.isFrozen(t)?P.deepFreeze(t):t}getContentsForOverrideIdentifer(t){for(const r of this.overrides)if(r.identifiers.indexOf(t)!==-1)return r.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(t,r){this.addKey(t),n.addToValueTree(this.contents,t,r,o=>{throw new Error(o)})}removeValue(t){this.removeKey(t)&&n.removeFromValueTree(this.contents,t)}addKey(t){let r=this.keys.length;for(let o=0;o<r;o++)t.indexOf(this.keys[o])===0&&(r=o);this.keys.splice(r,1,t)}removeKey(t){let r=this.keys.indexOf(t);return r!==-1?(this.keys.splice(r,1),!0):!1}}e.ConfigurationModel=f;class u extends f{constructor(){const t=n.getDefaultValues(),r=n.getConfigurationKeys(),o=[];for(const a of Object.keys(t))C.OVERRIDE_PROPERTY_PATTERN.test(a)&&o.push({identifiers:[C.overrideIdentifierFromKey(a).trim()],keys:Object.keys(t[a]),contents:n.toValuesTree(t[a],i=>console.error(`Conflict in default settings file: ${i}`))});super(t,r,o)}}e.DefaultConfigurationModel=u;class g{constructor(t,r){this._name=t,this._scopes=r,this._raw=null,this._configurationModel=null,this._parseErrors=[]}get configurationModel(){return this._configurationModel||new f}get errors(){return this._parseErrors}parseContent(t){if(!T.isUndefinedOrNull(t)){const r=this.doParseContent(t);this.parseRaw(r)}}parseRaw(t){this._raw=t;const r=this.doParseRaw(t);this._configurationModel=new f(r.contents,r.keys,r.overrides)}parse(){this._raw&&this.parseRaw(this._raw)}doParseContent(t){let r={},o=null,a=[],i=[],h=[];function y(E){Array.isArray(a)?a.push(E):o&&(a[o]=E)}let m={onObjectBegin:()=>{let E={};y(E),i.push(a),a=E,o=null},onObjectProperty:E=>{o=E},onObjectEnd:()=>{a=i.pop()},onArrayBegin:()=>{let E=[];y(E),i.push(a),a=E,o=null},onArrayEnd:()=>{a=i.pop()},onLiteralValue:y,onError:(E,_,L)=>{h.push({error:E,offset:_,length:L})}};if(t)try{w.visit(t,m),r=a[0]||{}}catch(E){console.error(`Error while parsing settings file ${this._name}: ${E}`),this._parseErrors=[E]}return r}doParseRaw(t){if(this._scopes){const i=I.Registry.as(C.Extensions.Configuration).getConfigurationProperties();t=this.filterByScope(t,i,!0,this._scopes)}const r=n.toValuesTree(t,i=>console.error(`Conflict in settings file ${this._name}: ${i}`)),o=Object.keys(t),a=n.toOverrides(t,i=>console.error(`Conflict in settings file ${this._name}: ${i}`));return{contents:r,keys:o,overrides:a}}filterByScope(t,r,o,a){const i={};for(let h in t)if(C.OVERRIDE_PROPERTY_PATTERN.test(h)&&o)i[h]=this.filterByScope(t[h],r,!1,a);else{const y=this.getScope(h,r);(y===void 0||a.indexOf(y)!==-1)&&(i[h]=t[h])}return i}getScope(t,r){const o=r[t];return o?typeof o.scope!="undefined"?o.scope:3:void 0}}e.ConfigurationModelParser=g;class b extends S.Disposable{constructor(t,r,o,a){super();this.userSettingsResource=t,this.scopes=r,this.fileService=a,this._onDidChange=this._register(new v.Emitter),this.onDidChange=this._onDidChange.event,this.parser=new g(this.userSettingsResource.toString(),this.scopes),this._register(this.fileService.watch(o.dirname(this.userSettingsResource))),this._register(v.Event.filter(this.fileService.onDidFilesChange,i=>i.contains(this.userSettingsResource))(()=>this._onDidChange.fire()))}async loadConfiguration(){try{const t=await this.fileService.readFile(this.userSettingsResource);return this.parser.parseContent(t.value.toString()||"{}"),this.parser.configurationModel}catch(t){return new f}}reprocess(){return this.parser.parse(),this.parser.configurationModel}}e.UserSettings=b;class p{constructor(t,r,o=new f,a=new f,i=new k.ResourceMap,h=new f,y=new k.ResourceMap,m=!0){this._defaultConfiguration=t,this._localUserConfiguration=r,this._remoteUserConfiguration=o,this._workspaceConfiguration=a,this._folderConfigurations=i,this._memoryConfiguration=h,this._memoryConfigurationByResource=y,this._freeze=m,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new k.ResourceMap,this._userConfiguration=null}getValue(t,r,o){return this.getConsolidateConfigurationModel(r,o).getValue(t)}updateValue(t,r,o={}){let a;o.resource?(a=this._memoryConfigurationByResource.get(o.resource),a||(a=new f,this._memoryConfigurationByResource.set(o.resource,a))):a=this._memoryConfiguration,r===void 0?a.removeValue(t):a.setValue(t,r),o.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(t,r,o){const a=this.getConsolidateConfigurationModel(r,o),i=this.getFolderConfigurationModelForResource(r.resource,o),h=r.resource?this._memoryConfigurationByResource.get(r.resource)||this._memoryConfiguration:this._memoryConfiguration,y=r.overrideIdentifier?this._defaultConfiguration.freeze().override(r.overrideIdentifier).getValue(t):this._defaultConfiguration.freeze().getValue(t),m=r.overrideIdentifier?this.userConfiguration.freeze().override(r.overrideIdentifier).getValue(t):this.userConfiguration.freeze().getValue(t),E=r.overrideIdentifier?this.localUserConfiguration.freeze().override(r.overrideIdentifier).getValue(t):this.localUserConfiguration.freeze().getValue(t),_=r.overrideIdentifier?this.remoteUserConfiguration.freeze().override(r.overrideIdentifier).getValue(t):this.remoteUserConfiguration.freeze().getValue(t),L=o?r.overrideIdentifier?this._workspaceConfiguration.freeze().override(r.overrideIdentifier).getValue(t):this._workspaceConfiguration.freeze().getValue(t):void 0,R=i?r.overrideIdentifier?i.freeze().override(r.overrideIdentifier).getValue(t):i.freeze().getValue(t):void 0,N=r.overrideIdentifier?h.override(r.overrideIdentifier).getValue(t):h.getValue(t),W=a.getValue(t),x=A.distinct(A.flatten(a.overrides.map(M=>M.identifiers))).filter(M=>a.getOverrideValue(t,M)!==void 0);return{defaultValue:y,userValue:m,userLocalValue:E,userRemoteValue:_,workspaceValue:L,workspaceFolderValue:R,memoryValue:N,value:W,default:y!==void 0?{value:this._defaultConfiguration.freeze().getValue(t),override:r.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,user:m!==void 0?{value:this.userConfiguration.freeze().getValue(t),override:r.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,userLocal:E!==void 0?{value:this.localUserConfiguration.freeze().getValue(t),override:r.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,userRemote:_!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(t),override:r.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,workspace:L!==void 0?{value:this._workspaceConfiguration.freeze().getValue(t),override:r.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,workspaceFolder:R!==void 0?{value:i==null?void 0:i.freeze().getValue(t),override:r.overrideIdentifier?i==null?void 0:i.freeze().getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,memory:N!==void 0?{value:h.getValue(t),override:r.overrideIdentifier?h.getOverrideValue(t,r.overrideIdentifier):void 0}:void 0,overrideIdentifiers:x.length?x:void 0}}keys(t){const r=this.getFolderConfigurationModelForResource(void 0,t);return{default:this._defaultConfiguration.freeze().keys,user:this.userConfiguration.freeze().keys,workspace:this._workspaceConfiguration.freeze().keys,workspaceFolder:r?r.freeze().keys:[]}}updateDefaultConfiguration(t){this._defaultConfiguration=t,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateLocalUserConfiguration(t){this._localUserConfiguration=t,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateRemoteUserConfiguration(t){this._remoteUserConfiguration=t,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateWorkspaceConfiguration(t){this._workspaceConfiguration=t,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateFolderConfiguration(t,r){this._folderConfigurations.set(t,r),this._foldersConsolidatedConfigurations.delete(t)}deleteFolderConfiguration(t){this.folderConfigurations.delete(t),this._foldersConsolidatedConfigurations.delete(t)}compareAndUpdateDefaultConfiguration(t,r){const o=r.filter(a=>C.OVERRIDE_PROPERTY_PATTERN.test(a)).map(a=>{const i=C.overrideIdentifierFromKey(a),h=this._defaultConfiguration.getKeysForOverrideIdentifier(i),y=t.getKeysForOverrideIdentifier(i),m=[...y.filter(E=>h.indexOf(E)===-1),...h.filter(E=>y.indexOf(E)===-1),...h.filter(E=>!P.equals(this._defaultConfiguration.override(i).getValue(E),t.override(i).getValue(E)))];return[i,m]});return this.updateDefaultConfiguration(t),{keys:r,overrides:o}}compareAndUpdateLocalUserConfiguration(t){const{added:r,updated:o,removed:a,overrides:i}=n.compare(this.localUserConfiguration,t),h=[...r,...o,...a];return h.length&&this.updateLocalUserConfiguration(t),{keys:h,overrides:i}}compareAndUpdateRemoteUserConfiguration(t){const{added:r,updated:o,removed:a,overrides:i}=n.compare(this.remoteUserConfiguration,t);let h=[...r,...o,...a];return h.length&&this.updateRemoteUserConfiguration(t),{keys:h,overrides:i}}compareAndUpdateWorkspaceConfiguration(t){const{added:r,updated:o,removed:a,overrides:i}=n.compare(this.workspaceConfiguration,t);let h=[...r,...o,...a];return h.length&&this.updateWorkspaceConfiguration(t),{keys:h,overrides:i}}compareAndUpdateFolderConfiguration(t,r){const o=this.folderConfigurations.get(t),{added:a,updated:i,removed:h,overrides:y}=n.compare(o,r);let m=[...a,...i,...h];return(m.length||!o)&&this.updateFolderConfiguration(t,r),{keys:m,overrides:y}}compareAndDeleteFolderConfiguration(t){const r=this.folderConfigurations.get(t);if(!r)throw new Error("Unknown folder");this.deleteFolderConfiguration(t);const{added:o,updated:a,removed:i,overrides:h}=n.compare(r,void 0);return{keys:[...o,...a,...i],overrides:h}}get defaults(){return this._defaultConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}get workspaceConfiguration(){return this._workspaceConfiguration}get folderConfigurations(){return this._folderConfigurations}getConsolidateConfigurationModel(t,r){let o=this.getConsolidatedConfigurationModelForResource(t,r);return t.overrideIdentifier?o.override(t.overrideIdentifier):o}getConsolidatedConfigurationModelForResource({resource:t},r){let o=this.getWorkspaceConsolidatedConfiguration();if(r&&t){const a=r.getFolder(t);a&&(o=this.getFolderConsolidatedConfiguration(a.uri)||o);const i=this._memoryConfigurationByResource.get(t);i&&(o=o.merge(i))}return o}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(t){let r=this._foldersConsolidatedConfigurations.get(t);if(!r){const o=this.getWorkspaceConsolidatedConfiguration(),a=this._folderConfigurations.get(t);a?(r=o.merge(a),this._freeze&&(r=r.freeze()),this._foldersConsolidatedConfigurations.set(t,r)):r=o}return r}getFolderConfigurationModelForResource(t,r){if(r&&t){const o=r.getFolder(t);if(o)return this._folderConfigurations.get(o.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((t,r)=>{const{contents:o,overrides:a,keys:i}=this._folderConfigurations.get(r);return t.push([r,{contents:o,overrides:a,keys:i}]),t},[])}}allKeys(){const t=new Set;return this._defaultConfiguration.freeze().keys.forEach(r=>t.add(r)),this.userConfiguration.freeze().keys.forEach(r=>t.add(r)),this._workspaceConfiguration.freeze().keys.forEach(r=>t.add(r)),this._folderConfigurations.forEach(r=>r.freeze().keys.forEach(o=>t.add(o))),[...t.values()]}getAllKeysForOverrideIdentifier(t){const r=new Set;return this._defaultConfiguration.getKeysForOverrideIdentifier(t).forEach(o=>r.add(o)),this.userConfiguration.getKeysForOverrideIdentifier(t).forEach(o=>r.add(o)),this._workspaceConfiguration.getKeysForOverrideIdentifier(t).forEach(o=>r.add(o)),this._folderConfigurations.forEach(o=>o.getKeysForOverrideIdentifier(t).forEach(a=>r.add(a))),[...r.values()]}static parse(t){const r=this.parseConfigurationModel(t.defaults),o=this.parseConfigurationModel(t.user),a=this.parseConfigurationModel(t.workspace),i=t.folders.reduce((h,y)=>(h.set(D.URI.revive(y[0]),this.parseConfigurationModel(y[1])),h),new k.ResourceMap);return new p(r,o,new f,a,i,new f,new k.ResourceMap,!1)}static parseConfigurationModel(t){return new f(t.contents,t.keys,t.overrides).freeze()}}e.Configuration=p;function d(...c){if(c.length===0)return{keys:[],overrides:[]};if(c.length===1)return c[0];const t=new Set,r=new Map;for(const a of c)a.keys.forEach(i=>t.add(i)),a.overrides.forEach(([i,h])=>{const y=k.getOrSet(r,i,new Set);h.forEach(m=>y.add(m))});const o=[];return r.forEach((a,i)=>o.push([i,[...a.values()]])),{keys:[...t.values()],overrides:o}}e.mergeChanges=d;class s{constructor(t,r,o,a){this.change=t,this.previous=r,this.currentConfiguraiton=o,this.currentWorkspace=a,this._previousConfiguration=void 0;const i=new Set;t.keys.forEach(y=>i.add(y)),t.overrides.forEach(([,y])=>y.forEach(m=>i.add(m))),this.affectedKeys=[...i.values()];const h=new f;this.affectedKeys.forEach(y=>h.setValue(y,{})),this.affectedKeysTree=h.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=p.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(t,r){var o;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,t)){if(r){const a=this.previousConfiguration?this.previousConfiguration.getValue(t,r,(o=this.previous)===null||o===void 0?void 0:o.workspace):void 0,i=this.currentConfiguraiton.getValue(t,r,this.currentWorkspace);return!P.equals(a,i)}return!0}return!1}doesAffectedKeysTreeContains(t,r){let o=n.toValuesTree({[r]:!0},()=>{}),a;for(;typeof o=="object"&&(a=Object.keys(o)[0]);){if(t=t[a],!t)return!1;o=o[a]}return!0}}e.ConfigurationChangeEvent=s;class l extends s{constructor(t,r,o,a){super({keys:t.allKeys(),overrides:[]},void 0,t,r);this.source=o,this.sourceConfig=a}}e.AllKeysConfigurationChangeEvent=l}),define(ge[113],pe([0,1,4]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoteAuthorityResolverError=e.RemoteAuthorityResolverErrorCode=e.IRemoteAuthorityResolverService=void 0,e.IRemoteAuthorityResolverService=w.createDecorator("remoteAuthorityResolverService");var k;(function(T){T.Unknown="Unknown",T.NotAvailable="NotAvailable",T.TemporarilyNotAvailable="TemporarilyNotAvailable",T.NoResolverFound="NoResolverFound"})(k=e.RemoteAuthorityResolverErrorCode||(e.RemoteAuthorityResolverErrorCode={}));class A extends Error{constructor(P,D=k.Unknown,C){super(P);this._message=P,this._code=D,this._detail=C,this.isHandled=D===k.NotAvailable&&C===!0,typeof Object.setPrototypeOf=="function"&&Object.setPrototypeOf(this,A.prototype)}static isTemporarilyNotAvailable(P){return P instanceof A&&P._code===k.TemporarilyNotAvailable}static isNoResolverFound(P){return P instanceof A&&P._code===k.NoResolverFound}static isHandled(P){return P instanceof A&&P.isHandled}}e.RemoteAuthorityResolverError=A}),define(ge[114],pe([0,1,13]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRemoteName=e.getRemoteAuthority=void 0;function k(T){return T.scheme===w.Schemas.vscodeRemote?T.authority:void 0}e.getRemoteAuthority=k;function A(T){if(!!T){const P=T.indexOf("+");return P<0?T:T.substr(0,P)}}e.getRemoteName=A}),define(ge[186],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignService=void 0;class w{vsda(){return new Promise((A,T)=>Z(["vsda"],A,T))}async sign(A){try{const T=await this.vsda(),P=new T.signer;if(P)return P.sign(A)}catch(T){}return A}}e.SignService=w}),define(ge[187],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0;var w;(function(k){k.DARK="dark",k.LIGHT="light",k.HIGH_CONTRAST="hc"})(w=e.ColorScheme||(e.ColorScheme={}))}),define(ge[188],pe([0,1,4,5,41,3,187,57]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.FolderThemeIcon=e.FileThemeIcon=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=w.createDecorator("themeService");var C;(function(b){function p(d){return d&&typeof d=="object"&&typeof d.id=="string"}b.isThemeColor=p})(C=e.ThemeColor||(e.ThemeColor={}));function n(b){return{id:b}}e.themeColorFromId=n;var I;(function(b){function p(t){return t&&typeof t=="object"&&typeof t.id=="string"&&(typeof t.color=="undefined"||C.isThemeColor(t.color))}b.isThemeIcon=p;const d=/^\$\(([a-z.]+\/)?([a-z-~]+)\)$/i;function s(t){const r=d.exec(t);if(!!r){let[,o,a]=r;return!o||o==="codicon/"?{id:a}:{id:o+a}}}b.fromString=s;function l(t,r){let o=t.id;const a=o.lastIndexOf("~");return a!==-1&&(o=o.substring(0,a)),r&&(o=`${o}~${r}`),{id:o}}b.modify=l;function c(t,r){var o,a;return t.id===r.id&&((o=t.color)===null||o===void 0?void 0:o.id)===((a=r.color)===null||a===void 0?void 0:a.id)}b.isEqual=c,b.asClassNameArray=D.CSSIcon.asClassNameArray,b.asClassName=D.CSSIcon.asClassName,b.asCSSSelector=D.CSSIcon.asCSSSelector})(I=e.ThemeIcon||(e.ThemeIcon={})),e.FileThemeIcon=D.Codicon.file,e.FolderThemeIcon=D.Codicon.folder;function S(b){switch(b){case P.ColorScheme.DARK:return"vs-dark";case P.ColorScheme.HIGH_CONTRAST:return"hc-black";default:return"vs"}}e.getThemeTypeSelector=S,e.Extensions={ThemingContribution:"base.contributions.theming"};class v{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new T.Emitter}onColorThemeChange(p){return this.themingParticipants.push(p),this.onThemingParticipantAddedEmitter.fire(p),k.toDisposable(()=>{const d=this.themingParticipants.indexOf(p);this.themingParticipants.splice(d,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}}let f=new v;A.Registry.add(e.Extensions.ThemingContribution,f);function u(b){return f.onColorThemeChange(b)}e.registerThemingParticipant=u;class g extends k.Disposable{constructor(p){super();this.themeService=p,this.theme=p.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(d=>this.onThemeChange(d)))}onThemeChange(p){this.theme=p,this.updateStyles()}updateStyles(){}getColor(p,d){let s=this.theme.getColor(p);return s&&d&&(s=d(s,this.theme)),s?s.toString():null}}e.Themable=g}),define(ge[189],pe([0,1,41,188,3,154,112,19,57]),function(Z,e,w,k,A,T,P,D,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};class n{constructor(){this._onDidChange=new A.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:T.localize(0,null)},fontCharacter:{type:"string",description:T.localize(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.iconsById={}}registerIcon(p,d,s,l){const c=this.iconsById[p];if(c){if(s&&!c.description){c.description=s,this.iconSchema.properties[p].markdownDescription=`${s} $(${p})`;const o=this.iconReferenceSchema.enum.indexOf(p);o!==-1&&(this.iconReferenceSchema.enumDescriptions[o]=s),this._onDidChange.fire()}return c}let t={id:p,description:s,defaults:d,deprecationMessage:l};this.iconsById[p]=t;let r={$ref:"#/definitions/icons"};return l&&(r.deprecationMessage=l),s&&(r.markdownDescription=`${s}: $(${p})`),this.iconSchema.properties[p]=r,this.iconReferenceSchema.enum.push(p),this.iconReferenceSchema.enumDescriptions.push(s||""),this._onDidChange.fire(),{id:p}}deregisterIcon(p){delete this.iconsById[p],delete this.iconSchema.properties[p];const d=this.iconReferenceSchema.enum.indexOf(p);d!==-1&&(this.iconReferenceSchema.enum.splice(d,1),this.iconReferenceSchema.enumDescriptions.splice(d,1)),this._onDidChange.fire()}getIcons(){return Object.keys(this.iconsById).map(p=>this.iconsById[p])}getIcon(p){return this.iconsById[p]}getIconSchema(){return this.iconSchema}getIconReferenceSchema(){return this.iconReferenceSchema}getCSS(){const p=[];for(let d in this.iconsById){const s=this.formatRule(d);s&&p.push(s)}return p.join(`
`)}formatRule(p){let d=this.iconsById[p].defaults;for(;k.ThemeIcon.isThemeIcon(d);){const s=this.iconsById[d.id];if(!s)return;d=s.defaults}return`.codicon-${p}:before { content: '${d.character}'; }`}toString(){const p=(c,t)=>c.id.localeCompare(t.id),d=c=>{for(;k.ThemeIcon.isThemeIcon(c.defaults);)c=this.iconsById[c.defaults.id];return`codicon codicon-${c?c.id:""}`};let s=[];s.push("| preview     | identifier                        | default codicon id                | description"),s.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const l=Object.keys(this.iconsById).map(c=>this.iconsById[c]);for(const c of l.filter(t=>!!t.description).sort(p))s.push(`|<i class="${d(c)}"></i>|${c.id}|${k.ThemeIcon.isThemeIcon(c.defaults)?c.defaults.id:c.id}|${c.description||""}|`);s.push("| preview     | identifier                        "),s.push("| ----------- | --------------------------------- |");for(const c of l.filter(t=>!k.ThemeIcon.isThemeIcon(t.defaults)).sort(p))s.push(`|<i class="${d(c)}"></i>|${c.id}|`);return s.join(`
`)}}const I=new n;w.Registry.add(e.Extensions.IconContribution,I);function S(b,p,d,s){return I.registerIcon(b,p,d,s)}e.registerIcon=S;function v(){return I}e.getIconRegistry=v;function f(){for(const b of C.iconRegistry.all)I.registerIcon(b.id,b.definition,b.description);C.iconRegistry.onDidRegister(b=>I.registerIcon(b.id,b.definition,b.description))}f(),e.iconsSchemaId="vscode://schemas/icons";let u=w.Registry.as(P.Extensions.JSONContribution);u.registerSchema(e.iconsSchemaId,I.getIconSchema());const g=new D.RunOnceScheduler(()=>u.notifySchemaChanged(e.iconsSchemaId),200);I.onDidChange(()=>{g.isScheduled()||g.schedule()}),e.widgetClose=S("widget-close",C.Codicon.close,T.localize(2,null)),e.gotoPreviousLocation=S("goto-previous-location",C.Codicon.arrowUp,T.localize(3,null)),e.gotoNextLocation=S("goto-next-location",C.Codicon.arrowDown,T.localize(4,null)),e.syncing=k.ThemeIcon.modify(C.Codicon.sync,"spin")}),define(ge[61],pe([0,1,2,23,4,22]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toWorkspaceFolder=e.WorkspaceFolder=e.Workspace=e.isWorkspaceFolder=e.isWorkspace=e.WorkbenchState=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=A.createDecorator("contextService");var P;(function(v){v[v.EMPTY=1]="EMPTY",v[v.FOLDER=2]="FOLDER",v[v.WORKSPACE=3]="WORKSPACE"})(P=e.WorkbenchState||(e.WorkbenchState={}));function D(v){const f=v;return!!(f&&typeof f=="object"&&typeof f.id=="string"&&Array.isArray(f.folders))}e.isWorkspace=D;function C(v){const f=v;return!!(f&&typeof f=="object"&&w.URI.isUri(f.uri)&&typeof f.name=="string"&&typeof f.toResource=="function")}e.isWorkspaceFolder=C;class n{constructor(f,u,g,b){this._id=f,this._configuration=g,this._ignorePathCasing=b,this._foldersMap=T.TernarySearchTree.forUris(this._ignorePathCasing),this.folders=u}update(f){this._id=f.id,this._configuration=f.configuration,this._ignorePathCasing=f._ignorePathCasing,this.folders=f.folders}get folders(){return this._folders}set folders(f){this._folders=f,this.updateFoldersMap()}get id(){return this._id}get configuration(){return this._configuration}set configuration(f){this._configuration=f}getFolder(f){return f&&this._foldersMap.findSubstr(f.with({scheme:f.scheme,authority:f.authority,path:f.path}))||null}updateFoldersMap(){this._foldersMap=T.TernarySearchTree.forUris(this._ignorePathCasing);for(const f of this.folders)this._foldersMap.set(f.uri,f)}toJSON(){return{id:this.id,folders:this.folders,configuration:this.configuration}}}e.Workspace=n;class I{constructor(f,u){this.raw=u,this.uri=f.uri,this.index=f.index,this.name=f.name}toResource(f){return k.joinPath(this.uri,f)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=I;function S(v){return new I({uri:v,index:0,name:k.basenameOrAuthority(v)},{uri:v.toString()})}e.toWorkspaceFolder=S}),define(ge[115],pe([0,1,4,155,61,2,9,7,23,131,56,13,78,30,114]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toStoreData=e.restoreRecentlyOpened=e.useSlashForPath=e.rewriteWorkspaceFileForNewLocation=e.toWorkspaceFolders=e.getStoredWorkspaceFolder=e.isRawUriWorkspaceFolder=e.isRawFileWorkspaceFolder=e.isStoredWorkspaceFolder=e.isUntitledWorkspace=e.reviveIdentifier=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.isRecentFile=e.isRecentFolder=e.isRecentWorkspace=e.IWorkspacesService=e.hasWorkspaceFileExtension=e.UNTITLED_WORKSPACE_NAME=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=void 0,e.WORKSPACE_EXTENSION="code-workspace";const g=`.${e.WORKSPACE_EXTENSION}`;e.WORKSPACE_FILTER=[{name:k.localize(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.UNTITLED_WORKSPACE_NAME="workspace.json";function b(W){return(typeof W=="string"?D.extname(W):C.extname(W))===g}e.hasWorkspaceFileExtension=b,e.IWorkspacesService=w.createDecorator("workspacesService");function p(W){return W.hasOwnProperty("workspace")}e.isRecentWorkspace=p;function d(W){return W.hasOwnProperty("folderUri")}e.isRecentFolder=d;function s(W){return W.hasOwnProperty("fileUri")}e.isRecentFile=s;function l(W){const x=W;return typeof(x==null?void 0:x.id)=="string"&&T.URI.isUri(x.uri)}e.isSingleFolderWorkspaceIdentifier=l;function c(W){if(W.configuration)return{id:W.id,configPath:W.configuration};if(W.folders.length===1)return{id:W.id,uri:W.folders[0].uri}}e.toWorkspaceIdentifier=c;function t(W){const x=W;return typeof(x==null?void 0:x.id)=="string"&&T.URI.isUri(x.configPath)}e.isWorkspaceIdentifier=t;function r(W){if(W==null?void 0:W.uri)return{id:W.id,uri:T.URI.revive(W.uri)};if(W==null?void 0:W.configPath)return{id:W.id,configPath:T.URI.revive(W.configPath)}}e.reviveIdentifier=r;function o(W,x){return C.extUriBiasedIgnorePathCase.isEqualOrParent(W,x.untitledWorkspacesHome)}e.isUntitledWorkspace=o;function a(W){return i(W)||h(W)}e.isStoredWorkspaceFolder=a;function i(W){const x=W;return typeof(x==null?void 0:x.path)=="string"&&(!x.name||typeof x.name=="string")}e.isRawFileWorkspaceFolder=i;function h(W){const x=W;return typeof(x==null?void 0:x.uri)=="string"&&(!x.name||typeof x.name=="string")}e.isRawUriWorkspaceFolder=h;function y(W,x,M,$,O=!P.isWindows,z){if(W.scheme!==$.scheme)return{name:M,uri:W.toString(!0)};let J=x?void 0:z.relativePath($,W);if(J!==void 0)J.length===0?J=".":P.isWindows&&W.scheme===S.Schemas.file&&!O&&(J=J.replace(/\//g,"\\"));else if(W.scheme===S.Schemas.file)J=W.fsPath,P.isWindows&&(J=v.normalizeDriveLetter(J),O&&(J=f.toSlashes(J)));else{if(!z.isEqualAuthority(W.authority,$.authority))return{name:M,uri:W.toString(!0)};J=W.path}return{name:M,path:J}}e.getStoredWorkspaceFolder=y;function m(W,x,M){let $=[],O=new Set;const z=M.dirname(x);for(let J of W){let U=null;if(i(J))J.path&&(U=M.resolvePath(z,J.path));else if(h(J))try{U=T.URI.parse(J.uri),U.path[0]!=="/"&&(U=U.with({path:"/"+U.path}))}catch(V){console.warn(V)}if(U){let V=M.getComparisonKey(U);if(!O.has(V)){O.add(V);const B=J.name||M.basenameOrAuthority(U);$.push(new A.WorkspaceFolder({uri:U,name:B,index:$.length},J))}}}return $}e.toWorkspaceFolders=m;function E(W,x,M,$,O){let z=_(x,W);const J=O.dirname(x),U=O.dirname($),V=[],B=L(z.folders);for(const fe of z.folders){const _e=i(fe)?O.resolvePath(J,fe.path):T.URI.parse(fe.uri);let be;M?be=!1:be=!i(fe)||D.isAbsolute(fe.path),V.push(y(_e,be,fe.name,U,B,O))}const Y={insertSpaces:!1,tabSize:4,eol:P.isLinux||P.isMacintosh?`
`:`\r
`},ae=n.setProperty(W,["folders"],V,Y);let ce=n.applyEdits(W,ae);return z.remoteAuthority===u.getRemoteAuthority($)&&(ce=n.applyEdits(ce,n.removeProperty(ce,["remoteAuthority"],Y))),ce}e.rewriteWorkspaceFileForNewLocation=E;function _(W,x){let M=I.parse(x);if(M&&Array.isArray(M.folders))M.folders=M.folders.filter($=>a($));else throw new Error(`${W} looks like an invalid workspace file.`);return M}function L(W){return P.isWindows?W.some(x=>i(x)&&x.path.indexOf("/")>=0):!0}e.useSlashForPath=L;function R(W,x){const M={workspaces:[],files:[]};if(W){const $=function(z,J){for(let U=0;U<z.length;U++)try{J(z[U],U)}catch(V){x.warn(`Error restoring recent entry ${JSON.stringify(z[U])}: ${V.toString()}. Skip entry.`)}},O=W;Array.isArray(O.workspaces3)&&$(O.workspaces3,(z,J)=>{const U=Array.isArray(O.workspaceLabels)&&O.workspaceLabels[J]||void 0;typeof z=="object"&&typeof z.id=="string"&&typeof z.configURIPath=="string"?M.workspaces.push({label:U,workspace:{id:z.id,configPath:T.URI.parse(z.configURIPath)}}):typeof z=="string"&&M.workspaces.push({label:U,folderUri:T.URI.parse(z)})}),Array.isArray(O.files2)&&$(O.files2,(z,J)=>{const U=Array.isArray(O.fileLabels)&&O.fileLabels[J]||void 0;typeof z=="string"&&M.files.push({label:U,fileUri:T.URI.parse(z)})})}return M}e.restoreRecentlyOpened=R;function N(W){const x={workspaces3:[],files2:[]};let M=!1;const $=[];for(const z of W.workspaces)d(z)?x.workspaces3.push(z.folderUri.toString()):x.workspaces3.push({id:z.workspace.id,configURIPath:z.workspace.configPath.toString()}),$.push(z.label||null),M=M||!!z.label;M&&(x.workspaceLabels=$),M=!1;const O=[];for(const z of W.files)x.files2.push(z.fileUri.toString()),O.push(z.label||null),M=M||!!z.label;return M&&(x.fileLabels=O),x}e.toStoreData=N}),define(ge[86],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cache=void 0;class w{constructor(A){this.id=A,this._data=new Map,this._idPool=1}add(A){const T=this._idPool++;return this._data.set(T,A),this.logDebugInfo(),T}get(A,T){return this._data.has(A)?this._data.get(A)[T]:void 0}delete(A){this._data.delete(A),this.logDebugInfo()}logDebugInfo(){!w.enableDebugLogging||console.log(`${this.id} cache size \u2014 ${this._data.size}`)}}e.Cache=w,w.enableDebugLogging=!1}),define(ge[190],pe([0,1,2,3]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostEditorTabs=void 0;class A{constructor(){this._onDidChangeTabs=new k.Emitter,this.onDidChangeTabs=this._onDidChangeTabs.event,this._tabs=[]}get tabs(){return this._tabs}$acceptEditorTabs(P){this._tabs=P.map(D=>({name:D.name,group:D.group,resource:w.URI.revive(D.resource)})),this._onDidChangeTabs.fire()}}e.ExtHostEditorTabs=A}),define(ge[62],pe([0,1,13,4]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostFileSystemInfo=e.ExtHostFileSystemInfo=void 0;class A{constructor(){this._systemSchemes=new Set(Object.keys(w.Schemas)),this._providerInfo=new Map}$acceptProviderInfos(P,D){D===null?this._providerInfo.delete(P):this._providerInfo.set(P,D)}isFreeScheme(P){return!this._providerInfo.has(P)&&!this._systemSchemes.has(P)}getCapabilities(P){return this._providerInfo.get(P)}}e.ExtHostFileSystemInfo=A,e.IExtHostFileSystemInfo=k.createDecorator("IExtHostFileSystemInfo")}),define(ge[28],pe([0,1,4]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostInitDataService=void 0,e.IExtHostInitDataService=w.createDecorator("IExtHostInitDataService")}),define(ge[191],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionGlobalMemento=e.ExtensionMemento=void 0;class w{constructor(T,P,D){this._id=T,this._shared=P,this._storage=D,this._init=this._storage.getValue(this._shared,this._id,Object.create(null)).then(C=>(this._value=C,this)),this._storageListener=this._storage.onDidChangeStorage(C=>{C.shared===this._shared&&C.key===this._id&&(this._value=C.value)})}get whenReady(){return this._init}get(T,P){let D=this._value[T];return typeof D=="undefined"&&(D=P),D}update(T,P){return this._value[T]=P,this._storage.setValue(this._shared,this._id,this._value)}dispose(){this._storageListener.dispose()}}e.ExtensionMemento=w;class k extends w{constructor(T,P){super(T.identifier.value,!0,P);this._extension=T}setKeysForSync(T){this._storage.registerExtensionStorageKeysToSync({id:this._id,version:this._extension.version},T)}}e.ExtensionGlobalMemento=k}),define(ge[14],pe([0,1,4]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostRpcService=e.IExtHostRpcService=void 0,e.IExtHostRpcService=w.createDecorator("IExtHostRpcService");class k{constructor(T){this.getProxy=T.getProxy.bind(T),this.set=T.set.bind(T),this.assertRegistered=T.assertRegistered.bind(T),this.drain=T.drain.bind(T)}}e.ExtHostRpcService=k});var Je=this&&this.__classPrivateFieldSet||function(Z,e,w){if(!e.has(Z))throw new TypeError("attempted to set private field on non-instance");return e.set(Z,w),w},We=this&&this.__classPrivateFieldGet||function(Z,e){if(!e.has(Z))throw new TypeError("attempted to get private field on non-instance");return e.get(Z)};define(ge[192],pe([0,1,29,3]),function(Z,e,w,k){"use strict";var A;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionSecrets=void 0;class T{constructor(D,C){A.set(this,void 0),this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._id=w.ExtensionIdentifier.toKey(D.identifier),Je(this,A,C),We(this,A).onDidChangePassword(n=>{n.extensionId===this._id&&this._onDidChange.fire({key:n.key})})}get(D){return We(this,A).get(this._id,D)}store(D,C){return We(this,A).store(this._id,D,C)}delete(D){return We(this,A).delete(this._id,D)}}e.ExtensionSecrets=T,A=new WeakMap});var He=this&&this.__decorate||function(Z,e,w,k){var A=arguments.length,T=A<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,w):k,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(Z,e,w,k);else for(var D=Z.length-1;D>=0;D--)(P=Z[D])&&(T=(A<3?P(T):A>3?P(e,w,T):P(e,w))||T);return A>3&&T&&Object.defineProperty(e,w,T),T},Fe=this&&this.__param||function(Z,e){return function(w,k){e(w,k,Z)}};define(ge[51],pe([0,1,4,3,14]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTunnelService=e.IExtHostTunnelService=e.TunnelDto=void 0;var T;(function(D){function C(I){return{remoteAddress:I.remoteAddress,localAddress:I.localAddress,public:!!I.public}}D.fromApiTunnel=C;function n(I){return{remoteAddress:{host:I.tunnelRemoteHost,port:I.tunnelRemotePort},localAddress:I.localAddress,public:I.public}}D.fromServiceTunnel=n})(T=e.TunnelDto||(e.TunnelDto={})),e.IExtHostTunnelService=w.createDecorator("IExtHostTunnelService");let P=class{constructor(C){this.onDidChangeTunnels=new k.Emitter().event}async $applyCandidateFilter(C){return C}async openTunnel(C,n){}async getTunnels(){return[]}async setTunnelExtensionFunctions(C){return{dispose:()=>{}}}async $forwardPort(C,n){}async $closeTunnel(C){}async $onDidTunnelsChange(){}async $registerCandidateFinder(){}};P=He([Fe(0,A.IExtHostRpcService)],P),e.ExtHostTunnelService=P}),define(ge[63],pe([0,1,4]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URITransformerService=e.IURITransformerService=void 0,e.IURITransformerService=w.createDecorator("IURITransformerService");class k{constructor(T){T?(this.transformIncoming=T.transformIncoming.bind(T),this.transformOutgoing=T.transformOutgoing.bind(T),this.transformOutgoingURI=T.transformOutgoingURI.bind(T),this.transformOutgoingScheme=T.transformOutgoingScheme.bind(T)):(this.transformIncoming=P=>P,this.transformOutgoing=P=>P,this.transformOutgoingURI=P=>P,this.transformOutgoingScheme=P=>P)}}e.URITransformerService=k}),define(ge[87],pe([0,1,2]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asWebviewUri=void 0;function k(T,P,D){const C=T.webviewResourceRoot.replace("{{resource}}",D.scheme+A(D)).replace("{{uuid}}",P);return w.URI.parse(C)}e.asWebviewUri=k;function A(T){return T.toString().replace(/^\S+?:/,"")}}),define(ge[193],pe([0,1,3,5,87,26]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostEditorInsets=void 0;class P{constructor(C,n,I){this._proxy=C,this._editors=n,this._initData=I,this._handlePool=0,this._disposables=new k.DisposableStore,this._insets=new Map,this._disposables.add(n.onDidChangeVisibleTextEditors(()=>{const S=n.getVisibleTextEditors();for(const v of this._insets.values())S.indexOf(v.editor)<0&&v.inset.dispose()}))}dispose(){this._insets.forEach(C=>C.inset.dispose()),this._disposables.dispose()}createWebviewEditorInset(C,n,I,S,v){let f;for(const l of this._editors.getVisibleTextEditors())if(l===C){f=l;break}if(!f)throw new Error("not a visible editor");const u=this,g=this._handlePool++,b=new w.Emitter,p=new w.Emitter,d=new class{constructor(){this._uuid=T.generateUuid(),this._html="",this._options=Object.create(null)}asWebviewUri(l){return A.asWebviewUri(u._initData,this._uuid,l)}get cspSource(){return u._initData.webviewCspSource}set options(l){this._options=l,u._proxy.$setOptions(g,l)}get options(){return this._options}set html(l){this._html=l,u._proxy.$setHtml(g,l)}get html(){return this._html}get onDidReceiveMessage(){return b.event}postMessage(l){return u._proxy.$postMessage(g,l)}},s=new class{constructor(){this.editor=C,this.line=n,this.height=I,this.webview=d,this.onDidDispose=p.event}dispose(){u._insets.has(g)&&(u._insets.delete(g),u._proxy.$disposeEditorInset(g),p.fire(),p.dispose(),b.dispose())}};return this._proxy.$createEditorInset(g,f.id,f.document.uri,n+1,I,S||{},v.identifier,v.extensionLocation),this._insets.set(g,{editor:C,inset:s,onDidReceiveMessage:b}),s}$onDidDispose(C){const n=this._insets.get(C);n&&n.inset.dispose()}$onDidReceiveMessage(C,n){const I=this._insets.get(C);I&&I.onDidReceiveMessage.fire(n)}}e.ExtHostEditorInsets=P}),define(ge[194],pe([0,1,3,60,166,4,5,22,41,12,54,25,57,189]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvableTreeItem=e.TreeItemCollapsibleState=e.ViewVisibilityState=e.IViewDescriptorService=e.getVisbileViewContextKey=e.FocusedViewContext=e.IViewsService=e.ViewContentGroups=e.ViewContainerLocationToString=e.ViewContainerLocation=e.Extensions=e.defaultViewIcon=void 0,e.defaultViewIcon=f.registerIcon("default-view-icon",v.Codicon.window,A.localize(0,null));var u;(function(a){a.ViewContainersRegistry="workbench.registry.view.containers",a.ViewsRegistry="workbench.registry.view"})(u=e.Extensions||(e.Extensions={}));var g;(function(a){a[a.Sidebar=0]="Sidebar",a[a.Panel=1]="Panel"})(g=e.ViewContainerLocation||(e.ViewContainerLocation={}));function b(a){switch(a){case 0:return"sidebar";case 1:return"panel"}}e.ViewContainerLocationToString=b;class p extends P.Disposable{constructor(){super(...arguments);this._onDidRegister=this._register(new w.Emitter),this.onDidRegister=this._onDidRegister.event,this._onDidDeregister=this._register(new w.Emitter),this.onDidDeregister=this._onDidDeregister.event,this.viewContainers=new Map,this.defaultViewContainers=[]}get all(){return n.flatten([...this.viewContainers.values()])}registerViewContainer(i,h,y){const m=this.get(i.id);if(m)return m;const E=i;return D.getOrSet(this.viewContainers,h,[]).push(E),y&&this.defaultViewContainers.push(E),this._onDidRegister.fire({viewContainer:E,viewContainerLocation:h}),E}deregisterViewContainer(i){for(const h of this.viewContainers.keys()){const y=this.viewContainers.get(h),m=y==null?void 0:y.indexOf(i);if(m!==-1){y==null||y.splice(m,1),y.length===0&&this.viewContainers.delete(h),this._onDidDeregister.fire({viewContainer:i,viewContainerLocation:h});return}}}get(i){return this.all.filter(h=>h.id===i)[0]}getViewContainers(i){return[...this.viewContainers.get(i)||[]]}getViewContainerLocation(i){return[...this.viewContainers.keys()].filter(h=>this.getViewContainers(h).filter(y=>(y==null?void 0:y.id)===i.id).length>0)[0]}getDefaultViewContainer(i){return this.defaultViewContainers.find(h=>this.getViewContainerLocation(h)===i)}}C.Registry.add(u.ViewContainersRegistry,new p);var d;(function(a){a.Open="2_open",a.Debug="4_debug",a.SCM="5_scm",a.More="9_more"})(d=e.ViewContentGroups||(e.ViewContentGroups={}));function s(a,i){var h,y,m,E;const _=(h=a.group)!==null&&h!==void 0?h:d.More,L=(y=i.group)!==null&&y!==void 0?y:d.More;return _!==L?_.localeCompare(L):((m=a.order)!==null&&m!==void 0?m:5)-((E=i.order)!==null&&E!==void 0?E:5)}class l extends P.Disposable{constructor(){super(...arguments);this._onViewsRegistered=this._register(new w.Emitter),this.onViewsRegistered=this._onViewsRegistered.event,this._onViewsDeregistered=this._register(new w.Emitter),this.onViewsDeregistered=this._onViewsDeregistered.event,this._onDidChangeContainer=this._register(new w.Emitter),this.onDidChangeContainer=this._onDidChangeContainer.event,this._onDidChangeViewWelcomeContent=this._register(new w.Emitter),this.onDidChangeViewWelcomeContent=this._onDidChangeViewWelcomeContent.event,this._viewContainers=[],this._views=new Map,this._viewWelcomeContents=new I.SetMap}registerViews(i,h){this.registerViews2([{views:i,viewContainer:h}])}registerViews2(i){i.forEach(({views:h,viewContainer:y})=>this.addViews(h,y)),this._onViewsRegistered.fire(i)}deregisterViews(i,h){const y=this.removeViews(i,h);y.length&&this._onViewsDeregistered.fire({views:y,viewContainer:h})}moveViews(i,h){for(const y of this._views.keys())if(y!==h){const m=this.removeViews(i,y);m.length&&(this.addViews(m,h),this._onDidChangeContainer.fire({views:m,from:y,to:h}))}}getViews(i){return this._views.get(i)||[]}getView(i){for(const h of this._viewContainers){const y=(this._views.get(h)||[]).filter(m=>m.id===i)[0];if(y)return y}return null}getViewContainer(i){for(const h of this._viewContainers)if((this._views.get(h)||[]).filter(m=>m.id===i)[0])return h;return null}registerViewWelcomeContent(i,h){return this._viewWelcomeContents.add(i,h),this._onDidChangeViewWelcomeContent.fire(i),P.toDisposable(()=>{this._viewWelcomeContents.delete(i,h),this._onDidChangeViewWelcomeContent.fire(i)})}getViewWelcomeContent(i){const h=[];return this._viewWelcomeContents.forEach(i,y=>h.push(y)),n.mergeSort(h,s),h}addViews(i,h){let y=this._views.get(h);y||(y=[],this._views.set(h,y),this._viewContainers.push(h));for(const m of i){if(this.getView(m.id)!==null)throw new Error(A.localize(1,null,m.id));y.push(m)}}removeViews(i,h){const y=this._views.get(h);if(!y)return[];const m=[],E=[];for(const _ of y)i.includes(_)?m.push(_):E.push(_);return m.length&&(E.length?this._views.set(h,E):(this._views.delete(h),this._viewContainers.splice(this._viewContainers.indexOf(h),1))),m}}C.Registry.add(u.ViewsRegistry,new l),e.IViewsService=T.createDecorator("viewsService"),e.FocusedViewContext=new k.RawContextKey("focusedView","");function c(a){return`view.${a}.visible`}e.getVisbileViewContextKey=c,e.IViewDescriptorService=T.createDecorator("viewDescriptorService");var t;(function(a){a[a.Default=0]="Default",a[a.Expand=1]="Expand"})(t=e.ViewVisibilityState||(e.ViewVisibilityState={}));var r;(function(a){a[a.None=0]="None",a[a.Collapsed=1]="Collapsed",a[a.Expanded=2]="Expanded"})(r=e.TreeItemCollapsibleState||(e.TreeItemCollapsibleState={}));class o{constructor(i,h){this.resolved=!1,this._hasResolve=!1,S.mixin(this,i),this._hasResolve=!!h,this.resolve=async y=>{var m,E;if(h&&!this.resolved){const _=await h(y);_&&(this.tooltip=(m=this.tooltip)!==null&&m!==void 0?m:_.tooltip,this.command=(E=this.command)!==null&&E!==void 0?E:_.command)}y.isCancellationRequested||(this.resolved=!0)}}get hasResolve(){return this._hasResolve}resetResolve(){this.resolved=!1}asTreeItem(){return{handle:this.handle,parentHandle:this.parentHandle,collapsibleState:this.collapsibleState,label:this.label,description:this.description,icon:this.icon,iconDark:this.iconDark,themeIcon:this.themeIcon,resourceUri:this.resourceUri,tooltip:this.tooltip,contextValue:this.contextValue,command:this.command,children:this.children,accessibilityInformation:this.accessibilityInformation}}}e.ResolvableTreeItem=o}),define(ge[195],pe([0,1,2,177,115,11,178,194]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveViewsAPICommand=e.OpenIssueReporter=e.RemoveFromRecentlyOpenedAPICommand=e.NewWindowAPICommand=void 0;function C(g){return(b,...p)=>g(b.get(k.ICommandService),...p)}class n{static execute(b,p){const d={forceReuseWindow:p&&p.reuseWindow,remoteAuthority:p&&p.remoteAuthority};return b.executeCommand("_files.newWindow",d)}}e.NewWindowAPICommand=n,n.ID="vscode.newWindow",k.CommandsRegistry.registerCommand({id:n.ID,handler:C(n.execute),description:{description:"Opens an new window",args:[]}}),k.CommandsRegistry.registerCommand("_workbench.removeFromRecentlyOpened",function(g,b){return g.get(A.IWorkspacesService).removeRecentlyOpened([b])});class I{static execute(b,p){return typeof p=="string"?p=p.match(/^[^:/?#]+:\/\//)?w.URI.parse(p):w.URI.file(p):p=w.URI.revive(p),b.executeCommand("_workbench.removeFromRecentlyOpened",p)}}e.RemoveFromRecentlyOpenedAPICommand=I,I.ID="vscode.removeFromRecentlyOpened",k.CommandsRegistry.registerCommand(I.ID,C(I.execute));class S{static execute(b,p){const d=typeof p=="string"?{extensionId:p}:p;return b.executeCommand("workbench.action.openIssueReporter",d)}}e.OpenIssueReporter=S,S.ID="vscode.openIssueReporter",k.CommandsRegistry.registerCommand("_workbench.addToRecentlyOpened",async function(g,b){const p=g.get(A.IWorkspacesService);let d;const s=b.uri,l=b.label;return b.type==="workspace"?d={workspace:await p.getWorkspaceIdentifier(s),label:l}:b.type==="folder"?d={folderUri:s,label:l}:d={fileUri:s,label:l},p.addRecentlyOpened([d])}),k.CommandsRegistry.registerCommand("_workbench.getRecentlyOpened",async function(g){return g.get(A.IWorkspacesService).getRecentlyOpened()}),k.CommandsRegistry.registerCommand("_extensionTests.setLogLevel",function(g,b){const p=g.get(T.ILogService),d=g.get(P.IEnvironmentService);d.isExtensionDevelopment&&!!d.extensionTestsLocationURI&&p.setLevel(b)}),k.CommandsRegistry.registerCommand("_extensionTests.getLogLevel",function(g){return g.get(T.ILogService).getLevel()}),k.CommandsRegistry.registerCommand("_workbench.action.moveViews",async function(g,b){const p=g.get(D.IViewDescriptorService),d=p.getViewContainerById(b.destinationId);if(!!d){for(const s of b.viewIds){const l=p.getViewDescriptorById(s);(l==null?void 0:l.canMoveView)&&p.moveViewsToContainer([l],d,D.ViewVisibilityState.Default)}await g.get(D.IViewsService).openViewContainer(d.id,!0)}});class v{static execute(b,p){return!Array.isArray(p==null?void 0:p.viewIds)||typeof(p==null?void 0:p.destinationId)!="string"?Promise.reject("Invalid arguments"):b.executeCommand("_workbench.action.moveViews",p)}}e.MoveViewsAPICommand=v,v.ID="vscode.moveViews",k.CommandsRegistry.registerCommand({id:v.ID,handler:C(v.execute),description:{description:"Move Views",args:[]}});class f{static execute(b,p){return b.executeCommand("_workbench.open",p)}}f.ID="vscode.open",k.CommandsRegistry.registerCommand(f.ID,C(f.execute));class u{static execute(b,p,d,s,l){return b.executeCommand("_workbench.diff",[p,d,s])}}u.ID="vscode.diff",k.CommandsRegistry.registerCommand(u.ID,C(u.execute))}),define(ge[116],pe([0,1,3,19,167]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractDebugAdapter=void 0;class T{constructor(){this.pendingRequests=new Map,this.queue=[],this._onError=new w.Emitter,this._onExit=new w.Emitter,this.sequence=1}get onError(){return this._onError.event}get onExit(){return this._onExit.event}onMessage(D){this.messageCallback&&this._onError.fire(new Error("attempt to set more than one 'Message' callback")),this.messageCallback=D}onEvent(D){this.eventCallback&&this._onError.fire(new Error("attempt to set more than one 'Event' callback")),this.eventCallback=D}onRequest(D){this.requestCallback&&this._onError.fire(new Error("attempt to set more than one 'Request' callback")),this.requestCallback=D}sendResponse(D){D.seq>0?this._onError.fire(new Error(`attempt to send more than one response for command ${D.command}`)):this.internalSend("response",D)}sendRequest(D,C,n,I){const S={command:D};if(C&&Object.keys(C).length>0&&(S.arguments=C),this.internalSend("request",S),typeof I=="number"){const v=setTimeout(()=>{clearTimeout(v);const f=this.pendingRequests.get(S.seq);if(f){this.pendingRequests.delete(S.seq);const u={type:"response",seq:0,request_seq:S.seq,success:!1,command:D,message:A.localize(0,null,I,D)};f(u)}},I)}return n&&this.pendingRequests.set(S.seq,n),S.seq}acceptMessage(D){this.messageCallback?this.messageCallback(D):(this.queue.push(D),this.queue.length===1&&this.processQueue())}needsTaskBoundaryBetween(D,C){return D.type!=="event"||C.type!=="event"}async processQueue(){let D;for(;this.queue.length;){if((!D||this.needsTaskBoundaryBetween(this.queue[0],D))&&await k.timeout(0),D=this.queue.shift(),!D)return;switch(D.type){case"event":this.eventCallback&&this.eventCallback(D);break;case"request":this.requestCallback&&this.requestCallback(D);break;case"response":const C=D,n=this.pendingRequests.get(C.request_seq);n&&(this.pendingRequests.delete(C.request_seq),n(C));break}}}internalSend(D,C){C.type=D,C.seq=this.sequence++,this.sendMessage(C)}async cancelPendingRequests(){if(this.pendingRequests.size===0)return Promise.resolve();const D=new Map;this.pendingRequests.forEach((C,n)=>D.set(n,C)),await k.timeout(500),D.forEach((C,n)=>{C({type:"response",seq:0,request_seq:n,success:!1,command:"canceled",message:"canceled"}),this.pendingRequests.delete(n)})}getPendingRequestIds(){return Array.from(this.pendingRequests.keys())}dispose(){this.queue=[]}}e.AbstractDebugAdapter=T}),define(ge[196],pe([0,1,10,2,7,25,13]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getVisibleAndSorted=e.convertToVSCPaths=e.convertToDAPaths=e.isUri=e.getExactExpressionStartAndEnd=e.isDebuggerMainContribution=e.getExtensionHostDebugSession=e.isSessionAttach=e.filterExceptionsFromTelemetry=e.formatPII=void 0;const D=/{([^}]+)}/g;function C(r,o,a){return r.replace(D,function(i,h){return o&&h.length>0&&h[0]!=="_"?i:a&&a.hasOwnProperty(h)?a[h]:i})}e.formatPII=C;function n(r){const o={};for(const a of Object.keys(r))a.startsWith("!")||(o[a]=r[a]);return o}e.filterExceptionsFromTelemetry=n;function I(r){return r.configuration.request==="attach"&&!S(r)}e.isSessionAttach=I;function S(r){let o=r.configuration.type;if(!!o)return o==="vslsShare"&&(o=r.configuration.adapterProxy.configuration.type),w.equalsIgnoreCase(o,"extensionhost")||w.equalsIgnoreCase(o,"pwa-extensionhost")?r:r.parentSession?S(r.parentSession):void 0}e.getExtensionHostDebugSession=S;function v(r){return r.type&&(r.label||r.program||r.runtime)}e.isDebuggerMainContribution=v;function f(r,o,a){let i,h=0,y=/([^()\[\]{}<>\s+\-/%~#^;=|,`!]|\->)+/g,m=null;for(;m=y.exec(r);){let E=m.index+1,_=E+m[0].length;if(E<=o&&_>=a){i=m[0],h=E;break}}if(i){let E=/\w+/g,_=null;for(;(_=E.exec(i))&&!(_.index+1+h+_[0].length>=a););_&&(i=i.substring(0,E.lastIndex))}return i?{start:h,end:h+i.length-1}:{start:0,end:0}}e.getExactExpressionStartAndEnd=f;const u=/^[a-zA-Z][a-zA-Z0-9\+\-\.]+:/;function g(r){return!!(r&&r.match(u))}e.isUri=g;function b(r){if(typeof r.path=="string"&&!(typeof r.sourceReference=="number"&&r.sourceReference>0)){if(g(r.path))return k.URI.parse(r.path);if(A.isAbsolute(r.path))return k.URI.file(r.path)}return r.path}function p(r){if(typeof r.path=="object"){const o=k.URI.revive(r.path);if(o)return o.scheme===P.Schemas.file?o.fsPath:o.toString()}return r.path}function d(r,o){const a=o?b:p,i=T.deepClone(r);return l(i,(h,y)=>{h&&y&&(y.path=a(y))}),i}e.convertToDAPaths=d;function s(r,o){const a=o?b:p,i=T.deepClone(r);return l(i,(h,y)=>{!h&&y&&(y.path=a(y))}),i}e.convertToVSCPaths=s;function l(r,o){switch(r.type){case"event":const a=r;switch(a.event){case"output":o(!1,a.body.source);break;case"loadedSource":o(!1,a.body.source);break;case"breakpoint":o(!1,a.body.breakpoint.source);break;default:break}break;case"request":const i=r;switch(i.command){case"setBreakpoints":o(!0,i.arguments.source);break;case"breakpointLocations":o(!0,i.arguments.source);break;case"source":o(!0,i.arguments.source);break;case"gotoTargets":o(!0,i.arguments.source);break;case"launchVSCode":i.arguments.args.forEach(y=>o(!1,y));break;default:break}break;case"response":const h=r;if(h.success&&h.body)switch(h.command){case"stackTrace":h.body.stackFrames.forEach(y=>o(!1,y.source));break;case"loadedSources":h.body.sources.forEach(y=>o(!1,y));break;case"scopes":h.body.scopes.forEach(y=>o(!1,y.source));break;case"setFunctionBreakpoints":h.body.breakpoints.forEach(y=>o(!1,y.source));break;case"setBreakpoints":h.body.breakpoints.forEach(y=>o(!1,y.source));break;default:break}break}}function c(r){return r.filter(o=>{var a;return!((a=o.presentation)===null||a===void 0?void 0:a.hidden)}).sort((o,a)=>o.presentation?a.presentation?o.presentation.group?a.presentation.group?o.presentation.group!==a.presentation.group?o.presentation.group.localeCompare(a.presentation.group):t(o.presentation.order,a.presentation.order):-1:a.presentation.group?1:t(o.presentation.order,a.presentation.order):-1:a.presentation?1:0)}e.getVisibleAndSorted=c;function t(r,o){return typeof r!="number"?typeof o!="number"?0:1:typeof o!="number"?-1:r-o}}),define(ge[197],pe([0,1,24,34,168,117,7,10,25,9,179,116]),function(Z,e,w,k,A,T,P,D,C,n,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExecutableDebugAdapter=e.NamedPipeDebugAdapter=e.SocketDebugAdapter=e.NetworkDebugAdapter=e.StreamDebugAdapter=void 0;class v extends S.AbstractDebugAdapter{constructor(){super();this.rawData=Buffer.allocUnsafe(0),this.contentLength=-1}connect(d,s){this.outputStream=s,this.rawData=Buffer.allocUnsafe(0),this.contentLength=-1,d.on("data",l=>this.handleData(l))}sendMessage(d){if(this.outputStream){const s=JSON.stringify(d);this.outputStream.write(`Content-Length: ${Buffer.byteLength(s,"utf8")}${v.TWO_CRLF}${s}`,"utf8")}}handleData(d){for(this.rawData=Buffer.concat([this.rawData,d]);;){if(this.contentLength>=0){if(this.rawData.length>=this.contentLength){const s=this.rawData.toString("utf8",0,this.contentLength);if(this.rawData=this.rawData.slice(this.contentLength),this.contentLength=-1,s.length>0)try{this.acceptMessage(JSON.parse(s))}catch(l){this._onError.fire(new Error((l.message||l)+`
`+s))}continue}}else{const s=this.rawData.indexOf(v.TWO_CRLF);if(s!==-1){const c=this.rawData.toString("utf8",0,s).split(v.HEADER_LINESEPARATOR);for(const t of c){const r=t.split(v.HEADER_FIELDSEPARATOR);r[0]==="Content-Length"&&(this.contentLength=Number(r[1]))}this.rawData=this.rawData.slice(s+v.TWO_CRLF.length);continue}}break}}}e.StreamDebugAdapter=v,v.TWO_CRLF=`\r
\r
`,v.HEADER_LINESEPARATOR=/\r?\n/,v.HEADER_FIELDSEPARATOR=/: */;class f extends v{startSession(){return new Promise((d,s)=>{let l=!1;this.socket=this.createConnection(()=>{this.connect(this.socket,this.socket),d(),l=!0}),this.socket.on("close",()=>{l?this._onError.fire(new Error("connection closed")):s(new Error("connection closed"))}),this.socket.on("error",c=>{l?this._onError.fire(c):s(c)})})}async stopSession(){await this.cancelPendingRequests(),this.socket&&(this.socket.end(),this.socket=void 0)}}e.NetworkDebugAdapter=f;class u extends f{constructor(d){super();this.adapterServer=d}createConnection(d){return T.createConnection(this.adapterServer.port,this.adapterServer.host||"127.0.0.1",d)}}e.SocketDebugAdapter=u;class g extends f{constructor(d){super();this.adapterServer=d}createConnection(d){return T.createConnection(this.adapterServer.path,d)}}e.NamedPipeDebugAdapter=g;class b extends v{constructor(d,s,l){super();this.adapterExecutable=d,this.debugType=s,this.outputService=l}async startSession(){const d=this.adapterExecutable.command,s=this.adapterExecutable.args,l=this.adapterExecutable.options||{};try{if(d)if(P.isAbsolute(d)){if(!await w.exists(d))throw new Error(A.localize(0,null,d))}else d.indexOf("/")<0&&d.indexOf("\\")<0;else throw new Error(A.localize(1,null,this.debugType));let c=process.env;if(l.env&&Object.keys(l.env).length>0&&(c=C.mixin(C.deepClone(process.env),l.env)),d==="node")if(Array.isArray(s)&&s.length>0){const r=!!process.env.ELECTRON_RUN_AS_NODE||!!process.versions.electron,o={env:c,execArgv:r?["-e","delete process.env.ELECTRON_RUN_AS_NODE;require(process.argv[1])"]:[],silent:!0};l.cwd&&(o.cwd=l.cwd);const a=k.fork(s[0],s.slice(1),o);if(!a.pid)throw new Error(A.localize(2,null,s[0]));this.serverProcess=a}else throw new Error(A.localize(3,null));else{const r={env:c};l.cwd&&(r.cwd=l.cwd),this.serverProcess=k.spawn(d,s,r)}this.serverProcess.on("error",r=>{this._onError.fire(r)}),this.serverProcess.on("exit",(r,o)=>{this._onExit.fire(r)}),this.serverProcess.stdout.on("close",()=>{this._onError.fire(new Error("read error"))}),this.serverProcess.stdout.on("error",r=>{this._onError.fire(r)}),this.serverProcess.stdin.on("error",r=>{this._onError.fire(r)});const t=this.outputService;if(t){const r=o=>o.toString().replace(/\r?\n$/mg,"");this.serverProcess.stderr.on("data",o=>{const a=t.getChannel(I.ExtensionsChannelId);a&&a.append(r(o))})}else this.serverProcess.stderr.resume();this.connect(this.serverProcess.stdout,this.serverProcess.stdin)}catch(c){this._onError.fire(c)}}async stopSession(){return this.serverProcess?(await this.cancelPendingRequests(),n.isWindows?new Promise((d,s)=>{const l=k.exec(`taskkill /F /T /PID ${this.serverProcess.pid}`,function(c,t,r){if(c)return s(c)});l.on("exit",d),l.on("error",s)}):(this.serverProcess.kill("SIGTERM"),Promise.resolve(void 0))):Promise.resolve(void 0)}static extract(d,s){if(!!d){const l=Object.create(null);d.runtime&&(d.runtime.indexOf("./")===0?l.runtime=P.join(s,d.runtime):l.runtime=d.runtime),d.runtimeArgs&&(l.runtimeArgs=d.runtimeArgs),d.program&&(P.isAbsolute(d.program)?l.program=d.program:l.program=P.join(s,d.program)),d.args&&(l.args=d.args);const c=d;return c.win&&(l.win=b.extract(c.win,s)),c.winx86&&(l.winx86=b.extract(c.winx86,s)),c.windows&&(l.windows=b.extract(c.windows,s)),c.osx&&(l.osx=b.extract(c.osx,s)),c.linux&&(l.linux=b.extract(c.linux,s)),l}}static platformAdapterExecutable(d,s){let l=Object.create(null);s=s.toLowerCase();for(const i of d)if(i.contributes){const h=i.contributes.debuggers;h&&h.length>0&&h.filter(y=>typeof y.type=="string"&&D.equalsIgnoreCase(y.type,s)).forEach(y=>{const m=b.extract(y,i.extensionLocation.fsPath);l=C.mixin(l,m,i.isBuiltin)})}let c;n.isWindows&&!process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?c=l.winx86||l.win||l.windows:n.isWindows?c=l.win||l.windows:n.isMacintosh?c=l.osx:n.isLinux&&(c=l.linux),c=c||l;let t=c.program||l.program;const r=c.args||l.args;let o=c.runtime||l.runtime;const a=c.runtimeArgs||l.runtimeArgs;if(o)return{type:"executable",command:o,args:(a||[]).concat(typeof t=="string"?[t]:[]).concat(r||[])};if(t)return{type:"executable",command:t,args:r||[]}}}e.ExecutableDebugAdapter=b}),define(ge[198],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_TERMINAL_OSX=void 0,e.DEFAULT_TERMINAL_OSX="Terminal.app"}),define(ge[199],pe([0,1,34,7,80,169,24,9,85,4,198,13]),function(Z,e,w,k,A,T,P,D,C,n,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinuxExternalTerminalService=e.MacExternalTerminalService=e.WindowsExternalTerminalService=void 0;const v=T.localize(0,null);let f=class Mt{constructor(s){this._configurationService=s}openTerminal(s){if(this._configurationService){const l=this._configurationService.getValue();this.spawnTerminal(w,l,A.getWindowsShell(),s)}}runInTerminal(s,l,c,t,r){const o=r.windowsExec||Mt.getDefaultTerminalWindows();return new Promise((a,i)=>{const h=`"${l} - ${v}"`,y=`""${c.join('" "')}" & pause"`,m=["/c","start",h,"/wait",o,"/c",y],E=Object.assign({},process.env,t);Object.keys(E).filter(R=>E[R]===null).forEach(R=>delete E[R]);const _={cwd:l,env:E,windowsVerbatimArguments:!0};w.spawn(Mt.CMD,m,_).on("error",R=>{i(b(R))}),a(void 0)})}spawnTerminal(s,l,c,t){const o=l.terminal.external.windowsExec||Mt.getDefaultTerminalWindows();t&&t[1]===":"&&(t=t[0].toUpperCase()+t.substr(1));const a=k.basename(o).toLowerCase();if(a==="cmder"||a==="cmder.exe")return s.spawn(o,t?[t]:void 0),Promise.resolve(void 0);const i=["/c","start","/wait"];return o.indexOf(" ")>=0&&i.push('""'),i.push(o),(a==="wt"||a==="wt.exe")&&i.push("-d ."),new Promise((h,y)=>{const m=t?{cwd:t}:void 0,E=s.spawn(c,i,m);E.on("error",y),E.on("exit",()=>h())})}static getDefaultTerminalWindows(){if(!Mt._DEFAULT_TERMINAL_WINDOWS){const s=!!process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432");Mt._DEFAULT_TERMINAL_WINDOWS=`${process.env.windir?process.env.windir:"C:\\Windows"}\\${s?"Sysnative":"System32"}\\cmd.exe`}return Mt._DEFAULT_TERMINAL_WINDOWS}};f.CMD="cmd.exe",f=He([Fe(0,n.optional(C.IConfigurationService))],f),e.WindowsExternalTerminalService=f;let u=class Si{constructor(s){this._configurationService=s}openTerminal(s){if(this._configurationService){const l=this._configurationService.getValue();this.spawnTerminal(w,l,s)}}runInTerminal(s,l,c,t,r){const o=r.osxExec||I.DEFAULT_TERMINAL_OSX;return new Promise((a,i)=>{if(o===I.DEFAULT_TERMINAL_OSX||o==="iTerm.app"){const h=o===I.DEFAULT_TERMINAL_OSX?"TerminalHelper":"iTermHelper",m=[S.FileAccess.asFileUri(`vs/workbench/contrib/externalTerminal/node/${h}.scpt`,Z).fsPath,"-t",s||v,"-w",l];for(let L of c)m.push("-a"),m.push(L);if(t)for(let L in t){const R=t[L];R===null?(m.push("-u"),m.push(L)):(m.push("-e"),m.push(`${L}=${R}`))}let E="";const _=w.spawn(Si.OSASCRIPT,m);_.on("error",L=>{i(b(L))}),_.stderr.on("data",L=>{E+=L.toString()}),_.on("exit",L=>{if(L===0)a(void 0);else if(E){const R=E.split(`
`,1);i(new Error(R[0]))}else i(new Error(T.localize(1,null,h,L)))})}else i(new Error(T.localize(2,null,o)))})}spawnTerminal(s,l,c){const r=l.terminal.external.osxExec||I.DEFAULT_TERMINAL_OSX;return new Promise((o,a)=>{const i=["-a",r];c&&i.push(c);const h=s.spawn("/usr/bin/open",i);h.on("error",a),h.on("exit",()=>o())})}};u.OSASCRIPT="/usr/bin/osascript",u=He([Fe(0,n.optional(C.IConfigurationService))],u),e.MacExternalTerminalService=u;let g=class Nt{constructor(s){this._configurationService=s}openTerminal(s){if(this._configurationService){const l=this._configurationService.getValue();this.spawnTerminal(w,l,s)}}runInTerminal(s,l,c,t,r){const o=r.linuxExec?Promise.resolve(r.linuxExec):Nt.getDefaultTerminalLinuxReady();return new Promise((a,i)=>{let h=[];o.then(y=>{y.indexOf("gnome-terminal")>=0?h.push("-x"):h.push("-e"),h.push("bash"),h.push("-c");const m=`${p(c)}; echo; read -p "${Nt.WAIT_MESSAGE}" -n1;`;h.push(`''${m}''`);const E=Object.assign({},process.env,t);Object.keys(E).filter(N=>E[N]===null).forEach(N=>delete E[N]);const _={cwd:l,env:E};let L="";const R=w.spawn(y,h,_);R.on("error",N=>{i(b(N))}),R.stderr.on("data",N=>{L+=N.toString()}),R.on("exit",N=>{if(N===0)a(void 0);else if(L){const W=L.split(`
`,1);i(new Error(W[0]))}else i(new Error(T.localize(4,null,y,N)))})})})}spawnTerminal(s,l,c){const t=l.terminal.external,r=t.linuxExec?Promise.resolve(t.linuxExec):Nt.getDefaultTerminalLinuxReady();return new Promise((o,a)=>{r.then(i=>{const h=c?{cwd:c}:void 0,y=s.spawn(i,[],h);y.on("error",a),y.on("exit",()=>o())})})}static async getDefaultTerminalLinuxReady(){return Nt._DEFAULT_TERMINAL_LINUX_READY||(Nt._DEFAULT_TERMINAL_LINUX_READY=new Promise(async s=>{D.isLinux?await P.exists("/etc/debian_version")?s("x-terminal-emulator"):process.env.DESKTOP_SESSION==="gnome"||process.env.DESKTOP_SESSION==="gnome-classic"?s("gnome-terminal"):process.env.DESKTOP_SESSION==="kde-plasma"?s("konsole"):process.env.COLORTERM?s(process.env.COLORTERM):process.env.TERM?s(process.env.TERM):s("xterm"):s("xterm")})),Nt._DEFAULT_TERMINAL_LINUX_READY}};g.WAIT_MESSAGE=T.localize(3,null),g=He([Fe(0,n.optional(C.IConfigurationService))],g),e.LinuxExternalTerminalService=g;function b(d){return"errno"in d&&d.errno==="ENOENT"&&"path"in d&&typeof d.path=="string"?new Error(T.localize(5,null,d.path)):d}function p(d){let s="";for(let l of d)l.indexOf(" ")>=0?s+='"'+l+'"':s+=l,s+=" ";return s}}),define(ge[200],pe([0,1,34,9,199,30]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prepareCommand=e.hasChildProcesses=e.runInExternalTerminal=void 0;let P;function D(v,f){if(!P)if(k.isWindows)P=new A.WindowsExternalTerminalService(void 0);else if(k.isMacintosh)P=new A.MacExternalTerminalService(void 0);else if(k.isLinux)P=new A.LinuxExternalTerminalService(void 0);else throw new Error("external terminals not supported on this platform");const u=f.getConfiguration("terminal");return P.runInTerminal(v.title,v.cwd,v.args,v.env||{},u.external||{})}e.runInExternalTerminal=D;function C(v,f){return new Promise((u,g)=>{let b="";const p=w.spawn(v,f);p.pid&&p.stdout.on("data",d=>{b+=d.toString()}),p.on("error",d=>{g(d)}),p.on("close",d=>{u(b)})})}function n(v){return v?k.isWindows?C("wmic",["process","get","ParentProcessId"]).then(f=>f.split(`\r
`).some(g=>parseInt(g)===v),f=>!0):C("/usr/bin/pgrep",["-lP",String(v)]).then(f=>{const u=f.trim();return!(u.length===0||u.indexOf(" tmux")>=0)},f=>!0):Promise.resolve(!0)}e.hasChildProcesses=n;var I;(function(v){v[v.cmd=0]="cmd",v[v.powershell=1]="powershell",v[v.bash=2]="bash"})(I||(I={}));function S(v,f,u,g){v=v.trim().toLowerCase();let b;v.indexOf("powershell")>=0||v.indexOf("pwsh")>=0?b=1:v.indexOf("cmd.exe")>=0?b=0:v.indexOf("bash")>=0?b=2:k.isWindows?b=0:b=2;let p,d=" ";switch(b){case 1:if(p=l=>(l=l.replace(/\'/g,"''"),l.length>0&&l.charAt(l.length-1)==="\\"?`'${l}\\'`:`'${l}'`),u){const l=T.getDriveLetter(u);l&&(d+=`${l}:; `),d+=`cd ${p(u)}; `}if(g)for(let l in g){const c=g[l];c===null?d+=`Remove-Item env:${l}; `:d+=`\${env:${l}}='${c}'; `}if(f.length>0){const l=p(f.shift());d+=l[0]==="'"?`& ${l} `:`${l} `;for(let c of f)d+=`${p(c)} `}break;case 0:if(p=l=>(l=l.replace(/\"/g,'""'),l.indexOf(" ")>=0||l.indexOf('"')>=0||l.length===0?`"${l}"`:l),u){const l=T.getDriveLetter(u);l&&(d+=`${l}: && `),d+=`cd ${p(u)} && `}if(g){d+='cmd /C "';for(let l in g){let c=g[l];c===null?d+=`set "${l}=" && `:(c=c.replace(/[\^\&\|\<\>]/g,t=>`^${t}`),d+=`set "${l}=${c}" && `)}}for(let l of f)d+=`${p(l)} `;g&&(d+='"');break;case 2:p=l=>(l=l.replace(/(["'\\\$])/g,"\\$1"),l.indexOf(" ")>=0||l.indexOf(";")>=0||l.length===0?`"${l}"`:l);const s=l=>/[^\w@%\/+=,.:^-]/.test(l)?`'${l.replace(/'/g,"'\\''")}'`:l;if(u&&(d+=`cd ${p(u)} ; `),g){d+="/usr/bin/env";for(let l in g){const c=g[l];c===null?d+=` -u ${s(l)}`:d+=` ${s(`${l}=${c}`)}`}d+=" "}for(let l of f)d+=`${p(l)} `;break}return d}e.prepareCommand=S}),define(ge[45],pe([0,1,33,26,13,7,9,60]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CellStatusbarAlignment=e.NotebookTextDiffEditorPreview=e.ShowCellStatusBarKey=e.CellToolbarLocKey=e.DisplayOrderKey=e.CellSequence=e.notebookDocumentFilterMatch=e.isDocumentExcludePattern=e.NotebookEditorPriority=e.NOTEBOOK_EDITOR_CURSOR_BEGIN_END=e.NOTEBOOK_EDITOR_CURSOR_BOUNDARY=e.diff=e.sortMimeTypes=e.mimeTypeSupportedByCore=e.mimeTypeIsAlwaysSecure=e.CellUri=e.getCellUndoRedoComparisonKey=e.CellEditType=e.NotebookCellsChangeType=e.addIdToOutput=e.isTransformedDisplayOutput=e.MimeTypeRendererResolver=e.NotebookCellRunState=e.notebookDocumentMetadataDefaults=e.NotebookRunState=e.RENDERER_NOT_AVAILABLE=e.BUILTIN_RENDERER_ID=e.ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER=e.NOTEBOOK_DISPLAY_ORDER=e.CellOutputKind=e.CellKind=void 0;var C;(function(E){E[E.Markdown=1]="Markdown",E[E.Code=2]="Code"})(C=e.CellKind||(e.CellKind={}));var n;(function(E){E[E.Text=1]="Text",E[E.Error=2]="Error",E[E.Rich=3]="Rich"})(n=e.CellOutputKind||(e.CellOutputKind={})),e.NOTEBOOK_DISPLAY_ORDER=["application/json","application/javascript","text/html","image/svg+xml","text/markdown","image/png","image/jpeg","text/plain"],e.ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER=["text/markdown","application/json","text/plain","text/html","image/svg+xml","image/png","image/jpeg"],e.BUILTIN_RENDERER_ID="_builtin",e.RENDERER_NOT_AVAILABLE="_notAvailable";var I;(function(E){E[E.Running=1]="Running",E[E.Idle=2]="Idle"})(I=e.NotebookRunState||(e.NotebookRunState={})),e.notebookDocumentMetadataDefaults={editable:!0,runnable:!0,cellEditable:!0,cellRunnable:!0,cellHasExecutionOrder:!0,displayOrder:e.NOTEBOOK_DISPLAY_ORDER,custom:{},runState:I.Idle,languages:[],trusted:!0};var S;(function(E){E[E.Running=1]="Running",E[E.Idle=2]="Idle",E[E.Success=3]="Success",E[E.Error=4]="Error"})(S=e.NotebookCellRunState||(e.NotebookCellRunState={}));var v;(function(E){E[E.Core=0]="Core",E[E.Active=1]="Active",E[E.Lazy=2]="Lazy"})(v=e.MimeTypeRendererResolver||(e.MimeTypeRendererResolver={}));function f(E){return E.outputKind===n.Rich&&!!E.outputId}e.isTransformedDisplayOutput=f;const u=(E,_=k.generateUuid())=>E.outputKind===n.Rich?Object.assign(Object.assign({},E),{outputId:_}):E;e.addIdToOutput=u;var g;(function(E){E[E.ModelChange=1]="ModelChange",E[E.Move=2]="Move",E[E.CellClearOutput=3]="CellClearOutput",E[E.CellsClearOutput=4]="CellsClearOutput",E[E.ChangeLanguage=5]="ChangeLanguage",E[E.Initialize=6]="Initialize",E[E.ChangeCellMetadata=7]="ChangeCellMetadata",E[E.Output=8]="Output",E[E.ChangeCellContent=9]="ChangeCellContent",E[E.ChangeDocumentMetadata=10]="ChangeDocumentMetadata",E[E.Unknown=11]="Unknown"})(g=e.NotebookCellsChangeType||(e.NotebookCellsChangeType={}));var b;(function(E){E[E.Replace=1]="Replace",E[E.Output=2]="Output",E[E.Metadata=3]="Metadata",E[E.CellLanguage=4]="CellLanguage",E[E.DocumentMetadata=5]="DocumentMetadata",E[E.OutputsSplice=6]="OutputsSplice",E[E.Move=7]="Move",E[E.Unknown=8]="Unknown",E[E.CellContent=9]="CellContent"})(b=e.CellEditType||(e.CellEditType={}));function p(E){const _=d.parse(E);return _?_.notebook.toString():E.toString()}e.getCellUndoRedoComparisonKey=p;var d;(function(E){E.scheme=A.Schemas.vscodeNotebookCell;const _=/^ch(\d{7,})/;function L(x,M){return x.with({scheme:E.scheme,fragment:`ch${M.toString().padStart(7,"0")}${x.scheme!==A.Schemas.file?x.scheme:""}`})}E.generate=L;function R(x){if(x.scheme===E.scheme){const M=_.exec(x.fragment);if(!!M)return{handle:Number(M[1]),notebook:x.with({scheme:x.fragment.substr(M[0].length)||A.Schemas.file,fragment:null})}}}E.parse=R;function N(x,M){return x.with({scheme:A.Schemas.vscodeNotebookCellMetadata,fragment:`ch${M.toString().padStart(7,"0")}${x.scheme!==A.Schemas.file?x.scheme:""}`})}E.generateCellMetadataUri=N;function W(x){if(x.scheme===A.Schemas.vscodeNotebookCellMetadata){const M=_.exec(x.fragment);if(!!M)return{handle:Number(M[1]),notebook:x.with({scheme:x.fragment.substr(M[0].length)||A.Schemas.file,fragment:null})}}}E.parseCellMetadataUri=W})(d=e.CellUri||(e.CellUri={}));function s(E){return["application/json","text/markdown","image/png","text/plain"].indexOf(E)>-1}e.mimeTypeIsAlwaysSecure=s;function l(E){return["application/json","application/javascript","text/html","image/svg+xml","text/markdown","image/png","image/jpeg","text/plain","text/x-javascript"].indexOf(E)>-1}e.mimeTypeSupportedByCore=l;function c(E,_){return P.isWindows&&(E=E.replace(/\//g,"\\"),_=_.replace(/\//g,"\\")),w.match(E,_)}function t(E,_,L,R){let N=0;for(let W=0;W<_.length;W++){if(c(_[W],E))return N;N++}for(let W=0;W<L.length;W++){if(c(L[W],E))return N;N++}for(let W=0;W<R.length;W++){if(c(R[W],E))return N;N++}return N}function r(E,_,L,R){return E.sort((W,x)=>t(W,_,L,R)-t(x,_,L,R))}e.sortMimeTypes=r;function o(E,_,L,R=(N,W)=>N===W){const N=[];function W($,O,z){if(!(O===0&&z.length===0)){const J=N[N.length-1];J&&J.start+J.deleteCount===$?(J.deleteCount+=O,J.toInsert.push(...z)):N.push({start:$,deleteCount:O,toInsert:z})}}let x=0,M=0;for(;;){if(x===E.length){W(x,0,_.slice(M));break}if(M===_.length){W(x,E.length-x,[]);break}const $=E[x],O=_[M];if(R($,O)){x+=1,M+=1;continue}L(O)?(W(x,1,[]),x+=1):(W(x,0,[O]),M+=1)}return N}e.diff=o,e.NOTEBOOK_EDITOR_CURSOR_BOUNDARY=new D.RawContextKey("notebookEditorCursorAtBoundary","none"),e.NOTEBOOK_EDITOR_CURSOR_BEGIN_END=new D.RawContextKey("notebookEditorCursorAtEditorBeginEnd",!1);var a;(function(E){E.default="default",E.option="option"})(a=e.NotebookEditorPriority||(e.NotebookEditorPriority={}));function i(E){const _=E;return!!((typeof _.include=="string"||w.isRelativePattern(_.include))&&(typeof _.exclude=="string"||w.isRelativePattern(_.exclude)))}e.isDocumentExcludePattern=i;function h(E,_,L){if(Array.isArray(E.viewType)&&E.viewType.indexOf(_)>=0||E.viewType===_)return!0;if(E.filenamePattern){let R=i(E.filenamePattern)?E.filenamePattern.include:E.filenamePattern,N=i(E.filenamePattern)?E.filenamePattern.exclude:void 0;if(w.match(R,T.basename(L.fsPath).toLowerCase()))return!(N&&w.match(N,T.basename(L.fsPath).toLowerCase()))}return!1}e.notebookDocumentFilterMatch=h;class y{constructor(_){this.textModel=_}getElements(){const _=new Int32Array(this.textModel.cells.length);for(let L=0;L<this.textModel.cells.length;L++)_[L]=this.textModel.cells[L].getHashValue();return _}}e.CellSequence=y,e.DisplayOrderKey="notebook.displayOrder",e.CellToolbarLocKey="notebook.cellToolbarLocation",e.ShowCellStatusBarKey="notebook.showCellStatusBar",e.NotebookTextDiffEditorPreview="notebook.diff.enablePreview";var m;(function(E){E[E.LEFT=0]="LEFT",E[E.RIGHT=1]="RIGHT"})(m=e.CellStatusbarAlignment||(e.CellStatusbarAlignment={}))}),define(ge[201],pe([0,1,3,75,5,13,23,2,26,45,86]),function(Z,e,w,k,A,T,P,D,C,n,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookDocument=e.ExtHostCell=void 0;function S(b){const p=new w.Emitter;return{proxy:new Proxy(b,{set(s,l,c,t){return s[l]=c,p.fire(),!0}}),onDidChange:p.event}}class v{constructor(p,d,s,l){this.start=p,this.deletedCount=d,this.deletedItems=s,this.items=l}static asApiEvent(p){return Object.freeze({start:p.start,deletedCount:p.deletedCount,deletedItems:p.deletedItems.map(d=>d.cell),items:p.items.map(d=>d.cell)})}}class f extends A.Disposable{constructor(p,d,s,l){var c;super();this._mainThreadBulkEdits=p,this._notebook=d,this._extHostDocument=s,this._cellData=l,this._onDidDispose=new w.Emitter,this.onDidDispose=this._onDidDispose.event,this._onDidChangeOutputs=new w.Emitter,this.onDidChangeOutputs=this._onDidChangeOutputs.event,this._outputMapping=new WeakMap,this.handle=l.handle,this.uri=D.URI.revive(l.uri),this.cellKind=l.cellKind,this._outputs=l.outputs;for(const r of this._outputs)this._outputMapping.set(r,r.outputId),delete r.outputId;const t=S((c=l.metadata)!==null&&c!==void 0?c:{});this._metadata=t.proxy,this._metadataChangeListener=this._register(t.onDidChange(()=>{this._updateMetadata()}))}static asModelAddData(p,d){return{EOL:d.eol,lines:d.source,modeId:d.language,uri:d.uri,isDirty:!1,versionId:1,notebook:p}}get cell(){if(!this._cell){const p=this,d=this._extHostDocument.getDocument(this.uri);if(!d)throw new Error(`MISSING extHostDocument for notebook cell: ${this.uri}`);this._cell=Object.freeze({get index(){return p._notebook.getCellIndex(p)},notebook:p._notebook.notebookDocument,uri:p.uri,cellKind:this._cellData.cellKind,document:d.document,get language(){return d.document.languageId},get outputs(){return p._outputs},set outputs(s){p._updateOutputs(s)},get metadata(){return p._metadata},set metadata(s){p.setMetadata(s),p._updateMetadata()}})}return this._cell}dispose(){super.dispose(),this._onDidDispose.fire()}setOutputs(p){this._outputs=p}_updateOutputs(p){const s=n.diff(this._outputs||[],p||[],l=>this._outputMapping.has(l)).map(l=>{for(let c=l.start;c<l.start+l.deleteCount;c++)this._outputMapping.delete(this._outputs[c]);return{deleteCount:l.deleteCount,start:l.start,toInsert:l.toInsert.map(c=>{if(c.outputKind===n.CellOutputKind.Rich){const t=C.generateUuid();return this._outputMapping.set(c,t),Object.assign(Object.assign({},c),{outputId:t})}return this._outputMapping.set(c,void 0),c})}});this._outputs=p,this._onDidChangeOutputs.fire(s)}setMetadata(p){this._metadataChangeListener.dispose();const d=S(p);this._metadata=d.proxy,this._metadataChangeListener=this._register(d.onDidChange(()=>{this._updateMetadata()}))}_updateMetadata(){const p=this._notebook.notebookDocument.cells.indexOf(this.cell),d={_type:3,metadata:void 0,resource:this._notebook.uri,notebookVersionId:this._notebook.notebookDocument.version,edit:{editType:3,index:p,metadata:this._metadata}};return this._mainThreadBulkEdits.$tryApplyWorkspaceEdit({edits:[d]})}}e.ExtHostCell=f;function u(b){const p=b.scheme===T.Schemas.file||b.scheme===T.Schemas.untitled?b.fsPath:b.toString();return k.hash(p)+""}class g extends A.Disposable{constructor(p,d,s,l,c,t,r,o,a){super();this._proxy=p,this._documentsAndEditors=d,this._mainThreadBulkEdits=s,this._emitter=l,this._viewType=c,this._contentOptions=t,this.uri=o,this._storagePath=a,this.handle=g._handlePool++,this._cells=[],this._cellDisposableMapping=new Map,this._versionId=0,this._isDirty=!1,this._backupCounter=1,this._disposed=!1,this._languages=[],this._edits=new I.Cache("notebook documents");const i=S(r);this._metadata=i.proxy,this._metadataChangeListener=this._register(i.onDidChange(()=>{this._tryUpdateMetadata()}))}dispose(){this._disposed=!0,super.dispose(),A.dispose(this._cellDisposableMapping.values())}_updateMetadata(p){this._metadataChangeListener.dispose(),p=Object.assign(Object.assign({},n.notebookDocumentMetadataDefaults),p),this._metadataChangeListener&&this._metadataChangeListener.dispose();const d=S(p);this._metadata=d.proxy,this._metadataChangeListener=this._register(d.onDidChange(()=>{this._tryUpdateMetadata()})),this._tryUpdateMetadata()}_tryUpdateMetadata(){const p={_type:3,metadata:void 0,edit:{editType:5,metadata:this._metadata},resource:this.uri,notebookVersionId:this.notebookDocument.version};return this._mainThreadBulkEdits.$tryApplyWorkspaceEdit({edits:[p]})}get notebookDocument(){if(!this._notebook){const p=this;this._notebook=Object.freeze({get uri(){return p.uri},get version(){return p._versionId},get fileName(){return p.uri.fsPath},get viewType(){return p._viewType},get isDirty(){return p._isDirty},get isUntitled(){return p.uri.scheme===T.Schemas.untitled},get cells(){return p._cells.map(d=>d.cell)},get languages(){return p._languages},set languages(d){p._trySetLanguages(d)},get metadata(){return p._metadata},set metadata(d){p._updateMetadata(d)},get contentOptions(){return p._contentOptions}})}return this._notebook}_trySetLanguages(p){this._languages=p,this._proxy.$updateNotebookLanguages(this._viewType,this.uri,this._languages)}getNewBackupUri(){if(!this._storagePath)throw new Error("Backup requires a valid storage path");const p=u(this.uri)+this._backupCounter++;return P.joinPath(this._storagePath,p)}updateBackup(p){var d;(d=this._backup)===null||d===void 0||d.delete(),this._backup=p}disposeBackup(){var p;(p=this._backup)===null||p===void 0||p.delete(),this._backup=void 0}acceptDocumentPropertiesChanged(p){const d=Object.assign(Object.assign({},n.notebookDocumentMetadataDefaults),p.metadata);this._metadataChangeListener&&this._metadataChangeListener.dispose();const s=S(d);this._metadata=s.proxy,this._metadataChangeListener=this._register(s.onDidChange(()=>{this._tryUpdateMetadata()})),this._emitter.emitDocumentMetadataChange({document:this.notebookDocument})}acceptModelChanged(p,d){this._versionId=p.versionId,this._isDirty=d,p.rawEvents.forEach(s=>{s.kind===n.NotebookCellsChangeType.Initialize&&this._spliceNotebookCells(s.changes,!0),s.kind===n.NotebookCellsChangeType.ModelChange?this._spliceNotebookCells(s.changes,!1):s.kind===n.NotebookCellsChangeType.Move?this._moveCell(s.index,s.newIdx):s.kind===n.NotebookCellsChangeType.Output?this._setCellOutputs(s.index,s.outputs):s.kind===n.NotebookCellsChangeType.ChangeLanguage?this._changeCellLanguage(s.index,s.language):s.kind===n.NotebookCellsChangeType.ChangeCellMetadata&&this._changeCellMetadata(s.index,s.metadata)})}_spliceNotebookCells(p,d){if(!this._disposed){const s=[],l=[],c=[];p.reverse().forEach(t=>{var r;const a=t[2].map(h=>{const y=new f(this._mainThreadBulkEdits,this,this._documentsAndEditors,h);if(d||l.push(f.asModelAddData(this.notebookDocument,h)),!this._cellDisposableMapping.has(y.handle)){const E=new A.DisposableStore;E.add(y),this._cellDisposableMapping.set(y.handle,E)}return this._cellDisposableMapping.get(y.handle).add(y.onDidChangeOutputs(E=>{this.eventuallyUpdateCellOutputs(y,E)})),y});for(let h=t[0];h<t[0]+t[1];h++)(r=this._cellDisposableMapping.get(this._cells[h].handle))===null||r===void 0||r.dispose(),this._cellDisposableMapping.delete(this._cells[h].handle);const i=this._cells.splice(t[0],t[1],...a);for(let h of i)c.push(h.uri);s.push(new v(t[0],t[1],i,a))}),this._documentsAndEditors.acceptDocumentsAndEditorsDelta({addedDocuments:l,removedDocuments:c}),d||this._emitter.emitModelChange({document:this.notebookDocument,changes:s.map(v.asApiEvent)})}}_moveCell(p,d){const s=this._cells.splice(p,1);this._cells.splice(d,0,...s);const l=[{start:p,deletedCount:1,deletedItems:s.map(c=>c.cell),items:[]},{start:d,deletedCount:0,deletedItems:[],items:s.map(c=>c.cell)}];this._emitter.emitModelChange({document:this.notebookDocument,changes:l})}_setCellOutputs(p,d){const s=this._cells[p];s.setOutputs(d),this._emitter.emitCellOutputsChange({document:this.notebookDocument,cells:[s.cell]})}_changeCellLanguage(p,d){const s=this._cells[p],l={document:this.notebookDocument,cell:s.cell,language:d};this._emitter.emitCellLanguageChange(l)}_changeCellMetadata(p,d){const s=this._cells[p];s.setMetadata(d||{});const l={document:this.notebookDocument,cell:s.cell};this._emitter.emitCellMetadataChange(l)}async eventuallyUpdateCellOutputs(p,d){const s=d.map(l=>{const c=l.toInsert;return[l.start,l.deleteCount,c]});!s.length||(await this._proxy.$spliceNotebookCellOutputs(this._viewType,this.uri,p.handle,s),this._emitter.emitCellOutputsChange({document:this.notebookDocument,cells:[p.cell]}))}getCell(p){return this._cells.find(d=>d.handle===p)}getCellIndex(p){return this._cells.indexOf(p)}addEdit(p){return this._edits.add([p])}async undo(p,d){await this.getEdit(p).undo()}async redo(p,d){await this.getEdit(p).redo()}getEdit(p){const d=this._edits.get(p,0);if(!d)throw new Error("No edit found");return d}disposeEdits(p){for(const d of p)this._edits.delete(d)}}e.ExtHostNotebookDocument=g,g._handlePool=0});var Je=this&&this.__classPrivateFieldSet||function(Z,e,w){if(!e.has(Z))throw new TypeError("attempted to set private field on non-instance");return e.set(Z,w),w},We=this&&this.__classPrivateFieldGet||function(Z,e){if(!e.has(Z))throw new TypeError("attempted to get private field on non-instance");return e.get(Z)};define(ge[8],pe([0,1,12,15,98,22,16,2,26,50,113,45]),function(Z,e,w,k,A,T,P,D,C,n,I,S){"use strict";var v,f,u,g,b,p,d,s,l,c,t,r,o,a,i,h,y,m,E;Object.defineProperty(e,"__esModule",{value:!0}),e.ExternalUriOpenerPriority=e.TestState=e.TestMessageSeverity=e.TestRunState=e.LinkedEditingRanges=e.StandardTokenType=e.ExtensionRuntime=e.ExtensionMode=e.TimelineItem=e.NotebookEditorRevealType=e.NotebookCellStatusBarAlignment=e.NotebookRunState=e.NotebookCellRunState=e.CellOutputKind=e.CellKind=e.NotebookCellOutput=e.NotebookCellOutputItem=e.ColorThemeKind=e.ColorTheme=e.FileDecoration=e.ExtensionKind=e.QuickInputButtons=e.DebugConfigurationProviderTriggerKind=e.DebugConsoleMode=e.SemanticTokensEdits=e.SemanticTokensEdit=e.SemanticTokens=e.SemanticTokensBuilder=e.SemanticTokensLegend=e.CommentMode=e.CommentThreadCollapsibleState=e.FoldingRangeKind=e.FoldingRange=e.FileSystemError=e.FileChangeType=e.EvaluatableExpression=e.DebugAdapterInlineImplementation=e.DebugAdapterNamedPipeServer=e.DebugAdapterServer=e.DebugAdapterExecutable=e.DataBreakpoint=e.FunctionBreakpoint=e.SourceBreakpoint=e.Breakpoint=e.RelativePattern=e.ConfigurationTarget=e.ThemeColor=e.ThemeIcon=e.TreeItemCollapsibleState=e.TreeItem=e.ProgressLocation=e.Task=e.CustomExecution=e.TaskScope=e.ShellQuoting=e.ShellExecution=e.ProcessExecution=e.TaskGroup=e.TaskPanelKind=e.TaskRevealKind=e.SourceControlInputBoxValidationType=e.ColorFormat=e.ColorPresentation=e.ColorInformation=e.Color=e.DocumentLink=e.DecorationRangeBehavior=e.TextEditorSelectionChangeKind=e.TextEditorRevealType=e.TextDocumentSaveReason=e.TextEditorLineNumbersStyle=e.StatusBarAlignment=e.ViewColumn=e.CompletionList=e.CompletionItem=e.CompletionItemTag=e.CompletionItemKind=e.CompletionTriggerKind=e.InlineHint=e.SignatureHelpTriggerKind=e.SignatureHelp=e.SignatureInformation=e.ParameterInformation=e.MarkdownString=e.CodeLens=e.CallHierarchyOutgoingCall=e.CallHierarchyIncomingCall=e.CallHierarchyItem=e.SelectionRange=e.CodeActionKind=e.CodeAction=e.CodeActionTrigger=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.Hover=e.Diagnostic=e.DiagnosticRelatedInformation=e.Location=e.DiagnosticSeverity=e.DiagnosticTag=e.SnippetString=e.WorkspaceEdit=e.FileEditType=e.TextEdit=e.EnvironmentVariableMutatorType=e.EndOfLine=e.RemoteAuthorityResolverError=e.ResolvedAuthority=e.Selection=e.Range=e.Position=e.Disposable=void 0;function _(q){function j(){return Reflect.construct(q,arguments,this.constructor)}return Object.defineProperty(j,"name",Object.getOwnPropertyDescriptor(q,"name")),Object.setPrototypeOf(j,q),Object.setPrototypeOf(j.prototype,q.prototype),j}let L=p=class{constructor(j){v.set(this,void 0),Je(this,v,j)}static from(...j){let de=j;return new p(function(){if(de){for(const Te of de)Te&&typeof Te.dispose=="function"&&Te.dispose();de=void 0}})}dispose(){typeof We(this,v)=="function"&&(We(this,v).call(this),Je(this,v,void 0))}};v=new WeakMap,L=p=He([_],L),e.Disposable=L;let R=d=class{constructor(j,de){if(j<0)throw k.illegalArgument("line must be non-negative");if(de<0)throw k.illegalArgument("character must be non-negative");this._line=j,this._character=de}static Min(...j){if(j.length===0)throw new TypeError;let de=j[0];for(let Te=1;Te<j.length;Te++){const Ve=j[Te];Ve.isBefore(de)&&(de=Ve)}return de}static Max(...j){if(j.length===0)throw new TypeError;let de=j[0];for(let Te=1;Te<j.length;Te++){const Ve=j[Te];Ve.isAfter(de)&&(de=Ve)}return de}static isPosition(j){if(!j)return!1;if(j instanceof d)return!0;let{line:de,character:Te}=j;return typeof de=="number"&&typeof Te=="number"}get line(){return this._line}get character(){return this._character}isBefore(j){return this._line<j._line?!0:j._line<this._line?!1:this._character<j._character}isBeforeOrEqual(j){return this._line<j._line?!0:j._line<this._line?!1:this._character<=j._character}isAfter(j){return!this.isBeforeOrEqual(j)}isAfterOrEqual(j){return!this.isBefore(j)}isEqual(j){return this._line===j._line&&this._character===j._character}compareTo(j){return this._line<j._line?-1:this._line>j.line?1:this._character<j._character?-1:this._character>j._character?1:0}translate(j,de=0){if(j===null||de===null)throw k.illegalArgument();let Te;return typeof j=="undefined"?Te=0:typeof j=="number"?Te=j:(Te=typeof j.lineDelta=="number"?j.lineDelta:0,de=typeof j.characterDelta=="number"?j.characterDelta:0),Te===0&&de===0?this:new d(this.line+Te,this.character+de)}with(j,de=this.character){if(j===null||de===null)throw k.illegalArgument();let Te;return typeof j=="undefined"?Te=this.line:typeof j=="number"?Te=j:(Te=typeof j.line=="number"?j.line:this.line,de=typeof j.character=="number"?j.character:this.character),Te===this.line&&de===this.character?this:new d(Te,de)}toJSON(){return{line:this.line,character:this.character}}};R=d=He([_],R),e.Position=R;let N=s=class{constructor(j,de,Te,Ve){let Qe,nt;if(typeof j=="number"&&typeof de=="number"&&typeof Te=="number"&&typeof Ve=="number"?(Qe=new R(j,de),nt=new R(Te,Ve)):j instanceof R&&de instanceof R&&(Qe=j,nt=de),!Qe||!nt)throw new Error("Invalid arguments");Qe.isBefore(nt)?(this._start=Qe,this._end=nt):(this._start=nt,this._end=Qe)}static isRange(j){return j instanceof s?!0:j?R.isPosition(j.start)&&R.isPosition(j.end):!1}get start(){return this._start}get end(){return this._end}contains(j){return j instanceof s?this.contains(j._start)&&this.contains(j._end):j instanceof R?!(j.isBefore(this._start)||this._end.isBefore(j)):!1}isEqual(j){return this._start.isEqual(j._start)&&this._end.isEqual(j._end)}intersection(j){const de=R.Max(j.start,this._start),Te=R.Min(j.end,this._end);if(!de.isAfter(Te))return new s(de,Te)}union(j){if(this.contains(j))return this;if(j.contains(this))return j;const de=R.Min(j.start,this._start),Te=R.Max(j.end,this.end);return new s(de,Te)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(j,de=this.end){if(j===null||de===null)throw k.illegalArgument();let Te;return j?R.isPosition(j)?Te=j:(Te=j.start||this.start,de=j.end||this.end):Te=this.start,Te.isEqual(this._start)&&de.isEqual(this.end)?this:new s(Te,de)}toJSON(){return[this.start,this.end]}};N=s=He([_],N),e.Range=N;let W=l=class extends N{constructor(j,de,Te,Ve){let Qe,nt;if(typeof j=="number"&&typeof de=="number"&&typeof Te=="number"&&typeof Ve=="number"?(Qe=new R(j,de),nt=new R(Te,Ve)):j instanceof R&&de instanceof R&&(Qe=j,nt=de),!Qe||!nt)throw new Error("Invalid arguments");super(Qe,nt);this._anchor=Qe,this._active=nt}static isSelection(j){return j instanceof l?!0:j?N.isRange(j)&&R.isPosition(j.anchor)&&R.isPosition(j.active)&&typeof j.isReversed=="boolean":!1}get anchor(){return this._anchor}get active(){return this._active}get isReversed(){return this._anchor===this._end}toJSON(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}}};W=l=He([_],W),e.Selection=W;class x{constructor(j,de,Te){if(typeof j!="string"||j.length===0)throw k.illegalArgument("host");if(typeof de!="number"||de===0||Math.round(de)!==de)throw k.illegalArgument("port");if(typeof Te!="undefined"&&(typeof Te!="string"||Te.length===0||!/^[0-9A-Za-z\-]+$/.test(Te)))throw k.illegalArgument("connectionToken");this.host=j,this.port=Math.round(de),this.connectionToken=Te}}e.ResolvedAuthority=x;class M extends Error{constructor(j,de=I.RemoteAuthorityResolverErrorCode.Unknown,Te){super(j);this._message=j,this._code=de,this._detail=Te,typeof Object.setPrototypeOf=="function"&&Object.setPrototypeOf(this,M.prototype)}static NotAvailable(j,de){return new M(j,I.RemoteAuthorityResolverErrorCode.NotAvailable,de)}static TemporarilyNotAvailable(j){return new M(j,I.RemoteAuthorityResolverErrorCode.TemporarilyNotAvailable)}}e.RemoteAuthorityResolverError=M;var $;(function(q){q[q.LF=1]="LF",q[q.CRLF=2]="CRLF"})($=e.EndOfLine||(e.EndOfLine={}));var O;(function(q){q[q.Replace=1]="Replace",q[q.Append=2]="Append",q[q.Prepend=3]="Prepend"})(O=e.EnvironmentVariableMutatorType||(e.EnvironmentVariableMutatorType={}));let z=c=class{constructor(j,de){this._range=j,this._newText=de}static isTextEdit(j){return j instanceof c?!0:j?N.isRange(j)&&typeof j.newText=="string":!1}static replace(j,de){return new c(j,de)}static insert(j,de){return c.replace(new N(j,j),de)}static delete(j){return c.replace(j,"")}static setEndOfLine(j){const de=new c(new N(new R(0,0),new R(0,0)),"");return de.newEol=j,de}get range(){return this._range}set range(j){if(j&&!N.isRange(j))throw k.illegalArgument("range");this._range=j}get newText(){return this._newText||""}set newText(j){if(j&&typeof j!="string")throw k.illegalArgument("newText");this._newText=j}get newEol(){return this._newEol}set newEol(j){if(j&&typeof j!="number")throw k.illegalArgument("newEol");this._newEol=j}toJSON(){return{range:this.range,newText:this.newText,newEol:this._newEol}}};z=c=He([_],z),e.TextEdit=z;var J;(function(q){q[q.File=1]="File",q[q.Text=2]="Text",q[q.Cell=3]="Cell"})(J=e.FileEditType||(e.FileEditType={}));let U=class{constructor(){this._edits=new Array}_allEntries(){return this._edits}renameFile(j,de,Te,Ve){this._edits.push({_type:1,from:j,to:de,options:Te,metadata:Ve})}createFile(j,de,Te){this._edits.push({_type:1,from:void 0,to:j,options:de,metadata:Te})}deleteFile(j,de,Te){this._edits.push({_type:1,from:j,to:void 0,options:de,metadata:Te})}replaceNotebookMetadata(j,de,Te){this._edits.push({_type:3,metadata:Te,uri:j,edit:{editType:5,metadata:Object.assign(Object.assign({},S.notebookDocumentMetadataDefaults),de)},notebookMetadata:de})}replaceNotebookCells(j,de,Te,Ve,Qe){(de!==Te||Ve.length>0)&&this._edits.push({_type:3,metadata:Qe,uri:j,edit:{editType:1,index:de,count:Te-de,cells:Ve.map(nt=>Object.assign(Object.assign({},nt),{outputs:nt.outputs.map(ne=>S.addIdToOutput(ne))}))}})}replaceNotebookCellOutput(j,de,Te,Ve){this._edits.push({_type:3,metadata:Ve,uri:j,edit:{editType:2,index:de,outputs:Te.map(Qe=>Ht.isNotebookCellOutput(Qe)?S.addIdToOutput(Qe.toJSON()):S.addIdToOutput(Qe))}})}replaceNotebookCellMetadata(j,de,Te,Ve){this._edits.push({_type:3,metadata:Ve,uri:j,edit:{editType:3,index:de,metadata:Te}})}replace(j,de,Te,Ve){this._edits.push({_type:2,uri:j,edit:new z(de,Te),metadata:Ve})}insert(j,de,Te,Ve){this.replace(j,new N(de,de),Te,Ve)}delete(j,de,Te){this.replace(j,de,"",Te)}has(j){return this._edits.some(de=>de._type===2&&de.uri.toString()===j.toString())}set(j,de){if(de)for(const Te of de)Te&&this._edits.push({_type:2,uri:j,edit:Te});else{for(let Te=0;Te<this._edits.length;Te++){const Ve=this._edits[Te];Ve._type===2&&Ve.uri.toString()===j.toString()&&(this._edits[Te]=void 0)}w.coalesceInPlace(this._edits)}}get(j){const de=[];for(let Te of this._edits)Te._type===2&&Te.uri.toString()===j.toString()&&de.push(Te.edit);return de}entries(){const j=new T.ResourceMap;for(let de of this._edits)if(de._type===2){let Te=j.get(de.uri);Te||(Te=[de.uri,[]],j.set(de.uri,Te)),Te[1].push(de.edit)}return[...j.values()]}get size(){return this.entries().length}toJSON(){return this.entries()}};U=He([_],U),e.WorkspaceEdit=U;let V=t=class{constructor(j){this._tabstop=1,this.value=j||""}static isSnippetString(j){return j instanceof t?!0:j?typeof j.value=="string":!1}static _escape(j){return j.replace(/\$|}|\\/g,"\\$&")}appendText(j){return this.value+=t._escape(j),this}appendTabstop(j=this._tabstop++){return this.value+="$",this.value+=j,this}appendPlaceholder(j,de=this._tabstop++){if(typeof j=="function"){const Te=new t;Te._tabstop=this._tabstop,j(Te),this._tabstop=Te._tabstop,j=Te.value}else j=t._escape(j);return this.value+="${",this.value+=de,this.value+=":",this.value+=j,this.value+="}",this}appendChoice(j,de=this._tabstop++){const Te=j.map(Ve=>Ve.replace(/\$|}|\\|,/g,"\\$&")).join(",");return this.value+="${",this.value+=de,this.value+="|",this.value+=Te,this.value+="|}",this}appendVariable(j,de){if(typeof de=="function"){const Te=new t;Te._tabstop=this._tabstop,de(Te),this._tabstop=Te._tabstop,de=Te.value}else typeof de=="string"&&(de=de.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=j,de&&(this.value+=":",this.value+=de),this.value+="}",this}};V=t=He([_],V),e.SnippetString=V;var B;(function(q){q[q.Unnecessary=1]="Unnecessary",q[q.Deprecated=2]="Deprecated"})(B=e.DiagnosticTag||(e.DiagnosticTag={}));var Y;(function(q){q[q.Hint=3]="Hint",q[q.Information=2]="Information",q[q.Warning=1]="Warning",q[q.Error=0]="Error"})(Y=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));let ae=r=class{constructor(j,de){if(this.uri=j,de)if(de instanceof N)this.range=de;else if(de instanceof R)this.range=new N(de,de);else throw new Error("Illegal argument")}static isLocation(j){return j instanceof r?!0:j?N.isRange(j.range)&&D.URI.isUri(j.uri):!1}toJSON(){return{uri:this.uri,range:this.range}}};ae=r=He([_],ae),e.Location=ae;let ce=class{constructor(j,de){this.location=j,this.message=de}static is(j){return j?typeof j.message=="string"&&j.location&&N.isRange(j.location.range)&&D.URI.isUri(j.location.uri):!1}static isEqual(j,de){return j===de?!0:!j||!de?!1:j.message===de.message&&j.location.range.isEqual(de.location.range)&&j.location.uri.toString()===de.location.uri.toString()}};ce=He([_],ce),e.DiagnosticRelatedInformation=ce;let fe=class{constructor(j,de,Te=Y.Error){if(!N.isRange(j))throw new TypeError("range must be set");if(!de)throw new TypeError("message must be set");this.range=j,this.message=de,this.severity=Te}toJSON(){return{severity:Y[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}}static isEqual(j,de){return j===de?!0:!j||!de?!1:j.message===de.message&&j.severity===de.severity&&j.code===de.code&&j.severity===de.severity&&j.source===de.source&&j.range.isEqual(de.range)&&w.equals(j.tags,de.tags)&&w.equals(j.relatedInformation,de.relatedInformation,ce.isEqual)}};fe=He([_],fe),e.Diagnostic=fe;let _e=class{constructor(j,de){if(!j)throw new Error("Illegal argument, contents must be defined");Array.isArray(j)?this.contents=j:A.isMarkdownString(j)?this.contents=[j]:this.contents=[j],this.range=de}};_e=He([_],_e),e.Hover=_e;var be;(function(q){q[q.Text=0]="Text",q[q.Read=1]="Read",q[q.Write=2]="Write"})(be=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));let H=class{constructor(j,de=be.Text){this.range=j,this.kind=de}toJSON(){return{range:this.range,kind:be[this.kind]}}};H=He([_],H),e.DocumentHighlight=H;var X;(function(q){q[q.File=0]="File",q[q.Module=1]="Module",q[q.Namespace=2]="Namespace",q[q.Package=3]="Package",q[q.Class=4]="Class",q[q.Method=5]="Method",q[q.Property=6]="Property",q[q.Field=7]="Field",q[q.Constructor=8]="Constructor",q[q.Enum=9]="Enum",q[q.Interface=10]="Interface",q[q.Function=11]="Function",q[q.Variable=12]="Variable",q[q.Constant=13]="Constant",q[q.String=14]="String",q[q.Number=15]="Number",q[q.Boolean=16]="Boolean",q[q.Array=17]="Array",q[q.Object=18]="Object",q[q.Key=19]="Key",q[q.Null=20]="Null",q[q.EnumMember=21]="EnumMember",q[q.Struct=22]="Struct",q[q.Event=23]="Event",q[q.Operator=24]="Operator",q[q.TypeParameter=25]="TypeParameter"})(X=e.SymbolKind||(e.SymbolKind={}));var re;(function(q){q[q.Deprecated=1]="Deprecated"})(re=e.SymbolTag||(e.SymbolTag={}));let Q=o=class{constructor(j,de,Te,Ve,Qe){this.name=j,this.kind=de,this.containerName=Qe,typeof Te=="string"&&(this.containerName=Te),Ve instanceof ae?this.location=Ve:Te instanceof N&&(this.location=new ae(Ve,Te)),o.validate(this)}static validate(j){if(!j.name)throw new Error("name must not be falsy")}toJSON(){return{name:this.name,kind:X[this.kind],location:this.location,containerName:this.containerName}}};Q=o=He([_],Q),e.SymbolInformation=Q;let le=a=class{constructor(j,de,Te,Ve,Qe){this.name=j,this.detail=de,this.kind=Te,this.range=Ve,this.selectionRange=Qe,this.children=[],a.validate(this)}static validate(j){if(!j.name)throw new Error("name must not be falsy");if(!j.range.contains(j.selectionRange))throw new Error("selectionRange must be contained in fullRange");j.children&&j.children.forEach(a.validate)}};le=a=He([_],le),e.DocumentSymbol=le;var ve;(function(q){q[q.Automatic=1]="Automatic",q[q.Manual=2]="Manual"})(ve=e.CodeActionTrigger||(e.CodeActionTrigger={}));let De=class{constructor(j,de){this.title=j,this.kind=de}};De=He([_],De),e.CodeAction=De;let Me=i=class{constructor(j){this.value=j}append(j){return new i(this.value?this.value+i.sep+j:j)}intersects(j){return this.contains(j)||j.contains(this)}contains(j){return this.value===j.value||j.value.startsWith(this.value+i.sep)}};Me.sep=".",Me=i=He([_],Me),e.CodeActionKind=Me,Me.Empty=new Me(""),Me.QuickFix=Me.Empty.append("quickfix"),Me.Refactor=Me.Empty.append("refactor"),Me.RefactorExtract=Me.Refactor.append("extract"),Me.RefactorInline=Me.Refactor.append("inline"),Me.RefactorRewrite=Me.Refactor.append("rewrite"),Me.Source=Me.Empty.append("source"),Me.SourceOrganizeImports=Me.Source.append("organizeImports"),Me.SourceFixAll=Me.Source.append("fixAll");let Ee=class{constructor(j,de){if(this.range=j,this.parent=de,de&&!de.range.contains(this.range))throw new Error("Invalid argument: parent must contain this range")}};Ee=He([_],Ee),e.SelectionRange=Ee;class Pe{constructor(j,de,Te,Ve,Qe,nt){this.kind=j,this.name=de,this.detail=Te,this.uri=Ve,this.range=Qe,this.selectionRange=nt}}e.CallHierarchyItem=Pe;class Ce{constructor(j,de){this.fromRanges=de,this.from=j}}e.CallHierarchyIncomingCall=Ce;class Oe{constructor(j,de){this.fromRanges=de,this.to=j}}e.CallHierarchyOutgoingCall=Oe;let Se=class{constructor(j,de){this.range=j,this.command=de}get isResolved(){return!!this.command}};Se=He([_],Se),e.CodeLens=Se;let ze=h=class{constructor(j,de=!1){f.set(this,void 0),Je(this,f,new A.MarkdownString(j,{supportThemeIcons:de}))}static isMarkdownString(j){return j instanceof h?!0:j&&j.appendCodeblock&&j.appendMarkdown&&j.appendText&&j.value!==void 0}get value(){return We(this,f).value}set value(j){We(this,f).value=j}get isTrusted(){return We(this,f).isTrusted}set isTrusted(j){We(this,f).isTrusted=j}get supportThemeIcons(){return We(this,f).supportThemeIcons}appendText(j){return We(this,f).appendText(j),this}appendMarkdown(j){return We(this,f).appendMarkdown(j),this}appendCodeblock(j,de){return We(this,f).appendCodeblock(de!=null?de:"",j),this}};f=new WeakMap,ze=h=He([_],ze),e.MarkdownString=ze;let K=class{constructor(j,de){this.label=j,this.documentation=de}};K=He([_],K),e.ParameterInformation=K;let se=class{constructor(j,de){this.label=j,this.documentation=de,this.parameters=[]}};se=He([_],se),e.SignatureInformation=se;let we=class{constructor(){this.activeSignature=0,this.activeParameter=0,this.signatures=[]}};we=He([_],we),e.SignatureHelp=we;var Re;(function(q){q[q.Invoke=1]="Invoke",q[q.TriggerCharacter=2]="TriggerCharacter",q[q.ContentChange=3]="ContentChange"})(Re=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));let Ue=class{constructor(j,de,Te,Ve,Qe){this.text=j,this.range=de,this.description=Te,this.whitespaceBefore=Ve,this.whitespaceAfter=Qe}};Ue=He([_],Ue),e.InlineHint=Ue;var Be;(function(q){q[q.Invoke=0]="Invoke",q[q.TriggerCharacter=1]="TriggerCharacter",q[q.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(Be=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var je;(function(q){q[q.Text=0]="Text",q[q.Method=1]="Method",q[q.Function=2]="Function",q[q.Constructor=3]="Constructor",q[q.Field=4]="Field",q[q.Variable=5]="Variable",q[q.Class=6]="Class",q[q.Interface=7]="Interface",q[q.Module=8]="Module",q[q.Property=9]="Property",q[q.Unit=10]="Unit",q[q.Value=11]="Value",q[q.Enum=12]="Enum",q[q.Keyword=13]="Keyword",q[q.Snippet=14]="Snippet",q[q.Color=15]="Color",q[q.File=16]="File",q[q.Reference=17]="Reference",q[q.Folder=18]="Folder",q[q.EnumMember=19]="EnumMember",q[q.Constant=20]="Constant",q[q.Struct=21]="Struct",q[q.Event=22]="Event",q[q.Operator=23]="Operator",q[q.TypeParameter=24]="TypeParameter",q[q.User=25]="User",q[q.Issue=26]="Issue"})(je=e.CompletionItemKind||(e.CompletionItemKind={}));var ue;(function(q){q[q.Deprecated=1]="Deprecated"})(ue=e.CompletionItemTag||(e.CompletionItemTag={}));let ye=class{constructor(j,de){this.label=j,this.kind=de}toJSON(){return{label:this.label,label2:this.label2,kind:this.kind&&je[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,preselect:this.preselect,insertText:this.insertText,textEdit:this.textEdit}}};ye=He([_],ye),e.CompletionItem=ye;let Ne=class{constructor(j=[],de=!1){this.items=j,this.isIncomplete=de}};Ne=He([_],Ne),e.CompletionList=Ne;var ee;(function(q){q[q.Active=-1]="Active",q[q.Beside=-2]="Beside",q[q.One=1]="One",q[q.Two=2]="Two",q[q.Three=3]="Three",q[q.Four=4]="Four",q[q.Five=5]="Five",q[q.Six=6]="Six",q[q.Seven=7]="Seven",q[q.Eight=8]="Eight",q[q.Nine=9]="Nine"})(ee=e.ViewColumn||(e.ViewColumn={}));var te;(function(q){q[q.Left=1]="Left",q[q.Right=2]="Right"})(te=e.StatusBarAlignment||(e.StatusBarAlignment={}));var G;(function(q){q[q.Off=0]="Off",q[q.On=1]="On",q[q.Relative=2]="Relative"})(G=e.TextEditorLineNumbersStyle||(e.TextEditorLineNumbersStyle={}));var F;(function(q){q[q.Manual=1]="Manual",q[q.AfterDelay=2]="AfterDelay",q[q.FocusOut=3]="FocusOut"})(F=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={}));var ie;(function(q){q[q.Default=0]="Default",q[q.InCenter=1]="InCenter",q[q.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",q[q.AtTop=3]="AtTop"})(ie=e.TextEditorRevealType||(e.TextEditorRevealType={}));var oe;(function(q){q[q.Keyboard=1]="Keyboard",q[q.Mouse=2]="Mouse",q[q.Command=3]="Command"})(oe=e.TextEditorSelectionChangeKind||(e.TextEditorSelectionChangeKind={}));var me;(function(q){q[q.OpenOpen=0]="OpenOpen",q[q.ClosedClosed=1]="ClosedClosed",q[q.OpenClosed=2]="OpenClosed",q[q.ClosedOpen=3]="ClosedOpen"})(me=e.DecorationRangeBehavior||(e.DecorationRangeBehavior={})),function(q){function j(de){switch(de){case"keyboard":return q.Keyboard;case"mouse":return q.Mouse;case"api":return q.Command}}q.fromValue=j}(oe=e.TextEditorSelectionChangeKind||(e.TextEditorSelectionChangeKind={}));let ke=class{constructor(j,de){if(de&&!D.URI.isUri(de))throw k.illegalArgument("target");if(!N.isRange(j)||j.isEmpty)throw k.illegalArgument("range");this.range=j,this.target=de}};ke=He([_],ke),e.DocumentLink=ke;let Ae=class{constructor(j,de,Te,Ve){this.red=j,this.green=de,this.blue=Te,this.alpha=Ve}};Ae=He([_],Ae),e.Color=Ae;let xe=class{constructor(j,de){if(de&&!(de instanceof Ae))throw k.illegalArgument("color");if(!N.isRange(j)||j.isEmpty)throw k.illegalArgument("range");this.range=j,this.color=de}};xe=He([_],xe),e.ColorInformation=xe;let qe=class{constructor(j){if(!j||typeof j!="string")throw k.illegalArgument("label");this.label=j}};qe=He([_],qe),e.ColorPresentation=qe;var Ge;(function(q){q[q.RGB=0]="RGB",q[q.HEX=1]="HEX",q[q.HSL=2]="HSL"})(Ge=e.ColorFormat||(e.ColorFormat={}));var Ke;(function(q){q[q.Error=0]="Error",q[q.Warning=1]="Warning",q[q.Information=2]="Information"})(Ke=e.SourceControlInputBoxValidationType||(e.SourceControlInputBoxValidationType={}));var st;(function(q){q[q.Always=1]="Always",q[q.Silent=2]="Silent",q[q.Never=3]="Never"})(st=e.TaskRevealKind||(e.TaskRevealKind={}));var $e;(function(q){q[q.Shared=1]="Shared",q[q.Dedicated=2]="Dedicated",q[q.New=3]="New"})($e=e.TaskPanelKind||(e.TaskPanelKind={}));let Xe=y=class{constructor(j,de){if(typeof j!="string"||typeof de!="string")throw k.illegalArgument("name");this._id=j}static from(j){switch(j){case"clean":return y.Clean;case"build":return y.Build;case"rebuild":return y.Rebuild;case"test":return y.Test;default:return}}get id(){return this._id}};Xe.Clean=new y("clean","Clean"),Xe.Build=new y("build","Build"),Xe.Rebuild=new y("rebuild","Rebuild"),Xe.Test=new y("test","Test"),Xe=y=He([_],Xe),e.TaskGroup=Xe;function ft(q){let j="";for(let de=0;de<q.length;de++)j+=q[de].replace(/,/g,",,")+",";return j}let et=class{constructor(j,de,Te){if(typeof j!="string")throw k.illegalArgument("process");this._args=[],this._process=j,de!==void 0&&(Array.isArray(de)?(this._args=de,this._options=Te):this._options=de)}get process(){return this._process}set process(j){if(typeof j!="string")throw k.illegalArgument("process");this._process=j}get args(){return this._args}set args(j){Array.isArray(j)||(j=[]),this._args=j}get options(){return this._options}set options(j){this._options=j}computeId(){const j=[];if(j.push("process"),this._process!==void 0&&j.push(this._process),this._args&&this._args.length>0)for(let de of this._args)j.push(de);return ft(j)}};et=He([_],et),e.ProcessExecution=et;let mt=class{constructor(j,de,Te){if(this._args=[],Array.isArray(de)){if(!j)throw k.illegalArgument("command can't be undefined or null");if(typeof j!="string"&&typeof j.value!="string")throw k.illegalArgument("command");this._command=j,this._args=de,this._options=Te}else{if(typeof j!="string")throw k.illegalArgument("commandLine");this._commandLine=j,this._options=de}}get commandLine(){return this._commandLine}set commandLine(j){if(typeof j!="string")throw k.illegalArgument("commandLine");this._commandLine=j}get command(){return this._command?this._command:""}set command(j){if(typeof j!="string"&&typeof j.value!="string")throw k.illegalArgument("command");this._command=j}get args(){return this._args}set args(j){this._args=j||[]}get options(){return this._options}set options(j){this._options=j}computeId(){const j=[];if(j.push("shell"),this._commandLine!==void 0&&j.push(this._commandLine),this._command!==void 0&&j.push(typeof this._command=="string"?this._command:this._command.value),this._args&&this._args.length>0)for(let de of this._args)j.push(typeof de=="string"?de:de.value);return ft(j)}};mt=He([_],mt),e.ShellExecution=mt;var ot;(function(q){q[q.Escape=1]="Escape",q[q.Strong=2]="Strong",q[q.Weak=3]="Weak"})(ot=e.ShellQuoting||(e.ShellQuoting={}));var Ze;(function(q){q[q.Global=1]="Global",q[q.Workspace=2]="Workspace"})(Ze=e.TaskScope||(e.TaskScope={}));class St{constructor(j){this._callback=j}computeId(){return"customExecution"+C.generateUuid()}set callback(j){this._callback=j}get callback(){return this._callback}}e.CustomExecution=St;let wt=m=class{constructor(j,de,Te,Ve,Qe,nt){this.__deprecated=!1,this._definition=this.definition=j;let ne;typeof de=="string"?(this._name=this.name=de,this._source=this.source=Te,this.execution=Ve,ne=Qe,this.__deprecated=!0):de===Ze.Global||de===Ze.Workspace?(this.target=de,this._name=this.name=Te,this._source=this.source=Ve,this.execution=Qe,ne=nt):(this.target=de,this._name=this.name=Te,this._source=this.source=Ve,this.execution=Qe,ne=nt),typeof ne=="string"?(this._problemMatchers=[ne],this._hasDefinedMatchers=!0):Array.isArray(ne)?(this._problemMatchers=ne,this._hasDefinedMatchers=!0):(this._problemMatchers=[],this._hasDefinedMatchers=!1),this._isBackground=!1,this._presentationOptions=Object.create(null),this._runOptions=Object.create(null)}get _id(){return this.__id}set _id(j){this.__id=j}get _deprecated(){return this.__deprecated}clear(){this.__id!==void 0&&(this.__id=void 0,this._scope=void 0,this.computeDefinitionBasedOnExecution())}computeDefinitionBasedOnExecution(){this._execution instanceof et?this._definition={type:m.ProcessType,id:this._execution.computeId()}:this._execution instanceof mt?this._definition={type:m.ShellType,id:this._execution.computeId()}:this._execution instanceof St?this._definition={type:m.ExtensionCallbackType,id:this._execution.computeId()}:this._definition={type:m.EmptyType,id:C.generateUuid()}}get definition(){return this._definition}set definition(j){if(j==null)throw k.illegalArgument("Kind can't be undefined or null");this.clear(),this._definition=j}get scope(){return this._scope}set target(j){this.clear(),this._scope=j}get name(){return this._name}set name(j){if(typeof j!="string")throw k.illegalArgument("name");this.clear(),this._name=j}get execution(){return this._execution}set execution(j){j===null&&(j=void 0),this.clear(),this._execution=j;const de=this._definition.type;(m.EmptyType===de||m.ProcessType===de||m.ShellType===de||m.ExtensionCallbackType===de)&&this.computeDefinitionBasedOnExecution()}get problemMatchers(){return this._problemMatchers}set problemMatchers(j){if(Array.isArray(j))this.clear(),this._problemMatchers=j,this._hasDefinedMatchers=!0;else{this.clear(),this._problemMatchers=[],this._hasDefinedMatchers=!1;return}}get hasDefinedMatchers(){return this._hasDefinedMatchers}get isBackground(){return this._isBackground}set isBackground(j){j!==!0&&j!==!1&&(j=!1),this.clear(),this._isBackground=j}get source(){return this._source}set source(j){if(typeof j!="string"||j.length===0)throw k.illegalArgument("source must be a string of length > 0");this.clear(),this._source=j}get group(){return this._group}set group(j){j===null&&(j=void 0),this.clear(),this._group=j}get detail(){return this._detail}set detail(j){j===null&&(j=void 0),this._detail=j}get presentationOptions(){return this._presentationOptions}set presentationOptions(j){j==null&&(j=Object.create(null)),this.clear(),this._presentationOptions=j}get runOptions(){return this._runOptions}set runOptions(j){j==null&&(j=Object.create(null)),this.clear(),this._runOptions=j}};wt.ExtensionCallbackType="customExecution",wt.ProcessType="process",wt.ShellType="shell",wt.EmptyType="$empty",wt=m=He([_],wt),e.Task=wt;var gt;(function(q){q[q.SourceControl=1]="SourceControl",q[q.Window=10]="Window",q[q.Notification=15]="Notification"})(gt=e.ProgressLocation||(e.ProgressLocation={}));let at=class{constructor(j,de=ut.None){this.collapsibleState=de,D.URI.isUri(j)?this.resourceUri=j:this.label=j}};at=He([_],at),e.TreeItem=at;var ut;(function(q){q[q.None=0]="None",q[q.Collapsed=1]="Collapsed",q[q.Expanded=2]="Expanded"})(ut=e.TreeItemCollapsibleState||(e.TreeItemCollapsibleState={}));let rt=class{constructor(j,de){this.id=j,this.color=de}};rt=He([_],rt),e.ThemeIcon=rt,rt.File=new rt("file"),rt.Folder=new rt("folder");let kt=class{constructor(j){this.id=j}};kt=He([_],kt),e.ThemeColor=kt;var _t;(function(q){q[q.Global=1]="Global",q[q.Workspace=2]="Workspace",q[q.WorkspaceFolder=3]="WorkspaceFolder"})(_t=e.ConfigurationTarget||(e.ConfigurationTarget={}));let Et=class{constructor(j,de){if(typeof j!="string"&&(!j||!D.URI.isUri(j)&&!D.URI.isUri(j.uri)))throw k.illegalArgument("base");if(typeof de!="string")throw k.illegalArgument("pattern");typeof j=="string"?(this.baseFolder=D.URI.file(j),this.base=j):D.URI.isUri(j)?(this.baseFolder=j,this.base=j.fsPath):(this.baseFolder=j.uri,this.base=j.uri.fsPath),this.pattern=de}};Et=He([_],Et),e.RelativePattern=Et;let pt=class{constructor(j,de,Te,Ve){this.enabled=typeof j=="boolean"?j:!0,typeof de=="string"&&(this.condition=de),typeof Te=="string"&&(this.hitCondition=Te),typeof Ve=="string"&&(this.logMessage=Ve)}get id(){return this._id||(this._id=C.generateUuid()),this._id}};pt=He([_],pt),e.Breakpoint=pt;let yt=class extends pt{constructor(j,de,Te,Ve,Qe){super(de,Te,Ve,Qe);if(j===null)throw k.illegalArgument("location");this.location=j}};yt=He([_],yt),e.SourceBreakpoint=yt;let vt=class extends pt{constructor(j,de,Te,Ve,Qe){super(de,Te,Ve,Qe);this.functionName=j}};vt=He([_],vt),e.FunctionBreakpoint=vt;let Ct=class extends pt{constructor(j,de,Te,Ve,Qe,nt,ne){super(Ve,Qe,nt,ne);if(!de)throw k.illegalArgument("dataId");this.label=j,this.dataId=de,this.canPersist=Te}};Ct=He([_],Ct),e.DataBreakpoint=Ct;let Pt=class{constructor(j,de,Te){this.command=j,this.args=de||[],this.options=Te}};Pt=He([_],Pt),e.DebugAdapterExecutable=Pt;let tt=class{constructor(j,de){this.port=j,this.host=de}};tt=He([_],tt),e.DebugAdapterServer=tt;let bt=class{constructor(j){this.path=j}};bt=He([_],bt),e.DebugAdapterNamedPipeServer=bt;let Ut=class{constructor(j){this.implementation=j}};Ut=He([_],Ut),e.DebugAdapterInlineImplementation=Ut;let zt=class{constructor(j,de){this.range=j,this.expression=de}};zt=He([_],zt),e.EvaluatableExpression=zt;var xt;(function(q){q[q.Changed=1]="Changed",q[q.Created=2]="Created",q[q.Deleted=3]="Deleted"})(xt=e.FileChangeType||(e.FileChangeType={}));let it=E=class extends Error{constructor(j,de=n.FileSystemProviderErrorCode.Unknown,Te){var Ve;super(D.URI.isUri(j)?j.toString(!0):j);this.code=(Ve=Te==null?void 0:Te.name)!==null&&Ve!==void 0?Ve:"Unknown",n.markAsFileSystemProviderError(this,de),typeof Object.setPrototypeOf=="function"&&Object.setPrototypeOf(this,E.prototype),typeof Error.captureStackTrace=="function"&&typeof Te=="function"&&Error.captureStackTrace(this,Te)}static FileExists(j){return new E(j,n.FileSystemProviderErrorCode.FileExists,E.FileExists)}static FileNotFound(j){return new E(j,n.FileSystemProviderErrorCode.FileNotFound,E.FileNotFound)}static FileNotADirectory(j){return new E(j,n.FileSystemProviderErrorCode.FileNotADirectory,E.FileNotADirectory)}static FileIsADirectory(j){return new E(j,n.FileSystemProviderErrorCode.FileIsADirectory,E.FileIsADirectory)}static NoPermissions(j){return new E(j,n.FileSystemProviderErrorCode.NoPermissions,E.NoPermissions)}static Unavailable(j){return new E(j,n.FileSystemProviderErrorCode.Unavailable,E.Unavailable)}};it=E=He([_],it),e.FileSystemError=it;let Bt=class{constructor(j,de,Te){this.start=j,this.end=de,this.kind=Te}};Bt=He([_],Bt),e.FoldingRange=Bt;var It;(function(q){q[q.Comment=1]="Comment",q[q.Imports=2]="Imports",q[q.Region=3]="Region"})(It=e.FoldingRangeKind||(e.FoldingRangeKind={}));var Lt;(function(q){q[q.Collapsed=0]="Collapsed",q[q.Expanded=1]="Expanded"})(Lt=e.CommentThreadCollapsibleState||(e.CommentThreadCollapsibleState={}));var ni;(function(q){q[q.Editing=0]="Editing",q[q.Preview=1]="Preview"})(ni=e.CommentMode||(e.CommentMode={}));class hi{constructor(j,de=[]){this.tokenTypes=j,this.tokenModifiers=de}}e.SemanticTokensLegend=hi;function ri(q){return typeof q=="undefined"||P.isStringArray(q)}class Vt{constructor(j){if(this._prevLine=0,this._prevChar=0,this._dataIsSortedAndDeltaEncoded=!0,this._data=[],this._dataLen=0,this._tokenTypeStrToInt=new Map,this._tokenModifierStrToInt=new Map,this._hasLegend=!1,j){this._hasLegend=!0;for(let de=0,Te=j.tokenTypes.length;de<Te;de++)this._tokenTypeStrToInt.set(j.tokenTypes[de],de);for(let de=0,Te=j.tokenModifiers.length;de<Te;de++)this._tokenModifierStrToInt.set(j.tokenModifiers[de],de)}}push(j,de,Te,Ve,Qe){if(typeof j=="number"&&typeof de=="number"&&typeof Te=="number"&&typeof Ve=="number"&&(typeof Qe=="number"||typeof Qe=="undefined"))return typeof Qe=="undefined"&&(Qe=0),this._pushEncoded(j,de,Te,Ve,Qe);if(N.isRange(j)&&typeof de=="string"&&ri(Te))return this._push(j,de,Te);throw k.illegalArgument()}_push(j,de,Te){if(!this._hasLegend)throw new Error("Legend must be provided in constructor");if(j.start.line!==j.end.line)throw new Error("`range` cannot span multiple lines");if(!this._tokenTypeStrToInt.has(de))throw new Error("`tokenType` is not in the provided legend");const Ve=j.start.line,Qe=j.start.character,nt=j.end.character-j.start.character,ne=this._tokenTypeStrToInt.get(de);let he=0;if(Te)for(const Ie of Te){if(!this._tokenModifierStrToInt.has(Ie))throw new Error("`tokenModifier` is not in the provided legend");const Ye=this._tokenModifierStrToInt.get(Ie);he|=1<<Ye>>>0}this._pushEncoded(Ve,Qe,nt,ne,he)}_pushEncoded(j,de,Te,Ve,Qe){if(this._dataIsSortedAndDeltaEncoded&&(j<this._prevLine||j===this._prevLine&&de<this._prevChar)){this._dataIsSortedAndDeltaEncoded=!1;const he=this._data.length/5|0;let Ie=0,Ye=0;for(let lt=0;lt<he;lt++){let dt=this._data[5*lt],ei=this._data[5*lt+1];dt===0?(dt=Ie,ei+=Ye):dt+=Ie,this._data[5*lt]=dt,this._data[5*lt+1]=ei,Ie=dt,Ye=ei}}let nt=j,ne=de;this._dataIsSortedAndDeltaEncoded&&this._dataLen>0&&(nt-=this._prevLine,nt===0&&(ne-=this._prevChar)),this._data[this._dataLen++]=nt,this._data[this._dataLen++]=ne,this._data[this._dataLen++]=Te,this._data[this._dataLen++]=Ve,this._data[this._dataLen++]=Qe,this._prevLine=j,this._prevChar=de}static _sortAndDeltaEncode(j){let de=[];const Te=j.length/5|0;for(let ne=0;ne<Te;ne++)de[ne]=ne;de.sort((ne,he)=>{const Ie=j[5*ne],Ye=j[5*he];if(Ie===Ye){const lt=j[5*ne+1],dt=j[5*he+1];return lt-dt}return Ie-Ye});const Ve=new Uint32Array(j.length);let Qe=0,nt=0;for(let ne=0;ne<Te;ne++){const he=5*de[ne],Ie=j[he+0],Ye=j[he+1],lt=j[he+2],dt=j[he+3],ei=j[he+4],Ei=Ie-Qe,Di=Ei===0?Ye-nt:Ye,ti=5*ne;Ve[ti+0]=Ei,Ve[ti+1]=Di,Ve[ti+2]=lt,Ve[ti+3]=dt,Ve[ti+4]=ei,Qe=Ie,nt=Ye}return Ve}build(j){return this._dataIsSortedAndDeltaEncoded?new Wt(new Uint32Array(this._data),j):new Wt(Vt._sortAndDeltaEncode(this._data),j)}}e.SemanticTokensBuilder=Vt;class Wt{constructor(j,de){this.resultId=de,this.data=j}}e.SemanticTokens=Wt;class Tt{constructor(j,de,Te){this.start=j,this.deleteCount=de,this.data=Te}}e.SemanticTokensEdit=Tt;class fi{constructor(j,de){this.resultId=de,this.edits=j}}e.SemanticTokensEdits=fi;var jt;(function(q){q[q.Separate=0]="Separate",q[q.MergeWithParent=1]="MergeWithParent"})(jt=e.DebugConsoleMode||(e.DebugConsoleMode={}));var qt;(function(q){q[q.Initial=1]="Initial",q[q.Dynamic=2]="Dynamic"})(qt=e.DebugConfigurationProviderTriggerKind||(e.DebugConfigurationProviderTriggerKind={}));let $t=class{constructor(){}};$t.Back={iconPath:new rt("arrow-left")},$t=He([_],$t),e.QuickInputButtons=$t;var mi;(function(q){q[q.UI=1]="UI",q[q.Workspace=2]="Workspace"})(mi=e.ExtensionKind||(e.ExtensionKind={}));class At{constructor(j,de,Te){this.badge=j,this.tooltip=de,this.color=Te}static validate(j){if(j.badge&&j.badge.length!==1&&j.badge.length!==2)throw new Error("The 'badge'-property must be undefined or a short character");if(!j.color&&!j.badge&&!j.tooltip)throw new Error("The decoration is empty")}}e.FileDecoration=At;let Gt=class{constructor(j){this.kind=j}};Gt=He([_],Gt),e.ColorTheme=Gt;var gi;(function(q){q[q.Light=1]="Light",q[q.Dark=2]="Dark",q[q.HighContrast=3]="HighContrast"})(gi=e.ColorThemeKind||(e.ColorThemeKind={}));class Kt{constructor(j,de,Te){this.mime=j,this.value=de,this.metadata=Te}static isNotebookCellOutputItem(j){return j instanceof Kt}}e.NotebookCellOutputItem=Kt;class Ht{constructor(j,de){this.outputs=j,this.metadata=de}static isNotebookCellOutput(j){return j instanceof Ht}toJSON(){let j={},de={},Te=!1;for(let Ve of this.outputs)j[Ve.mime]=Ve.value,Ve.metadata&&(de[Ve.mime]=Ve.metadata,Te=!0);return{outputKind:Qt.Rich,data:j,metadata:Te?{custom:de}:void 0}}}e.NotebookCellOutput=Ht;var Xt;(function(q){q[q.Markdown=1]="Markdown",q[q.Code=2]="Code"})(Xt=e.CellKind||(e.CellKind={}));var Qt;(function(q){q[q.Text=1]="Text",q[q.Error=2]="Error",q[q.Rich=3]="Rich"})(Qt=e.CellOutputKind||(e.CellOutputKind={}));var si;(function(q){q[q.Running=1]="Running",q[q.Idle=2]="Idle",q[q.Success=3]="Success",q[q.Error=4]="Error"})(si=e.NotebookCellRunState||(e.NotebookCellRunState={}));var Yt;(function(q){q[q.Running=1]="Running",q[q.Idle=2]="Idle"})(Yt=e.NotebookRunState||(e.NotebookRunState={}));var Le;(function(q){q[q.Left=1]="Left",q[q.Right=2]="Right"})(Le=e.NotebookCellStatusBarAlignment||(e.NotebookCellStatusBarAlignment={}));var Jt;(function(q){q[q.Default=0]="Default",q[q.InCenter=1]="InCenter",q[q.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",q[q.AtTop=3]="AtTop"})(Jt=e.NotebookEditorRevealType||(e.NotebookEditorRevealType={}));let Ot=class{constructor(j,de){this.label=j,this.timestamp=de}};Ot=He([_],Ot),e.TimelineItem=Ot;var ct;(function(q){q[q.Production=1]="Production",q[q.Development=2]="Development",q[q.Test=3]="Test"})(ct=e.ExtensionMode||(e.ExtensionMode={}));var pi;(function(q){q[q.Node=1]="Node",q[q.Webworker=2]="Webworker"})(pi=e.ExtensionRuntime||(e.ExtensionRuntime={}));var vi;(function(q){q[q.Other=0]="Other",q[q.Comment=1]="Comment",q[q.String=2]="String",q[q.RegEx=4]="RegEx"})(vi=e.StandardTokenType||(e.StandardTokenType={}));class oi{constructor(j,de){this.ranges=j,this.wordPattern=de}}e.LinkedEditingRanges=oi;var ai;(function(q){q[q.Unset=0]="Unset",q[q.Queued=1]="Queued",q[q.Running=2]="Running",q[q.Passed=3]="Passed",q[q.Failed=4]="Failed",q[q.Skipped=5]="Skipped",q[q.Errored=6]="Errored"})(ai=e.TestRunState||(e.TestRunState={}));var wi;(function(q){q[q.Error=0]="Error",q[q.Warning=1]="Warning",q[q.Information=2]="Information",q[q.Hint=3]="Hint"})(wi=e.TestMessageSeverity||(e.TestMessageSeverity={}));let Zt=class{constructor(j,de=[],Te){u.set(this,void 0),g.set(this,void 0),b.set(this,void 0),Je(this,u,j),Je(this,b,Object.freeze(de.map(Ve=>Object.freeze(Ve)))),Je(this,g,Te)}get runState(){return We(this,u)}get duration(){return We(this,g)}get messages(){return We(this,b)}};u=new WeakMap,g=new WeakMap,b=new WeakMap,Zt=He([_],Zt),e.TestState=Zt;var _i;(function(q){q[q.None=0]="None",q[q.Option=1]="Option",q[q.Default=2]="Default",q[q.Preferred=3]="Preferred"})(_i=e.ExternalUriOpenerPriority||(e.ExternalUriOpenerPriority={}))}),define(ge[118],pe([0,1,53,13,10,142,106,8,12]),function(Z,e,w,k,A,T,P,D,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocumentLine=e.ExtHostDocumentData=e.getWordDefinitionFor=e.setWordDefinitionFor=void 0;const n=new Map;function I(u,g){g?n.set(u,g):n.delete(u)}e.setWordDefinitionFor=I;function S(u){return n.get(u)}e.getWordDefinitionFor=S;class v extends T.MirrorTextModel{constructor(g,b,p,d,s,l,c,t){super(b,p,d,s);this._proxy=g,this._languageId=l,this._isDirty=c,this._notebook=t,this._isDisposed=!1}dispose(){w.ok(!this._isDisposed),this._isDisposed=!0,this._isDirty=!1}equalLines(g){return C.equals(this._lines,g)}get document(){if(!this._document){const g=this;this._document={get uri(){return g._uri},get fileName(){return g._uri.fsPath},get isUntitled(){return g._uri.scheme===k.Schemas.untitled},get languageId(){return g._languageId},get version(){return g._versionId},get isClosed(){return g._isDisposed},get isDirty(){return g._isDirty},get notebook(){return g._notebook},save(){return g._save()},getText(b){return b?g._getTextInRange(b):g.getText()},get eol(){return g._eol===`
`?D.EndOfLine.LF:D.EndOfLine.CRLF},get lineCount(){return g._lines.length},lineAt(b){return g._lineAt(b)},offsetAt(b){return g._offsetAt(b)},positionAt(b){return g._positionAt(b)},validateRange(b){return g._validateRange(b)},validatePosition(b){return g._validatePosition(b)},getWordRangeAtPosition(b,p){return g._getWordRangeAtPosition(b,p)}}}return Object.freeze(this._document)}_acceptLanguageId(g){w.ok(!this._isDisposed),this._languageId=g}_acceptIsDirty(g){w.ok(!this._isDisposed),this._isDirty=g}_save(){return this._isDisposed?Promise.reject(new Error("Document has been closed")):this._proxy.$trySaveDocument(this._uri)}_getTextInRange(g){const b=this._validateRange(g);if(b.isEmpty)return"";if(b.isSingleLine)return this._lines[b.start.line].substring(b.start.character,b.end.character);const p=this._eol,d=b.start.line,s=b.end.line,l=[];l.push(this._lines[d].substring(b.start.character));for(let c=d+1;c<s;c++)l.push(this._lines[c]);return l.push(this._lines[s].substring(0,b.end.character)),l.join(p)}_lineAt(g){let b;if(g instanceof D.Position?b=g.line:typeof g=="number"&&(b=g),typeof b!="number"||b<0||b>=this._lines.length||Math.floor(b)!==b)throw new Error("Illegal value for `line`");return new f(b,this._lines[b],b===this._lines.length-1)}_offsetAt(g){return g=this._validatePosition(g),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(g.line-1)+g.character}_positionAt(g){g=Math.floor(g),g=Math.max(0,g),this._ensureLineStarts();const b=this._lineStarts.getIndexOf(g),p=this._lines[b.index].length;return new D.Position(b.index,Math.min(b.remainder,p))}_validateRange(g){if(!(g instanceof D.Range))throw new Error("Invalid argument");const b=this._validatePosition(g.start),p=this._validatePosition(g.end);return b===g.start&&p===g.end?g:new D.Range(b.line,b.character,p.line,p.character)}_validatePosition(g){if(!(g instanceof D.Position))throw new Error("Invalid argument");if(this._lines.length===0)return g.with(0,0);let{line:b,character:p}=g,d=!1;if(b<0)b=0,p=0,d=!0;else if(b>=this._lines.length)b=this._lines.length-1,p=this._lines[b].length,d=!0;else{const s=this._lines[b].length;p<0?(p=0,d=!0):p>s&&(p=s,d=!0)}return d?new D.Position(b,p):g}_getWordRangeAtPosition(g,b){const p=this._validatePosition(g);if(!b)b=S(this._languageId);else if(A.regExpLeadsToEndlessLoop(b))throw new Error(`[getWordRangeAtPosition]: ignoring custom regexp '${b.source}' because it matches the empty string.`);const d=P.getWordAtText(p.character+1,P.ensureValidWordDefinition(b),this._lines[p.line],0);if(d)return new D.Range(p.line,d.startColumn-1,p.line,d.endColumn-1)}}e.ExtHostDocumentData=v;class f{constructor(g,b,p){this._line=g,this._text=b,this._isLastLine=p}get lineNumber(){return this._line}get text(){return this._text}get range(){return new D.Range(this._line,0,this._line,this._text.length)}get rangeIncludingLineBreak(){return this._isLastLine?this.range:new D.Range(this._line,0,this._line+1,0)}get firstNonWhitespaceCharacterIndex(){return/^(\s*)/.exec(this._text)[1].length}get isEmptyOrWhitespace(){return this.firstNonWhitespaceCharacterIndex===this._text.length}}e.ExtHostDocumentLine=f}),define(ge[202],pe([0,1,8,3,108,5,79,45,22,2,26]),function(Z,e,w,k,A,T,P,D,C,n,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookConcatDocument=void 0;class S{constructor(f,u,g,b){this._notebook=g,this._selector=b,this._disposables=new T.DisposableStore,this._isClosed=!1,this._versionId=0,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this.uri=n.URI.from({scheme:"vscode-concat-doc",path:I.generateUuid()}),this._init(),this._disposables.add(u.onDidChangeDocument(d=>{const s=this._cellUris.get(d.document.uri);s!==void 0&&(this._cellLengths.changeValue(s,this._cells[s].document.getText().length+1),this._cellLines.changeValue(s,this._cells[s].document.lineCount),this._versionId+=1,this._onDidChange.fire(void 0))}));const p=d=>{d===this._notebook&&(this._init(),this._versionId+=1,this._onDidChange.fire(void 0))};this._disposables.add(f.onDidChangeCellLanguage(d=>p(d.document))),this._disposables.add(f.onDidChangeNotebookCells(d=>p(d.document)))}dispose(){this._disposables.dispose(),this._isClosed=!0}get isClosed(){return this._isClosed}_init(){this._cells=[],this._cellUris=new C.ResourceMap;const f=[],u=[];for(const g of this._notebook.cells)g.cellKind===D.CellKind.Code&&(!this._selector||P.score(this._selector,g.uri,g.language,!0))&&(this._cellUris.set(g.uri,this._cells.length),this._cells.push(g),f.push(g.document.getText().length+1),u.push(g.document.lineCount));this._cellLengths=new A.PrefixSumComputer(new Uint32Array(f)),this._cellLines=new A.PrefixSumComputer(new Uint32Array(u))}get version(){return this._versionId}getText(f){var u,g;if(!f){let l="";for(const c of this._cells)l+=c.document.getText()+`
`;return l=l.slice(0,-1),l}if(f.isEmpty)return"";const b=this.locationAt(f.start),p=this.locationAt(f.end),d=this._cells[(u=this._cellUris.get(b.uri))!==null&&u!==void 0?u:-1],s=this._cells[(g=this._cellUris.get(p.uri))!==null&&g!==void 0?g:-1];if(!d||!s)return"";if(d===s)return d.document.getText(new w.Range(b.range.start,p.range.end));{const l=d.document.getText(new w.Range(b.range.start,new w.Position(d.document.lineCount,0))),c=s.document.getText(new w.Range(new w.Position(0,0),p.range.end));return l+`
`+c}}offsetAt(f){const u=this._cellLines.getIndexOf(f.line),g=this._cellLengths.getAccumulatedValue(u.index-1),b=this._cells[u.index].document.offsetAt(f.with(u.remainder));return g+b}positionAt(f){if(typeof f=="number"){const g=this._cellLengths.getIndexOf(f),b=this._cellLines.getAccumulatedValue(g.index-1);return this._cells[g.index].document.positionAt(g.remainder).translate(b)}const u=this._cellUris.get(f.uri);if(u!==void 0){const g=this._cellLines.getAccumulatedValue(u-1);return new w.Position(g+f.range.start.line,f.range.start.character)}return new w.Position(0,0)}locationAt(f){w.Range.isRange(f)||(f=new w.Range(f,f));const u=this._cellLines.getIndexOf(f.start.line);let g=u;f.isEmpty||(g=this._cellLines.getIndexOf(f.end.line));const b=new w.Position(u.remainder,f.start.character),p=new w.Position(g.remainder,f.end.character),d=new w.Range(b,p),s=this._cells[u.index];return new w.Location(s.uri,s.document.validateRange(d))}contains(f){return this._cellUris.has(f)}validateRange(f){const u=this.validatePosition(f.start),g=this.validatePosition(f.end);return f.with(u,g)}validatePosition(f){const u=this._cellLines.getIndexOf(f.line),g=new w.Position(u.remainder,f.character),b=this._cells[u.index].document.validatePosition(g),p=this._cellLines.getAccumulatedValue(u.index-1);return new w.Position(p+b.line,b.character)}}e.ExtHostNotebookConcatDocument=S}),define(ge[203],pe([0,1,15,3,5,8,45]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookEditor=void 0;class D{constructor(I){this._finalized=!1,this._collectedEdits=[],this._documentVersionId=I}finalize(){return this._finalized=!0,{documentVersionId:this._documentVersionId,cellEdits:this._collectedEdits}}_throwIfFinalized(){if(this._finalized)throw new Error("Edit is only valid while callback runs")}replaceMetadata(I){this._throwIfFinalized(),this._collectedEdits.push({editType:5,metadata:Object.assign(Object.assign({},P.notebookDocumentMetadataDefaults),I)})}replaceCellMetadata(I,S){this._throwIfFinalized(),this._collectedEdits.push({editType:3,index:I,metadata:S})}replaceCellOutput(I,S){this._throwIfFinalized(),this._collectedEdits.push({editType:2,index:I,outputs:S.map(v=>T.NotebookCellOutput.isNotebookCellOutput(v)?P.addIdToOutput(v.toJSON()):P.addIdToOutput(v))})}replaceCells(I,S,v){this._throwIfFinalized(),!(I===S&&v.length===0)&&this._collectedEdits.push({editType:1,index:I,count:S-I,cells:v.map(f=>Object.assign(Object.assign({},f),{outputs:f.outputs.map(u=>P.addIdToOutput(u))}))})}}class C extends A.Disposable{constructor(I,S,v,f,u){super();this.id=I,this._viewType=S,this._proxy=v,this._webComm=f,this.notebookData=u,this._visibleRanges=[],this._active=!1,this._visible=!1,this._onDidDispose=new k.Emitter,this._onDidReceiveMessage=new k.Emitter,this.onDidDispose=this._onDidDispose.event,this.onDidReceiveMessage=this._onDidReceiveMessage.event,this._hasDecorationsForKey=Object.create(null),this._register(this._webComm.onDidReceiveMessage(g=>{this._onDidReceiveMessage.fire(g)}))}get viewColumn(){return this._viewColumn}set viewColumn(I){throw w.readonly("viewColumn")}get kernel(){return this._kernel}set kernel(I){throw w.readonly("kernel")}_acceptKernel(I){this._kernel=I}get visible(){return this._visible}set visible(I){throw w.readonly("visible")}_acceptVisibility(I){this._visible=I}get visibleRanges(){return this._visibleRanges}set visibleRanges(I){throw w.readonly("visibleRanges")}_acceptVisibleRanges(I){this._visibleRanges=I}get active(){return this._active}set active(I){throw w.readonly("active")}_acceptActive(I){this._active=I}get document(){return this.notebookData.notebookDocument}edit(I){const S=new D(this.document.version);return I(S),this._applyEdit(S.finalize())}_applyEdit(I){if(I.cellEdits.length===0)return Promise.resolve(!0);const S=[];let v=-1;for(let f=0;f<I.cellEdits.length;f++){if(v<0){S.push(I.cellEdits[f]),v++;continue}const g=S[v];if(g.editType===1&&I.cellEdits[f].editType===1){const b=I.cellEdits[f];if(b.editType!==5&&b.editType!==8&&g.index===b.index){g.cells.push(...I.cellEdits[f].cells),g.count+=I.cellEdits[f].count;continue}}S.push(I.cellEdits[f]),v++}return this._proxy.$tryApplyEdits(this._viewType,this.document.uri,I.documentVersionId,S)}setDecorations(I,S){const v=S.start===S.end;if(!(v&&!this._hasDecorationsForKey[I.key]))return v?delete this._hasDecorationsForKey[I.key]:this._hasDecorationsForKey[I.key]=!0,this._proxy.$trySetDecorations(this.id,S,I.key)}revealRange(I,S){this._proxy.$tryRevealRange(this.id,I,S||T.NotebookEditorRevealType.Default)}async postMessage(I){return this._webComm.postMessage(I)}asWebviewUri(I){return this._webComm.asWebviewUri(I)}dispose(){this._onDidDispose.fire(),super.dispose()}}e.ExtHostNotebookEditor=C}),define(ge[204],pe([0,1,8,14,3]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTheming=void 0;let T=class{constructor(D){this._actual=new w.ColorTheme(w.ColorThemeKind.Dark),this._onDidChangeActiveColorTheme=new A.Emitter}get activeColorTheme(){return this._actual}$onColorThemeChange(D){let C=D==="light"?w.ColorThemeKind.Light:D==="dark"?w.ColorThemeKind.Dark:w.ColorThemeKind.HighContrast;this._actual=new w.ColorTheme(C),this._onDidChangeActiveColorTheme.fire(this._actual)}get onDidChangeActiveColorTheme(){return this._onDidChangeActiveColorTheme.event}};T=He([Fe(0,k.IExtHostRpcService)],T),e.ExtHostTheming=T}),define(ge[205],pe([0,1,4,60]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USER_TASKS_GROUP_KEY=e.ITaskService=e.ProcessExecutionSupportedContext=e.ShellExecutionSupportedContext=e.CustomExecutionSupportedContext=void 0,e.CustomExecutionSupportedContext=new k.RawContextKey("customExecutionSupported",!0),e.ShellExecutionSupportedContext=new k.RawContextKey("shellExecutionSupported",!1),e.ProcessExecutionSupportedContext=new k.RawContextKey("processExecutionSupported",!1),e.ITaskService=w.createDecorator("taskService"),e.USER_TASKS_GROUP_KEY="settings"}),define(ge[206],pe([0,1,4]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EnvironmentVariableMutatorType=e.IEnvironmentVariableService=void 0,e.IEnvironmentVariableService=w.createDecorator("environmentVariableService");var k;(function(A){A[A.Replace=1]="Replace",A[A.Append=2]="Append",A[A.Prepend=3]="Prepend"})(k=e.EnvironmentVariableMutatorType||(e.EnvironmentVariableMutatorType={}))}),define(ge[207],pe([0,1,206,9]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MergedEnvironmentVariableCollection=void 0;class A{constructor(C){this.map=new Map,C.forEach((n,I)=>{const S=n.map.entries();let v=S.next();for(;!v.done;){const f=v.value[0];let u=this.map.get(f);if(u||(u=[],this.map.set(f,u)),u.length>0&&u[0].type===w.EnvironmentVariableMutatorType.Replace){v=S.next();continue}const g=v.value[1];u.unshift({extensionIdentifier:I,value:g.value,type:g.type}),v=S.next()}})}applyToProcessEnvironment(C){let n;k.isWindows&&(n={},Object.keys(C).forEach(I=>n[I.toLowerCase()]=I)),this.map.forEach((I,S)=>{const v=k.isWindows&&n[S.toLowerCase()]||S;I.forEach(f=>{switch(f.type){case w.EnvironmentVariableMutatorType.Append:C[v]=(C[v]||"")+f.value;break;case w.EnvironmentVariableMutatorType.Prepend:C[v]=f.value+(C[v]||"");break;case w.EnvironmentVariableMutatorType.Replace:C[v]=f.value;break}})})}diff(C){const n=new Map,I=new Map,S=new Map;if(C.map.forEach((v,f)=>{const u=this.map.get(f),g=T(v,u);g&&n.set(f,g)}),this.map.forEach((v,f)=>{const u=C.map.get(f),g=T(v,u);g&&S.set(f,g)}),this.map.forEach((v,f)=>{const u=C.map.get(f),g=P(v,u);g&&I.set(f,g)}),!(n.size===0&&I.size===0&&S.size===0))return{added:n,changed:I,removed:S}}}e.MergedEnvironmentVariableCollection=A;function T(D,C){if(!C)return D;const n=new Set;C.forEach(S=>n.add(S.extensionIdentifier));const I=[];return D.forEach(S=>{n.has(S.extensionIdentifier)||I.push(S)}),I.length===0?void 0:I}function P(D,C){if(!!C){const n=new Map;C.forEach(S=>n.set(S.extensionIdentifier,S));const I=[];return D.forEach(S=>{const v=n.get(S.extensionIdentifier);v&&(S.type!==v.type||S.value!==v.value)&&I.push(v)}),I.length===0?void 0:I}}}),define(ge[208],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeEnvironmentVariableCollection=e.serializeEnvironmentVariableCollection=void 0;function w(A){return[...A.entries()]}e.serializeEnvironmentVariableCollection=w;function k(A){return new Map(A)}e.deserializeEnvironmentVariableCollection=k}),define(ge[209],pe([0,1,171,60]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.terminalContributionsDescriptor=e.DEFAULT_COMMANDS_TO_SKIP_SHELL=e.TERMINAL_COMMAND_ID=e.FlowControlConstants=e.TitleEventSource=e.LinuxDistro=e.ProcessState=e.DEFAULT_LOCAL_ECHO_EXCLUDE=e.SUGGESTIONS_FONT_WEIGHT=e.DEFAULT_BOLD_FONT_WEIGHT=e.DEFAULT_FONT_WEIGHT=e.MAXIMUM_FONT_WEIGHT=e.MINIMUM_FONT_WEIGHT=e.DEFAULT_LINE_HEIGHT=e.MINIMUM_LETTER_SPACING=e.DEFAULT_LETTER_SPACING=e.TERMINAL_ACTION_CATEGORY=e.TERMINAL_CONFIG_SECTION=e.TerminalCursorStyle=e.TERMINAL_CREATION_COMMANDS=e.NEVER_MEASURE_RENDER_TIME_STORAGE_KEY=e.IS_WORKSPACE_SHELL_ALLOWED_STORAGE_KEY=e.KEYBINDING_CONTEXT_TERMINAL_PROCESS_SUPPORTED=e.KEYBINDING_CONTEXT_TERMINAL_FIND_INPUT_NOT_FOCUSED=e.KEYBINDING_CONTEXT_TERMINAL_FIND_FOCUSED=e.KEYBINDING_CONTEXT_TERMINAL_FIND_INPUT_FOCUSED=e.KEYBINDING_CONTEXT_TERMINAL_FIND_NOT_VISIBLE=e.KEYBINDING_CONTEXT_TERMINAL_FIND_VISIBLE=e.KEYBINDING_CONTEXT_TERMINAL_TEXT_NOT_SELECTED=e.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED=e.KEYBINDING_CONTEXT_TERMINAL_A11Y_TREE_FOCUS=e.KEYBINDING_CONTEXT_TERMINAL_NOT_FOCUSED=e.KEYBINDING_CONTEXT_TERMINAL_ALT_BUFFER_ACTIVE=e.KEYBINDING_CONTEXT_TERMINAL_SHELL_TYPE=e.KEYBINDING_CONTEXT_TERMINAL_SHELL_TYPE_KEY=e.KEYBINDING_CONTEXT_TERMINAL_FOCUS=e.KEYBINDING_CONTEXT_TERMINAL_IS_OPEN=e.TERMINAL_VIEW_ID=void 0,e.TERMINAL_VIEW_ID="terminal",e.KEYBINDING_CONTEXT_TERMINAL_IS_OPEN=new k.RawContextKey("terminalIsOpen",!1),e.KEYBINDING_CONTEXT_TERMINAL_FOCUS=new k.RawContextKey("terminalFocus",!1),e.KEYBINDING_CONTEXT_TERMINAL_SHELL_TYPE_KEY="terminalShellType",e.KEYBINDING_CONTEXT_TERMINAL_SHELL_TYPE=new k.RawContextKey(e.KEYBINDING_CONTEXT_TERMINAL_SHELL_TYPE_KEY,void 0),e.KEYBINDING_CONTEXT_TERMINAL_ALT_BUFFER_ACTIVE=new k.RawContextKey("terminalAltBufferActive",!1),e.KEYBINDING_CONTEXT_TERMINAL_NOT_FOCUSED=e.KEYBINDING_CONTEXT_TERMINAL_FOCUS.toNegated(),e.KEYBINDING_CONTEXT_TERMINAL_A11Y_TREE_FOCUS=new k.RawContextKey("terminalA11yTreeFocus",!1),e.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED=new k.RawContextKey("terminalTextSelected",!1),e.KEYBINDING_CONTEXT_TERMINAL_TEXT_NOT_SELECTED=e.KEYBINDING_CONTEXT_TERMINAL_TEXT_SELECTED.toNegated(),e.KEYBINDING_CONTEXT_TERMINAL_FIND_VISIBLE=new k.RawContextKey("terminalFindVisible",!1),e.KEYBINDING_CONTEXT_TERMINAL_FIND_NOT_VISIBLE=e.KEYBINDING_CONTEXT_TERMINAL_FIND_VISIBLE.toNegated(),e.KEYBINDING_CONTEXT_TERMINAL_FIND_INPUT_FOCUSED=new k.RawContextKey("terminalFindInputFocused",!1),e.KEYBINDING_CONTEXT_TERMINAL_FIND_FOCUSED=new k.RawContextKey("terminalFindFocused",!1),e.KEYBINDING_CONTEXT_TERMINAL_FIND_INPUT_NOT_FOCUSED=e.KEYBINDING_CONTEXT_TERMINAL_FIND_INPUT_FOCUSED.toNegated(),e.KEYBINDING_CONTEXT_TERMINAL_PROCESS_SUPPORTED=new k.RawContextKey("terminalProcessSupported",!1),e.IS_WORKSPACE_SHELL_ALLOWED_STORAGE_KEY="terminal.integrated.isWorkspaceShellAllowed",e.NEVER_MEASURE_RENDER_TIME_STORAGE_KEY="terminal.integrated.neverMeasureRenderTime",e.TERMINAL_CREATION_COMMANDS=["workbench.action.terminal.toggleTerminal","workbench.action.terminal.new","workbench.action.togglePanel","workbench.action.terminal.focus"],e.TerminalCursorStyle={BLOCK:"block",LINE:"line",UNDERLINE:"underline"},e.TERMINAL_CONFIG_SECTION="terminal.integrated",e.TERMINAL_ACTION_CATEGORY=w.localize(0,null),e.DEFAULT_LETTER_SPACING=0,e.MINIMUM_LETTER_SPACING=-5,e.DEFAULT_LINE_HEIGHT=1,e.MINIMUM_FONT_WEIGHT=1,e.MAXIMUM_FONT_WEIGHT=1e3,e.DEFAULT_FONT_WEIGHT="normal",e.DEFAULT_BOLD_FONT_WEIGHT="bold",e.SUGGESTIONS_FONT_WEIGHT=["normal","bold","100","200","300","400","500","600","700","800","900"],e.DEFAULT_LOCAL_ECHO_EXCLUDE=["vim","vi","nano","tmux"];var A;(function(n){n[n.UNINITIALIZED=0]="UNINITIALIZED",n[n.LAUNCHING=1]="LAUNCHING",n[n.RUNNING=2]="RUNNING",n[n.KILLED_DURING_LAUNCH=3]="KILLED_DURING_LAUNCH",n[n.KILLED_BY_USER=4]="KILLED_BY_USER",n[n.KILLED_BY_PROCESS=5]="KILLED_BY_PROCESS"})(A=e.ProcessState||(e.ProcessState={}));var T;(function(n){n[n.Fedora=0]="Fedora",n[n.Ubuntu=1]="Ubuntu",n[n.Unknown=2]="Unknown"})(T=e.LinuxDistro||(e.LinuxDistro={}));var P;(function(n){n[n.Api=0]="Api",n[n.Process=1]="Process",n[n.Sequence=2]="Sequence"})(P=e.TitleEventSource||(e.TitleEventSource={}));var D;(function(n){n[n.HighWatermarkChars=1e5]="HighWatermarkChars",n[n.LowWatermarkChars=5e3]="LowWatermarkChars",n[n.CharCountAckSize=5e3]="CharCountAckSize"})(D=e.FlowControlConstants||(e.FlowControlConstants={}));var C;(function(n){n.FIND_NEXT="workbench.action.terminal.findNext",n.FIND_PREVIOUS="workbench.action.terminal.findPrevious",n.TOGGLE="workbench.action.terminal.toggleTerminal",n.KILL="workbench.action.terminal.kill",n.QUICK_KILL="workbench.action.terminal.quickKill",n.CONFIGURE_TERMINAL_SETTINGS="workbench.action.terminal.openSettings",n.COPY_SELECTION="workbench.action.terminal.copySelection",n.SELECT_ALL="workbench.action.terminal.selectAll",n.DELETE_WORD_LEFT="workbench.action.terminal.deleteWordLeft",n.DELETE_WORD_RIGHT="workbench.action.terminal.deleteWordRight",n.DELETE_TO_LINE_START="workbench.action.terminal.deleteToLineStart",n.MOVE_TO_LINE_START="workbench.action.terminal.moveToLineStart",n.MOVE_TO_LINE_END="workbench.action.terminal.moveToLineEnd",n.NEW="workbench.action.terminal.new",n.NEW_WITH_CWD="workbench.action.terminal.newWithCwd",n.NEW_LOCAL="workbench.action.terminal.newLocal",n.NEW_IN_ACTIVE_WORKSPACE="workbench.action.terminal.newInActiveWorkspace",n.SPLIT="workbench.action.terminal.split",n.SPLIT_IN_ACTIVE_WORKSPACE="workbench.action.terminal.splitInActiveWorkspace",n.RELAUNCH="workbench.action.terminal.relaunch",n.FOCUS_PREVIOUS_PANE="workbench.action.terminal.focusPreviousPane",n.FOCUS_NEXT_PANE="workbench.action.terminal.focusNextPane",n.RESIZE_PANE_LEFT="workbench.action.terminal.resizePaneLeft",n.RESIZE_PANE_RIGHT="workbench.action.terminal.resizePaneRight",n.RESIZE_PANE_UP="workbench.action.terminal.resizePaneUp",n.RESIZE_PANE_DOWN="workbench.action.terminal.resizePaneDown",n.FOCUS="workbench.action.terminal.focus",n.FOCUS_NEXT="workbench.action.terminal.focusNext",n.FOCUS_PREVIOUS="workbench.action.terminal.focusPrevious",n.PASTE="workbench.action.terminal.paste",n.SELECT_DEFAULT_SHELL="workbench.action.terminal.selectDefaultShell",n.RUN_SELECTED_TEXT="workbench.action.terminal.runSelectedText",n.RUN_ACTIVE_FILE="workbench.action.terminal.runActiveFile",n.SWITCH_TERMINAL="workbench.action.terminal.switchTerminal",n.SCROLL_DOWN_LINE="workbench.action.terminal.scrollDown",n.SCROLL_DOWN_PAGE="workbench.action.terminal.scrollDownPage",n.SCROLL_TO_BOTTOM="workbench.action.terminal.scrollToBottom",n.SCROLL_UP_LINE="workbench.action.terminal.scrollUp",n.SCROLL_UP_PAGE="workbench.action.terminal.scrollUpPage",n.SCROLL_TO_TOP="workbench.action.terminal.scrollToTop",n.CLEAR="workbench.action.terminal.clear",n.CLEAR_SELECTION="workbench.action.terminal.clearSelection",n.MANAGE_WORKSPACE_SHELL_PERMISSIONS="workbench.action.terminal.manageWorkspaceShellPermissions",n.RENAME="workbench.action.terminal.rename",n.RENAME_WITH_ARG="workbench.action.terminal.renameWithArg",n.FIND_FOCUS="workbench.action.terminal.focusFind",n.FIND_HIDE="workbench.action.terminal.hideFind",n.QUICK_OPEN_TERM="workbench.action.quickOpenTerm",n.SCROLL_TO_PREVIOUS_COMMAND="workbench.action.terminal.scrollToPreviousCommand",n.SCROLL_TO_NEXT_COMMAND="workbench.action.terminal.scrollToNextCommand",n.SELECT_TO_PREVIOUS_COMMAND="workbench.action.terminal.selectToPreviousCommand",n.SELECT_TO_NEXT_COMMAND="workbench.action.terminal.selectToNextCommand",n.SELECT_TO_PREVIOUS_LINE="workbench.action.terminal.selectToPreviousLine",n.SELECT_TO_NEXT_LINE="workbench.action.terminal.selectToNextLine",n.TOGGLE_ESCAPE_SEQUENCE_LOGGING="toggleEscapeSequenceLogging",n.SEND_SEQUENCE="workbench.action.terminal.sendSequence",n.TOGGLE_FIND_REGEX="workbench.action.terminal.toggleFindRegex",n.TOGGLE_FIND_WHOLE_WORD="workbench.action.terminal.toggleFindWholeWord",n.TOGGLE_FIND_CASE_SENSITIVE="workbench.action.terminal.toggleFindCaseSensitive",n.NAVIGATION_MODE_EXIT="workbench.action.terminal.navigationModeExit",n.NAVIGATION_MODE_FOCUS_NEXT="workbench.action.terminal.navigationModeFocusNext",n.NAVIGATION_MODE_FOCUS_PREVIOUS="workbench.action.terminal.navigationModeFocusPrevious",n.SHOW_ENVIRONMENT_INFORMATION="workbench.action.terminal.showEnvironmentInformation",n.SEARCH_WORKSPACE="workbench.action.terminal.searchWorkspace",n.ATTACH_TO_REMOTE_TERMINAL="workbench.action.terminal.attachToSession"})(C=e.TERMINAL_COMMAND_ID||(e.TERMINAL_COMMAND_ID={})),e.DEFAULT_COMMANDS_TO_SKIP_SHELL=["workbench.action.terminal.clearSelection","workbench.action.terminal.clear","workbench.action.terminal.copySelection","workbench.action.terminal.deleteToLineStart","workbench.action.terminal.deleteWordLeft","workbench.action.terminal.deleteWordRight","workbench.action.terminal.focusFind","workbench.action.terminal.hideFind","workbench.action.terminal.findNext","workbench.action.terminal.findPrevious","workbench.action.terminal.toggleFindRegex","workbench.action.terminal.toggleFindWholeWord","workbench.action.terminal.toggleFindCaseSensitive","workbench.action.terminal.focusNextPane","workbench.action.terminal.focusNext","workbench.action.terminal.focusPreviousPane","workbench.action.terminal.focusPrevious","workbench.action.terminal.focus","workbench.action.terminal.kill","workbench.action.terminal.moveToLineEnd","workbench.action.terminal.moveToLineStart","workbench.action.terminal.newInActiveWorkspace","workbench.action.terminal.new","workbench.action.terminal.paste","workbench.action.terminal.resizePaneDown","workbench.action.terminal.resizePaneLeft","workbench.action.terminal.resizePaneRight","workbench.action.terminal.resizePaneUp","workbench.action.terminal.runActiveFile","workbench.action.terminal.runSelectedText","workbench.action.terminal.scrollDown","workbench.action.terminal.scrollDownPage","workbench.action.terminal.scrollToBottom","workbench.action.terminal.scrollToNextCommand","workbench.action.terminal.scrollToPreviousCommand","workbench.action.terminal.scrollToTop","workbench.action.terminal.scrollUp","workbench.action.terminal.scrollUpPage","workbench.action.terminal.sendSequence","workbench.action.terminal.selectAll","workbench.action.terminal.selectToNextCommand","workbench.action.terminal.selectToNextLine","workbench.action.terminal.selectToPreviousCommand","workbench.action.terminal.selectToPreviousLine","workbench.action.terminal.splitInActiveWorkspace","workbench.action.terminal.split","workbench.action.terminal.toggleTerminal","workbench.action.terminal.navigationModeExit","workbench.action.terminal.navigationModeFocusNext","workbench.action.terminal.navigationModeFocusPrevious","editor.action.toggleTabFocusMode","workbench.action.quickOpen","workbench.action.quickOpenPreviousEditor","workbench.action.showCommands","workbench.action.tasks.build","workbench.action.tasks.restartTask","workbench.action.tasks.runTask","workbench.action.tasks.reRunTask","workbench.action.tasks.showLog","workbench.action.tasks.showTasks","workbench.action.tasks.terminate","workbench.action.tasks.test","workbench.action.toggleFullScreen","workbench.action.terminal.focusAtIndex1","workbench.action.terminal.focusAtIndex2","workbench.action.terminal.focusAtIndex3","workbench.action.terminal.focusAtIndex4","workbench.action.terminal.focusAtIndex5","workbench.action.terminal.focusAtIndex6","workbench.action.terminal.focusAtIndex7","workbench.action.terminal.focusAtIndex8","workbench.action.terminal.focusAtIndex9","workbench.action.focusSecondEditorGroup","workbench.action.focusThirdEditorGroup","workbench.action.focusFourthEditorGroup","workbench.action.focusFifthEditorGroup","workbench.action.focusSixthEditorGroup","workbench.action.focusSeventhEditorGroup","workbench.action.focusEighthEditorGroup","workbench.action.focusNextPart","workbench.action.focusPreviousPart","workbench.action.nextPanelView","workbench.action.previousPanelView","workbench.action.nextSideBarView","workbench.action.previousSideBarView","workbench.action.debug.start","workbench.action.debug.stop","workbench.action.debug.run","workbench.action.debug.restart","workbench.action.debug.continue","workbench.action.debug.pause","workbench.action.debug.stepInto","workbench.action.debug.stepOut","workbench.action.debug.stepOver","workbench.action.nextEditor","workbench.action.previousEditor","workbench.action.nextEditorInGroup","workbench.action.previousEditorInGroup","workbench.action.openNextRecentlyUsedEditor","workbench.action.openPreviousRecentlyUsedEditor","workbench.action.openNextRecentlyUsedEditorInGroup","workbench.action.openPreviousRecentlyUsedEditorInGroup","workbench.action.quickOpenPreviousRecentlyUsedEditor","workbench.action.quickOpenLeastRecentlyUsedEditor","workbench.action.quickOpenPreviousRecentlyUsedEditorInGroup","workbench.action.quickOpenLeastRecentlyUsedEditorInGroup","workbench.action.focusActiveEditorGroup","workbench.action.focusFirstEditorGroup","workbench.action.focusLastEditorGroup","workbench.action.firstEditorInGroup","workbench.action.lastEditorInGroup","workbench.action.navigateUp","workbench.action.navigateDown","workbench.action.navigateRight","workbench.action.navigateLeft","workbench.action.togglePanel","workbench.action.quickOpenView","workbench.action.toggleMaximizedPanel"],e.terminalContributionsDescriptor={extensionPoint:"terminal",defaultExtensionKind:"workspace",jsonSchema:{description:w.localize(1,null),type:"object",properties:{types:{type:"array",description:w.localize(2,null),items:{type:"object",required:["command","title"],properties:{command:{description:w.localize(3,null),type:"string"},title:{description:w.localize(4,null),type:"string"}}}}}}}}),define(ge[210],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TerminalDataBufferer=void 0;class w{constructor(A){this._callback=A,this._terminalBufferMap=new Map}dispose(){for(const A of this._terminalBufferMap.values())A.dispose()}startBuffering(A,T,P=5){let D;return D=T(C=>{const n=typeof C=="string"?C:C.data;let I=this._terminalBufferMap.get(A);if(I){I.data.push(n);return}const S=setTimeout(()=>this._flushBuffer(A),P);I={data:[n],timeoutId:S,dispose:()=>{clearTimeout(S),this._flushBuffer(A),D.dispose()}},this._terminalBufferMap.set(A,I)}),D}stopBuffering(A){const T=this._terminalBufferMap.get(A);T&&T.dispose()}_flushBuffer(A){const T=this._terminalBufferMap.get(A);T&&(this._terminalBufferMap.delete(A),this._callback(A,T.data.join("")))}}e.TerminalDataBufferer=w}),define(ge[211],pe([0,1,7,9,132]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTerminalEnvironment=e.getDefaultShellArgs=e.getDefaultShell=e.createVariableResolver=e.escapeNonWindowsPath=e.getCwd=e.getLangEnvVariable=e.shouldSetLangEnvVariable=e.addTerminalEnvironmentKeys=e.mergeEnvironments=void 0;function T(c,t){if(!!t)if(k.isWindows)for(const r in t){let o=r;for(const i in c)if(r.toLowerCase()===i.toLowerCase()){o=i;break}const a=t[r];P(c,o,a)}else Object.keys(t).forEach(r=>{const o=t[r];P(c,r,o)})}e.mergeEnvironments=T;function P(c,t,r){typeof r=="string"?c[t]=r:delete c[t]}function D(c,t,r,o){c.TERM_PROGRAM="vscode",t&&(c.TERM_PROGRAM_VERSION=t),I(c,o)&&(c.LANG=S(r)),c.COLORTERM="truecolor"}e.addTerminalEnvironmentKeys=D;function C(c,t){if(!!t)for(const r of Object.keys(t)){const o=t[r];o&&(c[r]=o)}}function n(c,t){return Object.keys(t).forEach(r=>{const o=t[r];if(typeof o=="string")try{t[r]=c(o)}catch(a){t[r]=o}}),t}function I(c,t){if(t==="on")return!0;if(t==="auto"){const r=c.LANG;return!r||r.search(/\.UTF\-8$/)===-1&&r.search(/\.utf8$/)===-1&&r.search(/\.euc.+/)===-1}return!1}e.shouldSetLangEnvVariable=I;function S(c){const t=c?c.split("-"):[],r=t.length;if(r===0)return"en_US.UTF-8";if(r===1){const o={af:"ZA",am:"ET",be:"BY",bg:"BG",ca:"ES",cs:"CZ",da:"DK",de:"DE",el:"GR",en:"US",es:"ES",et:"EE",eu:"ES",fi:"FI",fr:"FR",he:"IL",hr:"HR",hu:"HU",hy:"AM",is:"IS",it:"IT",ja:"JP",kk:"KZ",ko:"KR",lt:"LT",nl:"NL",no:"NO",pl:"PL",pt:"BR",ro:"RO",ru:"RU",sk:"SK",sl:"SI",sr:"YU",sv:"SE",tr:"TR",uk:"UA",zh:"CN"};t[0]in o&&t.push(o[t[0]])}else t[1]=t[1].toUpperCase();return t.join("_")+".UTF-8"}e.getLangEnvVariable=S;function v(c,t,r,o,a,i){if(c.cwd){const y=typeof c.cwd=="object"?c.cwd.fsPath:c.cwd,m=f(y,r);return u(m||y)}let h;return!c.ignoreConfigurationCwd&&a&&(r&&(a=f(a,r,i)),a&&(w.isAbsolute(a)?h=a:o&&(h=w.join(o.fsPath,a)))),h||(h=o?o.fsPath:t||""),u(h)}e.getCwd=v;function f(c,t,r){if(t)try{return t(c)}catch(o){r==null||r.error("Could not resolve terminal cwd",o);return}return c}function u(c){return k.platform===3&&c&&c[1]===":"?c[0].toUpperCase()+c.substr(1):c}function g(c){let t=c;t.indexOf("\\")!==0&&(t=t.replace(/\\/g,"\\\\")),t.indexOf(" ")!==-1&&(t=t.replace(/ /g,"\\ "));const r=/[\`\$\|\&\>\~\#\!\^\*\;\<\"\']/g;return t=t.replace(r,""),`'${t}'`}e.escapeNonWindowsPath=g;function b(c,t){if(!!t)return r=>t.resolve(c,r)}e.createVariableResolver=b;function p(c,t,r,o,a,i,h,y,m=k.platform){let E=null;y&&(E=s(c,t,"automationShell",m)),E||(E=s(c,t,"shell",m));let _=E||r;if(m===3&&!o&&a){const L=w.join(a,"Sysnative").replace(/\//g,"\\").toLowerCase();_&&_.toLowerCase().indexOf(L)===0&&(_=w.join(a,"System32",_.substr(L.length+1)))}if(_&&m===3&&(_=_.replace(/\//g,"\\")),i)try{_=i(_)}catch(L){h.error("Could not resolve shell",L)}return _}e.getDefaultShell=p;function d(c,t,r,o,a,i=k.platform){if(r&&s(c,t,"automationShell",i))return[];const h=i===3?"windows":i===1?"osx":"linux",y=c(`terminal.integrated.shellArgs.${h}`);let m=(t?y.value:y.userValue)||y.defaultValue;if(!m)return[];if(typeof m=="string"&&i===3)return o?o(m):m;if(o){const E=[];for(const _ of m)try{E.push(o(_))}catch(L){a.error(`Could not resolve terminal.integrated.shellArgs.${h}`,L),E.push(_)}m=E}return m}e.getDefaultShellArgs=d;function s(c,t,r,o=k.platform){const i=c(`terminal.integrated.${r}.${o===3?"windows":o===1?"osx":"linux"}`);return(t?i.value:i.userValue)||i.defaultValue}function l(c,t,r,o,a,i,h){let y={};if(c.strictEnv)C(y,c.env);else{C(y,h);const m=Object.assign({},o?t.value:t.userValue);r&&(m&&n(r,m),c.env&&n(r,c.env)),A.sanitizeProcessEnvironment(y,"VSCODE_IPC_HOOK_CLI"),T(y,m),T(y,c.env),D(y,a,k.locale,i)}return y}e.createTerminalEnvironment=l});var ii=this&&this.__asyncValues||function(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=Z[Symbol.asyncIterator],w;return e?e.call(Z):(Z=typeof __values=="function"?__values(Z):Z[Symbol.iterator](),w={},k("next"),k("throw"),k("return"),w[Symbol.asyncIterator]=function(){return this},w);function k(T){w[T]=Z[T]&&function(P){return new Promise(function(D,C){P=Z[T](P),A(D,C,P.done,P.value)})}}function A(T,P,D,C){Promise.resolve(C).then(function(n){T({value:n,done:D})},P)}};define(ge[119],pe([0,1,39,9,24,209,12,7,101]),function(Z,e,w,k,A,T,P,D,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectAvailableShells=e.getWindowsBuildNumber=e.linuxDistro=void 0;let n=T.LinuxDistro.Unknown;if(k.isLinux){const g="/etc/os-release";A.fileExists(g).then(async b=>{if(!!b){const d=(await A.readFile(g)).toString();/NAME="?Fedora"?/.test(d)?n=T.LinuxDistro.Fedora:/NAME="?Ubuntu"?/.test(d)&&(n=T.LinuxDistro.Ubuntu)}})}e.linuxDistro=n;function I(){const g=/(\d+)\.(\d+)\.(\d+)/g.exec(w.release());let b=0;return g&&g.length===4&&(b=parseInt(g[3])),b}e.getWindowsBuildNumber=I;function S(){return k.isWindows?v():f()}e.detectAvailableShells=S;async function v(){var g,b;const p=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),d=`${process.env.windir}\\${p?"Sysnative":"System32"}`;let s=!1;I()>=16299&&(s=!0);const l={"Command Prompt":[`${d}\\cmd.exe`],"WSL Bash":[`${d}\\${s?"wsl.exe":"bash.exe"}`],"Git Bash":[`${process.env.ProgramW6432}\\Git\\bin\\bash.exe`,`${process.env.ProgramW6432}\\Git\\usr\\bin\\bash.exe`,`${process.env.ProgramFiles}\\Git\\bin\\bash.exe`,`${process.env.ProgramFiles}\\Git\\usr\\bin\\bash.exe`,`${process.env.LocalAppData}\\Programs\\Git\\bin\\bash.exe`]};try{for(var c=ii(C.enumeratePowerShellInstallations()),t;t=await c.next(),!t.done;){const a=t.value;l[a.displayName]=[a.exePath]}}catch(a){g={error:a}}finally{try{t&&!t.done&&(b=c.return)&&await b.call(c)}finally{if(g)throw g.error}}const r=[];Object.keys(l).forEach(a=>r.push(u(a,l[a])));const o=await Promise.all(r);return P.coalesce(o)}async function f(){return(await A.readFile("/etc/shells","utf8")).split(`
`).filter(p=>p.trim().indexOf("#")!==0&&p.trim().length>0).map(p=>({label:D.basename(p),path:p}))}async function u(g,b){if(b.length===0)return Promise.resolve(void 0);const p=b.shift();if(p==="")return u(g,b);try{const d=await A.stat(D.normalize(p));if(d.isFile()||d.isSymbolicLink())return{label:g,path:p}}catch(d){try{const s=await A.lstat(D.normalize(p));if(s.isFile()||s.isSymbolicLink())return{label:g,path:p}}catch(s){}}return u(g,b)}}),define(ge[120],pe([0,1,9,24,7,16,25]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findExecutable=e.getMainProcessParentEnv=void 0;let D;async function C(I=process.env){if(D)return D;if(w.isLinux){const S=process.ppid,v=A.basename(process.argv[0]);let f=0,u=S,g=v;do f=u,(await k.readFile(`/proc/${f}/status`,"utf8")).split(`
`).forEach(l=>{l.indexOf("Name:")===0&&(g=l.replace(/^Name:\s+/,"")),l.indexOf("PPid:")===0&&(u=parseInt(l.replace(/^PPid:\s+/,"")))});while(g===v);const b=await k.readFile(`/proc/${f}/environ`,"utf8"),p={};b.split("\0").forEach(d=>{const s=d.indexOf("=");p[d.substr(0,s)]=d.substr(s+1)}),D=p}return w.isMacintosh&&(D={},["SHELL","SSH_AUTH_SOCK","Apple_PubSub_Socket_Render","XPC_FLAGS","XPC_SERVICE_NAME","HOME","LOGNAME","TMPDIR"].forEach(v=>{I[v]&&(D[v]=I[v])})),w.isWindows&&(D=I),D}e.getMainProcessParentEnv=C;async function n(I,S,v,f=process.env){if(A.isAbsolute(I))return await k.exists(I)?I:void 0;if(S===void 0&&(S=process.cwd()),A.dirname(I)!=="."){const p=A.join(S,I);return await k.exists(p)?p:void 0}const g=P.getCaseInsensitive(f,"PATH");if(v===void 0&&T.isString(g)&&(v=g.split(A.delimiter)),v===void 0||v.length===0){const p=A.join(S,I);return await k.exists(p)?p:void 0}for(let p of v){let d;if(A.isAbsolute(p)?d=A.join(p,I):d=A.join(S,p,I),await k.exists(d))return d;if(w.isWindows){let s=d+".com";if(await k.exists(s)||(s=d+".exe",await k.exists(s)))return s}}const b=A.join(S,I);return await k.exists(b)?b:void 0}e.findExecutable=n}),define(ge[212],pe([0,1,7,9,38,39,3,119,5,34,11,24,120,2,172]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TerminalProcess=void 0;const g=50,b=5;let p=class extends C.Disposable{constructor(l,c,t,r,o,a,i,h){var y;super();this._shellLaunchConfig=l,this._executableEnv=a,this._logService=h,this._currentTitle="",this._isDisposed=!1,this._titleInterval=null,this._writeQueue=[],this._isPtyPaused=!1,this._unacknowledgedCharCount=0,this._onProcessData=this._register(new P.Emitter),this._onProcessExit=this._register(new P.Emitter),this._onProcessReady=this._register(new P.Emitter),this._onProcessTitleChanged=this._register(new P.Emitter);let m;k.isWindows?m=w.basename(this._shellLaunchConfig.executable||""):m="xterm-256color",this._initialCwd=c;const E=i&&process.platform==="win32"&&D.getWindowsBuildNumber()>=18309;this._ptyOptions={name:m,cwd:c,env:o,cols:t,rows:r,useConpty:E,conptyInheritCursor:E&&!!l.initialText},k.isWindows&&E&&t===0&&r===0&&((y=this._shellLaunchConfig.executable)===null||y===void 0?void 0:y.endsWith("Git\\bin\\bash.exe"))&&(this._delayedResizer=new d,this._register(this._delayedResizer.onTrigger(_=>{var L;(L=this._delayedResizer)===null||L===void 0||L.dispose(),this._delayedResizer=void 0,_.cols&&_.rows&&this.resize(_.cols,_.rows)})))}get exitMessage(){return this._exitMessage}get onProcessData(){return this._onProcessData.event}get onProcessExit(){return this._onProcessExit.event}get onProcessReady(){return this._onProcessReady.event}get onProcessTitleChanged(){return this._onProcessTitleChanged.event}async start(){const c=(await Promise.all([this._validateCwd(),this._validateExecutable()])).find(t=>t!==void 0);if(c)return c;try{await this.setupPtyProcess(this._shellLaunchConfig,this._ptyOptions);return}catch(t){return this._logService.trace("IPty#spawn native exception",t),{message:`A native exception occurred during launch (${t.message})`}}}async _validateCwd(){try{if(!(await S.stat(this._initialCwd)).isDirectory())return{message:u.localize(0,null,this._initialCwd.toString())}}catch(l){if((l==null?void 0:l.code)==="ENOENT")return{message:u.localize(1,null,this._initialCwd.toString())}}}async _validateExecutable(){const l=this._shellLaunchConfig;if(!l.executable)throw new Error("IShellLaunchConfig.executable not set");try{const c=await S.stat(l.executable);if(!c.isFile()&&!c.isSymbolicLink())return{message:u.localize(2,null,l.executable)}}catch(c){if((c==null?void 0:c.code)==="ENOENT"){let t=l.cwd instanceof f.URI?l.cwd.path:l.cwd;const r=l.env&&l.env.PATH?l.env.PATH.split(w.delimiter):void 0;if(!await v.findExecutable(l.executable,t,r,this._executableEnv))return{message:u.localize(3,null,l.executable)}}}}async setupPtyProcess(l,c){const t=l.args||[];this._logService.trace("IPty#spawn",l.executable,t,c);const r=(await new Promise((o,a)=>{Z(["node-pty"],o,a)})).spawn(l.executable,t,c);this._ptyProcess=r,this._processStartupComplete=new Promise(o=>{this.onProcessReady(()=>o())}),r.onData(o=>{this._shellLaunchConfig.flowControl&&(this._unacknowledgedCharCount+=o.length,!this._isPtyPaused&&this._unacknowledgedCharCount>1e5&&(this._logService.trace(`Flow control: Pause (${this._unacknowledgedCharCount} > ${1e5})`),this._isPtyPaused=!0,r.pause())),this._onProcessData.fire(o),this._closeTimeout&&(clearTimeout(this._closeTimeout),this._queueProcessExit())}),r.onExit(o=>{this._exitCode=o.exitCode,this._queueProcessExit()}),this._setupTitlePolling(r),this._sendProcessId(r.pid)}dispose(){this._isDisposed=!0,this._titleInterval&&clearInterval(this._titleInterval),this._titleInterval=null,this._onProcessData.dispose(),this._onProcessExit.dispose(),this._onProcessReady.dispose(),this._onProcessTitleChanged.dispose(),super.dispose()}_setupTitlePolling(l){setTimeout(()=>{this._sendProcessTitle(l)},0),k.isWindows||(this._titleInterval=setInterval(()=>{this._currentTitle!==l.process&&this._sendProcessTitle(l)},200))}_queueProcessExit(){this._closeTimeout&&clearTimeout(this._closeTimeout),this._closeTimeout=setTimeout(()=>this._kill(),250)}async _kill(){if(await this._processStartupComplete,!this._isDisposed){try{this._ptyProcess&&(this._logService.trace("IPty#kill"),this._ptyProcess.kill())}catch(l){}this._onProcessExit.fire(this._exitCode||0),this.dispose()}}_sendProcessId(l){this._onProcessReady.fire({pid:l,cwd:this._initialCwd})}_sendProcessTitle(l){this._isDisposed||(this._currentTitle=l.process,this._onProcessTitleChanged.fire(this._currentTitle))}shutdown(l){l?this._kill():this._queueProcessExit()}input(l){if(!(this._isDisposed||!this._ptyProcess)){for(let c=0;c<=Math.floor(l.length/g);c++)this._writeQueue.push(l.substr(c*g,g));this._startWrite()}}_startWrite(){if(!(this._writeTimeout!==void 0||this._writeQueue.length===0)){if(this._doWrite(),this._writeQueue.length===0){this._writeTimeout=void 0;return}this._writeTimeout=setTimeout(()=>{this._writeTimeout=void 0,this._startWrite()},b)}}_doWrite(){const l=this._writeQueue.shift();this._logService.trace("IPty#write",`${l.length} characters`),this._ptyProcess.write(l)}resize(l,c){if(!this._isDisposed&&!(typeof l!="number"||typeof c!="number"||isNaN(l)||isNaN(c))&&this._ptyProcess){if(l=Math.max(l,1),c=Math.max(c,1),this._delayedResizer){this._delayedResizer.cols=l,this._delayedResizer.rows=c;return}this._logService.trace("IPty#resize",l,c);try{this._ptyProcess.resize(l,c)}catch(t){if(this._logService.trace("IPty#resize exception "+t.message),this._exitCode!==void 0&&t.message!=="ioctl(2) failed, EBADF")throw t}}}acknowledgeDataEvent(l){var c;!this._shellLaunchConfig.flowControl||(this._unacknowledgedCharCount=Math.max(this._unacknowledgedCharCount-l,0),this._logService.trace(`Flow control: Ack ${l} chars (unacknowledged: ${this._unacknowledgedCharCount})`),this._isPtyPaused&&this._unacknowledgedCharCount<5e3&&(this._logService.trace(`Flow control: Resume (${this._unacknowledgedCharCount} < ${5e3})`),(c=this._ptyProcess)===null||c===void 0||c.resume(),this._isPtyPaused=!1))}clearUnacknowledgedChars(){var l;!this._shellLaunchConfig.flowControl||(this._unacknowledgedCharCount=0,this._logService.trace("Flow control: Cleared all unacknowledged chars, forcing resume"),this._isPtyPaused&&((l=this._ptyProcess)===null||l===void 0||l.resume(),this._isPtyPaused=!1))}getInitialCwd(){return Promise.resolve(this._initialCwd)}getCwd(){if(k.isMacintosh){const l=T.release().split(".");if(l.length>0&&parseInt(l[0])<20)return new Promise(c=>{if(!this._ptyProcess){c(this._initialCwd);return}this._logService.trace("IPty#pid"),n.exec("lsof -OPln -p "+this._ptyProcess.pid+" | grep cwd",(t,r,o)=>{!t&&r!==""?c(r.substring(r.indexOf("/"),r.length-1)):(this._logService.error("lsof did not run successfully, it may not be on the $PATH?",t,r,o),c(this._initialCwd))})})}return k.isLinux?new Promise(l=>{if(!this._ptyProcess){l(this._initialCwd);return}this._logService.trace("IPty#pid"),A.readlink("/proc/"+this._ptyProcess.pid+"/cwd",(c,t)=>{c&&l(this._initialCwd),l(t)})}):new Promise(l=>{l(this._initialCwd)})}getLatency(){return Promise.resolve(0)}};p=He([Fe(7,I.ILogService)],p),e.TerminalProcess=p;class d extends C.Disposable{constructor(){super();this._onTrigger=this._register(new P.Emitter),this._timeout=setTimeout(()=>{this._onTrigger.fire({rows:this.rows,cols:this.cols})},1e3),this._register({dispose:()=>{clearTimeout(this._timeout)}})}get onTrigger(){return this._onTrigger.event}dispose(){super.dispose(),clearTimeout(this._timeout)}}}),define(ge[213],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractIncrementalTestCollection=e.IncrementalChangeCollector=e.getTestSubscriptionKey=e.TestDiffOpType=e.collectTestResults=e.EMPTY_TEST_RESULT=void 0,e.EMPTY_TEST_RESULT={};const w=D=>D[0]||{};e.collectTestResults=w;var k;(function(D){D[D.Add=0]="Add",D[D.Update=1]="Update",D[D.Remove=2]="Remove",D[D.DeltaDiscoverComplete=3]="DeltaDiscoverComplete",D[D.DeltaRootsComplete=4]="DeltaRootsComplete"})(k=e.TestDiffOpType||(e.TestDiffOpType={}));const A=(D,C)=>`${D}:${C.toString()}`;e.getTestSubscriptionKey=A;class T{add(C){}update(C){}remove(C,n){}complete(){}}e.IncrementalChangeCollector=T;class P{constructor(){this.items=new Map,this.roots=new Set}apply(C){const n=this.createChangeCollector();for(const I of C)switch(I[0]){case 0:{const S=I[1];if(S.parent){if(this.items.has(S.parent)){const v=this.items.get(S.parent);v.children.add(S.id);const f=this.createItem(S,v);this.items.set(S.id,f),n.add(f)}}else{this.roots.add(S.id);const v=this.createItem(S);this.items.set(S.id,v),n.add(v)}break}case 1:{const S=I[1],v=this.items.get(S.id);v&&(Object.assign(v.item,S.item),n.update(v));break}case 2:{const S=this.items.get(I[1]);if(!S)break;S.parent?this.items.get(S.parent).children.delete(S.id):this.roots.delete(S.id);const v=[[I[1]]];for(;v.length;)for(const f of v.pop()){const u=this.items.get(f);u&&(v.push(u.children),this.items.delete(f),n.remove(u,u!==S))}break}case 3:this.updateBusyProviders(I[1]);break;case 4:this.updatePendingRoots(I[1]);break}n.complete()}updateBusyProviders(C){}updatePendingRoots(C){}createChangeCollector(){return new T}}e.AbstractIncrementalTestCollection=P}),define(ge[214],pe([0,1,7,37,16,25,9,78,173]),function(Z,e,w,k,A,T,P,D,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractVariableResolverService=void 0;class n{constructor(S,v,f){if(this._contributedVariables=new Map,this._context=S,this._labelService=v,f)if(P.isWindows){const u=Object.create(null);this._envVariables=u,Object.keys(f).forEach(g=>{u[g.toLowerCase()]=f[g]})}else this._envVariables=f}resolve(S,v){return this.recursiveResolve(S?S.uri:void 0,v)}resolveAnyBase(S,v,f,u){const g=T.deepClone(v);return P.isWindows&&g.windows?Object.keys(g.windows).forEach(b=>g[b]=g.windows[b]):P.isMacintosh&&g.osx?Object.keys(g.osx).forEach(b=>g[b]=g.osx[b]):P.isLinux&&g.linux&&Object.keys(g.linux).forEach(b=>g[b]=g.linux[b]),delete g.windows,delete g.osx,delete g.linux,this.recursiveResolve(S?S.uri:void 0,g,f,u)}resolveAny(S,v,f){return this.resolveAnyBase(S,v,f)}resolveAnyMap(S,v,f){const u=new Map;return{newConfig:this.resolveAnyBase(S,v,f,u),resolvedVariables:u}}resolveWithInteractionReplace(S,v,f,u){throw new Error("resolveWithInteractionReplace not implemented.")}resolveWithInteraction(S,v,f,u){throw new Error("resolveWithInteraction not implemented.")}contributeVariable(S,v){if(this._contributedVariables.has(S))throw new Error("Variable "+S+" is contributed twice.");this._contributedVariables.set(S,v)}recursiveResolve(S,v,f,u){if(A.isString(v))return this.resolveString(S,v,f,u);if(A.isArray(v))return v.map(g=>this.recursiveResolve(S,g,f,u));if(A.isObject(v)){let g=Object.create(null);return Object.keys(v).forEach(b=>{const p=this.resolveString(S,b,f,u);g[p]=this.recursiveResolve(S,v[b],f,u)}),g}return v}resolveString(S,v,f,u){return v.replace(n.VARIABLE_REGEXP,(b,p)=>{if(p.includes(n.VARIABLE_LHS))return b;let d=this.evaluateSingleVariable(b,p,S,f);return u&&u.set(p,d),d})}fsPath(S){return this._labelService?this._labelService.getUriLabel(S,{noPrefix:!0}):S.fsPath}evaluateSingleVariable(S,v,f,u){let g;const b=v.split(":");b.length>1&&(v=b[0],g=b[1]);const p=()=>{const l=this._context.getFilePath();if(l)return l;throw new Error(C.localize(0,null,S))},d=()=>{const l=p();if(this._context.getWorkspaceFolderPathForFile){const c=this._context.getWorkspaceFolderPathForFile();if(c)return c}throw new Error(C.localize(1,null,S,w.basename(l)))},s=()=>{if(g){const l=this._context.getFolderUri(g);if(l)return l;throw new Error(C.localize(2,null,S,g))}if(f)return f;throw this._context.getWorkspaceFolderCount()>1?new Error(C.localize(3,null,S)):new Error(C.localize(4,null,S))};switch(v){case"env":if(g){if(this._envVariables){const l=this._envVariables[P.isWindows?g.toLowerCase():g];if(A.isString(l))return l}return""}throw new Error(C.localize(5,null,S));case"config":if(g){const l=this._context.getConfigurationValue(f,g);if(A.isUndefinedOrNull(l))throw new Error(C.localize(6,null,S,g));if(A.isObject(l))throw new Error(C.localize(7,null,S,g));return l}throw new Error(C.localize(8,null,S));case"command":return this.resolveFromMap(S,g,u,"command");case"input":return this.resolveFromMap(S,g,u,"input");default:switch(v){case"workspaceRoot":case"workspaceFolder":return D.normalizeDriveLetter(this.fsPath(s()));case"cwd":return f||g?D.normalizeDriveLetter(this.fsPath(s())):k.cwd();case"workspaceRootFolderName":case"workspaceFolderBasename":return w.basename(this.fsPath(s()));case"lineNumber":const l=this._context.getLineNumber();if(l)return l;throw new Error(C.localize(9,null,S));case"selectedText":const c=this._context.getSelectedText();if(c)return c;throw new Error(C.localize(10,null,S));case"file":return p();case"fileWorkspaceFolder":return d();case"relativeFile":return f||g?w.relative(this.fsPath(s()),p()):p();case"relativeFileDirname":const t=w.dirname(p());if(f||g){const a=w.relative(this.fsPath(s()),t);return a.length===0?".":a}return t;case"fileDirname":return w.dirname(p());case"fileExtname":return w.extname(p());case"fileBasename":return w.basename(p());case"fileBasenameNoExtension":const r=w.basename(p());return r.slice(0,r.length-w.extname(r).length);case"fileDirnameBasename":return w.basename(w.dirname(p()));case"execPath":const o=this._context.getExecPath();return o||S;case"pathSeparator":return w.sep;default:try{return this.resolveFromMap(S,v,u,void 0)}catch(a){return S}}}}resolveFromMap(S,v,f,u){if(v&&f){const g=u===void 0?f[v]:f[u+":"+v];if(typeof g=="string")return g;throw new Error(C.localize(11,null,S))}return S}}e.AbstractVariableResolverService=n,n.VARIABLE_LHS="${",n.VARIABLE_REGEXP=/\$\{(.*?)\}/g}),define(ge[215],pe([0,1,4]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preferredSideBySideGroupDirection=e.OpenEditorContext=e.GroupChangeKind=e.GroupsOrder=e.MergeGroupMode=e.GroupsArrangement=e.GroupLocation=e.GroupOrientation=e.GroupDirection=e.IEditorGroupsService=void 0,e.IEditorGroupsService=w.createDecorator("editorGroupsService");var k;(function(v){v[v.UP=0]="UP",v[v.DOWN=1]="DOWN",v[v.LEFT=2]="LEFT",v[v.RIGHT=3]="RIGHT"})(k=e.GroupDirection||(e.GroupDirection={}));var A;(function(v){v[v.HORIZONTAL=0]="HORIZONTAL",v[v.VERTICAL=1]="VERTICAL"})(A=e.GroupOrientation||(e.GroupOrientation={}));var T;(function(v){v[v.FIRST=0]="FIRST",v[v.LAST=1]="LAST",v[v.NEXT=2]="NEXT",v[v.PREVIOUS=3]="PREVIOUS"})(T=e.GroupLocation||(e.GroupLocation={}));var P;(function(v){v[v.MINIMIZE_OTHERS=0]="MINIMIZE_OTHERS",v[v.EVEN=1]="EVEN",v[v.TOGGLE=2]="TOGGLE"})(P=e.GroupsArrangement||(e.GroupsArrangement={}));var D;(function(v){v[v.COPY_EDITORS=0]="COPY_EDITORS",v[v.MOVE_EDITORS=1]="MOVE_EDITORS"})(D=e.MergeGroupMode||(e.MergeGroupMode={}));var C;(function(v){v[v.CREATION_TIME=0]="CREATION_TIME",v[v.MOST_RECENTLY_ACTIVE=1]="MOST_RECENTLY_ACTIVE",v[v.GRID_APPEARANCE=2]="GRID_APPEARANCE"})(C=e.GroupsOrder||(e.GroupsOrder={}));var n;(function(v){v[v.GROUP_ACTIVE=0]="GROUP_ACTIVE",v[v.GROUP_INDEX=1]="GROUP_INDEX",v[v.EDITOR_OPEN=2]="EDITOR_OPEN",v[v.EDITOR_CLOSE=3]="EDITOR_CLOSE",v[v.EDITOR_MOVE=4]="EDITOR_MOVE",v[v.EDITOR_ACTIVE=5]="EDITOR_ACTIVE",v[v.EDITOR_LABEL=6]="EDITOR_LABEL",v[v.EDITOR_PIN=7]="EDITOR_PIN",v[v.EDITOR_STICKY=8]="EDITOR_STICKY",v[v.EDITOR_DIRTY=9]="EDITOR_DIRTY"})(n=e.GroupChangeKind||(e.GroupChangeKind={}));var I;(function(v){v[v.NEW_EDITOR=1]="NEW_EDITOR",v[v.MOVE_EDITOR=2]="MOVE_EDITOR",v[v.COPY_EDITOR=3]="COPY_EDITOR"})(I=e.OpenEditorContext||(e.OpenEditorContext={}));function S(v){return v.getValue("workbench.editor.openSideBySideDirection")==="down"?1:3}e.preferredSideBySideGroupDirection=S}),define(ge[216],pe([0,1,4]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SIDE_GROUP=e.ACTIVE_GROUP=e.IEditorService=void 0,e.IEditorService=w.createDecorator("editorService"),e.ACTIVE_GROUP=-1,e.SIDE_GROUP=-2}),define(ge[20],pe([0,1,82,8,2,44,98,111,216,16,284,58,25,12,45]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestItem=e.TestState=e.NotebookDecorationRenderOptions=e.NotebookExclusiveDocumentPattern=e.NotebookCellOutputItem=e.NotebookCellOutput=e.LanguageSelector=e.GlobPattern=e.TextEditorOpenOptions=e.FoldingRangeKind=e.FoldingRange=e.ProgressLocation=e.EndOfLine=e.TextEditorLineNumbersStyle=e.TextDocumentSaveReason=e.SelectionRange=e.Color=e.ColorPresentation=e.DocumentLink=e.InlineHint=e.SignatureHelp=e.SignatureInformation=e.ParameterInformation=e.CompletionItem=e.CompletionItemKind=e.CompletionItemTag=e.CompletionContext=e.CompletionTriggerKind=e.DocumentHighlight=e.EvaluatableExpression=e.Hover=e.DefinitionLink=e.location=e.CallHierarchyOutgoingCall=e.CallHierarchyIncomingCall=e.CallHierarchyItem=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolTag=e.SymbolKind=e.WorkspaceEdit=e.TextEdit=e.DecorationRenderOptions=e.DecorationRangeBehavior=e.ThemableDecorationRenderOptions=e.ThemableDecorationAttachmentRenderOptions=e.pathOrURIToURI=e.fromRangeOrRangeWithMessage=e.MarkdownString=e.isDecorationOptionsArr=e.ViewColumn=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.Diagnostic=e.DiagnosticTag=e.Position=e.TokenType=e.Range=e.Selection=void 0;var g;(function(ee){function te(F){const{selectionStartLineNumber:ie,selectionStartColumn:oe,positionLineNumber:me,positionColumn:ke}=F,Ae=new k.Position(ie-1,oe-1),xe=new k.Position(me-1,ke-1);return new k.Selection(Ae,xe)}ee.to=te;function G(F){const{anchor:ie,active:oe}=F;return{selectionStartLineNumber:ie.line+1,selectionStartColumn:ie.character+1,positionLineNumber:oe.line+1,positionColumn:oe.character+1}}ee.from=G})(g=e.Selection||(e.Selection={}));var b;(function(ee){function te(F){if(!!F){const{start:ie,end:oe}=F;return{startLineNumber:ie.line+1,startColumn:ie.character+1,endLineNumber:oe.line+1,endColumn:oe.character+1}}}ee.from=te;function G(F){if(!!F){const{startLineNumber:ie,startColumn:oe,endLineNumber:me,endColumn:ke}=F;return new k.Range(ie-1,oe-1,me-1,ke-1)}}ee.to=G})(b=e.Range||(e.Range={}));var p;(function(ee){function te(G){switch(G){case 1:return k.StandardTokenType.Comment;case 0:return k.StandardTokenType.Other;case 4:return k.StandardTokenType.RegEx;case 2:return k.StandardTokenType.String}}ee.to=te})(p=e.TokenType||(e.TokenType={}));var d;(function(ee){function te(F){return new k.Position(F.lineNumber-1,F.column-1)}ee.to=te;function G(F){return{lineNumber:F.line+1,column:F.character+1}}ee.from=G})(d=e.Position||(e.Position={}));var s;(function(ee){function te(F){switch(F){case k.DiagnosticTag.Unnecessary:return 1;case k.DiagnosticTag.Deprecated:return 2}}ee.from=te;function G(F){switch(F){case 1:return k.DiagnosticTag.Unnecessary;case 2:return k.DiagnosticTag.Deprecated;default:return}}ee.to=G})(s=e.DiagnosticTag||(e.DiagnosticTag={}));var l;(function(ee){function te(F){let ie;return F.code&&(n.isString(F.code)||n.isNumber(F.code)?ie=String(F.code):ie={value:String(F.code.value),target:F.code.target}),Object.assign(Object.assign({},b.from(F.range)),{message:F.message,source:F.source,code:ie,severity:t.from(F.severity),relatedInformation:F.relatedInformation&&F.relatedInformation.map(c.from),tags:Array.isArray(F.tags)?f.coalesce(F.tags.map(s.from)):void 0})}ee.from=te;function G(F){var ie;const oe=new k.Diagnostic(b.to(F),F.message,t.to(F.severity));return oe.source=F.source,oe.code=n.isString(F.code)?F.code:(ie=F.code)===null||ie===void 0?void 0:ie.value,oe.relatedInformation=F.relatedInformation&&F.relatedInformation.map(c.to),oe.tags=F.tags&&f.coalesce(F.tags.map(s.to)),oe}ee.to=G})(l=e.Diagnostic||(e.Diagnostic={}));var c;(function(ee){function te(F){return Object.assign(Object.assign({},b.from(F.location.range)),{message:F.message,resource:F.location.uri})}ee.from=te;function G(F){return new k.DiagnosticRelatedInformation(new k.Location(F.resource,b.to(F)),F.message)}ee.to=G})(c=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var t;(function(ee){function te(F){switch(F){case k.DiagnosticSeverity.Error:return D.MarkerSeverity.Error;case k.DiagnosticSeverity.Warning:return D.MarkerSeverity.Warning;case k.DiagnosticSeverity.Information:return D.MarkerSeverity.Info;case k.DiagnosticSeverity.Hint:return D.MarkerSeverity.Hint}return D.MarkerSeverity.Error}ee.from=te;function G(F){switch(F){case D.MarkerSeverity.Info:return k.DiagnosticSeverity.Information;case D.MarkerSeverity.Warning:return k.DiagnosticSeverity.Warning;case D.MarkerSeverity.Error:return k.DiagnosticSeverity.Error;case D.MarkerSeverity.Hint:return k.DiagnosticSeverity.Hint;default:return k.DiagnosticSeverity.Error}}ee.to=G})(t=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var r;(function(ee){function te(F){return typeof F=="number"&&F>=k.ViewColumn.One?F-1:F===k.ViewColumn.Beside?C.SIDE_GROUP:C.ACTIVE_GROUP}ee.from=te;function G(F){if(typeof F=="number"&&F>=0)return F+1;throw new Error("invalid 'EditorGroupColumn'")}ee.to=G})(r=e.ViewColumn||(e.ViewColumn={}));function o(ee){return typeof ee.range!="undefined"}function a(ee){return ee.length===0?!0:!!o(ee[0])}e.isDecorationOptionsArr=a;var i;(function(ee){function te(ke){return ke.map(ee.from)}ee.fromMany=te;function G(ke){return ke&&typeof ke=="object"&&typeof ke.language=="string"&&typeof ke.value=="string"}function F(ke){let Ae;if(G(ke)){const{language:Ke,value:st}=ke;Ae={value:"```"+Ke+`
`+st+"\n```\n"}}else k.MarkdownString.isMarkdownString(ke)?Ae={value:ke.value,isTrusted:ke.isTrusted,supportThemeIcons:ke.supportThemeIcons}:typeof ke=="string"?Ae={value:ke}:Ae={value:""};const xe=Object.create(null);Ae.uris=xe;const qe=Ke=>{try{let st=A.URI.parse(Ke,!0);st=st.with({query:ie(st.query,xe)}),xe[Ke]=st}catch(st){}return""},Ge=new I.Renderer;return Ge.link=qe,Ge.image=Ke=>qe(P.parseHrefAndDimensions(Ke).href),I(Ae.value,{renderer:Ge}),Ae}ee.from=F;function ie(ke,Ae){if(!ke)return ke;let xe;try{xe=S.parse(ke)}catch(Ge){}if(!xe)return ke;let qe=!1;return xe=v.cloneAndChange(xe,Ge=>{if(A.URI.isUri(Ge)){const Ke=`__uri_${Math.random().toString(16).slice(2,8)}`;return Ae[Ke]=Ge,qe=!0,Ke}else return}),qe?JSON.stringify(xe):ke}function oe(ke){const Ae=new k.MarkdownString(ke.value,ke.supportThemeIcons);return Ae.isTrusted=ke.isTrusted,Ae}ee.to=oe;function me(ke){if(!!ke)return typeof ke=="string"?ke:ee.from(ke)}ee.fromStrict=me})(i=e.MarkdownString||(e.MarkdownString={}));function h(ee){return a(ee)?ee.map(te=>({range:b.from(te.range),hoverMessage:Array.isArray(te.hoverMessage)?i.fromMany(te.hoverMessage):te.hoverMessage?i.from(te.hoverMessage):void 0,renderOptions:te.renderOptions})):ee.map(te=>({range:b.from(te)}))}e.fromRangeOrRangeWithMessage=h;function y(ee){return typeof ee=="undefined"?ee:typeof ee=="string"?A.URI.file(ee):ee}e.pathOrURIToURI=y;var m;(function(ee){function te(G){return typeof G=="undefined"?G:{contentText:G.contentText,contentIconPath:G.contentIconPath?y(G.contentIconPath):void 0,border:G.border,borderColor:G.borderColor,fontStyle:G.fontStyle,fontWeight:G.fontWeight,textDecoration:G.textDecoration,color:G.color,backgroundColor:G.backgroundColor,margin:G.margin,width:G.width,height:G.height}}ee.from=te})(m=e.ThemableDecorationAttachmentRenderOptions||(e.ThemableDecorationAttachmentRenderOptions={}));var E;(function(ee){function te(G){return typeof G=="undefined"?G:{backgroundColor:G.backgroundColor,outline:G.outline,outlineColor:G.outlineColor,outlineStyle:G.outlineStyle,outlineWidth:G.outlineWidth,border:G.border,borderColor:G.borderColor,borderRadius:G.borderRadius,borderSpacing:G.borderSpacing,borderStyle:G.borderStyle,borderWidth:G.borderWidth,fontStyle:G.fontStyle,fontWeight:G.fontWeight,textDecoration:G.textDecoration,cursor:G.cursor,color:G.color,opacity:G.opacity,letterSpacing:G.letterSpacing,gutterIconPath:G.gutterIconPath?y(G.gutterIconPath):void 0,gutterIconSize:G.gutterIconSize,overviewRulerColor:G.overviewRulerColor,before:G.before?m.from(G.before):void 0,after:G.after?m.from(G.after):void 0}}ee.from=te})(E=e.ThemableDecorationRenderOptions||(e.ThemableDecorationRenderOptions={}));var _;(function(ee){function te(G){if(typeof G=="undefined")return G;switch(G){case k.DecorationRangeBehavior.OpenOpen:return 0;case k.DecorationRangeBehavior.ClosedClosed:return 1;case k.DecorationRangeBehavior.OpenClosed:return 2;case k.DecorationRangeBehavior.ClosedOpen:return 3}}ee.from=te})(_=e.DecorationRangeBehavior||(e.DecorationRangeBehavior={}));var L;(function(ee){function te(G){return{isWholeLine:G.isWholeLine,rangeBehavior:G.rangeBehavior?_.from(G.rangeBehavior):void 0,overviewRulerLane:G.overviewRulerLane,light:G.light?E.from(G.light):void 0,dark:G.dark?E.from(G.dark):void 0,backgroundColor:G.backgroundColor,outline:G.outline,outlineColor:G.outlineColor,outlineStyle:G.outlineStyle,outlineWidth:G.outlineWidth,border:G.border,borderColor:G.borderColor,borderRadius:G.borderRadius,borderSpacing:G.borderSpacing,borderStyle:G.borderStyle,borderWidth:G.borderWidth,fontStyle:G.fontStyle,fontWeight:G.fontWeight,textDecoration:G.textDecoration,cursor:G.cursor,color:G.color,opacity:G.opacity,letterSpacing:G.letterSpacing,gutterIconPath:G.gutterIconPath?y(G.gutterIconPath):void 0,gutterIconSize:G.gutterIconSize,overviewRulerColor:G.overviewRulerColor,before:G.before?m.from(G.before):void 0,after:G.after?m.from(G.after):void 0}}ee.from=te})(L=e.DecorationRenderOptions||(e.DecorationRenderOptions={}));var R;(function(ee){function te(F){return{text:F.newText,eol:F.newEol&&Oe.from(F.newEol),range:b.from(F.range)}}ee.from=te;function G(F){const ie=new k.TextEdit(b.to(F.range),F.text);return ie.newEol=typeof F.eol=="undefined"?void 0:Oe.to(F.eol),ie}ee.to=G})(R=e.TextEdit||(e.TextEdit={}));var N;(function(ee){function te(F,ie,oe){var me;const ke={edits:[]};if(F instanceof k.WorkspaceEdit)for(let Ae of F._allEntries())if(Ae._type===1)ke.edits.push({_type:1,oldUri:Ae.from,newUri:Ae.to,options:Ae.options,metadata:Ae.metadata});else if(Ae._type===2){const xe=ie==null?void 0:ie.getDocument(Ae.uri);ke.edits.push({_type:2,resource:Ae.uri,edit:R.from(Ae.edit),modelVersionId:xe==null?void 0:xe.version,metadata:Ae.metadata})}else Ae._type===3&&ke.edits.push({_type:3,metadata:Ae.metadata,resource:Ae.uri,edit:Ae.edit,notebookMetadata:Ae.notebookMetadata,notebookVersionId:(me=oe==null?void 0:oe.lookupNotebookDocument(Ae.uri))===null||me===void 0?void 0:me.notebookDocument.version});return ke}ee.from=te;function G(F){const ie=new k.WorkspaceEdit;for(const oe of F.edits)oe.edit?ie.replace(A.URI.revive(oe.resource),b.to(oe.edit.range),oe.edit.text):ie.renameFile(A.URI.revive(oe.oldUri),A.URI.revive(oe.newUri),oe.options);return ie}ee.to=G})(N=e.WorkspaceEdit||(e.WorkspaceEdit={}));var W;(function(ee){const te=Object.create(null);te[k.SymbolKind.File]=0,te[k.SymbolKind.Module]=1,te[k.SymbolKind.Namespace]=2,te[k.SymbolKind.Package]=3,te[k.SymbolKind.Class]=4,te[k.SymbolKind.Method]=5,te[k.SymbolKind.Property]=6,te[k.SymbolKind.Field]=7,te[k.SymbolKind.Constructor]=8,te[k.SymbolKind.Enum]=9,te[k.SymbolKind.Interface]=10,te[k.SymbolKind.Function]=11,te[k.SymbolKind.Variable]=12,te[k.SymbolKind.Constant]=13,te[k.SymbolKind.String]=14,te[k.SymbolKind.Number]=15,te[k.SymbolKind.Boolean]=16,te[k.SymbolKind.Array]=17,te[k.SymbolKind.Object]=18,te[k.SymbolKind.Key]=19,te[k.SymbolKind.Null]=20,te[k.SymbolKind.EnumMember]=21,te[k.SymbolKind.Struct]=22,te[k.SymbolKind.Event]=23,te[k.SymbolKind.Operator]=24,te[k.SymbolKind.TypeParameter]=25;function G(ie){return typeof te[ie]=="number"?te[ie]:6}ee.from=G;function F(ie){for(const oe in te)if(te[oe]===ie)return Number(oe);return k.SymbolKind.Property}ee.to=F})(W=e.SymbolKind||(e.SymbolKind={}));var x;(function(ee){function te(F){switch(F){case k.SymbolTag.Deprecated:return 1}}ee.from=te;function G(F){switch(F){case 1:return k.SymbolTag.Deprecated}}ee.to=G})(x=e.SymbolTag||(e.SymbolTag={}));var M;(function(ee){function te(F){return{name:F.name,kind:W.from(F.kind),tags:F.tags&&F.tags.map(x.from),containerName:F.containerName,location:U.from(F.location)}}ee.from=te;function G(F){const ie=new k.SymbolInformation(F.name,W.to(F.kind),F.containerName,U.to(F.location));return ie.tags=F.tags&&F.tags.map(x.to),ie}ee.to=G})(M=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var $;(function(ee){function te(F){var ie,oe;const me={name:F.name||"!!MISSING: name!!",detail:F.detail,range:b.from(F.range),selectionRange:b.from(F.selectionRange),kind:W.from(F.kind),tags:(oe=(ie=F.tags)===null||ie===void 0?void 0:ie.map(x.from))!==null&&oe!==void 0?oe:[]};return F.children&&(me.children=F.children.map(te)),me}ee.from=te;function G(F){const ie=new k.DocumentSymbol(F.name,F.detail,W.to(F.kind),b.to(F.range),b.to(F.selectionRange));return f.isNonEmptyArray(F.tags)&&(ie.tags=F.tags.map(x.to)),F.children&&(ie.children=F.children.map(G)),ie}ee.to=G})($=e.DocumentSymbol||(e.DocumentSymbol={}));var O;(function(ee){function te(G){const F=new k.CallHierarchyItem(W.to(G.kind),G.name,G.detail||"",A.URI.revive(G.uri),b.to(G.range),b.to(G.selectionRange));return F._sessionId=G._sessionId,F._itemId=G._itemId,F}ee.to=te})(O=e.CallHierarchyItem||(e.CallHierarchyItem={}));var z;(function(ee){function te(G){return new k.CallHierarchyIncomingCall(O.to(G.from),G.fromRanges.map(F=>b.to(F)))}ee.to=te})(z=e.CallHierarchyIncomingCall||(e.CallHierarchyIncomingCall={}));var J;(function(ee){function te(G){return new k.CallHierarchyOutgoingCall(O.to(G.to),G.fromRanges.map(F=>b.to(F)))}ee.to=te})(J=e.CallHierarchyOutgoingCall||(e.CallHierarchyOutgoingCall={}));var U;(function(ee){function te(F){return{range:F.range&&b.from(F.range),uri:F.uri}}ee.from=te;function G(F){return new k.Location(F.uri,b.to(F.range))}ee.to=G})(U=e.location||(e.location={}));var V;(function(ee){function te(F){const ie=F,oe=F;return{originSelectionRange:ie.originSelectionRange?b.from(ie.originSelectionRange):void 0,uri:ie.targetUri?ie.targetUri:oe.uri,range:b.from(ie.targetRange?ie.targetRange:oe.range),targetSelectionRange:ie.targetSelectionRange?b.from(ie.targetSelectionRange):void 0}}ee.from=te;function G(F){return{targetUri:F.uri,targetRange:b.to(F.range),targetSelectionRange:F.targetSelectionRange?b.to(F.targetSelectionRange):void 0,originSelectionRange:F.originSelectionRange?b.to(F.originSelectionRange):void 0}}ee.to=G})(V=e.DefinitionLink||(e.DefinitionLink={}));var B;(function(ee){function te(F){return{range:b.from(F.range),contents:i.fromMany(F.contents)}}ee.from=te;function G(F){return new k.Hover(F.contents.map(i.to),b.to(F.range))}ee.to=G})(B=e.Hover||(e.Hover={}));var Y;(function(ee){function te(F){return{range:b.from(F.range),expression:F.expression}}ee.from=te;function G(F){return new k.EvaluatableExpression(b.to(F.range),F.expression)}ee.to=G})(Y=e.EvaluatableExpression||(e.EvaluatableExpression={}));var ae;(function(ee){function te(F){return{range:b.from(F.range),kind:F.kind}}ee.from=te;function G(F){return new k.DocumentHighlight(b.to(F.range),F.kind)}ee.to=G})(ae=e.DocumentHighlight||(e.DocumentHighlight={}));var ce;(function(ee){function te(G){switch(G){case 1:return k.CompletionTriggerKind.TriggerCharacter;case 2:return k.CompletionTriggerKind.TriggerForIncompleteCompletions;case 0:default:return k.CompletionTriggerKind.Invoke}}ee.to=te})(ce=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var fe;(function(ee){function te(G){return{triggerKind:ce.to(G.triggerKind),triggerCharacter:G.triggerCharacter}}ee.to=te})(fe=e.CompletionContext||(e.CompletionContext={}));var _e;(function(ee){function te(F){switch(F){case k.CompletionItemTag.Deprecated:return 1}}ee.from=te;function G(F){switch(F){case 1:return k.CompletionItemTag.Deprecated}}ee.to=G})(_e=e.CompletionItemTag||(e.CompletionItemTag={}));var be;(function(ee){const te=new Map([[k.CompletionItemKind.Method,0],[k.CompletionItemKind.Function,1],[k.CompletionItemKind.Constructor,2],[k.CompletionItemKind.Field,3],[k.CompletionItemKind.Variable,4],[k.CompletionItemKind.Class,5],[k.CompletionItemKind.Interface,7],[k.CompletionItemKind.Struct,6],[k.CompletionItemKind.Module,8],[k.CompletionItemKind.Property,9],[k.CompletionItemKind.Unit,12],[k.CompletionItemKind.Value,13],[k.CompletionItemKind.Constant,14],[k.CompletionItemKind.Enum,15],[k.CompletionItemKind.EnumMember,16],[k.CompletionItemKind.Keyword,17],[k.CompletionItemKind.Snippet,27],[k.CompletionItemKind.Text,18],[k.CompletionItemKind.Color,19],[k.CompletionItemKind.File,20],[k.CompletionItemKind.Reference,21],[k.CompletionItemKind.Folder,23],[k.CompletionItemKind.Event,10],[k.CompletionItemKind.Operator,11],[k.CompletionItemKind.TypeParameter,24],[k.CompletionItemKind.Issue,26],[k.CompletionItemKind.User,25]]);function G(oe){var me;return(me=te.get(oe))!==null&&me!==void 0?me:9}ee.from=G;const F=new Map([[0,k.CompletionItemKind.Method],[1,k.CompletionItemKind.Function],[2,k.CompletionItemKind.Constructor],[3,k.CompletionItemKind.Field],[4,k.CompletionItemKind.Variable],[5,k.CompletionItemKind.Class],[7,k.CompletionItemKind.Interface],[6,k.CompletionItemKind.Struct],[8,k.CompletionItemKind.Module],[9,k.CompletionItemKind.Property],[12,k.CompletionItemKind.Unit],[13,k.CompletionItemKind.Value],[14,k.CompletionItemKind.Constant],[15,k.CompletionItemKind.Enum],[16,k.CompletionItemKind.EnumMember],[17,k.CompletionItemKind.Keyword],[27,k.CompletionItemKind.Snippet],[18,k.CompletionItemKind.Text],[19,k.CompletionItemKind.Color],[20,k.CompletionItemKind.File],[21,k.CompletionItemKind.Reference],[23,k.CompletionItemKind.Folder],[10,k.CompletionItemKind.Event],[11,k.CompletionItemKind.Operator],[24,k.CompletionItemKind.TypeParameter],[25,k.CompletionItemKind.User],[26,k.CompletionItemKind.Issue]]);function ie(oe){var me;return(me=F.get(oe))!==null&&me!==void 0?me:k.CompletionItemKind.Property}ee.to=ie})(be=e.CompletionItemKind||(e.CompletionItemKind={}));var H;(function(ee){function te(G,F){var ie;const oe=new k.CompletionItem(typeof G.label=="string"?G.label:G.label.name);return typeof G.label!="string"&&(oe.label2=G.label),oe.insertText=G.insertText,oe.kind=be.to(G.kind),oe.tags=(ie=G.tags)===null||ie===void 0?void 0:ie.map(_e.to),oe.detail=G.detail,oe.documentation=P.isMarkdownString(G.documentation)?i.to(G.documentation):G.documentation,oe.sortText=G.sortText,oe.filterText=G.filterText,oe.preselect=G.preselect,oe.commitCharacters=G.commitCharacters,T.Range.isIRange(G.range)?oe.range=b.to(G.range):typeof G.range=="object"&&(oe.range={inserting:b.to(G.range.insert),replacing:b.to(G.range.replace)}),oe.keepWhitespace=typeof G.insertTextRules=="undefined"?!1:Boolean(G.insertTextRules&1),typeof G.insertTextRules!="undefined"&&G.insertTextRules&4?oe.insertText=new k.SnippetString(G.insertText):(oe.insertText=G.insertText,oe.textEdit=oe.range instanceof k.Range?new k.TextEdit(oe.range,oe.insertText):void 0),G.additionalTextEdits&&G.additionalTextEdits.length>0&&(oe.additionalTextEdits=G.additionalTextEdits.map(me=>R.to(me))),oe.command=F&&G.command?F.fromInternal(G.command):void 0,oe}ee.to=te})(H=e.CompletionItem||(e.CompletionItem={}));var X;(function(ee){function te(F){return{label:F.label,documentation:F.documentation?i.fromStrict(F.documentation):void 0}}ee.from=te;function G(F){return{label:F.label,documentation:P.isMarkdownString(F.documentation)?i.to(F.documentation):F.documentation}}ee.to=G})(X=e.ParameterInformation||(e.ParameterInformation={}));var re;(function(ee){function te(F){return{label:F.label,documentation:F.documentation?i.fromStrict(F.documentation):void 0,parameters:Array.isArray(F.parameters)?F.parameters.map(X.from):[],activeParameter:F.activeParameter}}ee.from=te;function G(F){return{label:F.label,documentation:P.isMarkdownString(F.documentation)?i.to(F.documentation):F.documentation,parameters:Array.isArray(F.parameters)?F.parameters.map(X.to):[],activeParameter:F.activeParameter}}ee.to=G})(re=e.SignatureInformation||(e.SignatureInformation={}));var Q;(function(ee){function te(F){return{activeSignature:F.activeSignature,activeParameter:F.activeParameter,signatures:Array.isArray(F.signatures)?F.signatures.map(re.from):[]}}ee.from=te;function G(F){return{activeSignature:F.activeSignature,activeParameter:F.activeParameter,signatures:Array.isArray(F.signatures)?F.signatures.map(re.to):[]}}ee.to=G})(Q=e.SignatureHelp||(e.SignatureHelp={}));var le;(function(ee){function te(F){return{text:F.text,range:b.from(F.range),description:F.description&&i.fromStrict(F.description),whitespaceBefore:F.whitespaceBefore,whitespaceAfter:F.whitespaceAfter}}ee.from=te;function G(F){return new k.InlineHint(F.text,b.to(F.range),P.isMarkdownString(F.description)?i.to(F.description):F.description,F.whitespaceBefore,F.whitespaceAfter)}ee.to=G})(le=e.InlineHint||(e.InlineHint={}));var ve;(function(ee){function te(F){return{range:b.from(F.range),url:F.target,tooltip:F.tooltip}}ee.from=te;function G(F){let ie;if(F.url)try{ie=typeof F.url=="string"?A.URI.parse(F.url,!0):A.URI.revive(F.url)}catch(oe){}return new k.DocumentLink(b.to(F.range),ie)}ee.to=G})(ve=e.DocumentLink||(e.DocumentLink={}));var De;(function(ee){function te(F){const ie=new k.ColorPresentation(F.label);return F.textEdit&&(ie.textEdit=R.to(F.textEdit)),F.additionalTextEdits&&(ie.additionalTextEdits=F.additionalTextEdits.map(oe=>R.to(oe))),ie}ee.to=te;function G(F){return{label:F.label,textEdit:F.textEdit?R.from(F.textEdit):void 0,additionalTextEdits:F.additionalTextEdits?F.additionalTextEdits.map(ie=>R.from(ie)):void 0}}ee.from=G})(De=e.ColorPresentation||(e.ColorPresentation={}));var Me;(function(ee){function te(F){return new k.Color(F[0],F[1],F[2],F[3])}ee.to=te;function G(F){return[F.red,F.green,F.blue,F.alpha]}ee.from=G})(Me=e.Color||(e.Color={}));var Ee;(function(ee){function te(F){return{range:b.from(F.range)}}ee.from=te;function G(F){return new k.SelectionRange(b.to(F.range))}ee.to=G})(Ee=e.SelectionRange||(e.SelectionRange={}));var Pe;(function(ee){function te(G){switch(G){case 2:return k.TextDocumentSaveReason.AfterDelay;case 1:return k.TextDocumentSaveReason.Manual;case 3:case 4:return k.TextDocumentSaveReason.FocusOut}}ee.to=te})(Pe=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={}));var Ce;(function(ee){function te(F){switch(F){case k.TextEditorLineNumbersStyle.Off:return 0;case k.TextEditorLineNumbersStyle.Relative:return 2;case k.TextEditorLineNumbersStyle.On:default:return 1}}ee.from=te;function G(F){switch(F){case 0:return k.TextEditorLineNumbersStyle.Off;case 2:return k.TextEditorLineNumbersStyle.Relative;case 1:default:return k.TextEditorLineNumbersStyle.On}}ee.to=G})(Ce=e.TextEditorLineNumbersStyle||(e.TextEditorLineNumbersStyle={}));var Oe;(function(ee){function te(F){if(F===k.EndOfLine.CRLF)return 1;if(F===k.EndOfLine.LF)return 0}ee.from=te;function G(F){if(F===1)return k.EndOfLine.CRLF;if(F===0)return k.EndOfLine.LF}ee.to=G})(Oe=e.EndOfLine||(e.EndOfLine={}));var Se;(function(ee){function te(G){if(typeof G=="object")return G.viewId;switch(G){case k.ProgressLocation.SourceControl:return 3;case k.ProgressLocation.Window:return 10;case k.ProgressLocation.Notification:return 15}throw new Error("Unknown 'ProgressLocation'")}ee.from=te})(Se=e.ProgressLocation||(e.ProgressLocation={}));var ze;(function(ee){function te(G){const F={start:G.start+1,end:G.end+1};return G.kind&&(F.kind=K.from(G.kind)),F}ee.from=te})(ze=e.FoldingRange||(e.FoldingRange={}));var K;(function(ee){function te(G){if(G)switch(G){case k.FoldingRangeKind.Comment:return w.FoldingRangeKind.Comment;case k.FoldingRangeKind.Imports:return w.FoldingRangeKind.Imports;case k.FoldingRangeKind.Region:return w.FoldingRangeKind.Region}}ee.from=te})(K=e.FoldingRangeKind||(e.FoldingRangeKind={}));var se;(function(ee){function te(G){if(G)return{pinned:typeof G.preview=="boolean"?!G.preview:void 0,inactive:G.background,preserveFocus:G.preserveFocus,selection:typeof G.selection=="object"?b.from(G.selection):void 0,override:typeof G.override=="boolean"?!1:void 0}}ee.from=te})(se=e.TextEditorOpenOptions||(e.TextEditorOpenOptions={}));var we;(function(ee){function te(F){return F instanceof k.RelativePattern||typeof F=="string"?F:G(F)?new k.RelativePattern(F.base,F.pattern):F}ee.from=te;function G(F){const ie=F;return ie&&typeof ie.base=="string"&&typeof ie.pattern=="string"}})(we=e.GlobPattern||(e.GlobPattern={}));var Re;(function(ee){function te(G){if(G)return Array.isArray(G)?G.map(te):typeof G=="string"?G:{language:G.language,scheme:G.scheme,pattern:typeof G.pattern=="undefined"?void 0:we.from(G.pattern),exclusive:G.exclusive}}ee.from=te})(Re=e.LanguageSelector||(e.LanguageSelector={}));var Ue;(function(ee){function te(G){return G.toJSON()}ee.from=te})(Ue=e.NotebookCellOutput||(e.NotebookCellOutput={}));var Be;(function(ee){function te(G){return{outputKind:u.CellOutputKind.Rich,data:{[G.mime]:G.value},metadata:G.metadata&&{custom:G.metadata}}}ee.from=te})(Be=e.NotebookCellOutputItem||(e.NotebookCellOutputItem={}));var je;(function(ee){function te(oe){if(oe!=null){if(oe instanceof k.RelativePattern||typeof oe=="string")return oe;if(ie(oe))return new k.RelativePattern(oe.base,oe.pattern);if(F(oe))return{include:we.from(oe.include)||void 0,exclude:we.from(oe.exclude)||void 0}}}ee.from=te;function G(oe){return typeof oe=="string"?oe:ie(oe)?{base:oe.base,pattern:oe.pattern}:{include:oe.include,exclude:oe.exclude}}ee.to=G;function F(oe){const me=oe,ke=we.from(me.include);if(!(ke&&ke instanceof k.RelativePattern||typeof ke=="string"))return!1;const Ae=we.from(me.exclude);return!!(Ae&&Ae instanceof k.RelativePattern||typeof Ae=="string")}function ie(oe){const me=oe;return me&&typeof me.base=="string"&&typeof me.pattern=="string"}})(je=e.NotebookExclusiveDocumentPattern||(e.NotebookExclusiveDocumentPattern={}));var ue;(function(ee){function te(G){return{backgroundColor:G.backgroundColor,borderColor:G.borderColor,top:G.top?m.from(G.top):void 0}}ee.from=te})(ue=e.NotebookDecorationRenderOptions||(e.NotebookDecorationRenderOptions={}));var ye;(function(ee){function te(F){return{runState:F.runState,duration:F.duration,messages:F.messages.map(ie=>({message:i.fromStrict(ie.message)||"",severity:ie.severity,expectedOutput:ie.expectedOutput,actualOutput:ie.actualOutput,location:ie.location?U.from(ie.location):void 0}))}}ee.from=te;function G(F){return new k.TestState(F.runState,F.messages.map(ie=>({message:typeof ie.message=="string"?ie.message:i.to(ie.message),severity:ie.severity,expectedOutput:ie.expectedOutput,actualOutput:ie.actualOutput,location:ie.location&&U.to({range:ie.location.range,uri:A.URI.revive(ie.location.uri)})})),F.duration)}ee.to=G})(ye=e.TestState||(e.TestState={}));var Ne;(function(ee){function te(F,ie){var oe,me,ke;return{extId:(oe=F.id)!==null&&oe!==void 0?oe:ie?`${ie}\0${F.label}`:F.label,label:F.label,location:F.location?U.from(F.location):void 0,debuggable:(me=F.debuggable)!==null&&me!==void 0?me:!1,description:F.description,runnable:(ke=F.runnable)!==null&&ke!==void 0?ke:!0,state:ye.from(F.state)}}ee.from=te;function G(F){return{id:F.extId,label:F.label,location:F.location&&U.to({range:F.location.range,uri:A.URI.revive(F.location.uri)}),debuggable:F.debuggable,description:F.description,runnable:F.runnable,state:ye.to(F.state)}}ee.toShallow=G})(Ne=e.TestItem||(e.TestItem={}))}),define(ge[217],pe([0,1,2,15,8,20,73]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocumentSaveParticipant=void 0;class D{constructor(n,I,S,v={timeout:1500,errors:3}){this._logService=n,this._documents=I,this._mainThreadBulkEdits=S,this._thresholds=v,this._callbacks=new P.LinkedList,this._badListeners=new WeakMap}dispose(){this._callbacks.clear()}getOnWillSaveTextDocumentEvent(n){return(I,S,v)=>{const u={dispose:this._callbacks.push([I,S,n])};return Array.isArray(v)&&v.push(u),u}}async $participateInSave(n,I){const S=w.URI.revive(n);let v=!1;const f=setTimeout(()=>v=!0,this._thresholds.timeout),u=[];try{for(let g of[...this._callbacks]){if(v)break;const b=this._documents.getDocument(S),p=await this._deliverEventAsyncAndBlameBadListeners(g,{document:b,reason:T.TextDocumentSaveReason.to(I)});u.push(p)}}finally{clearTimeout(f)}return u}_deliverEventAsyncAndBlameBadListeners([n,I,S],v){const f=this._badListeners.get(n);return typeof f=="number"&&f>this._thresholds.errors?Promise.resolve(!1):this._deliverEventAsync(S,n,I,v).then(()=>!0,u=>{if(this._logService.error(`onWillSaveTextDocument-listener from extension '${S.identifier.value}' threw ERROR`),this._logService.error(u),!(u instanceof Error)||u.message!=="concurrent_edits"){const g=this._badListeners.get(n);this._badListeners.set(n,g?g+1:1),typeof g=="number"&&g>this._thresholds.errors&&this._logService.info(`onWillSaveTextDocument-listener from extension '${S.identifier.value}' will now be IGNORED because of timeouts and/or errors`)}return!1})}_deliverEventAsync(n,I,S,v){const f=[],u=Date.now(),{document:g,reason:b}=v,{version:p}=g,d=Object.freeze({document:g,reason:b,waitUntil(s){if(Object.isFrozen(f))throw k.illegalState("waitUntil can not be called async");f.push(Promise.resolve(s))}});try{I.apply(S,[d])}catch(s){return Promise.reject(s)}return Object.freeze(f),new Promise((s,l)=>{const c=setTimeout(()=>l(new Error("timeout")),this._thresholds.timeout);return Promise.all(f).then(t=>{this._logService.debug(`onWillSaveTextDocument-listener from extension '${n.identifier.value}' finished after ${Date.now()-u}ms`),clearTimeout(c),s(t)}).catch(t=>{clearTimeout(c),l(t)})}).then(s=>{const l={edits:[]};for(const c of s)if(Array.isArray(c)&&c.every(t=>t instanceof A.TextEdit))for(const{newText:t,newEol:r,range:o}of c)l.edits.push({_type:2,resource:g.uri,edit:{range:o&&T.Range.from(o),text:t,eol:r&&T.EndOfLine.from(r)}});if(l.edits.length!==0)return p===g.version?this._mainThreadBulkEdits.$tryApplyWorkspaceEdit(l):Promise.reject(new Error("concurrent_edits"))})}}e.ExtHostDocumentSaveParticipant=D}),define(ge[218],pe([0,1,3,33,2,20,8]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostFileSystemEventService=void 0;class D{constructor(I,S,v,f,u){this._onDidCreate=new w.Emitter,this._onDidChange=new w.Emitter,this._onDidDelete=new w.Emitter,this._config=0,v&&(this._config+=1),f&&(this._config+=2),u&&(this._config+=4);const g=k.parse(S),b=I(p=>{if(!v)for(let d of p.created){const s=A.URI.revive(d);g(s.fsPath)&&this._onDidCreate.fire(s)}if(!f)for(let d of p.changed){const s=A.URI.revive(d);g(s.fsPath)&&this._onDidChange.fire(s)}if(!u)for(let d of p.deleted){const s=A.URI.revive(d);g(s.fsPath)&&this._onDidDelete.fire(s)}});this._disposable=P.Disposable.from(this._onDidCreate,this._onDidChange,this._onDidDelete,b)}get ignoreCreateEvents(){return Boolean(this._config&1)}get ignoreChangeEvents(){return Boolean(this._config&2)}get ignoreDeleteEvents(){return Boolean(this._config&4)}dispose(){this._disposable.dispose()}get onDidCreate(){return this._onDidCreate.event}get onDidChange(){return this._onDidChange.event}get onDidDelete(){return this._onDidDelete.event}}class C{constructor(I,S,v){this._logService=S,this._extHostDocumentsAndEditors=v,this._onFileSystemEvent=new w.Emitter,this._onDidRenameFile=new w.Emitter,this._onDidCreateFile=new w.Emitter,this._onDidDeleteFile=new w.Emitter,this._onWillRenameFile=new w.AsyncEmitter,this._onWillCreateFile=new w.AsyncEmitter,this._onWillDeleteFile=new w.AsyncEmitter,this.onDidRenameFile=this._onDidRenameFile.event,this.onDidCreateFile=this._onDidCreateFile.event,this.onDidDeleteFile=this._onDidDeleteFile.event}createFileSystemWatcher(I,S,v,f){return new D(this._onFileSystemEvent.event,I,S,v,f)}$onFileEvent(I){this._onFileSystemEvent.fire(I)}$onDidRunFileOperation(I,S){switch(I){case 2:this._onDidRenameFile.fire(Object.freeze({files:S.map(v=>({oldUri:A.URI.revive(v.source),newUri:A.URI.revive(v.target)}))}));break;case 1:this._onDidDeleteFile.fire(Object.freeze({files:S.map(v=>A.URI.revive(v.target))}));break;case 0:this._onDidCreateFile.fire(Object.freeze({files:S.map(v=>A.URI.revive(v.target))}));break;default:}}getOnWillRenameFileEvent(I){return this._createWillExecuteEvent(I,this._onWillRenameFile)}getOnWillCreateFileEvent(I){return this._createWillExecuteEvent(I,this._onWillCreateFile)}getOnWillDeleteFileEvent(I){return this._createWillExecuteEvent(I,this._onWillDeleteFile)}_createWillExecuteEvent(I,S){return(v,f,u)=>{const g=function(p){v.call(f,p)};return g.extension=I,S.event(g,void 0,u)}}async $onWillRunFileOperation(I,S,v,f){switch(I){case 2:return await this._fireWillEvent(this._onWillRenameFile,{files:S.map(u=>({oldUri:A.URI.revive(u.source),newUri:A.URI.revive(u.target)}))},v,f);case 1:return await this._fireWillEvent(this._onWillDeleteFile,{files:S.map(u=>A.URI.revive(u.target))},v,f);case 0:return await this._fireWillEvent(this._onWillCreateFile,{files:S.map(u=>A.URI.revive(u.target))},v,f)}}async _fireWillEvent(I,S,v,f){const u=new Set,g=[];if(await I.fireAsync(S,f,async(p,d)=>{var s;const l=Date.now(),c=await Promise.resolve(p);c instanceof P.WorkspaceEdit&&(g.push(c),u.add((s=d.extension.displayName)!==null&&s!==void 0?s:d.extension.identifier.value)),Date.now()-l>v&&this._logService.warn("SLOW file-participant",d.extension.identifier)}),!f.isCancellationRequested&&g.length!==0){const b={edits:[]};for(let p of g){let{edits:d}=T.WorkspaceEdit.from(p,this._extHostDocumentsAndEditors);b.edits=b.edits.concat(d)}return{edit:b,extensionNames:Array.from(u)}}}}e.ExtHostFileSystemEventService=C}),define(ge[219],pe([0,1,20,184,160,21,55]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostProgress=void 0;class D{constructor(S){this._handles=0,this._mapHandleToCancellationSource=new Map,this._proxy=S}withProgress(S,v,f){const u=this._handles++,{title:g,location:b,cancellable:p}=v,d=A.localize(0,null,S.displayName||S.name);return this._proxy.$startProgress(u,{location:w.ProgressLocation.from(b),title:g,source:d,cancellable:p},S),this._withProgress(u,f,!!p)}_withProgress(S,v,f){let u;f&&(u=new T.CancellationTokenSource,this._mapHandleToCancellationSource.set(S,u));const g=p=>{this._proxy.$progressEnd(p),this._mapHandleToCancellationSource.delete(p),u&&u.dispose()};let b;try{b=v(new n(this._proxy,S),f&&u?u.token:T.CancellationToken.None)}catch(p){throw g(S),p}return b.then(p=>g(S),p=>g(S)),b}$acceptProgressCanceled(S){const v=this._mapHandleToCancellationSource.get(S);v&&(v.cancel(),this._mapHandleToCancellationSource.delete(S))}}e.ExtHostProgress=D;function C(I,S){return I.message=S.message,typeof S.increment=="number"&&(typeof I.increment=="number"?I.increment+=S.increment:I.increment=S.increment),I}class n extends k.Progress{constructor(S,v){super(f=>this.throttledReport(f));this._proxy=S,this._handle=v}throttledReport(S){this._proxy.$progressReport(this._handle,S)}}He([P.throttle(100,(I,S)=>C(I,S),()=>Object.create(null))],n.prototype,"throttledReport",null)}),define(ge[121],pe([0,1,53,15,71,20,8]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTextEditor=e.ExtHostTextEditorOptions=e.TextEditorEdit=e.TextEditorDecorationType=void 0;class D{constructor(v,f){this.key=D._Keys.nextId(),this._proxy=v,this._proxy.$registerTextEditorDecorationType(this.key,T.DecorationRenderOptions.from(f))}dispose(){this._proxy.$removeTextEditorDecorationType(this.key)}}e.TextEditorDecorationType=D,D._Keys=new A.IdGenerator("TextEditorDecorationType");class C{constructor(v,f){this._collectedEdits=[],this._setEndOfLine=void 0,this._finalized=!1,this._document=v,this._documentVersionId=v.version,this._undoStopBefore=f.undoStopBefore,this._undoStopAfter=f.undoStopAfter}finalize(){return this._finalized=!0,{documentVersionId:this._documentVersionId,edits:this._collectedEdits,setEndOfLine:this._setEndOfLine,undoStopBefore:this._undoStopBefore,undoStopAfter:this._undoStopAfter}}_throwIfFinalized(){if(this._finalized)throw new Error("Edit is only valid while callback runs")}replace(v,f){this._throwIfFinalized();let u=null;if(v instanceof P.Position)u=new P.Range(v,v);else if(v instanceof P.Range)u=v;else throw new Error("Unrecognized location");this._pushEdit(u,f,!1)}insert(v,f){this._throwIfFinalized(),this._pushEdit(new P.Range(v,v),f,!0)}delete(v){this._throwIfFinalized();let f=null;if(v instanceof P.Range)f=v;else throw new Error("Unrecognized location");this._pushEdit(f,null,!0)}_pushEdit(v,f,u){const g=this._document.validateRange(v);this._collectedEdits.push({range:g,text:f,forceMoveMarkers:u})}setEndOfLine(v){if(this._throwIfFinalized(),v!==P.EndOfLine.LF&&v!==P.EndOfLine.CRLF)throw k.illegalArgument("endOfLine");this._setEndOfLine=v}}e.TextEditorEdit=C;class n{constructor(v,f,u,g){this._proxy=v,this._id=f,this._accept(u),this._logService=g}_accept(v){this._tabSize=v.tabSize,this._indentSize=v.indentSize,this._insertSpaces=v.insertSpaces,this._cursorStyle=v.cursorStyle,this._lineNumbers=T.TextEditorLineNumbersStyle.to(v.lineNumbers)}get tabSize(){return this._tabSize}_validateTabSize(v){if(v==="auto")return"auto";if(typeof v=="number"){const f=Math.floor(v);return f>0?f:null}if(typeof v=="string"){const f=parseInt(v,10);return isNaN(f)?null:f>0?f:null}return null}set tabSize(v){const f=this._validateTabSize(v);if(f!==null){if(typeof f=="number"){if(this._tabSize===f)return;this._tabSize=f}this._warnOnError(this._proxy.$trySetOptions(this._id,{tabSize:f}))}}get indentSize(){return this._indentSize}_validateIndentSize(v){if(v==="tabSize")return"tabSize";if(typeof v=="number"){const f=Math.floor(v);return f>0?f:null}if(typeof v=="string"){const f=parseInt(v,10);return isNaN(f)?null:f>0?f:null}return null}set indentSize(v){const f=this._validateIndentSize(v);if(f!==null){if(typeof f=="number"){if(this._indentSize===f)return;this._indentSize=f}this._warnOnError(this._proxy.$trySetOptions(this._id,{indentSize:f}))}}get insertSpaces(){return this._insertSpaces}_validateInsertSpaces(v){return v==="auto"?"auto":v==="false"?!1:Boolean(v)}set insertSpaces(v){const f=this._validateInsertSpaces(v);if(typeof f=="boolean"){if(this._insertSpaces===f)return;this._insertSpaces=f}this._warnOnError(this._proxy.$trySetOptions(this._id,{insertSpaces:f}))}get cursorStyle(){return this._cursorStyle}set cursorStyle(v){this._cursorStyle!==v&&(this._cursorStyle=v,this._warnOnError(this._proxy.$trySetOptions(this._id,{cursorStyle:v})))}get lineNumbers(){return this._lineNumbers}set lineNumbers(v){this._lineNumbers!==v&&(this._lineNumbers=v,this._warnOnError(this._proxy.$trySetOptions(this._id,{lineNumbers:T.TextEditorLineNumbersStyle.from(v)})))}assign(v){const f={};let u=!1;if(typeof v.tabSize!="undefined"){const g=this._validateTabSize(v.tabSize);g==="auto"?(u=!0,f.tabSize=g):typeof g=="number"&&this._tabSize!==g&&(this._tabSize=g,u=!0,f.tabSize=g)}if(typeof v.insertSpaces!="undefined"){const g=this._validateInsertSpaces(v.insertSpaces);g==="auto"?(u=!0,f.insertSpaces=g):this._insertSpaces!==g&&(this._insertSpaces=g,u=!0,f.insertSpaces=g)}typeof v.cursorStyle!="undefined"&&this._cursorStyle!==v.cursorStyle&&(this._cursorStyle=v.cursorStyle,u=!0,f.cursorStyle=v.cursorStyle),typeof v.lineNumbers!="undefined"&&this._lineNumbers!==v.lineNumbers&&(this._lineNumbers=v.lineNumbers,u=!0,f.lineNumbers=T.TextEditorLineNumbersStyle.from(v.lineNumbers)),u&&this._warnOnError(this._proxy.$trySetOptions(this._id,f))}_warnOnError(v){v.catch(f=>this._logService.warn(f))}}e.ExtHostTextEditorOptions=n;class I{constructor(v,f,u,g,b,p,d,s){this.id=v,this._proxy=f,this._logService=u,this._disposed=!1,this._documentData=g,this._selections=b,this._options=new n(this._proxy,this.id,p,u),this._visibleRanges=d,this._viewColumn=s,this._hasDecorationsForKey=Object.create(null)}dispose(){w.ok(!this._disposed),this._disposed=!0}show(v){this._proxy.$tryShowEditor(this.id,T.ViewColumn.from(v))}hide(){this._proxy.$tryHideEditor(this.id)}get document(){return this._documentData.document}set document(v){throw k.readonly("document")}get options(){return this._options}set options(v){this._disposed||this._options.assign(v)}_acceptOptions(v){w.ok(!this._disposed),this._options._accept(v)}get visibleRanges(){return this._visibleRanges}set visibleRanges(v){throw k.readonly("visibleRanges")}_acceptVisibleRanges(v){w.ok(!this._disposed),this._visibleRanges=v}get viewColumn(){return this._viewColumn}set viewColumn(v){throw k.readonly("viewColumn")}_acceptViewColumn(v){w.ok(!this._disposed),this._viewColumn=v}get selection(){return this._selections&&this._selections[0]}set selection(v){if(!(v instanceof P.Selection))throw k.illegalArgument("selection");this._selections=[v],this._trySetSelection()}get selections(){return this._selections}set selections(v){if(!Array.isArray(v)||v.some(f=>!(f instanceof P.Selection)))throw k.illegalArgument("selections");this._selections=v,this._trySetSelection()}setDecorations(v,f){const u=f.length===0;u&&!this._hasDecorationsForKey[v.key]||(u?delete this._hasDecorationsForKey[v.key]:this._hasDecorationsForKey[v.key]=!0,this._runOnProxy(()=>{if(T.isDecorationOptionsArr(f))return this._proxy.$trySetDecorations(this.id,v.key,T.fromRangeOrRangeWithMessage(f));{const g=new Array(4*f.length);for(let b=0,p=f.length;b<p;b++){const d=f[b];g[4*b]=d.start.line+1,g[4*b+1]=d.start.character+1,g[4*b+2]=d.end.line+1,g[4*b+3]=d.end.character+1}return this._proxy.$trySetDecorationsFast(this.id,v.key,g)}}))}revealRange(v,f){this._runOnProxy(()=>this._proxy.$tryRevealRange(this.id,T.Range.from(v),f||P.TextEditorRevealType.Default))}_trySetSelection(){const v=this._selections.map(T.Selection.from);return this._runOnProxy(()=>this._proxy.$trySetSelections(this.id,v))}_acceptSelections(v){w.ok(!this._disposed),this._selections=v}edit(v,f={undoStopBefore:!0,undoStopAfter:!0}){if(this._disposed)return Promise.reject(new Error("TextEditor#edit not possible on closed editors"));const u=new C(this._documentData.document,f);return v(u),this._applyEdit(u)}_applyEdit(v){const f=v.finalize();if(f.edits.length===0&&!f.setEndOfLine)return Promise.resolve(!0);const u=f.edits.map(b=>b.range);u.sort((b,p)=>b.end.line===p.end.line?b.end.character===p.end.character?b.start.line===p.start.line?b.start.character-p.start.character:b.start.line-p.start.line:b.end.character-p.end.character:b.end.line-p.end.line);for(let b=0,p=u.length-1;b<p;b++){const d=u[b].end;if(u[b+1].start.isBefore(d))return Promise.reject(new Error("Overlapping ranges are not allowed!"))}const g=f.edits.map(b=>({range:T.Range.from(b.range),text:b.text,forceMoveMarkers:b.forceMoveMarkers}));return this._proxy.$tryApplyEdits(this.id,f.documentVersionId,g,{setEndOfLine:typeof f.setEndOfLine=="number"?T.EndOfLine.from(f.setEndOfLine):void 0,undoStopBefore:f.undoStopBefore,undoStopAfter:f.undoStopAfter})}insertSnippet(v,f,u={undoStopBefore:!0,undoStopAfter:!0}){if(this._disposed)return Promise.reject(new Error("TextEditor#insertSnippet not possible on closed editors"));let g;if(!f||Array.isArray(f)&&f.length===0)g=this._selections.map(b=>T.Range.from(b));else if(f instanceof P.Position){const{lineNumber:b,column:p}=T.Position.from(f);g=[{startLineNumber:b,startColumn:p,endLineNumber:b,endColumn:p}]}else if(f instanceof P.Range)g=[T.Range.from(f)];else{g=[];for(const b of f)if(b instanceof P.Range)g.push(T.Range.from(b));else{const{lineNumber:p,column:d}=T.Position.from(b);g.push({startLineNumber:p,startColumn:d,endLineNumber:p,endColumn:d})}}return this._proxy.$tryInsertSnippet(this.id,v.value,g,u)}_runOnProxy(v){return this._disposed?(this._logService.warn("TextEditor is closed/disposed"),Promise.resolve(void 0)):v().then(()=>this,f=>(f instanceof Error&&f.name==="DISPOSED"||this._logService.warn(f),null))}}e.ExtHostTextEditor=I}),define(ge[220],pe([0,1,163,23,2,3,5,19,8,16,12,20,21]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTreeViews=void 0;function f(b,p){if(n.isString(b))return{label:b};if(b&&typeof b=="object"&&typeof b.label=="string"){let d;return Array.isArray(b.highlights)&&(d=b.highlights.filter(s=>s.length===2&&typeof s[0]=="number"&&typeof s[1]=="number"),d=d.length?d:void 0),{label:b.label,highlights:d}}}class u{constructor(p,d,s){this._proxy=p,this.commands=d,this.logService=s,this.treeViews=new Map;function l(c){return c&&c.$treeViewId&&c.$treeItemHandle}d.registerArgumentProcessor({processArgument:c=>l(c)?this.convertArgument(c):Array.isArray(c)&&c.length>0?c.map(t=>l(t)?this.convertArgument(t):t):c})}registerTreeDataProvider(p,d,s){const l=this.createTreeView(p,{treeDataProvider:d},s);return{dispose:()=>l.dispose()}}createTreeView(p,d,s){if(!d||!d.treeDataProvider)throw new Error("Options with treeDataProvider is mandatory");const l=this.createExtHostTreeView(p,d,s);return{get onDidCollapseElement(){return l.onDidCollapseElement},get onDidExpandElement(){return l.onDidExpandElement},get selection(){return l.selectedElements},get onDidChangeSelection(){return l.onDidChangeSelection},get visible(){return l.visible},get onDidChangeVisibility(){return l.onDidChangeVisibility},get message(){return l.message},set message(c){l.message=c},get title(){return l.title},set title(c){l.title=c},get description(){return l.description},set description(c){l.description=c},reveal:(c,t)=>l.reveal(c,t),dispose:()=>{this.treeViews.delete(p),l.dispose()}}}$getChildren(p,d){const s=this.treeViews.get(p);return s?s.getChildren(d):Promise.reject(new Error(w.localize(0,null,p)))}async $hasResolve(p){const d=this.treeViews.get(p);if(!d)throw new Error(w.localize(1,null,p));return d.hasResolve}$resolve(p,d,s){const l=this.treeViews.get(p);if(!l)throw new Error(w.localize(2,null,p));return l.resolveTreeItem(d,s)}$setExpanded(p,d,s){const l=this.treeViews.get(p);if(!l)throw new Error(w.localize(3,null,p));l.setExpanded(d,s)}$setSelection(p,d){const s=this.treeViews.get(p);if(!s)throw new Error(w.localize(4,null,p));s.setSelection(d)}$setVisible(p,d){const s=this.treeViews.get(p);if(!s)throw new Error(w.localize(5,null,p));s.setVisible(d)}createExtHostTreeView(p,d,s){const l=new g(p,d,this._proxy,this.commands.converter,this.logService,s);return this.treeViews.set(p,l),l}convertArgument(p){const d=this.treeViews.get(p.$treeViewId);return d?d.getExtensionElement(p.$treeItemHandle):null}}e.ExtHostTreeViews=u;class g extends P.Disposable{constructor(p,d,s,l,c,t){super();if(this.viewId=p,this.proxy=s,this.commands=l,this.logService=c,this.extension=t,this.roots=null,this.elements=new Map,this.nodes=new Map,this._visible=!1,this._selectedHandles=[],this._onDidExpandElement=this._register(new T.Emitter),this.onDidExpandElement=this._onDidExpandElement.event,this._onDidCollapseElement=this._register(new T.Emitter),this.onDidCollapseElement=this._onDidCollapseElement.event,this._onDidChangeSelection=this._register(new T.Emitter),this.onDidChangeSelection=this._onDidChangeSelection.event,this._onDidChangeVisibility=this._register(new T.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._onDidChangeData=this._register(new T.Emitter),this.refreshPromise=Promise.resolve(),this.refreshQueue=Promise.resolve(),this._message="",this._title="",this._refreshCancellationSource=new v.CancellationTokenSource,t.contributes&&t.contributes.views)for(const a in t.contributes.views)for(const i of t.contributes.views[a])i.id===p&&(this._title=i.name);this.dataProvider=d.treeDataProvider,this.proxy.$registerTreeViewDataProvider(p,{showCollapseAll:!!d.showCollapseAll,canSelectMany:!!d.canSelectMany}),this.dataProvider.onDidChangeTreeData&&this._register(this.dataProvider.onDidChangeTreeData(a=>this._onDidChangeData.fire({message:!1,element:a})));let r,o;this._register(T.Event.debounce(this._onDidChangeData.event,(a,i)=>(a||(a={message:!1,elements:[]}),i.element!==!1&&(r||(r=new Promise(h=>o=h),this.refreshPromise=this.refreshPromise.then(()=>r)),a.elements.push(i.element)),i.message&&(a.message=!0),a),200,!0)(({message:a,elements:i})=>{i.length&&(this.refreshQueue=this.refreshQueue.then(()=>{const h=o;return r=null,this.refresh(i).then(()=>h())})),a&&this.proxy.$setMessage(this.viewId,this._message)}))}get visible(){return this._visible}get selectedElements(){return this._selectedHandles.map(p=>this.getExtensionElement(p)).filter(p=>!n.isUndefinedOrNull(p))}getChildren(p){const d=p?this.getExtensionElement(p):void 0;if(p&&!d)return this.logService.error(`No tree item with id '${p}' found.`),Promise.resolve([]);const s=this.getChildrenNodes(p);return(s?Promise.resolve(s):this.fetchChildrenNodes(d)).then(l=>l.map(c=>c.item))}getExtensionElement(p){return this.elements.get(p)}reveal(p,d){d=d||{select:!0,focus:!1};const s=n.isUndefinedOrNull(d.select)?!0:d.select,l=n.isUndefinedOrNull(d.focus)?!1:d.focus,c=n.isUndefinedOrNull(d.expand)?!1:d.expand;return typeof this.dataProvider.getParent!="function"?Promise.reject(new Error("Required registered TreeDataProvider to implement 'getParent' method to access 'reveal' method")):p?this.refreshPromise.then(()=>this.resolveUnknownParentChain(p)).then(t=>this.resolveTreeNode(p,t[t.length-1]).then(r=>this.proxy.$reveal(this.viewId,{item:r.item,parentChain:t.map(o=>o.item)},{select:s,focus:l,expand:c})),t=>this.logService.error(t)):this.proxy.$reveal(this.viewId,void 0,{select:s,focus:l,expand:c})}get message(){return this._message}set message(p){this._message=p,this._onDidChangeData.fire({message:!0,element:!1})}get title(){return this._title}set title(p){this._title=p,this.proxy.$setTitle(this.viewId,p,this._description)}get description(){return this._description}set description(p){this._description=p,this.proxy.$setTitle(this.viewId,this._title,p)}setExpanded(p,d){const s=this.getExtensionElement(p);s&&(d?this._onDidExpandElement.fire(Object.freeze({element:s})):this._onDidCollapseElement.fire(Object.freeze({element:s})))}setSelection(p){I.equals(this._selectedHandles,p)||(this._selectedHandles=p,this._onDidChangeSelection.fire(Object.freeze({selection:this.selectedElements})))}setVisible(p){p!==this._visible&&(this._visible=p,this._onDidChangeVisibility.fire(Object.freeze({visible:this._visible})))}get hasResolve(){return!!this.dataProvider.resolveTreeItem}async resolveTreeItem(p,d){var s;if(!!this.dataProvider.resolveTreeItem){const l=this.elements.get(p);if(l){const c=this.nodes.get(l);if(c){const t=(s=await this.dataProvider.resolveTreeItem(c.extensionItem,l,d))!==null&&s!==void 0?s:c.extensionItem;return c.item.tooltip=this.getTooltip(t.tooltip),c.item.command=this.getCommand(c.disposableStore,t.command),c.item}}}}resolveUnknownParentChain(p){return this.resolveParent(p).then(d=>d?this.resolveUnknownParentChain(d).then(s=>this.resolveTreeNode(d,s[s.length-1]).then(l=>(s.push(l),s))):Promise.resolve([]))}resolveParent(p){const d=this.nodes.get(p);return d?Promise.resolve(d.parent?this.elements.get(d.parent.item.handle):void 0):D.asPromise(()=>this.dataProvider.getParent(p))}resolveTreeNode(p,d){const s=this.nodes.get(p);return s?Promise.resolve(s):D.asPromise(()=>this.dataProvider.getTreeItem(p)).then(l=>this.createHandle(p,l,d,!0)).then(l=>this.getChildren(d?d.item.handle:void 0).then(()=>{const c=this.getExtensionElement(l);if(c){const t=this.nodes.get(c);if(t)return Promise.resolve(t)}throw new Error(`Cannot resolve tree item for element ${l}`)}))}getChildrenNodes(p){if(p){let d;if(typeof p=="string"){const s=this.getExtensionElement(p);d=s?this.nodes.get(s):void 0}else d=p;return d&&d.children||null}return this.roots}async fetchChildrenNodes(p){this.clearChildren(p);const d=new v.CancellationTokenSource(this._refreshCancellationSource.token);try{const s=p?this.nodes.get(p):void 0,l=await this.dataProvider.getChildren(p);if(d.token.isCancellationRequested)return[];const c=await Promise.all(I.coalesce(l||[]).map(async t=>{const r=await this.dataProvider.getTreeItem(t);return r&&!d.token.isCancellationRequested?this.createAndRegisterTreeNode(t,r,s):null}));return d.token.isCancellationRequested?[]:I.coalesce(c)}finally{d.dispose()}}refresh(p){if(p.some(s=>!s))return this._refreshCancellationSource.dispose(!0),this._refreshCancellationSource=new v.CancellationTokenSource,this.clearAll(),this.proxy.$refresh(this.viewId);{const s=this.getHandlesToRefresh(p);if(s.length)return this.refreshHandles(s)}return Promise.resolve(void 0)}getHandlesToRefresh(p){const d=new Set;for(const l of p){const c=this.nodes.get(l);if(c&&!d.has(c.item.handle)){let t=c;for(;t&&t.parent&&!d.has(t.parent.item.handle);){const r=this.elements.get(t.parent.item.handle);t=r?this.nodes.get(r):void 0}t&&!t.parent&&d.add(c.item.handle)}}const s=[];return d.forEach(l=>{const c=this.elements.get(l);if(c){const t=this.nodes.get(c);t&&(!t.parent||!d.has(t.parent.item.handle))&&s.push(l)}}),s}refreshHandles(p){const d={};return Promise.all(p.map(s=>this.refreshNode(s).then(l=>{l&&(d[s]=l.item)}))).then(()=>Object.keys(d).length?this.proxy.$refresh(this.viewId,d):void 0)}refreshNode(p){const d=this.getExtensionElement(p);if(d){const s=this.nodes.get(d);if(s)return this.clearChildren(d),D.asPromise(()=>this.dataProvider.getTreeItem(d)).then(l=>{if(l){const c=this.createTreeNode(d,l,s.parent);return this.updateNodeCache(d,c,s,s.parent),s.dispose(),c}return null})}return Promise.resolve(null)}createAndRegisterTreeNode(p,d,s){const l=this.createTreeNode(p,d,s);if(d.id&&this.elements.has(l.item.handle))throw new Error(w.localize(6,null,d.id));return this.addNodeToCache(p,l),this.addNodeToParentCache(l,s),l}getTooltip(p){return C.MarkdownString.isMarkdownString(p)?S.MarkdownString.from(p):p}getCommand(p,d){return d?this.commands.toInternal(d,p):void 0}createTreeNode(p,d,s){const l=new P.DisposableStore,c=this.createHandle(p,d,s),t=this.getLightIconPath(d);return{item:{handle:c,parentHandle:s?s.item.handle:void 0,label:f(d.label,this.extension),description:d.description,resourceUri:d.resourceUri,tooltip:this.getTooltip(d.tooltip),command:this.getCommand(l,d.command),contextValue:d.contextValue,icon:t,iconDark:this.getDarkIconPath(d)||t,themeIcon:this.getThemeIcon(d),collapsibleState:n.isUndefinedOrNull(d.collapsibleState)?C.TreeItemCollapsibleState.None:d.collapsibleState,accessibilityInformation:d.accessibilityInformation},extensionItem:d,parent:s,children:void 0,disposableStore:l,dispose(){l.dispose()}}}getThemeIcon(p){return p.iconPath instanceof C.ThemeIcon?p.iconPath:void 0}createHandle(p,{id:d,label:s,resourceUri:l},c,t){if(d)return`${g.ID_HANDLE_PREFIX}/${d}`;const r=f(s,this.extension),o=c?c.item.handle:g.LABEL_HANDLE_PREFIX;let a=r?r.label:l?k.basename(l):"";a=a.indexOf("/")!==-1?a.replace("/","//"):a;const i=this.nodes.has(p)?this.nodes.get(p).item.handle:void 0,h=this.getChildrenNodes(c)||[];let y,m=0;do{if(y=`${o}/${m}:${a}`,t||!this.elements.has(y)||i===y)break;m++}while(m<=h.length);return y}getLightIconPath(p){if(p.iconPath&&!(p.iconPath instanceof C.ThemeIcon))return typeof p.iconPath=="string"||A.URI.isUri(p.iconPath)?this.getIconPath(p.iconPath):this.getIconPath(p.iconPath.light)}getDarkIconPath(p){if(p.iconPath&&!(p.iconPath instanceof C.ThemeIcon)&&p.iconPath.dark)return this.getIconPath(p.iconPath.dark)}getIconPath(p){return A.URI.isUri(p)?p:A.URI.file(p)}addNodeToCache(p,d){this.elements.set(d.item.handle,p),this.nodes.set(p,d)}updateNodeCache(p,d,s,l){this.elements.delete(d.item.handle),this.nodes.delete(p),d.item.handle!==s.item.handle&&this.elements.delete(s.item.handle),this.addNodeToCache(p,d);const c=this.getChildrenNodes(l)||[],t=c.filter(r=>r.item.handle===s.item.handle)[0];t&&c.splice(c.indexOf(t),1,d)}addNodeToParentCache(p,d){d?(d.children||(d.children=[]),d.children.push(p)):(this.roots||(this.roots=[]),this.roots.push(p))}clearChildren(p){if(p){const d=this.nodes.get(p);if(d){if(d.children)for(const s of d.children){const l=this.elements.get(s.item.handle);l&&this.clear(l)}d.children=void 0}}else this.clearAll()}clear(p){const d=this.nodes.get(p);if(d){if(d.children)for(const s of d.children){const l=this.elements.get(s.item.handle);l&&this.clear(l)}this.nodes.delete(p),this.elements.delete(d.item.handle),d.dispose()}}clearAll(){this.roots=null,this.elements.clear(),this.nodes.forEach(p=>p.dispose()),this.nodes.clear()}dispose(){this._refreshCancellationSource.dispose(),this.clearAll()}}g.LABEL_HANDLE_PREFIX="0",g.ID_HANDLE_PREFIX="1"}),define(ge[221],pe([0,1,19,55,26,20]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleUseTestCollection=e.OwnedTestCollection=void 0;class P{constructor(){this.testIdToInternal=new Map}getTestById(v){return this.testIdToInternal.get(v)}createForHierarchy(v=()=>{}){return new D(this.testIdToInternal,v)}}e.OwnedTestCollection=P;class D{constructor(v,f){this.testIdToInternal=v,this.publishDiff=f,this.testItemToInternal=new Map,this.diff=[],this.disposed=!1,this.debounceSendDiff=new w.RunOnceScheduler(()=>this.throttleSendDiff(),2)}addRoot(v,f){this.addItem(v,f,null),this.debounceSendDiff.schedule()}getTestByReference(v){return this.testItemToInternal.get(v)}onItemChange(v,f){const u=this.testItemToInternal.get(v);if(!u){this.disposed||console.warn("Received a TestProvider.onDidChangeTest for a test that wasn't seen before as a child.");return}this.addItem(v,f,u.parent),this.debounceSendDiff.schedule()}collectDiff(){const v=this.diff;return this.diff=[],v}pushDiff(v){this.diff.push(v),this.debounceSendDiff.schedule()}dispose(){for(const v of this.testItemToInternal.values())this.testIdToInternal.delete(v.id);this.diff=[],this.disposed=!0}getId(){return A.generateUuid()}addItem(v,f,u){let g=this.testItemToInternal.get(v);const b=u?this.testIdToInternal.get(u):null;if(g?g.previousEquals(v)||(g.item=T.TestItem.from(v,b==null?void 0:b.item.extId),g.previousEquals=I(v),this.diff.push([1,{id:g.id,parent:u,providerId:f,item:g.item}])):(g={actual:v,id:this.getId(),parent:u,item:T.TestItem.from(v,b==null?void 0:b.item.extId),providerId:f,previousChildren:new Set,previousEquals:I(v)},this.testItemToInternal.set(v,g),this.testIdToInternal.set(g.id,g),this.diff.push([0,{id:g.id,parent:u,providerId:f,item:g.item}])),v.children){const p=g.previousChildren,d=new Set;for(const s of v.children){const l=this.addItem(s,f,g.id);p.delete(l.id),d.add(l.id)}for(const s of p)this.removeItembyId(s);g.previousChildren=d}return g}removeItembyId(v){this.diff.push([2,v]);const f=[this.testIdToInternal.get(v)];for(;f.length;){const u=f.pop();if(!!u){this.testIdToInternal.delete(u.id),this.testItemToInternal.delete(u.actual);for(const g of u.previousChildren)f.push(this.testIdToInternal.get(g))}}}throttleSendDiff(){this.flushDiff()}flushDiff(){const v=this.collectDiff();v.length&&this.publishDiff(v)}}He([k.throttle(200)],D.prototype,"throttleSendDiff",null),e.SingleUseTestCollection=D;const n=Object.keys({id:null,label:null,location:null,state:null,debuggable:null,description:null,runnable:null}),I=S=>{const v=[];for(const f of n)v.push(S[f]);return f=>{for(let u=0;u<n.length;u++)if(v[u]!==f[n[u]])return!1;return!0}}}),define(ge[222],pe([0,1,29,3,7]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionDescriptionRegistry=e.DeltaExtensionsResult=void 0;class T{constructor(I){this.removedDueToLooping=I}}e.DeltaExtensionsResult=T;class P{constructor(I){this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._extensionDescriptions=I,this._initialize()}_initialize(){this._extensionDescriptions.sort(C),this._extensionsMap=new Map,this._extensionsArr=[],this._activationMap=new Map;for(const I of this._extensionDescriptions){if(this._extensionsMap.has(w.ExtensionIdentifier.toKey(I.identifier))){console.error("Extension `"+I.identifier.value+"` is already registered");continue}if(this._extensionsMap.set(w.ExtensionIdentifier.toKey(I.identifier),I),this._extensionsArr.push(I),Array.isArray(I.activationEvents))for(let S of I.activationEvents)S==="onUri"&&(S=`onUri:${w.ExtensionIdentifier.toKey(I.identifier)}`),this._activationMap.has(S)||this._activationMap.set(S,[]),this._activationMap.get(S).push(I)}}keepOnly(I){const S=new Set;I.forEach(v=>S.add(w.ExtensionIdentifier.toKey(v))),this._extensionDescriptions=this._extensionDescriptions.filter(v=>S.has(w.ExtensionIdentifier.toKey(v.identifier))),this._initialize(),this._onDidChange.fire(void 0)}deltaExtensions(I,S){I.length>0&&(this._extensionDescriptions=this._extensionDescriptions.concat(I));const v=P._findLoopingExtensions(this._extensionDescriptions);if(S=S.concat(v.map(f=>f.identifier)),S.length>0){const f=new Set;S.forEach(u=>f.add(w.ExtensionIdentifier.toKey(u))),this._extensionDescriptions=this._extensionDescriptions.filter(u=>!f.has(w.ExtensionIdentifier.toKey(u.identifier)))}return this._initialize(),this._onDidChange.fire(void 0),new T(v)}static _findLoopingExtensions(I){const S=new class{constructor(){this._arcs=new Map,this._nodesSet=new Set,this._nodesArr=[]}addNode(b){this._nodesSet.has(b)||(this._nodesSet.add(b),this._nodesArr.push(b))}addArc(b,p){this.addNode(b),this.addNode(p),this._arcs.has(b)?this._arcs.get(b).push(p):this._arcs.set(b,[p])}getArcs(b){return this._arcs.has(b)?this._arcs.get(b):[]}hasOnlyGoodArcs(b,p){const d=S.getArcs(b);for(let s=0;s<d.length;s++)if(!p.has(d[s]))return!1;return!0}getNodes(){return this._nodesArr}};let v=new Map;for(let b of I){const p=w.ExtensionIdentifier.toKey(b.identifier);if(v.set(p,b),b.extensionDependencies)for(let d of b.extensionDependencies){const s=w.ExtensionIdentifier.toKey(d);S.addArc(p,s)}}let f=new Set;S.getNodes().filter(b=>S.getArcs(b).length===0).forEach(b=>f.add(b));let u=S.getNodes().filter(b=>!f.has(b)),g;do{g=!1;for(let b=0;b<u.length;b++){const p=u[b];S.hasOnlyGoodArcs(p,f)&&(u.splice(b,1),b--,f.add(p),g=!0)}}while(g);return u.map(b=>v.get(b))}containsActivationEvent(I){return this._activationMap.has(I)}containsExtension(I){return this._extensionsMap.has(w.ExtensionIdentifier.toKey(I))}getExtensionDescriptionsForActivationEvent(I){const S=this._activationMap.get(I);return S?S.slice(0):[]}getAllExtensionDescriptions(){return this._extensionsArr.slice(0)}getExtensionDescription(I){const S=this._extensionsMap.get(w.ExtensionIdentifier.toKey(I));return S||void 0}}e.ExtensionDescriptionRegistry=P;var D;(function(n){n[n.Builtin=0]="Builtin",n[n.User=1]="User",n[n.Dev=2]="Dev"})(D||(D={}));function C(n,I){const S=n.isBuiltin?0:n.isUnderDevelopment?2:1,v=I.isBuiltin?0:I.isUnderDevelopment?2:1;if(S!==v)return S-v;const f=A.posix.basename(n.extensionLocation.path),u=A.posix.basename(I.extensionLocation.path);return f<u?-1:f>u?1:0}}),define(ge[223],pe([0,1,27]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isMessageOfType=e.createMessageOfType=e.MessageType=e.ExtensionHostExitCode=void 0;var k;(function(D){D[D.VersionMismatch=55]="VersionMismatch",D[D.StartTimeout60s=56]="StartTimeout60s",D[D.UnexpectedError=81]="UnexpectedError"})(k=e.ExtensionHostExitCode||(e.ExtensionHostExitCode={}));var A;(function(D){D[D.Initialized=0]="Initialized",D[D.Ready=1]="Ready",D[D.Terminate=2]="Terminate"})(A=e.MessageType||(e.MessageType={}));function T(D){const C=w.VSBuffer.alloc(1);switch(D){case 0:C.writeUInt8(1,0);break;case 1:C.writeUInt8(2,0);break;case 2:C.writeUInt8(3,0);break}return C}e.createMessageOfType=T;function P(D,C){if(D.byteLength!==1)return!1;switch(D.readUInt8(0)){case 1:return C===0;case 2:return C===1;case 3:return C===2;default:return!1}}e.isMessageOfType=P}),define(ge[42],pe([0,1,3,2,4,29,180]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullExtensionService=e.toExtensionDescription=e.toExtension=e.throwProposedApiError=e.checkProposedApiEnabled=e.ActivationKind=e.ExtensionHostLogFileName=e.ExtensionPointContribution=e.ActivationTimes=e.ExtensionHostKind=e.MissingDependencyError=e.IExtensionService=e.webWorkerExtHostConfig=e.nullExtensionDescription=void 0,e.nullExtensionDescription=Object.freeze({identifier:new T.ExtensionIdentifier("nullExtensionDescription"),name:"Null Extension Description",version:"0.0.0",publisher:"vscode",enableProposedApi:!1,engines:{vscode:""},extensionLocation:k.URI.parse("void:location"),isBuiltin:!1}),e.webWorkerExtHostConfig="extensions.webWorker",e.IExtensionService=A.createDecorator("extensionService");class D{constructor(d){this.dependency=d}}e.MissingDependencyError=D;var C;(function(p){p[p.LocalProcess=0]="LocalProcess",p[p.LocalWebWorker=1]="LocalWebWorker",p[p.Remote=2]="Remote"})(C=e.ExtensionHostKind||(e.ExtensionHostKind={}));class n{constructor(d,s,l,c){this.codeLoadingTime=d,this.activateCallTime=s,this.activateResolvedTime=l,this.activationReason=c}}e.ActivationTimes=n;class I{constructor(d,s){this.description=d,this.value=s}}e.ExtensionPointContribution=I,e.ExtensionHostLogFileName="exthost";var S;(function(p){p[p.Normal=0]="Normal",p[p.Immediate=1]="Immediate"})(S=e.ActivationKind||(e.ActivationKind={}));function v(p){p.enableProposedApi||f(p)}e.checkProposedApiEnabled=v;function f(p){throw new Error(`[${p.identifier.value}]: Proposed API is only available when running out of dev or with the following command line switch: --enable-proposed-api ${p.identifier.value}`)}e.throwProposedApiError=f;function u(p){return{type:p.isBuiltin?0:1,isBuiltin:p.isBuiltin||p.isUserBuiltin,identifier:{id:P.getGalleryExtensionId(p.publisher,p.name),uuid:p.uuid},manifest:p,location:p.extensionLocation}}e.toExtension=u;function g(p){return Object.assign(Object.assign({identifier:new T.ExtensionIdentifier(p.identifier.id),isBuiltin:p.type===0,isUserBuiltin:p.type===1&&p.isBuiltin,isUnderDevelopment:!1,extensionLocation:p.location},p.manifest),{uuid:p.identifier.uuid})}e.toExtensionDescription=g;class b{constructor(){this.onDidRegisterExtensions=w.Event.None,this.onDidChangeExtensionsStatus=w.Event.None,this.onDidChangeExtensions=w.Event.None,this.onWillActivateByEvent=w.Event.None,this.onDidChangeResponsiveChange=w.Event.None}activateByEvent(d){return Promise.resolve(void 0)}whenInstalledExtensionsRegistered(){return Promise.resolve(!0)}getExtensions(){return Promise.resolve([])}getExtension(){return Promise.resolve(void 0)}readExtensionPointContributions(d){return Promise.resolve(Object.create(null))}getExtensionsStatus(){return Object.create(null)}getInspectPort(d){return Promise.resolve(0)}restartExtensionHost(){}async setRemoteEnvironment(d){}canAddExtension(){return!1}canRemoveExtension(){return!1}_logOrShowMessage(d,s){}_activateById(d,s){return Promise.resolve()}_onWillActivateExtension(d){}_onDidActivateExtension(d,s,l,c,t){}_onExtensionRuntimeError(d,s){}_onExtensionHostExit(d){}}e.NullExtensionService=b}),define(ge[224],pe([0,1,158,29,42,11]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsActivator=e.FailedExtension=e.HostExtension=e.EmptyExtension=e.ActivatedExtension=e.ExtensionActivationTimesBuilder=e.ExtensionActivationTimes=void 0;const P=Promise.resolve(void 0);class D{constructor(g,b,p,d){this.startup=g,this.codeLoadingTime=b,this.activateCallTime=p,this.activateResolvedTime=d}}e.ExtensionActivationTimes=D,D.NONE=new D(!1,-1,-1,-1);class C{constructor(g){this._startup=g,this._codeLoadingStart=-1,this._codeLoadingStop=-1,this._activateCallStart=-1,this._activateCallStop=-1,this._activateResolveStart=-1,this._activateResolveStop=-1}_delta(g,b){return g===-1||b===-1?-1:b-g}build(){return new D(this._startup,this._delta(this._codeLoadingStart,this._codeLoadingStop),this._delta(this._activateCallStart,this._activateCallStop),this._delta(this._activateResolveStart,this._activateResolveStop))}codeLoadingStart(){this._codeLoadingStart=Date.now()}codeLoadingStop(){this._codeLoadingStop=Date.now()}activateCallStart(){this._activateCallStart=Date.now()}activateCallStop(){this._activateCallStop=Date.now()}activateResolveStart(){this._activateResolveStart=Date.now()}activateResolveStop(){this._activateResolveStop=Date.now()}}e.ExtensionActivationTimesBuilder=C;class n{constructor(g,b,p,d,s,l){this.activationFailed=g,this.activationFailedError=b,this.activationTimes=p,this.module=d,this.exports=s,this.subscriptions=l}}e.ActivatedExtension=n;class I extends n{constructor(g){super(!1,null,g,{activate:void 0,deactivate:void 0},void 0,[])}}e.EmptyExtension=I;class S extends n{constructor(){super(!1,null,D.NONE,{activate:void 0,deactivate:void 0},void 0,[])}}e.HostExtension=S;class v extends n{constructor(g){super(!0,g,D.NONE,{activate:void 0,deactivate:void 0},void 0,[])}}e.FailedExtension=v;let f=class{constructor(g,b,p,d,s){this._logService=s,this._registry=g,this._resolvedExtensionsSet=new Set,b.forEach(l=>this._resolvedExtensionsSet.add(k.ExtensionIdentifier.toKey(l))),this._hostExtensionsMap=new Map,p.forEach(l=>this._hostExtensionsMap.set(k.ExtensionIdentifier.toKey(l),l)),this._host=d,this._activatingExtensions=new Map,this._activatedExtensions=new Map,this._alreadyActivatedEvents=Object.create(null)}isActivated(g){const b=k.ExtensionIdentifier.toKey(g);return this._activatedExtensions.has(b)}getActivatedExtension(g){const b=k.ExtensionIdentifier.toKey(g),p=this._activatedExtensions.get(b);if(!p)throw new Error("Extension `"+g.value+"` is not known or not activated");return p}activateByEvent(g,b){if(this._alreadyActivatedEvents[g])return P;const p=this._registry.getExtensionDescriptionsForActivationEvent(g);return this._activateExtensions(p.map(d=>({id:d.identifier,reason:{startup:b,extensionId:d.identifier,activationEvent:g}}))).then(()=>{this._alreadyActivatedEvents[g]=!0})}activateById(g,b){const p=this._registry.getExtensionDescription(g);if(!p)throw new Error("Extension `"+g+"` is not known");return this._activateExtensions([{id:p.identifier,reason:b}])}_handleActivateRequest(g,b,p){if(this._hostExtensionsMap.has(k.ExtensionIdentifier.toKey(g.id))){b[k.ExtensionIdentifier.toKey(g.id)]=g;return}const d=this._registry.getExtensionDescription(g.id);if(!d){this._host.onExtensionActivationError(g.id,new A.MissingDependencyError(g.id.value));const c=new Error(`Unknown dependency '${g.id.value}'`);this._activatedExtensions.set(k.ExtensionIdentifier.toKey(g.id),new v(c));return}const s=typeof d.extensionDependencies=="undefined"?[]:d.extensionDependencies;let l=!0;for(let c=0,t=s.length;c<t;c++){const r=s[c];if(!this._resolvedExtensionsSet.has(k.ExtensionIdentifier.toKey(r))){const o=this._activatedExtensions.get(k.ExtensionIdentifier.toKey(r));if(!(o&&!o.activationFailed)){if(o&&o.activationFailed){this._host.onExtensionActivationError(d.identifier,w.localize(0,null,d.displayName||d.identifier.value,r));const h=new Error(`Dependency ${r} failed to activate`);h.detail=o.activationFailedError,this._activatedExtensions.set(k.ExtensionIdentifier.toKey(d.identifier),new v(h));return}if(this._hostExtensionsMap.has(k.ExtensionIdentifier.toKey(r))){l=!1,b[k.ExtensionIdentifier.toKey(r)]={id:this._hostExtensionsMap.get(k.ExtensionIdentifier.toKey(r)),reason:g.reason};continue}const a=this._registry.getExtensionDescription(r);if(a){l=!1,b[k.ExtensionIdentifier.toKey(r)]={id:a.identifier,reason:g.reason};continue}this._host.onExtensionActivationError(d.identifier,new A.MissingDependencyError(r));const i=new Error(`Unknown dependency '${r}'`);this._activatedExtensions.set(k.ExtensionIdentifier.toKey(d.identifier),new v(i));return}}}l?b[k.ExtensionIdentifier.toKey(d.identifier)]=g:p.push(g)}_activateExtensions(g){if(g.length===0||(g=g.filter(s=>!this._activatedExtensions.has(k.ExtensionIdentifier.toKey(s.id))),g.length===0))return Promise.resolve(void 0);const b=Object.create(null),p=[];for(let s=0,l=g.length;s<l;s++)this._handleActivateRequest(g[s],b,p);for(let s=0,l=p.length;s<l;s++){const c=k.ExtensionIdentifier.toKey(p[s].id);b[c]&&delete b[c]}const d=Object.keys(b).map(s=>b[s]);return p.length===0?Promise.all(d.map(s=>this._activateExtension(s.id,s.reason))).then(s=>{}):this._activateExtensions(d).then(s=>this._activateExtensions(p))}_activateExtension(g,b){const p=k.ExtensionIdentifier.toKey(g);if(this._activatedExtensions.has(p))return Promise.resolve(void 0);const d=this._activatingExtensions.get(p);if(d)return d;const s=this._host.actualActivateExtension(g,b).then(void 0,l=>(this._host.onExtensionActivationError(g,w.localize(1,null,g.value,l.message)),this._logService.error(`Activating extension ${g.value} failed due to an error:`),this._logService.error(l),new v(l))).then(l=>{this._activatedExtensions.set(p,l),this._activatingExtensions.delete(p)});return this._activatingExtensions.set(p,s),s}};f=He([Fe(4,T.ILogService)],f),e.ExtensionsActivator=f}),define(ge[225],pe([0,1,11,42,28,13,110,23]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLogService=void 0;let C=class extends w.DelegatedLogService{constructor(I){if(I.logFile.scheme!==T.Schemas.file)throw new Error("Only file-logging supported");super(new P.SpdLogService(k.ExtensionHostLogFileName,D.dirname(I.logFile).fsPath,I.logLevel))}$setLevel(I){this.setLevel(I)}};C=He([Fe(0,A.IExtHostInitDataService)],C),e.ExtHostLogService=C}),define(ge[226],pe([0,1,15]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LazyPromise=void 0;class k{constructor(){this._actual=null,this._actualOk=null,this._actualErr=null,this._hasValue=!1,this._value=null,this._hasErr=!1,this._err=null}get[Symbol.toStringTag](){return this.toString()}_ensureActual(){return this._actual||(this._actual=new Promise((T,P)=>{this._actualOk=T,this._actualErr=P,this._hasValue&&this._actualOk(this._value),this._hasErr&&this._actualErr(this._err)})),this._actual}resolveOk(T){this._hasValue||this._hasErr||(this._hasValue=!0,this._value=T,this._actual&&this._actualOk(T))}resolveErr(T){this._hasValue||this._hasErr||(this._hasErr=!0,this._err=T,this._actual?this._actualErr(T):w.onUnexpectedError(T))}then(T,P){return this._ensureActual().then(T,P)}catch(T){return this._ensureActual().then(void 0,T)}finally(T){return this._ensureActual().finally(T)}}e.LazyPromise=k}),define(ge[122],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStringIdentifierForProxy=e.createExtHostContextProxyIdentifier=e.createMainContextProxyIdentifier=e.ProxyIdentifier=void 0;class w{constructor(C,n){this.isMain=C,this.sid=n,this.nid=++w.count}}e.ProxyIdentifier=w,w.count=0;const k=[];function A(D){const C=new w(!0,D);return k[C.nid]=C,C}e.createMainContextProxyIdentifier=A;function T(D){const C=new w(!1,D);return k[C.nid]=C,C}e.createExtHostContextProxyIdentifier=T;function P(D){return k[D].sid}e.getStringIdentifierForProxy=P}),define(ge[6],pe([0,1,2,122,58]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostContext=e.MainContext=e.ExtHostTestingResource=e.reviveWorkspaceEditDto=e.WorkspaceEditType=e.ISuggestResultDtoField=e.ISuggestDataDtoField=e.IdObject=e.ObjectIdentifier=e.NotebookEditorRevealType=e.CellOutputKind=e.CellKind=e.WebviewEditorCapabilities=e.TextEditorRevealType=e.UIKind=void 0;var T;(function(d){d[d.Desktop=1]="Desktop",d[d.Web=2]="Web"})(T=e.UIKind||(e.UIKind={}));var P;(function(d){d[d.Default=0]="Default",d[d.InCenter=1]="InCenter",d[d.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",d[d.AtTop=3]="AtTop"})(P=e.TextEditorRevealType||(e.TextEditorRevealType={}));var D;(function(d){d[d.Editable=0]="Editable",d[d.SupportsHotExit=1]="SupportsHotExit"})(D=e.WebviewEditorCapabilities||(e.WebviewEditorCapabilities={}));var C;(function(d){d[d.Markdown=1]="Markdown",d[d.Code=2]="Code"})(C=e.CellKind||(e.CellKind={}));var n;(function(d){d[d.Text=1]="Text",d[d.Error=2]="Error",d[d.Rich=3]="Rich"})(n=e.CellOutputKind||(e.CellOutputKind={}));var I;(function(d){d[d.Default=0]="Default",d[d.InCenter=1]="InCenter",d[d.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",d[d.AtTop=3]="AtTop"})(I=e.NotebookEditorRevealType||(e.NotebookEditorRevealType={}));var S;(function(d){d.name="$ident";function s(c,t){return Object.defineProperty(c,d.name,{value:t,enumerable:!0}),c}d.mixin=s;function l(c){return c[d.name]}d.of=l})(S=e.ObjectIdentifier||(e.ObjectIdentifier={}));class v{static mixin(s){return s._id=v._n++,s}}e.IdObject=v,v._n=0;var f;(function(d){d.label="a",d.kind="b",d.detail="c",d.documentation="d",d.sortText="e",d.filterText="f",d.preselect="g",d.insertText="h",d.insertTextRules="i",d.range="j",d.commitCharacters="k",d.additionalTextEdits="l",d.command="m",d.kindModifier="n",d.label2="o"})(f=e.ISuggestDataDtoField||(e.ISuggestDataDtoField={}));var u;(function(d){d.defaultRanges="a",d.completions="b",d.isIncomplete="c",d.duration="d"})(u=e.ISuggestResultDtoField||(e.ISuggestResultDtoField={}));var g;(function(d){d[d.File=1]="File",d[d.Text=2]="Text",d[d.Cell=3]="Cell"})(g=e.WorkspaceEditType||(e.WorkspaceEditType={}));function b(d){if(d&&d.edits)for(const s of d.edits)typeof s.resource=="object"?s.resource=w.URI.revive(s.resource):(s.newUri=w.URI.revive(s.newUri),s.oldUri=w.URI.revive(s.oldUri)),s.metadata&&s.metadata.iconPath&&(s.metadata=A.revive(s.metadata));return d}e.reviveWorkspaceEditDto=b;var p;(function(d){d[d.Workspace=0]="Workspace",d[d.TextDocument=1]="TextDocument"})(p=e.ExtHostTestingResource||(e.ExtHostTestingResource={})),e.MainContext={MainThreadAuthentication:k.createMainContextProxyIdentifier("MainThreadAuthentication"),MainThreadBulkEdits:k.createMainContextProxyIdentifier("MainThreadBulkEdits"),MainThreadClipboard:k.createMainContextProxyIdentifier("MainThreadClipboard"),MainThreadCommands:k.createMainContextProxyIdentifier("MainThreadCommands"),MainThreadComments:k.createMainContextProxyIdentifier("MainThreadComments"),MainThreadConfiguration:k.createMainContextProxyIdentifier("MainThreadConfiguration"),MainThreadConsole:k.createMainContextProxyIdentifier("MainThreadConsole"),MainThreadDebugService:k.createMainContextProxyIdentifier("MainThreadDebugService"),MainThreadDecorations:k.createMainContextProxyIdentifier("MainThreadDecorations"),MainThreadDiagnostics:k.createMainContextProxyIdentifier("MainThreadDiagnostics"),MainThreadDialogs:k.createMainContextProxyIdentifier("MainThreadDiaglogs"),MainThreadDocuments:k.createMainContextProxyIdentifier("MainThreadDocuments"),MainThreadDocumentContentProviders:k.createMainContextProxyIdentifier("MainThreadDocumentContentProviders"),MainThreadTextEditors:k.createMainContextProxyIdentifier("MainThreadTextEditors"),MainThreadEditorInsets:k.createMainContextProxyIdentifier("MainThreadEditorInsets"),MainThreadEditorTabs:k.createMainContextProxyIdentifier("MainThreadEditorTabs"),MainThreadErrors:k.createMainContextProxyIdentifier("MainThreadErrors"),MainThreadTreeViews:k.createMainContextProxyIdentifier("MainThreadTreeViews"),MainThreadDownloadService:k.createMainContextProxyIdentifier("MainThreadDownloadService"),MainThreadKeytar:k.createMainContextProxyIdentifier("MainThreadKeytar"),MainThreadLanguageFeatures:k.createMainContextProxyIdentifier("MainThreadLanguageFeatures"),MainThreadLanguages:k.createMainContextProxyIdentifier("MainThreadLanguages"),MainThreadLog:k.createMainContextProxyIdentifier("MainThread"),MainThreadMessageService:k.createMainContextProxyIdentifier("MainThreadMessageService"),MainThreadOutputService:k.createMainContextProxyIdentifier("MainThreadOutputService"),MainThreadProgress:k.createMainContextProxyIdentifier("MainThreadProgress"),MainThreadQuickOpen:k.createMainContextProxyIdentifier("MainThreadQuickOpen"),MainThreadStatusBar:k.createMainContextProxyIdentifier("MainThreadStatusBar"),MainThreadSecretState:k.createMainContextProxyIdentifier("MainThreadSecretState"),MainThreadStorage:k.createMainContextProxyIdentifier("MainThreadStorage"),MainThreadTelemetry:k.createMainContextProxyIdentifier("MainThreadTelemetry"),MainThreadTerminalService:k.createMainContextProxyIdentifier("MainThreadTerminalService"),MainThreadWebviews:k.createMainContextProxyIdentifier("MainThreadWebviews"),MainThreadWebviewPanels:k.createMainContextProxyIdentifier("MainThreadWebviewPanels"),MainThreadWebviewViews:k.createMainContextProxyIdentifier("MainThreadWebviewViews"),MainThreadCustomEditors:k.createMainContextProxyIdentifier("MainThreadCustomEditors"),MainThreadUrls:k.createMainContextProxyIdentifier("MainThreadUrls"),MainThreadUriOpeners:k.createMainContextProxyIdentifier("MainThreadUriOpeners"),MainThreadWorkspace:k.createMainContextProxyIdentifier("MainThreadWorkspace"),MainThreadFileSystem:k.createMainContextProxyIdentifier("MainThreadFileSystem"),MainThreadExtensionService:k.createMainContextProxyIdentifier("MainThreadExtensionService"),MainThreadSCM:k.createMainContextProxyIdentifier("MainThreadSCM"),MainThreadSearch:k.createMainContextProxyIdentifier("MainThreadSearch"),MainThreadTask:k.createMainContextProxyIdentifier("MainThreadTask"),MainThreadWindow:k.createMainContextProxyIdentifier("MainThreadWindow"),MainThreadLabelService:k.createMainContextProxyIdentifier("MainThreadLabelService"),MainThreadNotebook:k.createMainContextProxyIdentifier("MainThreadNotebook"),MainThreadTheming:k.createMainContextProxyIdentifier("MainThreadTheming"),MainThreadTunnelService:k.createMainContextProxyIdentifier("MainThreadTunnelService"),MainThreadTimeline:k.createMainContextProxyIdentifier("MainThreadTimeline"),MainThreadTesting:k.createMainContextProxyIdentifier("MainThreadTesting")},e.ExtHostContext={ExtHostCommands:k.createExtHostContextProxyIdentifier("ExtHostCommands"),ExtHostConfiguration:k.createExtHostContextProxyIdentifier("ExtHostConfiguration"),ExtHostDiagnostics:k.createExtHostContextProxyIdentifier("ExtHostDiagnostics"),ExtHostDebugService:k.createExtHostContextProxyIdentifier("ExtHostDebugService"),ExtHostDecorations:k.createExtHostContextProxyIdentifier("ExtHostDecorations"),ExtHostDocumentsAndEditors:k.createExtHostContextProxyIdentifier("ExtHostDocumentsAndEditors"),ExtHostDocuments:k.createExtHostContextProxyIdentifier("ExtHostDocuments"),ExtHostDocumentContentProviders:k.createExtHostContextProxyIdentifier("ExtHostDocumentContentProviders"),ExtHostDocumentSaveParticipant:k.createExtHostContextProxyIdentifier("ExtHostDocumentSaveParticipant"),ExtHostEditors:k.createExtHostContextProxyIdentifier("ExtHostEditors"),ExtHostTreeViews:k.createExtHostContextProxyIdentifier("ExtHostTreeViews"),ExtHostFileSystem:k.createExtHostContextProxyIdentifier("ExtHostFileSystem"),ExtHostFileSystemInfo:k.createExtHostContextProxyIdentifier("ExtHostFileSystemInfo"),ExtHostFileSystemEventService:k.createExtHostContextProxyIdentifier("ExtHostFileSystemEventService"),ExtHostLanguageFeatures:k.createExtHostContextProxyIdentifier("ExtHostLanguageFeatures"),ExtHostQuickOpen:k.createExtHostContextProxyIdentifier("ExtHostQuickOpen"),ExtHostExtensionService:k.createExtHostContextProxyIdentifier("ExtHostExtensionService"),ExtHostLogService:k.createExtHostContextProxyIdentifier("ExtHostLogService"),ExtHostTerminalService:k.createExtHostContextProxyIdentifier("ExtHostTerminalService"),ExtHostSCM:k.createExtHostContextProxyIdentifier("ExtHostSCM"),ExtHostSearch:k.createExtHostContextProxyIdentifier("ExtHostSearch"),ExtHostTask:k.createExtHostContextProxyIdentifier("ExtHostTask"),ExtHostWorkspace:k.createExtHostContextProxyIdentifier("ExtHostWorkspace"),ExtHostWindow:k.createExtHostContextProxyIdentifier("ExtHostWindow"),ExtHostWebviews:k.createExtHostContextProxyIdentifier("ExtHostWebviews"),ExtHostWebviewPanels:k.createExtHostContextProxyIdentifier("ExtHostWebviewPanels"),ExtHostCustomEditors:k.createExtHostContextProxyIdentifier("ExtHostCustomEditors"),ExtHostWebviewViews:k.createExtHostContextProxyIdentifier("ExtHostWebviewViews"),ExtHostEditorInsets:k.createExtHostContextProxyIdentifier("ExtHostEditorInsets"),ExtHostEditorTabs:k.createExtHostContextProxyIdentifier("ExtHostEditorTabs"),ExtHostProgress:k.createMainContextProxyIdentifier("ExtHostProgress"),ExtHostComments:k.createMainContextProxyIdentifier("ExtHostComments"),ExtHostSecretState:k.createMainContextProxyIdentifier("ExtHostSecretState"),ExtHostStorage:k.createMainContextProxyIdentifier("ExtHostStorage"),ExtHostUrls:k.createExtHostContextProxyIdentifier("ExtHostUrls"),ExtHostUriOpeners:k.createExtHostContextProxyIdentifier("ExtHostUriOpeners"),ExtHostOutputService:k.createMainContextProxyIdentifier("ExtHostOutputService"),ExtHosLabelService:k.createMainContextProxyIdentifier("ExtHostLabelService"),ExtHostNotebook:k.createMainContextProxyIdentifier("ExtHostNotebook"),ExtHostTheming:k.createMainContextProxyIdentifier("ExtHostTheming"),ExtHostTunnelService:k.createMainContextProxyIdentifier("ExtHostTunnelService"),ExtHostAuthentication:k.createMainContextProxyIdentifier("ExtHostAuthentication"),ExtHostTimeline:k.createMainContextProxyIdentifier("ExtHostTimeline"),ExtHostTesting:k.createMainContextProxyIdentifier("ExtHostTesting")}}),define(ge[88],pe([0,1,6,3,4]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostSecretState=e.ExtHostSecretState=void 0;class T{constructor(D){this._onDidChangePassword=new k.Emitter,this.onDidChangePassword=this._onDidChangePassword.event,this._proxy=D.getProxy(w.MainContext.MainThreadSecretState)}async $onDidChangePassword(D){this._onDidChangePassword.fire(D)}get(D,C){return this._proxy.$getPassword(D,C)}store(D,C,n){return this._proxy.$setPassword(D,C,n)}delete(D,C){return this._proxy.$deletePassword(D,C)}}e.ExtHostSecretState=T,e.IExtHostSecretState=A.createDecorator("IExtHostSecretState")}),define(ge[64],pe([0,1,4,11,6,14]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullApiDeprecationService=e.ExtHostApiDeprecationService=e.IExtHostApiDeprecationService=void 0,e.IExtHostApiDeprecationService=w.createDecorator("IExtHostApiDeprecationService");let P=class{constructor(C,n){this._extHostLogService=n,this._reportedUsages=new Set,this._telemetryShape=C.getProxy(A.MainContext.MainThreadTelemetry)}report(C,n,I){const S=this.getUsageKey(C,n);this._reportedUsages.has(S)||(this._reportedUsages.add(S),n.isUnderDevelopment&&this._extHostLogService.warn(`[Deprecation Warning] '${C}' is deprecated. ${I}`),this._telemetryShape.$publicLog2("extHostDeprecatedApiUsage",{extensionId:n.identifier.value,apiId:C}))}getUsageKey(C,n){return`${C}-${n.identifier.value}`}};P=He([Fe(0,T.IExtHostRpcService),Fe(1,k.ILogService)],P),e.ExtHostApiDeprecationService=P,e.NullApiDeprecationService=Object.freeze(new class{report(D,C,n){}})}),define(ge[227],pe([0,1,3,6,8,29]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostAuthentication=void 0;class P{constructor(C){this._authenticationProviders=new Map,this._providers=[],this._onDidChangeAuthenticationProviders=new w.Emitter,this.onDidChangeAuthenticationProviders=this._onDidChangeAuthenticationProviders.event,this._onDidChangeSessions=new w.Emitter,this.onDidChangeSessions=this._onDidChangeSessions.event,this._inFlightRequests=new Map,this._proxy=C.getProxy(k.MainContext.MainThreadAuthentication)}$setProviders(C){return this._providers=C,Promise.resolve()}get providers(){return Object.freeze(this._providers.slice())}async getSession(C,n,I,S={}){const v=T.ExtensionIdentifier.toKey(C.identifier),f=this._inFlightRequests.get(v)||[],u=I.sort().join(" ");let g=f.find(b=>b.scopes===u);if(g)return g.result;{const b=this._getSession(C,v,n,I,S);g={scopes:u,result:b},f.push(g),this._inFlightRequests.set(v,f);try{await b}finally{const p=f.findIndex(d=>d.scopes===u);p>-1&&(f.splice(p),this._inFlightRequests.set(v,f))}return b}}async _getSession(C,n,I,S,v={}){await this._proxy.$ensureProvider(I);const f=this._authenticationProviders.get(I),u=C.displayName||C.name;if(!f)return this._proxy.$getSession(I,S,n,u,v);const g=S.sort().join(" "),b=(await f.provider.getSessions()).filter(d=>d.scopes.slice().sort().join(" ")===g);let p;if(b.length){if(f.options.supportsMultipleAccounts){const d=await this._proxy.$selectSession(I,f.label,n,u,b,S,!!v.clearSessionPreference);p=b.find(s=>s.id===d.id)}else if(p=b[0],!await this._proxy.$getSessionsPrompt(I,p.account.label,f.label,n,u))throw new Error("User did not consent to login.")}else if(v.createIfNone){if(!await this._proxy.$loginPrompt(f.label,u))throw new Error("User did not consent to login.");p=await f.provider.login(S),await this._proxy.$setTrustedExtensionAndAccountPreference(I,p.account.label,n,u,p.id)}else await this._proxy.$requestNewSession(I,S,n,u);return p}async logout(C,n){const I=this._authenticationProviders.get(C);return I?I.provider.logout(n):this._proxy.$logout(C,n)}registerAuthenticationProvider(C,n,I,S){var v;if(this._authenticationProviders.get(C))throw new Error(`An authentication provider with id '${C}' is already registered.`);this._authenticationProviders.set(C,{label:n,provider:I,options:S!=null?S:{supportsMultipleAccounts:!1}}),this._providers.find(u=>u.id===C)||this._providers.push({id:C,label:n});const f=I.onDidChangeSessions(u=>{this._proxy.$sendDidChangeSessions(C,u)});return this._proxy.$registerAuthenticationProvider(C,n,(v=S==null?void 0:S.supportsMultipleAccounts)!==null&&v!==void 0?v:!1),new A.Disposable(()=>{f.dispose(),this._authenticationProviders.delete(C);const u=this._providers.findIndex(g=>g.id===C);u>-1&&this._providers.splice(u),this._proxy.$unregisterAuthenticationProvider(C)})}$login(C,n){const I=this._authenticationProviders.get(C);if(I)return Promise.resolve(I.provider.login(n));throw new Error(`Unable to find authentication provider with handle: ${C}`)}$logout(C,n){const I=this._authenticationProviders.get(C);if(I)return Promise.resolve(I.provider.logout(n));throw new Error(`Unable to find authentication provider with handle: ${C}`)}$getSessions(C){const n=this._authenticationProviders.get(C);if(n)return Promise.resolve(n.provider.getSessions());throw new Error(`Unable to find authentication provider with handle: ${C}`)}async $getSessionAccessToken(C,n){const I=this._authenticationProviders.get(C);if(I){const v=(await I.provider.getSessions()).find(f=>f.id===n);if(v)return v.accessToken;throw new Error(`Unable to find session with id: ${n}`)}throw new Error(`Unable to find authentication provider with handle: ${C}`)}$onDidChangeAuthenticationSessions(C,n,I){return this._onDidChangeSessions.fire(Object.assign({provider:{id:C,label:n}},I)),Promise.resolve()}$onDidChangeAuthenticationProviders(C,n){return C.forEach(I=>{this._providers.some(S=>S.id===I.id)||this._providers.push(I)}),n.forEach(I=>{const S=this._providers.findIndex(v=>v.id===I.id);S>-1&&this._providers.splice(S)}),this._onDidChangeAuthenticationProviders.fire({added:C,removed:n}),Promise.resolve()}}e.ExtHostAuthentication=P}),define(ge[228],pe([0,1,6,14,20]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostBulkEdits=void 0;let T=class{constructor(D,C,n){this._extHostDocumentsAndEditors=C,this._extHostNotebooks=n,this._proxy=D.getProxy(w.MainContext.MainThreadBulkEdits)}applyWorkspaceEdit(D){const C=A.WorkspaceEdit.from(D,this._extHostDocumentsAndEditors,this._extHostNotebooks);return this._proxy.$tryApplyWorkspaceEdit(C)}};T=He([Fe(0,k.IExtHostRpcService)],T),e.ExtHostBulkEdits=T}),define(ge[229],pe([0,1,6]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostClipboard=void 0;class k{constructor(T){this._proxy=T.getProxy(w.MainContext.MainThreadClipboard)}readText(){return this._proxy.$readText()}writeText(T){return this._proxy.$writeText(T)}}e.ExtHostClipboard=k}),define(ge[52],pe([0,1,16,8,20,25,6,12,11,58,44,48,2,5,4,14]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApiCommand=e.ApiCommandResult=e.ApiCommandArgument=e.CommandsConverter=e.IExtHostCommands=e.ExtHostCommands=void 0;let b=class{constructor(t,r){this._commands=new Map,this._apiCommands=new Map,this._proxy=t.getProxy(P.MainContext.MainThreadCommands),this._logService=r,this.converter=new p(this,o=>{const a=this._apiCommands.get(o);return(a==null?void 0:a.result)===s.Void?a:void 0},r),this._argumentProcessors=[{processArgument(o){return n.revive(o)}},{processArgument(o){return T.cloneAndChange(o,function(a){if(I.Range.isIRange(a))return A.Range.to(a);if(S.Position.isIPosition(a))return A.Position.to(a);if(I.Range.isIRange(a.range)&&v.URI.isUri(a.uri))return A.location.to(a);if(!Array.isArray(a))return a})}}]}registerArgumentProcessor(t){this._argumentProcessors.push(t)}registerApiCommand(t){const r=this.registerCommand(!1,t.id,async(...o)=>{const a=t.args.map((h,y)=>{if(!h.validate(o[y]))throw new Error(`Invalid argument '${h.name}' when running '${t.id}', received: ${o[y]}`);return h.convert(o[y])}),i=await this.executeCommand(t.internalId,...a);return t.result.convert(i,o,this.converter)},void 0,{description:t.description,args:t.args,returns:t.result.description});return this._apiCommands.set(t.id,t),new k.Disposable(()=>{r.dispose(),this._apiCommands.delete(t.id)})}registerCommand(t,r,o,a,i){if(this._logService.trace("ExtHostCommands#registerCommand",r),!r.trim().length)throw new Error("invalid id");if(this._commands.has(r))throw new Error(`command '${r}' already exists`);return this._commands.set(r,{callback:o,thisArg:a,description:i}),t&&this._proxy.$registerCommand(r),new k.Disposable(()=>{this._commands.delete(r)&&t&&this._proxy.$unregisterCommand(r)})}executeCommand(t,...r){return this._logService.trace("ExtHostCommands#executeCommand",t),this._doExecuteCommand(t,r,!0)}async _doExecuteCommand(t,r,o){if(this._commands.has(t))return this._executeContributedCommand(t,r);{const a=T.cloneAndChange(r,function(i){if(i instanceof k.Position)return A.Position.from(i);if(i instanceof k.Range)return A.Range.from(i);if(i instanceof k.Location)return A.location.from(i);if(!Array.isArray(i))return i});try{const i=await this._proxy.$executeCommand(t,a,o);return n.revive(i)}catch(i){if(i instanceof Error&&i.message==="$executeCommand:retry")return this._doExecuteCommand(t,r,!1);throw i}}}async _executeContributedCommand(t,r){const o=this._commands.get(t);if(!o)throw new Error("Unknown command");let{callback:a,thisArg:i,description:h}=o;if(h)for(let y=0;y<h.args.length;y++)try{w.validateConstraint(r[y],h.args[y].constraint)}catch(m){throw new Error(`Running the contributed command: '${t}' failed. Illegal argument '${h.args[y].name}' - ${h.args[y].description}`)}try{return await a.apply(i,r)}catch(y){throw this._logService.error(y,t),new Error(`Running the contributed command: '${t}' failed.`)}}$executeContributedCommand(t,...r){return this._logService.trace("ExtHostCommands#$executeContributedCommand",t),this._commands.has(t)?(r=r.map(o=>this._argumentProcessors.reduce((a,i)=>i.processArgument(a),o)),this._executeContributedCommand(t,r)):Promise.reject(new Error(`Contributed command '${t}' does not exist.`))}getCommands(t=!1){return this._logService.trace("ExtHostCommands#getCommands",t),this._proxy.$getCommands().then(r=>(t&&(r=r.filter(o=>o[0]!=="_")),r))}$getContributedCommandHandlerDescriptions(){const t=Object.create(null);for(let[r,o]of this._commands){let{description:a}=o;a&&(t[r]=a)}return Promise.resolve(t)}};b=He([Fe(0,g.IExtHostRpcService),Fe(1,C.ILogService)],b),e.ExtHostCommands=b,e.IExtHostCommands=u.createDecorator("IExtHostCommands");class p{constructor(t,r,o){this._commands=t,this._lookupApiCommand=r,this._logService=o,this._cache=new Map,this._cachIdPool=0,this._delegatingCommandId=`_vscode_delegate_cmd_${Date.now().toString(36)}`,this._commands.registerCommand(!0,this._delegatingCommandId,this._executeConvertedCommand,this)}toInternal(t,r){if(!!t){const o={$ident:void 0,id:t.command,title:t.title,tooltip:t.tooltip};if(!t.command)return o;const a=this._lookupApiCommand(t.command);if(a)o.id=a.internalId,o.arguments=a.args.map((i,h)=>i.convert(t.arguments&&t.arguments[h]));else if(D.isNonEmptyArray(t.arguments)){const i=++this._cachIdPool;this._cache.set(i,t),r.add(f.toDisposable(()=>{this._cache.delete(i),this._logService.trace("CommandsConverter#DISPOSE",i)})),o.$ident=i,o.id=this._delegatingCommandId,o.arguments=[i],this._logService.trace("CommandsConverter#CREATE",t.command,i)}return o}}fromInternal(t){const r=P.ObjectIdentifier.of(t);return typeof r=="number"?this._cache.get(r):{command:t.id,title:t.title,arguments:t.arguments}}_executeConvertedCommand(...t){const r=this._cache.get(t[0]);return this._logService.trace("CommandsConverter#EXECUTE",t[0],r?r.command:"MISSING"),r?this._commands.executeCommand(r.command,...r.arguments||[]):Promise.reject("actual command NOT FOUND")}}e.CommandsConverter=p;class d{constructor(t,r,o,a){this.name=t,this.description=r,this.validate=o,this.convert=a}optional(){return new d(this.name,`(optional) ${this.description}`,t=>t==null||this.validate(t),t=>t===void 0?void 0:t===null?null:this.convert(t))}with(t,r){return new d(t!=null?t:this.name,r!=null?r:this.description,this.validate,this.convert)}}e.ApiCommandArgument=d,d.Uri=new d("uri","Uri of a text document",c=>v.URI.isUri(c),c=>c),d.Position=new d("position","A position in a text document",c=>k.Position.isPosition(c),A.Position.from),d.Range=new d("range","A range in a text document",c=>k.Range.isRange(c),A.Range.from),d.Selection=new d("selection","A selection in a text document",c=>k.Selection.isSelection(c),A.Selection.from),d.Number=new d("number","",c=>typeof c=="number",c=>c),d.String=new d("string","",c=>typeof c=="string",c=>c),d.CallHierarchyItem=new d("item","A call hierarchy item",c=>c instanceof k.CallHierarchyItem,A.CallHierarchyItem.to);class s{constructor(t,r){this.description=t,this.convert=r}}e.ApiCommandResult=s,s.Void=new s("no result",c=>c);class l{constructor(t,r,o,a,i){this.id=t,this.internalId=r,this.description=o,this.args=a,this.result=i}}e.ApiCommand=l}),define(ge[230],pe([0,1,5,20,8,82,52,195,12,107]),function(Z,e,w,k,A,T,P,D,C,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostApiCommands=void 0;const I=[new P.ApiCommand("vscode.executeDocumentHighlights","_executeDocumentHighlights","Execute document highlight provider.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position],new P.ApiCommandResult("A promise that resolves to an array of SymbolInformation and DocumentSymbol instances.",v(k.DocumentHighlight.to))),new P.ApiCommand("vscode.executeDocumentSymbolProvider","_executeDocumentSymbolProvider","Execute document symbol provider.",[P.ApiCommandArgument.Uri],new P.ApiCommandResult("A promise that resolves to an array of DocumentHighlight-instances.",(u,g)=>{if(!C.isFalsyOrEmpty(u)){class b extends A.SymbolInformation{static to(d){const s=new b(d.name,k.SymbolKind.to(d.kind),d.containerName||"",new A.Location(g[0],k.Range.to(d.range)));return s.detail=d.detail,s.range=s.location.range,s.selectionRange=k.Range.to(d.selectionRange),s.children=d.children?d.children.map(b.to):[],s}}return u.map(b.to)}})),new P.ApiCommand("vscode.executeFormatDocumentProvider","_executeFormatDocumentProvider","Execute document format provider.",[P.ApiCommandArgument.Uri,new P.ApiCommandArgument("options","Formatting options",u=>!0,u=>u)],new P.ApiCommandResult("A promise that resolves to an array of TextEdits.",v(k.TextEdit.to))),new P.ApiCommand("vscode.executeFormatRangeProvider","_executeFormatRangeProvider","Execute range format provider.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Range,new P.ApiCommandArgument("options","Formatting options",u=>!0,u=>u)],new P.ApiCommandResult("A promise that resolves to an array of TextEdits.",v(k.TextEdit.to))),new P.ApiCommand("vscode.executeFormatOnTypeProvider","_executeFormatOnTypeProvider","Execute format on type provider.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position,new P.ApiCommandArgument("ch","Trigger character",u=>typeof u=="string",u=>u),new P.ApiCommandArgument("options","Formatting options",u=>!0,u=>u)],new P.ApiCommandResult("A promise that resolves to an array of TextEdits.",v(k.TextEdit.to))),new P.ApiCommand("vscode.executeDefinitionProvider","_executeDefinitionProvider","Execute all definition providers.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position],new P.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",f)),new P.ApiCommand("vscode.executeTypeDefinitionProvider","_executeTypeDefinitionProvider","Execute all type definition providers.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position],new P.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",f)),new P.ApiCommand("vscode.executeDeclarationProvider","_executeDeclarationProvider","Execute all declaration providers.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position],new P.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",f)),new P.ApiCommand("vscode.executeImplementationProvider","_executeImplementationProvider","Execute all implementation providers.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position],new P.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",f)),new P.ApiCommand("vscode.executeReferenceProvider","_executeReferenceProvider","Execute all reference providers.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position],new P.ApiCommandResult("A promise that resolves to an array of Location-instances.",v(k.location.to))),new P.ApiCommand("vscode.executeHoverProvider","_executeHoverProvider","Execute all hover providers.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position],new P.ApiCommandResult("A promise that resolves to an array of Hover-instances.",v(k.Hover.to))),new P.ApiCommand("vscode.executeSelectionRangeProvider","_executeSelectionRangeProvider","Execute selection range provider.",[P.ApiCommandArgument.Uri,new P.ApiCommandArgument("position","A positions in a text document",u=>Array.isArray(u)&&u.every(g=>A.Position.isPosition(g)),u=>u.map(k.Position.from))],new P.ApiCommandResult("A promise that resolves to an array of ranges.",u=>u.map(g=>{let b;for(const p of g.reverse())b=new A.SelectionRange(k.Range.to(p),b);return b}))),new P.ApiCommand("vscode.executeWorkspaceSymbolProvider","_executeWorkspaceSymbolProvider","Execute all workspace symbol providers.",[P.ApiCommandArgument.String.with("query","Search string")],new P.ApiCommandResult("A promise that resolves to an array of SymbolInformation-instances.",u=>{const g=[];if(Array.isArray(u))for(let b of u)g.push(...b[1].map(k.WorkspaceSymbol.to));return g})),new P.ApiCommand("vscode.prepareCallHierarchy","_executePrepareCallHierarchy","Prepare call hierarchy at a position inside a document",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position],new P.ApiCommandResult("A CallHierarchyItem or undefined",u=>u.map(k.CallHierarchyItem.to))),new P.ApiCommand("vscode.provideIncomingCalls","_executeProvideIncomingCalls","Compute incoming calls for an item",[P.ApiCommandArgument.CallHierarchyItem],new P.ApiCommandResult("A CallHierarchyItem or undefined",u=>u.map(k.CallHierarchyIncomingCall.to))),new P.ApiCommand("vscode.provideOutgoingCalls","_executeProvideOutgoingCalls","Compute outgoing calls for an item",[P.ApiCommandArgument.CallHierarchyItem],new P.ApiCommandResult("A CallHierarchyItem or undefined",u=>u.map(k.CallHierarchyOutgoingCall.to))),new P.ApiCommand("vscode.executeDocumentRenameProvider","_executeDocumentRenameProvider","Execute rename provider.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position,P.ApiCommandArgument.String.with("newName","The new symbol name")],new P.ApiCommandResult("A promise that resolves to a WorkspaceEdit.",u=>{if(!!u){if(u.rejectReason)throw new Error(u.rejectReason);return k.WorkspaceEdit.to(u)}})),new P.ApiCommand("vscode.executeLinkProvider","_executeLinkProvider","Execute document link provider.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Number.with("linkResolveCount","Number of links that should be resolved, only when links are unresolved.").optional()],new P.ApiCommandResult("A promise that resolves to an array of DocumentLink-instances.",u=>u.map(k.DocumentLink.to))),new P.ApiCommand("vscode.provideDocumentSemanticTokensLegend","_provideDocumentSemanticTokensLegend","Provide semantic tokens legend for a document",[P.ApiCommandArgument.Uri],new P.ApiCommandResult("A promise that resolves to SemanticTokensLegend.",u=>{if(!!u)return new A.SemanticTokensLegend(u.tokenTypes,u.tokenModifiers)})),new P.ApiCommand("vscode.provideDocumentSemanticTokens","_provideDocumentSemanticTokens","Provide semantic tokens for a document",[P.ApiCommandArgument.Uri],new P.ApiCommandResult("A promise that resolves to SemanticTokens.",u=>{if(!!u){const g=n.decodeSemanticTokensDto(u);if(g.type==="full")return new A.SemanticTokens(g.data,void 0)}})),new P.ApiCommand("vscode.provideDocumentRangeSemanticTokensLegend","_provideDocumentRangeSemanticTokensLegend","Provide semantic tokens legend for a document range",[P.ApiCommandArgument.Uri],new P.ApiCommandResult("A promise that resolves to SemanticTokensLegend.",u=>{if(!!u)return new A.SemanticTokensLegend(u.tokenTypes,u.tokenModifiers)})),new P.ApiCommand("vscode.provideDocumentRangeSemanticTokens","_provideDocumentRangeSemanticTokens","Provide semantic tokens for a document range",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Range],new P.ApiCommandResult("A promise that resolves to SemanticTokens.",u=>{if(!!u){const g=n.decodeSemanticTokensDto(u);if(g.type==="full")return new A.SemanticTokens(g.data,void 0)}})),new P.ApiCommand("vscode.executeCompletionItemProvider","_executeCompletionItemProvider","Execute completion item provider.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position,P.ApiCommandArgument.String.with("triggerCharacter","Trigger completion when the user types the character, like `,` or `(`").optional(),P.ApiCommandArgument.Number.with("itemResolveCount","Number of completions to resolve (too large numbers slow down completions)").optional()],new P.ApiCommandResult("A promise that resolves to a CompletionList-instance.",(u,g,b)=>{if(!u)return new A.CompletionList([]);const p=u.suggestions.map(d=>k.CompletionItem.to(d,b));return new A.CompletionList(p,u.incomplete)})),new P.ApiCommand("vscode.executeSignatureHelpProvider","_executeSignatureHelpProvider","Execute signature help provider.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Position,P.ApiCommandArgument.String.with("triggerCharacter","Trigger signature help when the user types the character, like `,` or `(`").optional()],new P.ApiCommandResult("A promise that resolves to SignatureHelp.",u=>{if(u)return k.SignatureHelp.to(u)})),new P.ApiCommand("vscode.executeCodeLensProvider","_executeCodeLensProvider","Execute code lens provider.",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Number.with("itemResolveCount","Number of lenses that should be resolved and returned. Will only return resolved lenses, will impact performance)").optional()],new P.ApiCommandResult("A promise that resolves to an array of CodeLens-instances.",(u,g,b)=>v(p=>new A.CodeLens(k.Range.to(p.range),p.command&&b.fromInternal(p.command)))(u))),new P.ApiCommand("vscode.executeCodeActionProvider","_executeCodeActionProvider","Execute code action provider.",[P.ApiCommandArgument.Uri,new P.ApiCommandArgument("rangeOrSelection","Range in a text document. Some refactoring provider requires Selection object.",u=>A.Range.isRange(u),u=>A.Selection.isSelection(u)?k.Selection.from(u):k.Range.from(u)),P.ApiCommandArgument.String.with("kind","Code action kind to return code actions for").optional(),P.ApiCommandArgument.Number.with("itemResolveCount","Number of code actions to resolve (too large numbers slow down code actions)").optional()],new P.ApiCommandResult("A promise that resolves to an array of Command-instances.",(u,g,b)=>v(p=>{if(p._isSynthetic){if(!p.command)throw new Error("Synthetic code actions must have a command");return b.fromInternal(p.command)}else{const d=new A.CodeAction(p.title,p.kind?new A.CodeActionKind(p.kind):void 0);return p.edit&&(d.edit=k.WorkspaceEdit.to(p.edit)),p.command&&(d.command=b.fromInternal(p.command)),d.isPreferred=p.isPreferred,d}})(u))),new P.ApiCommand("vscode.executeDocumentColorProvider","_executeDocumentColorProvider","Execute document color provider.",[P.ApiCommandArgument.Uri],new P.ApiCommandResult("A promise that resolves to an array of ColorInformation objects.",u=>u?u.map(g=>new A.ColorInformation(k.Range.to(g.range),k.Color.to(g.color))):[])),new P.ApiCommand("vscode.executeColorPresentationProvider","_executeColorPresentationProvider","Execute color presentation provider.",[new P.ApiCommandArgument("color","The color to show and insert",u=>u instanceof A.Color,k.Color.from),new P.ApiCommandArgument("context","Context object with uri and range",u=>!0,u=>({uri:u.uri,range:k.Range.from(u.range)}))],new P.ApiCommandResult("A promise that resolves to an array of ColorPresentation objects.",u=>u?u.map(k.ColorPresentation.to):[])),new P.ApiCommand("vscode.executeInlineHintProvider","_executeInlineHintProvider","Execute inline hints provider",[P.ApiCommandArgument.Uri,P.ApiCommandArgument.Range],new P.ApiCommandResult("A promise that resolves to an array of InlineHint objects",u=>u.map(k.InlineHint.to))),new P.ApiCommand("vscode.resolveNotebookContentProviders","_resolveNotebookContentProvider","Resolve Notebook Content Providers",[],new P.ApiCommandResult("A promise that resolves to an array of NotebookContentProvider static info objects.",v(u=>({viewType:u.viewType,displayName:u.displayName,options:{transientOutputs:u.options.transientOutputs,transientMetadata:u.options.transientMetadata},filenamePattern:u.filenamePattern.map(g=>k.NotebookExclusiveDocumentPattern.to(g))})))),new P.ApiCommand("vscode.open","_workbench.open","Opens the provided resource in the editor. Can be a text or binary file, or a http(s) url. If you need more control over the options for opening a text file, use vscode.window.showTextDocument instead.",[P.ApiCommandArgument.Uri,new P.ApiCommandArgument("columnOrOptions","Either the column in which to open or editor options, see vscode.TextDocumentShowOptions",u=>u===void 0||typeof u=="number"||typeof u=="object",u=>u&&(typeof u=="number"?[u,void 0]:[k.ViewColumn.from(u.viewColumn),k.TextEditorOpenOptions.from(u)])).optional(),P.ApiCommandArgument.String.with("label","").optional()],P.ApiCommandResult.Void),new P.ApiCommand("vscode.openWith","_workbench.openWith","Opens the provided resource with a specific editor.",[P.ApiCommandArgument.Uri.with("resource","Resource to open"),P.ApiCommandArgument.String.with("viewId","Custom editor view id or 'default' to use VS Code's default editor"),new P.ApiCommandArgument("columnOrOptions","Either the column in which to open or editor options, see vscode.TextDocumentShowOptions",u=>u===void 0||typeof u=="number"||typeof u=="object",u=>u&&(typeof u=="number"?[u,void 0]:[k.ViewColumn.from(u.viewColumn),k.TextEditorOpenOptions.from(u)])).optional()],P.ApiCommandResult.Void),new P.ApiCommand("vscode.diff","_workbench.diff","Opens the provided resources in the diff editor to compare their contents.",[P.ApiCommandArgument.Uri.with("left","Left-hand side resource of the diff editor"),P.ApiCommandArgument.Uri.with("right","Rigth-hand side resource of the diff editor"),P.ApiCommandArgument.String.with("title","Human readable title for the diff editor").optional(),new P.ApiCommandArgument("columnOrOptions","Either the column in which to open or editor options, see vscode.TextDocumentShowOptions",u=>u===void 0||typeof u=="object",u=>u&&[k.ViewColumn.from(u.viewColumn),k.TextEditorOpenOptions.from(u)]).optional()],P.ApiCommandResult.Void)];class S{constructor(g){this._disposables=new w.DisposableStore,this._commands=g}static register(g){return I.forEach(g.registerApiCommand,g),new S(g).registerCommands()}registerCommands(){const g=b=>(...p)=>b(this._commands,...p);this._register(D.RemoveFromRecentlyOpenedAPICommand.ID,g(D.RemoveFromRecentlyOpenedAPICommand.execute),{description:"Removes an entry with the given path from the recently opened list.",args:[{name:"path",description:"Path to remove from recently opened.",constraint:b=>typeof b=="string"}]}),this._register(D.OpenIssueReporter.ID,g(D.OpenIssueReporter.execute),{description:"Opens the issue reporter with the provided extension id as the selected source",args:[{name:"extensionId",description:"extensionId to report an issue on",constraint:b=>typeof b=="string"||typeof b=="object"&&typeof b.extensionId=="string"}]})}_register(g,b,p){const d=this._commands.registerCommand(!1,g,b,this,p);this._disposables.add(d)}}e.ExtHostApiCommands=S;function v(u){return g=>{if(Array.isArray(g))return g.map(u)}}function f(u){if(!!Array.isArray(u)){const g=[];for(const b of u)T.isLocationLink(b)?g.push(k.DefinitionLink.to(b)):g.push(k.location.to(b));return g}}}),define(ge[231],pe([0,1,19,55,3,5,2,82,29,20,8,6]),function(Z,e,w,k,A,T,P,D,C,n,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostCommentThread=e.ExtHostComments=void 0;class v{constructor(l,c,t){this._documents=t,this._commentControllers=new Map,this._commentControllersByExtension=new Map,this._proxy=l.getProxy(S.MainContext.MainThreadComments),c.registerArgumentProcessor({processArgument:r=>{if(r&&r.$mid===6){const o=this._commentControllers.get(r.handle);return o||r}else if(r&&r.$mid===7){const o=this._commentControllers.get(r.commentControlHandle);if(!o)return r;const a=o.getCommentThread(r.commentThreadHandle);return a||r}else if(r&&r.$mid===8){const o=this._commentControllers.get(r.thread.commentControlHandle);if(!o)return r;const a=o.getCommentThread(r.thread.commentThreadHandle);return a?{thread:a,text:r.text}:r}else if(r&&r.$mid===9){const o=this._commentControllers.get(r.thread.commentControlHandle);if(!o)return r;const a=o.getCommentThread(r.thread.commentThreadHandle);if(!a)return r;let i=r.commentUniqueId,h=a.getCommentByUniqueId(i);return h||r}else if(r&&r.$mid===10){const o=this._commentControllers.get(r.thread.commentControlHandle);if(!o)return r;const a=o.getCommentThread(r.thread.commentThreadHandle);if(!a)return r;let i=r.text,h=r.commentUniqueId,y=a.getCommentByUniqueId(h);return y?(y.body=i,y):r}return r}})}createCommentController(l,c,t){const r=v.handlePool++,o=new u(l,r,this._proxy,c,t);this._commentControllers.set(o.handle,o);const a=this._commentControllersByExtension.get(C.ExtensionIdentifier.toKey(l.identifier))||[];return a.push(o),this._commentControllersByExtension.set(C.ExtensionIdentifier.toKey(l.identifier),a),o}$createCommentThreadTemplate(l,c,t){const r=this._commentControllers.get(l);!r||r.$createCommentThreadTemplate(c,t)}async $updateCommentThreadTemplate(l,c,t){const r=this._commentControllers.get(l);!r||r.$updateCommentThreadTemplate(c,t)}$deleteCommentThread(l,c){const t=this._commentControllers.get(l);t&&t.$deleteCommentThread(c)}$provideCommentingRanges(l,c,t){const r=this._commentControllers.get(l);if(!r||!r.commentingRangeProvider)return Promise.resolve(void 0);const o=this._documents.getDocument(P.URI.revive(c));return w.asPromise(()=>r.commentingRangeProvider.provideCommentingRanges(o,t)).then(a=>a?a.map(i=>n.Range.from(i)):void 0)}$toggleReaction(l,c,t,r,o){const a=this._commentControllers.get(l);return!a||!a.reactionHandler?Promise.resolve(void 0):w.asPromise(()=>{const i=a.getCommentThread(c);if(i){const h=i.getCommentByUniqueId(r.uniqueIdInThread);if(a!==void 0&&h&&a.reactionHandler)return a.reactionHandler(h,p(o))}return Promise.resolve(void 0)})}dispose(){}}e.ExtHostComments=v,v.handlePool=0;class f{constructor(l,c,t,r,o,a,i){this._proxy=l,this._commentController=c,this._id=t,this._uri=r,this._range=o,this._comments=a,this.handle=f._handlePool++,this.commentHandle=0,this.modifications=Object.create(null),this._onDidUpdateCommentThread=new A.Emitter,this.onDidUpdateCommentThread=this._onDidUpdateCommentThread.event,this._canReply=!0,this._commentsMap=new Map,this._acceptInputDisposables=new T.MutableDisposable,this._acceptInputDisposables.value=new T.DisposableStore,this._id===void 0&&(this._id=`${c.id}.${this.handle}`),this._proxy.$createCommentThread(this._commentController.handle,this.handle,this._id,this._uri,n.Range.from(this._range),i),this._localDisposables=[],this._isDiposed=!1,this._localDisposables.push(this.onDidUpdateCommentThread(()=>{this.eventuallyUpdateCommentThread()})),this.comments=a}set threadId(l){this._id=l}get threadId(){return this._id}get id(){return this._id}get resource(){return this._uri}get uri(){return this._uri}set range(l){l.isEqual(this._range)||(this._range=l,this.modifications.range=l,this._onDidUpdateCommentThread.fire())}get range(){return this._range}set canReply(l){this._canReply!==l&&(this._canReply=l,this.modifications.canReply=l,this._onDidUpdateCommentThread.fire())}get canReply(){return this._canReply}get label(){return this._label}set label(l){this._label=l,this.modifications.label=l,this._onDidUpdateCommentThread.fire()}get contextValue(){return this._contextValue}set contextValue(l){this._contextValue=l,this.modifications.contextValue=l,this._onDidUpdateCommentThread.fire()}get comments(){return this._comments}set comments(l){this._comments=l,this.modifications.comments=l,this._onDidUpdateCommentThread.fire()}get collapsibleState(){return this._collapseState}set collapsibleState(l){this._collapseState=l,this.modifications.collapsibleState=l,this._onDidUpdateCommentThread.fire()}get isDisposed(){return this._isDiposed}eventuallyUpdateCommentThread(){if(!this._isDiposed){this._acceptInputDisposables.value||(this._acceptInputDisposables.value=new T.DisposableStore);const l=t=>Object.prototype.hasOwnProperty.call(this.modifications,t),c={};l("range")&&(c.range=n.Range.from(this._range)),l("label")&&(c.label=this.label),l("contextValue")&&(c.contextValue=this.contextValue),l("comments")&&(c.comments=this._comments.map(t=>g(this,this._commentController,t,this._commentsMap))),l("collapsibleState")&&(c.collapseState=d(this._collapseState)),l("canReply")&&(c.canReply=this.canReply),this.modifications={},this._proxy.$updateCommentThread(this._commentController.handle,this.handle,this._id,this._uri,c)}}getCommentByUniqueId(l){for(let c of this._commentsMap){let t=c[0],r=c[1];if(l===r)return t}}dispose(){this._isDiposed=!0,this._acceptInputDisposables.dispose(),this._localDisposables.forEach(l=>l.dispose()),this._proxy.$deleteCommentThread(this._commentController.handle,this.handle)}}f._handlePool=0,He([k.debounce(100)],f.prototype,"eventuallyUpdateCommentThread",null),e.ExtHostCommentThread=f;class u{constructor(l,c,t,r,o){this._extension=l,this._handle=c,this._proxy=t,this._id=r,this._label=o,this._threads=new Map,this._proxy.$registerCommentController(this.handle,r,o)}get id(){return this._id}get label(){return this._label}get handle(){return this._handle}get reactionHandler(){return this._reactionHandler}set reactionHandler(l){this._reactionHandler=l,this._proxy.$updateCommentControllerFeatures(this.handle,{reactionHandler:!!l})}get options(){return this._options}set options(l){this._options=l,this._proxy.$updateCommentControllerFeatures(this.handle,{options:this._options})}createCommentThread(l,c,t,r){if(typeof l=="string"){const o=new f(this._proxy,this,l,c,t,r,this._extension.identifier);return this._threads.set(o.handle,o),o}else{const o=new f(this._proxy,this,void 0,l,c,t,this._extension.identifier);return this._threads.set(o.handle,o),o}}$createCommentThreadTemplate(l,c){const t=new f(this._proxy,this,void 0,P.URI.revive(l),n.Range.to(c),[],this._extension.identifier);return t.collapsibleState=D.CommentThreadCollapsibleState.Expanded,this._threads.set(t.handle,t),t}$updateCommentThreadTemplate(l,c){let t=this._threads.get(l);t&&(t.range=n.Range.to(c))}$deleteCommentThread(l){let c=this._threads.get(l);c&&c.dispose(),this._threads.delete(l)}getCommentThread(l){return this._threads.get(l)}dispose(){this._threads.forEach(l=>{l.dispose()}),this._proxy.$unregisterCommentController(this.handle)}}function g(s,l,c,t){let r=t.get(c);r||(r=++s.commentHandle,t.set(c,r));const o=c.author&&c.author.iconPath?c.author.iconPath.toString():void 0;return{mode:c.mode,contextValue:c.contextValue,uniqueIdInThread:r,body:n.MarkdownString.from(c.body),userName:c.author.name,userIconPath:o,label:c.label,commentReactions:c.reactions?c.reactions.map(a=>b(a)):void 0}}function b(s){return{label:s.label,iconPath:s.iconPath?n.pathOrURIToURI(s.iconPath):void 0,count:s.count,hasReacted:s.authorHasReacted}}function p(s){return{label:s.label||"",count:s.count||0,iconPath:s.iconPath?P.URI.revive(s.iconPath):"",authorHasReacted:s.hasReacted||!1}}function d(s){if(s!==void 0)switch(s){case I.CommentThreadCollapsibleState.Expanded:return D.CommentThreadCollapsibleState.Expanded;case I.CommentThreadCollapsibleState.Collapsed:return D.CommentThreadCollapsibleState.Collapsed}return D.CommentThreadCollapsibleState.Collapsed}}),define(ge[123],pe([0,1,2,6,8,4,14,11,12,10,7]),function(Z,e,w,k,A,T,P,D,C,n,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostDecorations=e.ExtHostDecorations=void 0;let S=class li{constructor(f,u){this._logService=u,this._provider=new Map,this._proxy=f.getProxy(k.MainContext.MainThreadDecorations)}registerFileDecorationProvider(f,u){const g=li._handlePool++;this._provider.set(g,{provider:f,extensionId:u}),this._proxy.$registerDecorationProvider(g,u.value);const b=f.onDidChangeFileDecorations&&f.onDidChangeFileDecorations(p=>{if(!p){this._proxy.$onDidChange(g,null);return}let d=C.asArray(p);if(d.length<=li._maxEventSize){this._proxy.$onDidChange(g,d);return}this._logService.warn("[Decorations] CAPPING events from decorations provider",u.value,d.length);const s=d.map(t=>({uri:t,rank:n.count(t.path,"/")})),l=C.groupBy(s,(t,r)=>t.rank-r.rank||n.compare(t.uri.path,r.uri.path));let c=[];e:for(let t of l){let r;for(let o of t){let a=I.dirname(o.uri.path);if(r!==a&&(r=a,c.push(o.uri)>=li._maxEventSize))break e}}this._proxy.$onDidChange(g,c)});return new A.Disposable(()=>{b==null||b.dispose(),this._proxy.$unregisterDecorationProvider(g),this._provider.delete(g)})}async $provideDecorations(f,u,g){if(!this._provider.has(f))return Object.create(null);const b=Object.create(null),{provider:p,extensionId:d}=this._provider.get(f);return await Promise.all(u.map(async s=>{try{const{uri:l,id:c}=s,t=await Promise.resolve(p.provideFileDecoration(w.URI.revive(l),g));if(!t)return;try{A.FileDecoration.validate(t),b[c]=[t.propagate,t.tooltip,t.badge,t.color]}catch(r){this._logService.warn(`INVALID decoration from extension '${d.value}': ${r}`)}}catch(l){this._logService.error(l)}})),b}};S._handlePool=0,S._maxEventSize=250,S=He([Fe(0,P.IExtHostRpcService),Fe(1,D.ILogService)],S),e.ExtHostDecorations=S,e.IExtHostDecorations=T.createDecorator("IExtHostDecorations")}),define(ge[232],pe([0,1,157,111,2,6,8,20,12,3,11,22]),function(Z,e,w,k,A,T,P,D,C,n,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDiagnostics=e.DiagnosticCollection=void 0;class v{constructor(g,b,p,d,s){this._name=g,this._owner=b,this._maxDiagnosticsPerFile=p,this._proxy=d,this._onDidChangeDiagnostics=s,this._isDisposed=!1,this._data=new S.ResourceMap}dispose(){this._isDisposed||(this._onDidChangeDiagnostics.fire([...this._data.keys()]),this._proxy&&this._proxy.$clear(this._owner),this._data=void 0,this._isDisposed=!0)}get name(){return this._checkDisposed(),this._name}set(g,b){if(!g){this.clear();return}this._checkDisposed();let p=[];if(A.URI.isUri(g)){if(!b){this.delete(g);return}this._data.set(g,b.slice()),p=[g]}else if(Array.isArray(g)){p=[];let s;g=C.mergeSort([...g],v._compareIndexedTuplesByUri);for(const l of g){const[c,t]=l;if((!s||c.toString()!==s.toString())&&(s&&this._data.get(s).length===0&&this._data.delete(s),s=c,p.push(c),this._data.set(c,[])),t){const r=this._data.get(c);r&&r.push(...t)}else{const r=this._data.get(c);r&&(r.length=0)}}}if(this._onDidChangeDiagnostics.fire(p),!!this._proxy){const d=[];for(let s of p){let l=[];const c=this._data.get(s);if(c)if(c.length>this._maxDiagnosticsPerFile){l=[];const t=[P.DiagnosticSeverity.Error,P.DiagnosticSeverity.Warning,P.DiagnosticSeverity.Information,P.DiagnosticSeverity.Hint];e:for(let r=0;r<4;r++)for(let o of c)if(o.severity===t[r]&&l.push(D.Diagnostic.from(o))===this._maxDiagnosticsPerFile)break e;l.push({severity:k.MarkerSeverity.Info,message:w.localize(0,null,c.length-this._maxDiagnosticsPerFile),startLineNumber:l[l.length-1].startLineNumber,startColumn:l[l.length-1].startColumn,endLineNumber:l[l.length-1].endLineNumber,endColumn:l[l.length-1].endColumn})}else l=c.map(t=>D.Diagnostic.from(t));d.push([s,l])}this._proxy.$changeMany(this._owner,d)}}delete(g){this._checkDisposed(),this._onDidChangeDiagnostics.fire([g]),this._data.delete(g),this._proxy&&this._proxy.$changeMany(this._owner,[[g,void 0]])}clear(){this._checkDisposed(),this._onDidChangeDiagnostics.fire([...this._data.keys()]),this._data.clear(),this._proxy&&this._proxy.$clear(this._owner)}forEach(g,b){this._checkDisposed();for(let p of this._data.keys())g.apply(b,[p,this.get(p),this])}get(g){this._checkDisposed();const b=this._data.get(g);return Array.isArray(b)?Object.freeze(b.slice(0)):[]}has(g){return this._checkDisposed(),Array.isArray(this._data.get(g))}_checkDisposed(){if(this._isDisposed)throw new Error("illegal state - object is disposed")}static _compareIndexedTuplesByUri(g,b){return g[0].toString()<b[0].toString()?-1:g[0].toString()>b[0].toString()?1:0}}e.DiagnosticCollection=v;let f=class Ft{constructor(g,b){this._logService=b,this._collections=new Map,this._onDidChangeDiagnostics=new n.Emitter,this.onDidChangeDiagnostics=n.Event.map(n.Event.debounce(this._onDidChangeDiagnostics.event,Ft._debouncer,50),Ft._mapper),this._proxy=g.getProxy(T.MainContext.MainThreadDiagnostics)}static _debouncer(g,b){return g?g.concat(b):b}static _mapper(g){const b=[],p=new Set;for(const d of g)typeof d=="string"?p.has(d)||(p.add(d),b.push(A.URI.parse(d))):p.has(d.toString())||(p.add(d.toString()),b.push(d));return Object.freeze(b),{uris:b}}createDiagnosticCollection(g,b){const{_collections:p,_proxy:d,_onDidChangeDiagnostics:s,_logService:l}=this,c=new class{$changeMany(o,a){d.$changeMany(o,a),l.trace("[DiagnosticCollection] change many (extension, owner, uris)",g.value,o,a.length===0?"CLEARING":a)}$clear(o){d.$clear(o),l.trace("[DiagnosticCollection] remove all (extension, owner)",g.value,o)}dispose(){d.dispose()}};let t;if(!b)b="_generated_diagnostic_collection_name_#"+Ft._idPool++,t=b;else if(!p.has(b))t=b;else{this._logService.warn(`DiagnosticCollection with name '${b}' does already exist.`);do t=b+Ft._idPool++;while(p.has(t))}return new class extends v{constructor(){super(b,t,Ft._maxDiagnosticsPerFile,c,s);p.set(t,this)}dispose(){super.dispose(),p.delete(t)}}}getDiagnostics(g){if(g)return this._getDiagnostics(g);{const b=new Map,p=[];for(const d of this._collections.values())d.forEach((s,l)=>{let c=b.get(s.toString());typeof c=="undefined"&&(c=p.length,b.set(s.toString(),c),p.push([s,[]])),p[c][1]=p[c][1].concat(...l)});return p}}_getDiagnostics(g){let b=[];for(let p of this._collections.values())p.has(g)&&(b=b.concat(p.get(g)));return b}$acceptMarkersChange(g){if(!this._mirrorCollection){const b="_generated_mirror",p=new v(b,b,Ft._maxDiagnosticsPerFile,void 0,this._onDidChangeDiagnostics);this._collections.set(b,p),this._mirrorCollection=p}for(const[b,p]of g)this._mirrorCollection.set(A.URI.revive(b),p.map(D.Diagnostic.to))}};f._idPool=0,f._maxDiagnosticsPerFile=1e3,f=He([Fe(1,I.ILogService)],f),e.ExtHostDiagnostics=f}),define(ge[233],pe([0,1,2,6]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDialogs=void 0;class A{constructor(P){this._proxy=P.getProxy(k.MainContext.MainThreadDialogs)}showOpenDialog(P){return this._proxy.$showOpenDialog(P).then(D=>D?D.map(C=>w.URI.revive(C)):void 0)}showSaveDialog(P){return this._proxy.$showSaveDialog(P).then(D=>D?w.URI.revive(D):void 0)}}e.ExtHostDialogs=A}),define(ge[234],pe([0,1,15,2,8,6,13,21,10]),function(Z,e,w,k,A,T,P,D,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocumentContentProvider=void 0;class n{constructor(S,v,f){this._documentsAndEditors=v,this._logService=f,this._documentContentProviders=new Map,this._proxy=S.getProxy(T.MainContext.MainThreadDocumentContentProviders)}registerTextDocumentContentProvider(S,v){if(Object.keys(P.Schemas).indexOf(S)>=0)throw new Error(`scheme '${S}' already registered`);const f=n._handlePool++;this._documentContentProviders.set(f,v),this._proxy.$registerTextContentProvider(f,S);let u;return typeof v.onDidChange=="function"&&(u=v.onDidChange(g=>{if(g.scheme!==S){this._logService.warn(`Provider for scheme '${S}' is firing event for schema '${g.scheme}' which will be IGNORED`);return}this._documentsAndEditors.getDocument(g)&&this.$provideTextDocumentContent(f,g).then(b=>{if(!(!b&&typeof b!="string")){const p=this._documentsAndEditors.getDocument(g);if(!!p){const d=C.splitLines(b);if(!p.equalLines(d))return this._proxy.$onVirtualDocumentChange(g,b)}}},w.onUnexpectedError)})),new A.Disposable(()=>{this._documentContentProviders.delete(f)&&this._proxy.$unregisterTextContentProvider(f),u&&(u.dispose(),u=void 0)})}$provideTextDocumentContent(S,v){const f=this._documentContentProviders.get(S);return f?Promise.resolve(f.provideTextDocumentContent(k.URI.revive(v),D.CancellationToken.None)):Promise.reject(new Error(`unsupported uri-scheme: ${v.scheme}`))}}e.ExtHostDocumentContentProvider=n,n._handlePool=0}),define(ge[235],pe([0,1,3,5,2,6,118,20,16,25]),function(Z,e,w,k,A,T,P,D,C,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocuments=void 0;class I{constructor(v,f){this._onDidAddDocument=new w.Emitter,this._onDidRemoveDocument=new w.Emitter,this._onDidChangeDocument=new w.Emitter,this._onDidSaveDocument=new w.Emitter,this.onDidAddDocument=this._onDidAddDocument.event,this.onDidRemoveDocument=this._onDidRemoveDocument.event,this.onDidChangeDocument=this._onDidChangeDocument.event,this.onDidSaveDocument=this._onDidSaveDocument.event,this._toDispose=new k.DisposableStore,this._documentLoader=new Map,this._proxy=v.getProxy(T.MainContext.MainThreadDocuments),this._documentsAndEditors=f,this._documentsAndEditors.onDidRemoveDocuments(u=>{for(const g of u)this._onDidRemoveDocument.fire(g.document)},void 0,this._toDispose),this._documentsAndEditors.onDidAddDocuments(u=>{for(const g of u)this._onDidAddDocument.fire(g.document)},void 0,this._toDispose)}dispose(){this._toDispose.dispose()}getAllDocumentData(){return[...this._documentsAndEditors.allDocuments()]}getDocumentData(v){if(!!v){const f=this._documentsAndEditors.getDocument(v);if(f)return f}}getDocument(v){const f=this.getDocumentData(v);if(!(f==null?void 0:f.document))throw new Error(`Unable to retrieve document from URI '${v}'`);return f.document}ensureDocumentData(v){const f=this._documentsAndEditors.getDocument(v);if(f)return Promise.resolve(f);let u=this._documentLoader.get(v.toString());return u||(u=this._proxy.$tryOpenDocument(v).then(g=>{this._documentLoader.delete(v.toString());const b=A.URI.revive(g);return C.assertIsDefined(this._documentsAndEditors.getDocument(b))},g=>(this._documentLoader.delete(v.toString()),Promise.reject(g))),this._documentLoader.set(v.toString(),u)),u}createDocumentData(v){return this._proxy.$tryCreateDocument(v).then(f=>A.URI.revive(f))}$acceptModelModeChanged(v,f,u){const g=A.URI.revive(v),b=this._documentsAndEditors.getDocument(g);if(!b)throw new Error("unknown document");this._onDidRemoveDocument.fire(b.document),b._acceptLanguageId(u),this._onDidAddDocument.fire(b.document)}$acceptModelSaved(v){const f=A.URI.revive(v),u=this._documentsAndEditors.getDocument(f);if(!u)throw new Error("unknown document");this.$acceptDirtyStateChanged(v,!1),this._onDidSaveDocument.fire(u.document)}$acceptDirtyStateChanged(v,f){const u=A.URI.revive(v),g=this._documentsAndEditors.getDocument(u);if(!g)throw new Error("unknown document");g._acceptIsDirty(f),this._onDidChangeDocument.fire({document:g.document,contentChanges:[]})}$acceptModelChanged(v,f,u){const g=A.URI.revive(v),b=this._documentsAndEditors.getDocument(g);if(!b)throw new Error("unknown document");b._acceptIsDirty(u),b.onEvents(f),this._onDidChangeDocument.fire(n.deepFreeze({document:b.document,contentChanges:f.changes.map(p=>({range:D.Range.to(p.range),rangeOffset:p.rangeOffset,rangeLength:p.rangeLength,text:p.text}))}))}setWordDefinitionFor(v,f){P.setWordDefinitionFor(v,f)}}e.ExtHostDocuments=I}),define(ge[40],pe([0,1,53,3,5,2,4,6,118,14,121,20,11,22,13,72]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostDocumentsAndEditors=e.ExtHostDocumentsAndEditors=void 0;class b{constructor(s){this.value=s,this._count=0}ref(){this._count++}unref(){return--this._count==0}}let p=class{constructor(s,l){this._extHostRpc=s,this._logService=l,this._activeEditorId=null,this._editors=new Map,this._documents=new f.ResourceMap,this._onDidAddDocuments=new k.Emitter,this._onDidRemoveDocuments=new k.Emitter,this._onDidChangeVisibleTextEditors=new k.Emitter,this._onDidChangeActiveTextEditor=new k.Emitter,this.onDidAddDocuments=this._onDidAddDocuments.event,this.onDidRemoveDocuments=this._onDidRemoveDocuments.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event}$acceptDocumentsAndEditorsDelta(s){this.acceptDocumentsAndEditorsDelta(s)}acceptDocumentsAndEditorsDelta(s){const l=[],c=[],t=[];if(s.removedDocuments)for(const r of s.removedDocuments){const o=T.URI.revive(r),a=this._documents.get(o);(a==null?void 0:a.unref())&&(this._documents.delete(o),l.push(a.value))}if(s.addedDocuments)for(const r of s.addedDocuments){const o=T.URI.revive(r.uri);let a=this._documents.get(o);if(a&&o.scheme!==u.Schemas.vscodeNotebookCell)throw new Error(`document '${o} already exists!'`);a||(a=new b(new C.ExtHostDocumentData(this._extHostRpc.getProxy(D.MainContext.MainThreadDocuments),o,r.lines,r.EOL,r.versionId,r.modeId,r.isDirty,r.notebook)),this._documents.set(o,a),c.push(a.value)),a.ref()}if(s.removedEditors)for(const r of s.removedEditors){const o=this._editors.get(r);this._editors.delete(r),o&&t.push(o)}if(s.addedEditors)for(const r of s.addedEditors){const o=T.URI.revive(r.documentUri);w.ok(this._documents.has(o),`document '${o}' does not exist`),w.ok(!this._editors.has(r.id),`editor '${r.id}' already exists!`);const a=this._documents.get(o).value,i=new I.ExtHostTextEditor(r.id,this._extHostRpc.getProxy(D.MainContext.MainThreadTextEditors),this._logService,a,r.selections.map(S.Selection.to),r.options,r.visibleRanges.map(h=>S.Range.to(h)),typeof r.editorPosition=="number"?S.ViewColumn.to(r.editorPosition):void 0);this._editors.set(r.id,i)}s.newActiveEditor!==void 0&&(w.ok(s.newActiveEditor===null||this._editors.has(s.newActiveEditor),`active editor '${s.newActiveEditor}' does not exist`),this._activeEditorId=s.newActiveEditor),A.dispose(l),A.dispose(t),s.removedDocuments&&this._onDidRemoveDocuments.fire(l),s.addedDocuments&&this._onDidAddDocuments.fire(c),(s.removedEditors||s.addedEditors)&&this._onDidChangeVisibleTextEditors.fire(this.allEditors()),s.newActiveEditor!==void 0&&this._onDidChangeActiveTextEditor.fire(this.activeEditor())}getDocument(s){var l;return(l=this._documents.get(s))===null||l===void 0?void 0:l.value}allDocuments(){return g.Iterable.map(this._documents.values(),s=>s.value)}getEditor(s){return this._editors.get(s)}activeEditor(){if(this._activeEditorId)return this._editors.get(this._activeEditorId)}allEditors(){return[...this._editors.values()]}};p=He([Fe(0,n.IExtHostRpcService),Fe(1,v.ILogService)],p),e.ExtHostDocumentsAndEditors=p,e.IExtHostDocumentsAndEditors=P.createDecorator("IExtHostDocumentsAndEditors")}),define(ge[236],pe([0,1,2,6,5,8,20,140,10,27]),function(Z,e,w,k,A,T,P,D,C,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostFileSystem=void 0;class I{constructor(){this._schemes=[]}add(f){this._stateMachine=void 0,this._schemes.push(f)}delete(f){const u=this._schemes.indexOf(f);u>=0&&(this._schemes.splice(u,1),this._stateMachine=void 0)}_initStateMachine(){if(!this._stateMachine){const f=this._schemes.sort(),u=[];let g,b,p=14,d=14;for(const s of f){let l=g?C.commonPrefixLength(g,s):0;for(l===0?b=1:b=d;l<s.length;l++)l+1===s.length?(p=d,d=9):d+=1,u.push([b,s.toUpperCase().charCodeAt(l),d]),u.push([b,s.toLowerCase().charCodeAt(l),d]),b=d;g=s,d=p}u.push([9,58,10]),u.push([10,47,12]),this._stateMachine=new D.StateMachine(u)}}provideDocumentLinks(f){this._initStateMachine();const u=[],g=D.LinkComputer.computeLinks({getLineContent(b){return f.lineAt(b-1).text},getLineCount(){return f.lineCount}},this._stateMachine);for(const b of g){const p=P.DocumentLink.to(b);p.target&&u.push(p)}return u}}class S{constructor(f,u){this._extHostLanguageFeatures=u,this._linkProvider=new I,this._fsProvider=new Map,this._registeredSchemes=new Set,this._watches=new Map,this._handlePool=0,this._proxy=f.getProxy(k.MainContext.MainThreadFileSystem)}dispose(){var f;(f=this._linkProviderRegistration)===null||f===void 0||f.dispose()}_registerLinkProviderIfNotYetRegistered(){this._linkProviderRegistration||(this._linkProviderRegistration=this._extHostLanguageFeatures.registerDocumentLinkProvider(void 0,"*",this._linkProvider))}registerFileSystemProvider(f,u,g,b={}){if(this._registeredSchemes.has(u))throw new Error(`a provider for the scheme '${u}' is already registered`);this._registerLinkProviderIfNotYetRegistered();const p=this._handlePool++;this._linkProvider.add(u),this._registeredSchemes.add(u),this._fsProvider.set(p,g);let d=2;b.isCaseSensitive&&(d+=1024),b.isReadonly&&(d+=2048),typeof g.copy=="function"&&(d+=8),typeof g.open=="function"&&typeof g.close=="function"&&typeof g.read=="function"&&typeof g.write=="function"&&(d+=4),this._proxy.$registerFileSystemProvider(p,u,d).catch(l=>{console.error(`FAILED to register filesystem provider of ${f.value}-extension for the scheme ${u}`),console.error(l)});const s=g.onDidChangeFile(l=>{const c=[];for(const t of l){let{uri:r,type:o}=t;if(r.scheme===u){let a;switch(o){case T.FileChangeType.Changed:a=0;break;case T.FileChangeType.Created:a=1;break;case T.FileChangeType.Deleted:a=2;break;default:throw new Error("Unknown FileChangeType")}c.push({resource:r,type:a})}}this._proxy.$onFileSystemChange(p,c)});return A.toDisposable(()=>{s.dispose(),this._linkProvider.delete(u),this._registeredSchemes.delete(u),this._fsProvider.delete(p),this._proxy.$unregisterProvider(p)})}static _asIStat(f){const{type:u,ctime:g,mtime:b,size:p}=f;return{type:u,ctime:g,mtime:b,size:p}}$stat(f,u){return Promise.resolve(this._getFsProvider(f).stat(w.URI.revive(u))).then(S._asIStat)}$readdir(f,u){return Promise.resolve(this._getFsProvider(f).readDirectory(w.URI.revive(u)))}$readFile(f,u){return Promise.resolve(this._getFsProvider(f).readFile(w.URI.revive(u))).then(g=>n.VSBuffer.wrap(g))}$writeFile(f,u,g,b){return Promise.resolve(this._getFsProvider(f).writeFile(w.URI.revive(u),g.buffer,b))}$delete(f,u,g){return Promise.resolve(this._getFsProvider(f).delete(w.URI.revive(u),g))}$rename(f,u,g,b){return Promise.resolve(this._getFsProvider(f).rename(w.URI.revive(u),w.URI.revive(g),b))}$copy(f,u,g,b){const p=this._getFsProvider(f);if(!p.copy)throw new Error('FileSystemProvider does not implement "copy"');return Promise.resolve(p.copy(w.URI.revive(u),w.URI.revive(g),b))}$mkdir(f,u){return Promise.resolve(this._getFsProvider(f).createDirectory(w.URI.revive(u)))}$watch(f,u,g,b){const p=this._getFsProvider(f).watch(w.URI.revive(g),b);this._watches.set(u,p)}$unwatch(f,u){const g=this._watches.get(u);g&&(g.dispose(),this._watches.delete(u))}$open(f,u,g){const b=this._getFsProvider(f);if(!b.open)throw new Error('FileSystemProvider does not implement "open"');return Promise.resolve(b.open(w.URI.revive(u),g))}$close(f,u){const g=this._getFsProvider(f);if(!g.close)throw new Error('FileSystemProvider does not implement "close"');return Promise.resolve(g.close(u))}$read(f,u,g,b){const p=this._getFsProvider(f);if(!p.read)throw new Error('FileSystemProvider does not implement "read"');const d=n.VSBuffer.alloc(b);return Promise.resolve(p.read(u,g,d.buffer,0,b)).then(s=>d.slice(0,s))}$write(f,u,g,b){const p=this._getFsProvider(f);if(!p.write)throw new Error('FileSystemProvider does not implement "write"');return Promise.resolve(p.write(u,g,b.buffer,0,b.byteLength))}_getFsProvider(f){const u=this._fsProvider.get(f);if(!u){const g=new Error;throw g.name="ENOPRO",g.message="no provider",g}return u}}e.ExtHostFileSystem=S}),define(ge[89],pe([0,1,6,50,8,27,4,14,62]),function(Z,e,w,k,A,T,P,D,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostConsumerFileSystem=e.ExtHostConsumerFileSystem=void 0;let n=class Dt{constructor(S,v){this._fileSystemInfo=v,this._proxy=S.getProxy(w.MainContext.MainThreadFileSystem)}stat(S){return this._proxy.$stat(S).catch(Dt._handleError)}readDirectory(S){return this._proxy.$readdir(S).catch(Dt._handleError)}createDirectory(S){return this._proxy.$mkdir(S).catch(Dt._handleError)}async readFile(S){return this._proxy.$readFile(S).then(v=>v.buffer).catch(Dt._handleError)}writeFile(S,v){return this._proxy.$writeFile(S,T.VSBuffer.wrap(v)).catch(Dt._handleError)}delete(S,v){return this._proxy.$delete(S,Object.assign({recursive:!1,useTrash:!1},v)).catch(Dt._handleError)}rename(S,v,f){return this._proxy.$rename(S,v,Object.assign({overwrite:!1},f)).catch(Dt._handleError)}copy(S,v,f){return this._proxy.$copy(S,v,Object.assign({overwrite:!1},f)).catch(Dt._handleError)}isWritableFileSystem(S){const v=this._fileSystemInfo.getCapabilities(S);if(typeof v=="number")return!(v&2048)}static _handleError(S){if(!(S instanceof Error))throw new A.FileSystemError(String(S));if(S.name==="ENOPRO")throw A.FileSystemError.Unavailable(S.message);switch(S.name){case k.FileSystemProviderErrorCode.FileExists:throw A.FileSystemError.FileExists(S.message);case k.FileSystemProviderErrorCode.FileNotFound:throw A.FileSystemError.FileNotFound(S.message);case k.FileSystemProviderErrorCode.FileNotADirectory:throw A.FileSystemError.FileNotADirectory(S.message);case k.FileSystemProviderErrorCode.FileIsADirectory:throw A.FileSystemError.FileIsADirectory(S.message);case k.FileSystemProviderErrorCode.NoPermissions:throw A.FileSystemError.NoPermissions(S.message);case k.FileSystemProviderErrorCode.Unavailable:throw A.FileSystemError.Unavailable(S.message);default:throw new A.FileSystemError(S.message,S.name)}}};n=He([Fe(0,D.IExtHostRpcService),Fe(1,C.IExtHostFileSystemInfo)],n),e.ExtHostConsumerFileSystem=n,e.IExtHostConsumerFileSystem=P.createDecorator("IExtHostConsumerFileSystem")}),define(ge[237],pe([0,1,5,6]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLabelService=void 0;class A{constructor(P){this._handlePool=0,this._proxy=P.getProxy(k.MainContext.MainThreadLabelService)}$registerResourceLabelFormatter(P){const D=this._handlePool++;return this._proxy.$registerResourceLabelFormatter(D,P),w.toDisposable(()=>{this._proxy.$unregisterResourceLabelFormatter(D)})}}e.ExtHostLabelService=A}),define(ge[238],pe([0,1,2,25,20,8,19,6,10,44,12,16,137,5,107,71,86,47,15]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLanguageFeatures=e.DocumentRangeSemanticTokensAdapter=e.DocumentSemanticTokensAdapter=void 0;class s{constructor(H,X){this._documents=H,this._provider=X}provideDocumentSymbols(H,X){const re=this._documents.getDocument(H);return P.asPromise(()=>this._provider.provideDocumentSymbols(re,X)).then(Q=>{if(!I.isFalsyOrEmpty(Q))return Q[0]instanceof T.DocumentSymbol?Q.map(A.DocumentSymbol.from):s._asDocumentSymbolTree(Q)})}static _asDocumentSymbolTree(H){var X;H=H.slice(0).sort((le,ve)=>{let De=le.location.range.start.compareTo(ve.location.range.start);return De===0&&(De=ve.location.range.end.compareTo(le.location.range.end)),De});const re=[],Q=[];for(const le of H){const ve={name:le.name||"!!MISSING: name!!",kind:A.SymbolKind.from(le.kind),tags:((X=le.tags)===null||X===void 0?void 0:X.map(A.SymbolTag.from))||[],detail:"",containerName:le.containerName,range:A.Range.from(le.location.range),selectionRange:A.Range.from(le.location.range),children:[]};for(;;){if(Q.length===0){Q.push(ve),re.push(ve);break}const De=Q[Q.length-1];if(n.Range.containsRange(De.range,ve.range)&&!n.Range.equalsRange(De.range,ve.range)){De.children&&De.children.push(ve),Q.push(ve);break}Q.pop()}}return re}}class l{constructor(H,X,re){this._documents=H,this._commands=X,this._provider=re,this._cache=new b.Cache("CodeLens"),this._disposables=new Map}async provideCodeLenses(H,X){const re=this._documents.getDocument(H),Q=await this._provider.provideCodeLenses(re,X);if(!(!Q||X.isCancellationRequested)){const le=this._cache.add(Q),ve=new f.DisposableStore;this._disposables.set(le,ve);const De={cacheId:le,lenses:[]};for(let Me=0;Me<Q.length;Me++)De.lenses.push({cacheId:[le,Me],range:A.Range.from(Q[Me].range),command:this._commands.toInternal(Q[Me].command,ve)});return De}}async resolveCodeLens(H,X){var re;const Q=H.cacheId&&this._cache.get(...H.cacheId);if(!!Q){let le;if(typeof this._provider.resolveCodeLens!="function"||Q.isResolved?le=Q:le=await this._provider.resolveCodeLens(Q,X),le||(le=Q),!X.isCancellationRequested){const ve=H.cacheId&&this._disposables.get(H.cacheId[0]);if(!!ve)return H.command=this._commands.toInternal((re=le.command)!==null&&re!==void 0?re:l._badCmd,ve),H}}}releaseCodeLenses(H){var X;(X=this._disposables.get(H))===null||X===void 0||X.dispose(),this._disposables.delete(H),this._cache.delete(H)}}l._badCmd={command:"missing",title:"!!MISSING: command!!"};function c(be){return Array.isArray(be)?be.map(A.DefinitionLink.from):be?[A.DefinitionLink.from(be)]:[]}class t{constructor(H,X){this._documents=H,this._provider=X}provideDefinition(H,X,re){const Q=this._documents.getDocument(H),le=A.Position.to(X);return P.asPromise(()=>this._provider.provideDefinition(Q,le,re)).then(c)}}class r{constructor(H,X){this._documents=H,this._provider=X}provideDeclaration(H,X,re){const Q=this._documents.getDocument(H),le=A.Position.to(X);return P.asPromise(()=>this._provider.provideDeclaration(Q,le,re)).then(c)}}class o{constructor(H,X){this._documents=H,this._provider=X}provideImplementation(H,X,re){const Q=this._documents.getDocument(H),le=A.Position.to(X);return P.asPromise(()=>this._provider.provideImplementation(Q,le,re)).then(c)}}class a{constructor(H,X){this._documents=H,this._provider=X}provideTypeDefinition(H,X,re){const Q=this._documents.getDocument(H),le=A.Position.to(X);return P.asPromise(()=>this._provider.provideTypeDefinition(Q,le,re)).then(c)}}class i{constructor(H,X){this._documents=H,this._provider=X}provideHover(H,X,re){const Q=this._documents.getDocument(H),le=A.Position.to(X);return P.asPromise(()=>this._provider.provideHover(Q,le,re)).then(ve=>{if(!(!ve||I.isFalsyOrEmpty(ve.contents)))return ve.range||(ve.range=Q.getWordRangeAtPosition(le)),ve.range||(ve.range=new T.Range(le,le)),A.Hover.from(ve)})}}class h{constructor(H,X){this._documents=H,this._provider=X}provideEvaluatableExpression(H,X,re){const Q=this._documents.getDocument(H),le=A.Position.to(X);return P.asPromise(()=>this._provider.provideEvaluatableExpression(Q,le,re)).then(ve=>{if(ve)return A.EvaluatableExpression.from(ve)})}}class y{constructor(H,X){this._documents=H,this._provider=X}provideDocumentHighlights(H,X,re){const Q=this._documents.getDocument(H),le=A.Position.to(X);return P.asPromise(()=>this._provider.provideDocumentHighlights(Q,le,re)).then(ve=>{if(Array.isArray(ve))return ve.map(A.DocumentHighlight.from)})}}class m{constructor(H,X){this._documents=H,this._provider=X}provideLinkedEditingRanges(H,X,re){const Q=this._documents.getDocument(H),le=A.Position.to(X);return P.asPromise(()=>this._provider.provideLinkedEditingRanges(Q,le,re)).then(ve=>{if(ve&&Array.isArray(ve.ranges))return{ranges:I.coalesce(ve.ranges.map(A.Range.from)),wordPattern:ve.wordPattern}})}}class E{constructor(H,X){this._documents=H,this._provider=X}provideReferences(H,X,re,Q){const le=this._documents.getDocument(H),ve=A.Position.to(X);return P.asPromise(()=>this._provider.provideReferences(le,ve,re,Q)).then(De=>{if(Array.isArray(De))return De.map(A.location.from)})}}class _{constructor(H,X,re,Q,le,ve,De){this._documents=H,this._commands=X,this._diagnostics=re,this._provider=Q,this._logService=le,this._extension=ve,this._apiDeprecation=De,this._cache=new b.Cache("CodeAction"),this._disposables=new Map}provideCodeActions(H,X,re,Q){const le=this._documents.getDocument(H),ve=v.Selection.isISelection(X)?A.Selection.to(X):A.Range.to(X),De=[];for(const Ee of this._diagnostics.getDiagnostics(H))if(ve.intersection(Ee.range)&&De.push(Ee)>_._maxCodeActionsPerFile)break;const Me={diagnostics:De,only:re.only?new T.CodeActionKind(re.only):void 0};return P.asPromise(()=>this._provider.provideCodeActions(le,ve,Me,Q)).then(Ee=>{var Pe;if(!(!I.isNonEmptyArray(Ee)||Q.isCancellationRequested)){const Ce=this._cache.add(Ee),Oe=new f.DisposableStore;this._disposables.set(Ce,Oe);const Se=[];for(let ze=0;ze<Ee.length;ze++){const K=Ee[ze];!K||(_._isCommand(K)?(this._apiDeprecation.report("CodeActionProvider.provideCodeActions - return commands",this._extension,"Return 'CodeAction' instances instead."),Se.push({_isSynthetic:!0,title:K.title,command:this._commands.toInternal(K,Oe)})):(Me.only&&(K.kind?Me.only.contains(K.kind)||this._logService.warn(`${this._extension.identifier.value} - Code actions of kind '${Me.only.value} 'requested but returned code action is of kind '${K.kind.value}'. Code action will be dropped. Please check 'CodeActionContext.only' to only return requested code actions.`):this._logService.warn(`${this._extension.identifier.value} - Code actions of kind '${Me.only.value} 'requested but returned code action does not have a 'kind'. Code action will be dropped. Please set 'CodeAction.kind'.`)),Se.push({cacheId:[Ce,ze],title:K.title,command:K.command&&this._commands.toInternal(K.command,Oe),diagnostics:K.diagnostics&&K.diagnostics.map(A.Diagnostic.from),edit:K.edit&&A.WorkspaceEdit.from(K.edit),kind:K.kind&&K.kind.value,isPreferred:K.isPreferred,disabled:(Pe=K.disabled)===null||Pe===void 0?void 0:Pe.reason})))}return{cacheId:Ce,actions:Se}}})}async resolveCodeAction(H,X){var re;const[Q,le]=H,ve=this._cache.get(Q,le);if(!(!ve||_._isCommand(ve))&&!!this._provider.resolveCodeAction){const De=(re=await this._provider.resolveCodeAction(ve,X))!==null&&re!==void 0?re:ve;return(De==null?void 0:De.edit)?A.WorkspaceEdit.from(De.edit):void 0}}releaseCodeActions(H){var X;(X=this._disposables.get(H))===null||X===void 0||X.dispose(),this._disposables.delete(H),this._cache.delete(H)}static _isCommand(H){return typeof H.command=="string"&&typeof H.title=="string"}}_._maxCodeActionsPerFile=1e3;class L{constructor(H,X){this._documents=H,this._provider=X}provideDocumentFormattingEdits(H,X,re){const Q=this._documents.getDocument(H);return P.asPromise(()=>this._provider.provideDocumentFormattingEdits(Q,X,re)).then(le=>{if(Array.isArray(le))return le.map(A.TextEdit.from)})}}class R{constructor(H,X){this._documents=H,this._provider=X}provideDocumentRangeFormattingEdits(H,X,re,Q){const le=this._documents.getDocument(H),ve=A.Range.to(X);return P.asPromise(()=>this._provider.provideDocumentRangeFormattingEdits(le,ve,re,Q)).then(De=>{if(Array.isArray(De))return De.map(A.TextEdit.from)})}}class N{constructor(H,X){this._documents=H,this._provider=X,this.autoFormatTriggerCharacters=[]}provideOnTypeFormattingEdits(H,X,re,Q,le){const ve=this._documents.getDocument(H),De=A.Position.to(X);return P.asPromise(()=>this._provider.provideOnTypeFormattingEdits(ve,De,re,Q,le)).then(Me=>{if(Array.isArray(Me))return Me.map(A.TextEdit.from)})}}class W{constructor(H,X){this._provider=H,this._logService=X,this._symbolCache=new Map,this._resultCache=new Map}provideWorkspaceSymbols(H,X){const re=D.IdObject.mixin({symbols:[]});return P.asPromise(()=>this._provider.provideWorkspaceSymbols(H,X)).then(Q=>{if(I.isNonEmptyArray(Q)){for(const le of Q)if(!!le){if(!le.name){this._logService.warn("INVALID SymbolInformation, lacks name",le);continue}const ve=D.IdObject.mixin(A.WorkspaceSymbol.from(le));this._symbolCache.set(ve._id,le),re.symbols.push(ve)}}}).then(()=>(re.symbols.length>0&&this._resultCache.set(re._id,[re.symbols[0]._id,re.symbols[re.symbols.length-1]._id]),re))}async resolveWorkspaceSymbol(H,X){if(typeof this._provider.resolveWorkspaceSymbol!="function")return H;const re=this._symbolCache.get(H._id);if(re){const Q=await P.asPromise(()=>this._provider.resolveWorkspaceSymbol(re,X));return Q&&k.mixin(H,A.WorkspaceSymbol.from(Q),!0)}}releaseWorkspaceSymbols(H){const X=this._resultCache.get(H);if(X){for(let[re,Q]=X;re<=Q;re++)this._symbolCache.delete(re);this._resultCache.delete(H)}}}class x{constructor(H,X,re){this._documents=H,this._provider=X,this._logService=re}static supportsResolving(H){return typeof H.prepareRename=="function"}provideRenameEdits(H,X,re,Q){const le=this._documents.getDocument(H),ve=A.Position.to(X);return P.asPromise(()=>this._provider.provideRenameEdits(le,ve,re,Q)).then(De=>{if(!!De)return A.WorkspaceEdit.from(De)},De=>{const Me=x._asMessage(De);return Me?{rejectReason:Me,edits:void 0}:Promise.reject(De)})}resolveRenameLocation(H,X,re){if(typeof this._provider.prepareRename!="function")return Promise.resolve(void 0);const Q=this._documents.getDocument(H),le=A.Position.to(X);return P.asPromise(()=>this._provider.prepareRename(Q,le,re)).then(ve=>{let De,Me;if(T.Range.isRange(ve)?(De=ve,Me=Q.getText(ve)):S.isObject(ve)&&(De=ve.range,Me=ve.placeholder),!!De){if(De.start.line>le.line||De.end.line<le.line){this._logService.warn("INVALID rename location: position line must be within range start/end lines");return}return{range:A.Range.from(De),text:Me}}},ve=>{const De=x._asMessage(ve);return De?{rejectReason:De,range:void 0,text:void 0}:Promise.reject(ve)})}static _asMessage(H){return typeof H=="string"?H:H instanceof Error&&typeof H.message=="string"?H.message:void 0}}class M{constructor(H,X){this.resultId=H,this.tokens=X}}class ${constructor(H,X){this._documents=H,this._provider=X,this._nextResultId=1,this._previousResults=new Map}provideDocumentSemanticTokens(H,X,re){const Q=this._documents.getDocument(H),le=X!==0?this._previousResults.get(X):null;return P.asPromise(()=>le&&typeof le.resultId=="string"&&typeof this._provider.provideDocumentSemanticTokensEdits=="function"?this._provider.provideDocumentSemanticTokensEdits(Q,le.resultId,re):this._provider.provideDocumentSemanticTokens(Q,re)).then(ve=>(le&&this._previousResults.delete(X),ve?(ve=$._fixProvidedSemanticTokens(ve),this._send($._convertToEdits(le,ve),ve)):null))}async releaseDocumentSemanticColoring(H){this._previousResults.delete(H)}static _fixProvidedSemanticTokens(H){return $._isSemanticTokens(H)?$._isCorrectSemanticTokens(H)?H:new T.SemanticTokens(new Uint32Array(H.data),H.resultId):$._isSemanticTokensEdits(H)?$._isCorrectSemanticTokensEdits(H)?H:new T.SemanticTokensEdits(H.edits.map(X=>new T.SemanticTokensEdit(X.start,X.deleteCount,X.data?new Uint32Array(X.data):X.data)),H.resultId):H}static _isSemanticTokens(H){return H&&!!H.data}static _isCorrectSemanticTokens(H){return H.data instanceof Uint32Array}static _isSemanticTokensEdits(H){return H&&Array.isArray(H.edits)}static _isCorrectSemanticTokensEdits(H){for(const X of H.edits)if(!(X.data instanceof Uint32Array))return!1;return!0}static _convertToEdits(H,X){if(!$._isSemanticTokens(X)||!H||!H.tokens)return X;const re=H.tokens,Q=re.length,le=X.data,ve=le.length;let De=0;const Me=Math.min(Q,ve);for(;De<Me&&re[De]===le[De];)De++;if(De===Q&&De===ve)return new T.SemanticTokensEdits([],X.resultId);let Ee=0;const Pe=Me-De;for(;Ee<Pe&&re[Q-Ee-1]===le[ve-Ee-1];)Ee++;return new T.SemanticTokensEdits([{start:De,deleteCount:Q-De-Ee,data:le.subarray(De,ve-Ee)}],X.resultId)}_send(H,X){if($._isSemanticTokens(H)){const re=this._nextResultId++;return this._previousResults.set(re,new M(H.resultId,H.data)),u.encodeSemanticTokensDto({id:re,type:"full",data:H.data})}if($._isSemanticTokensEdits(H)){const re=this._nextResultId++;return $._isSemanticTokens(X)?this._previousResults.set(re,new M(X.resultId,X.data)):this._previousResults.set(re,new M(H.resultId)),u.encodeSemanticTokensDto({id:re,type:"delta",deltas:(H.edits||[]).map(Q=>({start:Q.start,deleteCount:Q.deleteCount,data:Q.data}))})}return null}}e.DocumentSemanticTokensAdapter=$;class O{constructor(H,X){this._documents=H,this._provider=X}provideDocumentRangeSemanticTokens(H,X,re){const Q=this._documents.getDocument(H);return P.asPromise(()=>this._provider.provideDocumentRangeSemanticTokens(Q,A.Range.to(X),re)).then(le=>le?this._send(le):null)}_send(H){return u.encodeSemanticTokensDto({id:0,type:"full",data:H.data})}}e.DocumentRangeSemanticTokensAdapter=O;class z{constructor(H,X,re,Q,le){this._documents=H,this._commands=X,this._provider=re,this._apiDeprecation=Q,this._extension=le,this._cache=new b.Cache("CompletionItem"),this._disposables=new Map}static supportsResolving(H){return typeof H.resolveCompletionItem=="function"}async provideCompletionItems(H,X,re,Q){const le=this._documents.getDocument(H),ve=A.Position.to(X),De=le.getWordRangeAtPosition(ve)||new T.Range(ve,ve),Me=De.with({end:ve}),Ee=new p.StopWatch(!0),Pe=await P.asPromise(()=>this._provider.provideCompletionItems(le,ve,Q,A.CompletionContext.to(re)));if(!!Pe&&!Q.isCancellationRequested){const Ce=Array.isArray(Pe)?new T.CompletionList(Pe):Pe,Oe=z.supportsResolving(this._provider)?this._cache.add(Ce.items):this._cache.add([]),Se=new f.DisposableStore;this._disposables.set(Oe,Se);const ze=[],K={x:Oe,b:ze,a:{replace:A.Range.from(De),insert:A.Range.from(Me)},c:Ce.isIncomplete||void 0,d:Ee.elapsed()};for(let se=0;se<Ce.items.length;se++){const we=Ce.items[se],Re=this._convertCompletionItem(we,[Oe,se],Me,De);ze.push(Re)}return K}}async resolveCompletionItem(H,X){if(typeof this._provider.resolveCompletionItem=="function"){const re=this._cache.get(...H);if(!!re){const Q=await P.asPromise(()=>this._provider.resolveCompletionItem(re,X));if(!!Q)return this._convertCompletionItem(Q,H)}}}releaseCompletionItems(H){var X;(X=this._disposables.get(H))===null||X===void 0||X.dispose(),this._disposables.delete(H),this._cache.delete(H)}_convertCompletionItem(H,X,re,Q){var le;const ve=this._disposables.get(X[0]);if(!ve)throw Error("DisposableStore is missing...");const De={x:X,a:(le=H.label)!==null&&le!==void 0?le:"",o:H.label2,b:H.kind!==void 0?A.CompletionItemKind.from(H.kind):void 0,n:H.tags&&H.tags.map(A.CompletionItemTag.from),c:H.detail,d:typeof H.documentation=="undefined"?void 0:A.MarkdownString.fromStrict(H.documentation),e:H.sortText!==H.label?H.sortText:void 0,f:H.filterText!==H.label?H.filterText:void 0,g:H.preselect||void 0,i:H.keepWhitespace?1:0,k:H.commitCharacters,l:H.additionalTextEdits&&H.additionalTextEdits.map(A.TextEdit.from),m:this._commands.toInternal(H.command,ve)};H.textEdit?(this._apiDeprecation.report("CompletionItem.textEdit",this._extension,"Use 'CompletionItem.insertText' and 'CompletionItem.range' instead."),De.h=H.textEdit.newText):typeof H.insertText=="string"?De.h=H.insertText:H.insertText instanceof T.SnippetString&&(De.h=H.insertText.value,De.i|=4);let Me;return H.textEdit?Me=H.textEdit.range:H.range&&(Me=H.range),T.Range.isRange(Me)?De.j=A.Range.from(Me):Me&&(!(re==null?void 0:re.isEqual(Me.inserting))||!(Q==null?void 0:Q.isEqual(Me.replacing)))&&(De.j={insert:A.Range.from(Me.inserting),replace:A.Range.from(Me.replacing)}),De}}class J{constructor(H,X){this._documents=H,this._provider=X,this._cache=new b.Cache("SignatureHelp")}provideSignatureHelp(H,X,re,Q){const le=this._documents.getDocument(H),ve=A.Position.to(X),De=this.reviveContext(re);return P.asPromise(()=>this._provider.provideSignatureHelp(le,ve,Q,De)).then(Me=>{if(Me){const Ee=this._cache.add([Me]);return Object.assign(Object.assign({},A.SignatureHelp.from(Me)),{id:Ee})}})}reviveContext(H){let X;if(H.activeSignatureHelp){const re=A.SignatureHelp.to(H.activeSignatureHelp),Q=this._cache.get(H.activeSignatureHelp.id,0);Q?(X=Q,X.activeSignature=re.activeSignature,X.activeParameter=re.activeParameter):X=re}return Object.assign(Object.assign({},H),{activeSignatureHelp:X})}releaseSignatureHelp(H){this._cache.delete(H)}}class U{constructor(H,X){this._documents=H,this._provider=X}provideInlineHints(H,X,re){const Q=this._documents.getDocument(H);return P.asPromise(()=>this._provider.provideInlineHints(Q,A.Range.to(X),re)).then(le=>le?{hints:le.map(A.InlineHint.from)}:void 0)}}class V{constructor(H,X){this._documents=H,this._provider=X,this._cache=new b.Cache("DocumentLink")}provideLinks(H,X){const re=this._documents.getDocument(H);return P.asPromise(()=>this._provider.provideDocumentLinks(re,X)).then(Q=>{if(!(!Array.isArray(Q)||Q.length===0)&&!X.isCancellationRequested){if(typeof this._provider.resolveDocumentLink!="function")return{links:Q.map(A.DocumentLink.from)};{const le=this._cache.add(Q),ve={links:[],id:le};for(let De=0;De<Q.length;De++){const Me=A.DocumentLink.from(Q[De]);Me.cacheId=[le,De],ve.links.push(Me)}return ve}}})}resolveLink(H,X){if(typeof this._provider.resolveDocumentLink!="function")return Promise.resolve(void 0);const re=this._cache.get(...H);return re?P.asPromise(()=>this._provider.resolveDocumentLink(re,X)).then(Q=>Q&&A.DocumentLink.from(Q)||void 0):Promise.resolve(void 0)}releaseLinks(H){this._cache.delete(H)}}class B{constructor(H,X){this._documents=H,this._provider=X}provideColors(H,X){const re=this._documents.getDocument(H);return P.asPromise(()=>this._provider.provideDocumentColors(re,X)).then(Q=>Array.isArray(Q)?Q.map(ve=>({color:A.Color.from(ve.color),range:A.Range.from(ve.range)})):[])}provideColorPresentations(H,X,re){const Q=this._documents.getDocument(H),le=A.Range.to(X.range),ve=A.Color.to(X.color);return P.asPromise(()=>this._provider.provideColorPresentations(ve,{document:Q,range:le},re)).then(De=>{if(!!Array.isArray(De))return De.map(A.ColorPresentation.from)})}}class Y{constructor(H,X){this._documents=H,this._provider=X}provideFoldingRanges(H,X,re){const Q=this._documents.getDocument(H);return P.asPromise(()=>this._provider.provideFoldingRanges(Q,X,re)).then(le=>{if(!!Array.isArray(le))return le.map(A.FoldingRange.from)})}}class ae{constructor(H,X,re){this._documents=H,this._provider=X,this._logService=re}provideSelectionRanges(H,X,re){const Q=this._documents.getDocument(H),le=X.map(A.Position.to);return P.asPromise(()=>this._provider.provideSelectionRanges(Q,le,re)).then(ve=>{if(!I.isNonEmptyArray(ve))return[];if(ve.length!==le.length)return this._logService.warn("BAD selection ranges, provider must return ranges for each position"),[];const De=[];for(let Me=0;Me<le.length;Me++){const Ee=[];De.push(Ee);let Pe=le[Me],Ce=ve[Me];for(;;){if(!Ce.range.contains(Pe))throw new Error("INVALID selection range, must contain the previous range");if(Ee.push(A.SelectionRange.from(Ce)),!Ce.parent)break;Pe=Ce.range,Ce=Ce.parent}}return De})}}class ce{constructor(H,X){this._documents=H,this._provider=X,this._idPool=new g.IdGenerator(""),this._cache=new Map}async prepareSession(H,X,re){const Q=this._documents.getDocument(H),le=A.Position.to(X),ve=await this._provider.prepareCallHierarchy(Q,le,re);if(!!ve){const De=this._idPool.nextId();return this._cache.set(De,new Map),Array.isArray(ve)?ve.map(Me=>this._cacheAndConvertItem(De,Me)):[this._cacheAndConvertItem(De,ve)]}}async provideCallsTo(H,X,re){const Q=this._itemFromCache(H,X);if(!Q)throw new Error("missing call hierarchy item");const le=await this._provider.provideCallHierarchyIncomingCalls(Q,re);if(!!le)return le.map(ve=>({from:this._cacheAndConvertItem(H,ve.from),fromRanges:ve.fromRanges.map(De=>A.Range.from(De))}))}async provideCallsFrom(H,X,re){const Q=this._itemFromCache(H,X);if(!Q)throw new Error("missing call hierarchy item");const le=await this._provider.provideCallHierarchyOutgoingCalls(Q,re);if(!!le)return le.map(ve=>({to:this._cacheAndConvertItem(H,ve.to),fromRanges:ve.fromRanges.map(De=>A.Range.from(De))}))}releaseSession(H){this._cache.delete(H)}_cacheAndConvertItem(H,X){var re;const Q=this._cache.get(H),le={_sessionId:H,_itemId:Q.size.toString(36),name:X.name,detail:X.detail,kind:A.SymbolKind.from(X.kind),uri:X.uri,range:A.Range.from(X.range),selectionRange:A.Range.from(X.selectionRange),tags:(re=X.tags)===null||re===void 0?void 0:re.map(A.SymbolTag.from)};return Q.set(le._itemId,X),le}_itemFromCache(H,X){const re=this._cache.get(H);return re==null?void 0:re.get(X)}}class fe{constructor(H,X){this.adapter=H,this.extension=X}}class _e{constructor(H,X,re,Q,le,ve,De){this._adapter=new Map,this._uriTransformer=X,this._proxy=H.getProxy(D.MainContext.MainThreadLanguageFeatures),this._documents=re,this._commands=Q,this._diagnostics=le,this._logService=ve,this._apiDeprecation=De}_transformDocumentSelector(H){return I.coalesce(I.asArray(H).map(X=>this._doTransformDocumentSelector(X)))}_doTransformDocumentSelector(H){if(typeof H=="string")return{$serialized:!0,language:H};if(H)return{$serialized:!0,language:H.language,scheme:this._transformScheme(H.scheme),pattern:typeof H.pattern=="undefined"?void 0:A.GlobPattern.from(H.pattern),exclusive:H.exclusive}}_transformScheme(H){return this._uriTransformer&&typeof H=="string"?this._uriTransformer.transformOutgoingScheme(H):H}_createDisposable(H){return new T.Disposable(()=>{this._adapter.delete(H),this._proxy.$unregister(H)})}_nextHandle(){return _e._handlePool++}_withAdapter(H,X,re,Q,le=!1){const ve=this._adapter.get(H);if(!ve)return Promise.resolve(Q);if(ve.adapter instanceof X){let De;ve.extension&&(De=Date.now(),this._logService.trace(`[${ve.extension.identifier.value}] INVOKE provider '${X.name}'`));const Me=re(ve.adapter,ve.extension),Ee=ve.extension;return Ee&&Promise.resolve(Me).then(()=>this._logService.trace(`[${Ee.identifier.value}] provider DONE after ${Date.now()-De}ms`),Pe=>{le&&Pe instanceof d.CancellationError||(this._logService.error(`[${Ee.identifier.value}] provider FAILED`),this._logService.error(Pe))}),Me}return Promise.reject(new Error("no adapter found"))}_addNewAdapter(H,X){const re=this._nextHandle();return this._adapter.set(re,new fe(H,X)),re}static _extLabel(H){return H.displayName||H.name}registerDocumentSymbolProvider(H,X,re,Q){const le=this._addNewAdapter(new s(this._documents,re),H),ve=Q&&Q.label||_e._extLabel(H);return this._proxy.$registerDocumentSymbolProvider(le,this._transformDocumentSelector(X),ve),this._createDisposable(le)}$provideDocumentSymbols(H,X,re){return this._withAdapter(H,s,Q=>Q.provideDocumentSymbols(w.URI.revive(X),re),void 0)}registerCodeLensProvider(H,X,re){const Q=this._nextHandle(),le=typeof re.onDidChangeCodeLenses=="function"?this._nextHandle():void 0;this._adapter.set(Q,new fe(new l(this._documents,this._commands.converter,re),H)),this._proxy.$registerCodeLensSupport(Q,this._transformDocumentSelector(X),le);let ve=this._createDisposable(Q);if(le!==void 0){const De=re.onDidChangeCodeLenses(Me=>this._proxy.$emitCodeLensEvent(le));ve=T.Disposable.from(ve,De)}return ve}$provideCodeLenses(H,X,re){return this._withAdapter(H,l,Q=>Q.provideCodeLenses(w.URI.revive(X),re),void 0)}$resolveCodeLens(H,X,re){return this._withAdapter(H,l,Q=>Q.resolveCodeLens(X,re),void 0)}$releaseCodeLenses(H,X){this._withAdapter(H,l,re=>Promise.resolve(re.releaseCodeLenses(X)),void 0)}registerDefinitionProvider(H,X,re){const Q=this._addNewAdapter(new t(this._documents,re),H);return this._proxy.$registerDefinitionSupport(Q,this._transformDocumentSelector(X)),this._createDisposable(Q)}$provideDefinition(H,X,re,Q){return this._withAdapter(H,t,le=>le.provideDefinition(w.URI.revive(X),re,Q),[])}registerDeclarationProvider(H,X,re){const Q=this._addNewAdapter(new r(this._documents,re),H);return this._proxy.$registerDeclarationSupport(Q,this._transformDocumentSelector(X)),this._createDisposable(Q)}$provideDeclaration(H,X,re,Q){return this._withAdapter(H,r,le=>le.provideDeclaration(w.URI.revive(X),re,Q),[])}registerImplementationProvider(H,X,re){const Q=this._addNewAdapter(new o(this._documents,re),H);return this._proxy.$registerImplementationSupport(Q,this._transformDocumentSelector(X)),this._createDisposable(Q)}$provideImplementation(H,X,re,Q){return this._withAdapter(H,o,le=>le.provideImplementation(w.URI.revive(X),re,Q),[])}registerTypeDefinitionProvider(H,X,re){const Q=this._addNewAdapter(new a(this._documents,re),H);return this._proxy.$registerTypeDefinitionSupport(Q,this._transformDocumentSelector(X)),this._createDisposable(Q)}$provideTypeDefinition(H,X,re,Q){return this._withAdapter(H,a,le=>le.provideTypeDefinition(w.URI.revive(X),re,Q),[])}registerHoverProvider(H,X,re,Q){const le=this._addNewAdapter(new i(this._documents,re),H);return this._proxy.$registerHoverProvider(le,this._transformDocumentSelector(X)),this._createDisposable(le)}$provideHover(H,X,re,Q){return this._withAdapter(H,i,le=>le.provideHover(w.URI.revive(X),re,Q),void 0)}registerEvaluatableExpressionProvider(H,X,re,Q){const le=this._addNewAdapter(new h(this._documents,re),H);return this._proxy.$registerEvaluatableExpressionProvider(le,this._transformDocumentSelector(X)),this._createDisposable(le)}$provideEvaluatableExpression(H,X,re,Q){return this._withAdapter(H,h,le=>le.provideEvaluatableExpression(w.URI.revive(X),re,Q),void 0)}registerDocumentHighlightProvider(H,X,re){const Q=this._addNewAdapter(new y(this._documents,re),H);return this._proxy.$registerDocumentHighlightProvider(Q,this._transformDocumentSelector(X)),this._createDisposable(Q)}$provideDocumentHighlights(H,X,re,Q){return this._withAdapter(H,y,le=>le.provideDocumentHighlights(w.URI.revive(X),re,Q),void 0)}registerLinkedEditingRangeProvider(H,X,re){const Q=this._addNewAdapter(new m(this._documents,re),H);return this._proxy.$registerLinkedEditingRangeProvider(Q,this._transformDocumentSelector(X)),this._createDisposable(Q)}$provideLinkedEditingRanges(H,X,re,Q){return this._withAdapter(H,m,async le=>{const ve=await le.provideLinkedEditingRanges(w.URI.revive(X),re,Q);if(ve)return{ranges:ve.ranges,wordPattern:ve.wordPattern?_e._serializeRegExp(ve.wordPattern):void 0}},void 0)}registerReferenceProvider(H,X,re){const Q=this._addNewAdapter(new E(this._documents,re),H);return this._proxy.$registerReferenceSupport(Q,this._transformDocumentSelector(X)),this._createDisposable(Q)}$provideReferences(H,X,re,Q,le){return this._withAdapter(H,E,ve=>ve.provideReferences(w.URI.revive(X),re,Q,le),void 0)}registerCodeActionProvider(H,X,re,Q){var le,ve;const De=new f.DisposableStore,Me=this._addNewAdapter(new _(this._documents,this._commands.converter,this._diagnostics,re,this._logService,H,this._apiDeprecation),H);return this._proxy.$registerQuickFixSupport(Me,this._transformDocumentSelector(X),{providedKinds:(le=Q==null?void 0:Q.providedCodeActionKinds)===null||le===void 0?void 0:le.map(Ee=>Ee.value),documentation:(ve=Q==null?void 0:Q.documentation)===null||ve===void 0?void 0:ve.map(Ee=>({kind:Ee.kind.value,command:this._commands.converter.toInternal(Ee.command,De)}))},_e._extLabel(H),Boolean(re.resolveCodeAction)),De.add(this._createDisposable(Me)),De}$provideCodeActions(H,X,re,Q,le){return this._withAdapter(H,_,ve=>ve.provideCodeActions(w.URI.revive(X),re,Q,le),void 0)}$resolveCodeAction(H,X,re){return this._withAdapter(H,_,Q=>Q.resolveCodeAction(X,re),void 0)}$releaseCodeActions(H,X){this._withAdapter(H,_,re=>Promise.resolve(re.releaseCodeActions(X)),void 0)}registerDocumentFormattingEditProvider(H,X,re){const Q=this._addNewAdapter(new L(this._documents,re),H);return this._proxy.$registerDocumentFormattingSupport(Q,this._transformDocumentSelector(X),H.identifier,H.displayName||H.name),this._createDisposable(Q)}$provideDocumentFormattingEdits(H,X,re,Q){return this._withAdapter(H,L,le=>le.provideDocumentFormattingEdits(w.URI.revive(X),re,Q),void 0)}registerDocumentRangeFormattingEditProvider(H,X,re){const Q=this._addNewAdapter(new R(this._documents,re),H);return this._proxy.$registerRangeFormattingSupport(Q,this._transformDocumentSelector(X),H.identifier,H.displayName||H.name),this._createDisposable(Q)}$provideDocumentRangeFormattingEdits(H,X,re,Q,le){return this._withAdapter(H,R,ve=>ve.provideDocumentRangeFormattingEdits(w.URI.revive(X),re,Q,le),void 0)}registerOnTypeFormattingEditProvider(H,X,re,Q){const le=this._addNewAdapter(new N(this._documents,re),H);return this._proxy.$registerOnTypeFormattingSupport(le,this._transformDocumentSelector(X),Q,H.identifier),this._createDisposable(le)}$provideOnTypeFormattingEdits(H,X,re,Q,le,ve){return this._withAdapter(H,N,De=>De.provideOnTypeFormattingEdits(w.URI.revive(X),re,Q,le,ve),void 0)}registerWorkspaceSymbolProvider(H,X){const re=this._addNewAdapter(new W(X,this._logService),H);return this._proxy.$registerNavigateTypeSupport(re),this._createDisposable(re)}$provideWorkspaceSymbols(H,X,re){return this._withAdapter(H,W,Q=>Q.provideWorkspaceSymbols(X,re),{symbols:[]})}$resolveWorkspaceSymbol(H,X,re){return this._withAdapter(H,W,Q=>Q.resolveWorkspaceSymbol(X,re),void 0)}$releaseWorkspaceSymbols(H,X){this._withAdapter(H,W,re=>re.releaseWorkspaceSymbols(X),void 0)}registerRenameProvider(H,X,re){const Q=this._addNewAdapter(new x(this._documents,re,this._logService),H);return this._proxy.$registerRenameSupport(Q,this._transformDocumentSelector(X),x.supportsResolving(re)),this._createDisposable(Q)}$provideRenameEdits(H,X,re,Q,le){return this._withAdapter(H,x,ve=>ve.provideRenameEdits(w.URI.revive(X),re,Q,le),void 0)}$resolveRenameLocation(H,X,re,Q){return this._withAdapter(H,x,le=>le.resolveRenameLocation(w.URI.revive(X),re,Q),void 0)}registerDocumentSemanticTokensProvider(H,X,re,Q){const le=this._nextHandle(),ve=typeof re.onDidChangeSemanticTokens=="function"?this._nextHandle():void 0;this._adapter.set(le,new fe(new $(this._documents,re),H)),this._proxy.$registerDocumentSemanticTokensProvider(le,this._transformDocumentSelector(X),Q,ve);let De=this._createDisposable(le);if(ve){const Me=re.onDidChangeSemanticTokens(Ee=>this._proxy.$emitDocumentSemanticTokensEvent(ve));De=T.Disposable.from(De,Me)}return De}$provideDocumentSemanticTokens(H,X,re,Q){return this._withAdapter(H,$,le=>le.provideDocumentSemanticTokens(w.URI.revive(X),re,Q),null,!0)}$releaseDocumentSemanticTokens(H,X){this._withAdapter(H,$,re=>re.releaseDocumentSemanticColoring(X),void 0)}registerDocumentRangeSemanticTokensProvider(H,X,re,Q){const le=this._addNewAdapter(new O(this._documents,re),H);return this._proxy.$registerDocumentRangeSemanticTokensProvider(le,this._transformDocumentSelector(X),Q),this._createDisposable(le)}$provideDocumentRangeSemanticTokens(H,X,re,Q){return this._withAdapter(H,O,le=>le.provideDocumentRangeSemanticTokens(w.URI.revive(X),re,Q),null,!0)}registerCompletionItemProvider(H,X,re,Q){const le=this._addNewAdapter(new z(this._documents,this._commands.converter,re,this._apiDeprecation,H),H);return this._proxy.$registerSuggestSupport(le,this._transformDocumentSelector(X),Q,z.supportsResolving(re),`${H.identifier.value}(${Q.join("")})`),this._createDisposable(le)}$provideCompletionItems(H,X,re,Q,le){return this._withAdapter(H,z,ve=>ve.provideCompletionItems(w.URI.revive(X),re,Q,le),void 0)}$resolveCompletionItem(H,X,re){return this._withAdapter(H,z,Q=>Q.resolveCompletionItem(X,re),void 0)}$releaseCompletionItems(H,X){this._withAdapter(H,z,re=>re.releaseCompletionItems(X),void 0)}registerSignatureHelpProvider(H,X,re,Q){const le=Array.isArray(Q)?{triggerCharacters:Q,retriggerCharacters:[]}:Q,ve=this._addNewAdapter(new J(this._documents,re),H);return this._proxy.$registerSignatureHelpProvider(ve,this._transformDocumentSelector(X),le),this._createDisposable(ve)}$provideSignatureHelp(H,X,re,Q,le){return this._withAdapter(H,J,ve=>ve.provideSignatureHelp(w.URI.revive(X),re,Q,le),void 0)}$releaseSignatureHelp(H,X){this._withAdapter(H,J,re=>re.releaseSignatureHelp(X),void 0)}registerInlineHintsProvider(H,X,re){const Q=typeof re.onDidChangeInlineHints=="function"?this._nextHandle():void 0,le=this._addNewAdapter(new U(this._documents,re),H);this._proxy.$registerInlineHintsProvider(le,this._transformDocumentSelector(X),Q);let ve=this._createDisposable(le);if(Q!==void 0){const De=re.onDidChangeInlineHints(Me=>this._proxy.$emitInlineHintsEvent(Q));ve=T.Disposable.from(ve,De)}return ve}$provideInlineHints(H,X,re,Q){return this._withAdapter(H,U,le=>le.provideInlineHints(w.URI.revive(X),re,Q),void 0)}registerDocumentLinkProvider(H,X,re){const Q=this._addNewAdapter(new V(this._documents,re),H);return this._proxy.$registerDocumentLinkProvider(Q,this._transformDocumentSelector(X),typeof re.resolveDocumentLink=="function"),this._createDisposable(Q)}$provideDocumentLinks(H,X,re){return this._withAdapter(H,V,Q=>Q.provideLinks(w.URI.revive(X),re),void 0)}$resolveDocumentLink(H,X,re){return this._withAdapter(H,V,Q=>Q.resolveLink(X,re),void 0)}$releaseDocumentLinks(H,X){this._withAdapter(H,V,re=>re.releaseLinks(X),void 0)}registerColorProvider(H,X,re){const Q=this._addNewAdapter(new B(this._documents,re),H);return this._proxy.$registerDocumentColorProvider(Q,this._transformDocumentSelector(X)),this._createDisposable(Q)}$provideDocumentColors(H,X,re){return this._withAdapter(H,B,Q=>Q.provideColors(w.URI.revive(X),re),[])}$provideColorPresentations(H,X,re,Q){return this._withAdapter(H,B,le=>le.provideColorPresentations(w.URI.revive(X),re,Q),void 0)}registerFoldingRangeProvider(H,X,re){const Q=this._nextHandle(),le=typeof re.onDidChangeFoldingRanges=="function"?this._nextHandle():void 0;this._adapter.set(Q,new fe(new Y(this._documents,re),H)),this._proxy.$registerFoldingRangeProvider(Q,this._transformDocumentSelector(X),le);let ve=this._createDisposable(Q);if(le!==void 0){const De=re.onDidChangeFoldingRanges(()=>this._proxy.$emitFoldingRangeEvent(le));ve=T.Disposable.from(ve,De)}return ve}$provideFoldingRanges(H,X,re,Q){return this._withAdapter(H,Y,le=>le.provideFoldingRanges(w.URI.revive(X),re,Q),void 0)}registerSelectionRangeProvider(H,X,re){const Q=this._addNewAdapter(new ae(this._documents,re,this._logService),H);return this._proxy.$registerSelectionRangeProvider(Q,this._transformDocumentSelector(X)),this._createDisposable(Q)}$provideSelectionRanges(H,X,re,Q){return this._withAdapter(H,ae,le=>le.provideSelectionRanges(w.URI.revive(X),re,Q),[])}registerCallHierarchyProvider(H,X,re){const Q=this._addNewAdapter(new ce(this._documents,re),H);return this._proxy.$registerCallHierarchyProvider(Q,this._transformDocumentSelector(X)),this._createDisposable(Q)}$prepareCallHierarchy(H,X,re,Q){return this._withAdapter(H,ce,le=>Promise.resolve(le.prepareSession(w.URI.revive(X),re,Q)),void 0)}$provideCallHierarchyIncomingCalls(H,X,re,Q){return this._withAdapter(H,ce,le=>le.provideCallsTo(X,re,Q),void 0)}$provideCallHierarchyOutgoingCalls(H,X,re,Q){return this._withAdapter(H,ce,le=>le.provideCallsFrom(X,re,Q),void 0)}$releaseCallHierarchy(H,X){this._withAdapter(H,ce,re=>Promise.resolve(re.releaseSession(X)),void 0)}static _serializeRegExp(H){return{pattern:H.source,flags:C.regExpFlags(H)}}static _serializeIndentationRule(H){return{decreaseIndentPattern:_e._serializeRegExp(H.decreaseIndentPattern),increaseIndentPattern:_e._serializeRegExp(H.increaseIndentPattern),indentNextLinePattern:H.indentNextLinePattern?_e._serializeRegExp(H.indentNextLinePattern):void 0,unIndentedLinePattern:H.unIndentedLinePattern?_e._serializeRegExp(H.unIndentedLinePattern):void 0}}static _serializeOnEnterRule(H){return{beforeText:_e._serializeRegExp(H.beforeText),afterText:H.afterText?_e._serializeRegExp(H.afterText):void 0,previousLineText:H.previousLineText?_e._serializeRegExp(H.previousLineText):void 0,action:H.action}}static _serializeOnEnterRules(H){return H.map(_e._serializeOnEnterRule)}setLanguageConfiguration(H,X,re){let{wordPattern:Q}=re;if(Q&&C.regExpLeadsToEndlessLoop(Q))throw new Error(`Invalid language configuration: wordPattern '${Q}' is not allowed to match the empty string.`);Q?this._documents.setWordDefinitionFor(X,Q):this._documents.setWordDefinitionFor(X,void 0),re.__electricCharacterSupport&&this._apiDeprecation.report("LanguageConfiguration.__electricCharacterSupport",H,"Do not use."),re.__characterPairSupport&&this._apiDeprecation.report("LanguageConfiguration.__characterPairSupport",H,"Do not use.");const le=this._nextHandle(),ve={comments:re.comments,brackets:re.brackets,wordPattern:re.wordPattern?_e._serializeRegExp(re.wordPattern):void 0,indentationRules:re.indentationRules?_e._serializeIndentationRule(re.indentationRules):void 0,onEnterRules:re.onEnterRules?_e._serializeOnEnterRules(re.onEnterRules):void 0,__electricCharacterSupport:re.__electricCharacterSupport,__characterPairSupport:re.__characterPairSupport};return this._proxy.$setLanguageConfiguration(le,X,ve),this._createDisposable(le)}$setWordDefinitions(H){for(const X of H)this._documents.setWordDefinitionFor(X.languageId,new RegExp(X.regexSource,X.regexFlags))}}e.ExtHostLanguageFeatures=_e,_e._handlePool=0}),define(ge[239],pe([0,1,6,20,8]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLanguages=void 0;class T{constructor(D,C){this._proxy=D.getProxy(w.MainContext.MainThreadLanguages),this._documents=C}getLanguages(){return this._proxy.$getLanguages()}async changeLanguage(D,C){await this._proxy.$changeLanguage(D,C);const n=this._documents.getDocumentData(D);if(!n)throw new Error(`document '${D.toString}' NOT found`);return n.document}async tokenAtPosition(D,C){var n;const I=D.version,S=k.Position.from(C),v=await this._proxy.$tokensAtPosition(D.uri,S),f={type:A.StandardTokenType.Other,range:(n=D.getWordRangeAtPosition(C))!==null&&n!==void 0?n:new A.Range(C.line,C.character,C.line,C.character)};if(!v)return f;const u={range:k.Range.to(v.range),type:k.TokenType.to(v.type)};return!u.range.contains(C)||I!==D.version?f:u}}e.ExtHostLanguages=T}),define(ge[240],pe([0,1,6,11,42]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostMessageService=void 0;function T(D){return D&&D.title}let P=class{constructor(C,n){this._logService=n,this._proxy=C.getProxy(w.MainContext.MainThreadMessageService)}showMessage(C,n,I,S,v){const f={extension:C};let u;typeof S=="string"||T(S)?u=[S,...v]:(f.modal=S&&S.modal,f.useCustom=S&&S.useCustom,u=v),f.useCustom&&A.checkProposedApiEnabled(C);const g=[];for(let b=0;b<u.length;b++){const p=u[b];if(typeof p=="string")g.push({title:p,handle:b,isCloseAffordance:!1});else if(typeof p=="object"){let{title:d,isCloseAffordance:s}=p;g.push({title:d,isCloseAffordance:!!s,handle:b})}else this._logService.warn("Invalid message item:",p)}return this._proxy.$showMessage(n,I,f,g).then(b=>{if(typeof b=="number")return u[b]})}};P=He([Fe(1,k.ILogService)],P),e.ExtHostMessageService=P}),define(ge[241],pe([0,1,21,3,5,2,26,6,20,8,87,45,22,201,203,71,16]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotebookCellStatusBarItemInternal=e.ExtHostNotebookController=e.NotebookEditorDecorationType=e.ExtHostNotebookKernelProviderAdapter=void 0;class p extends A.Disposable{constructor(i,h,y,m,E){super();this._editorId=i,this.uri=h,this._proxy=y,this._webviewInitData=m,this.document=E,this._onDidReceiveDocumentMessage=new k.Emitter,this._rendererIdToEmitters=new Map,this.contentProviderComm={editorId:this._editorId,onDidReceiveMessage:this._onDidReceiveDocumentMessage.event,postMessage:_=>this._proxy.$postMessage(this._editorId,void 0,_),asWebviewUri:_=>this._asWebviewUri(_)}}onDidReceiveMessage(i,h){var y;this._onDidReceiveDocumentMessage.fire(h),i!==void 0&&((y=this._rendererIdToEmitters.get(i))===null||y===void 0||y.fire(h))}getRendererComm(i){const h=new k.Emitter;return this._rendererIdToEmitters.set(i,h),{editorId:this._editorId,onDidReceiveMessage:h.event,postMessage:y=>this._proxy.$postMessage(this._editorId,i,y),asWebviewUri:y=>this._asWebviewUri(y)}}_asWebviewUri(i){return I.asWebviewUri(this._webviewInitData,this._editorId,i)}}class d extends A.Disposable{constructor(i,h,y,m){super();this._proxy=i,this._handle=h,this._extension=y,this._provider=m,this._kernelToFriendlyId=new Map,this._friendlyIdToKernel=new Map,this._provider.onDidChangeKernels&&this._register(this._provider.onDidChangeKernels(E=>{const _=E==null?void 0:E.uri;this._proxy.$onNotebookKernelChange(this._handle,_)}))}async provideKernels(i,h){const y=await this._provider.provideKernels(i.notebookDocument,h)||[],m=new Map;let E=0;const _=new Set,L=y.map(R=>{let N=this._kernelToFriendlyId.get(R);return N===void 0&&(R.id&&_.has(R.id)?N=`${this._extension.identifier.value}_${R.id}_${E++}`:N=`${this._extension.identifier.value}_${R.id||P.generateUuid()}`,this._kernelToFriendlyId.set(R,N)),m.set(R,N),{id:R.id,friendlyId:N,label:R.label,extension:this._extension.identifier,extensionLocation:this._extension.extensionLocation,description:R.description,detail:R.detail,isPreferred:R.isPreferred,preloads:R.preloads}});return this._kernelToFriendlyId=m,this._friendlyIdToKernel.clear(),this._kernelToFriendlyId.forEach((R,N)=>{this._friendlyIdToKernel.set(R,N)}),L}getKernelByFriendlyId(i){return this._friendlyIdToKernel.get(i)}async resolveNotebook(i,h,y,m){const E=this._friendlyIdToKernel.get(i);if(E&&this._provider.resolveKernel)return this._provider.resolveKernel(E,h.notebookDocument,y,m)}async executeNotebook(i,h,y){const m=this._friendlyIdToKernel.get(i);if(!!m)return s(y?E=>m.executeCell(h.notebookDocument,y.cell,E):E=>m.executeAllCells(h.notebookDocument,E))}async cancelNotebook(i,h,y){const m=this._friendlyIdToKernel.get(i);if(!!m)return y?m.cancelCellExecution(h.notebookDocument,y.cell):m.cancelAllCellsExecution(h.notebookDocument)}}e.ExtHostNotebookKernelProviderAdapter=d;async function s(a){const i=new w.CancellationTokenSource;try{await a(i.token)}finally{i.dispose()}}class l{constructor(i,h){this.key=l._Keys.nextId(),this._proxy=i,this._proxy.$registerNotebookEditorDecorationType(this.key,C.NotebookDecorationRenderOptions.from(h))}dispose(){this._proxy.$removeNotebookEditorDecorationType(this.key)}}e.NotebookEditorDecorationType=l,l._Keys=new g.IdGenerator("NotebookEditorDecorationType");class c{constructor(i,h,y,m,E,_){this._documentsAndEditors=y,this._webviewInitData=m,this.logService=E,this._extensionStoragePaths=_,this._notebookContentProviders=new Map,this._notebookKernelProviders=new Map,this._documents=new v.ResourceMap,this._editors=new Map,this._webviewComm=new Map,this._onDidChangeNotebookEditorSelection=new k.Emitter,this.onDidChangeNotebookEditorSelection=this._onDidChangeNotebookEditorSelection.event,this._onDidChangeNotebookEditorVisibleRanges=new k.Emitter,this.onDidChangeNotebookEditorVisibleRanges=this._onDidChangeNotebookEditorVisibleRanges.event,this._onDidChangeNotebookDocumentMetadata=new k.Emitter,this.onDidChangeNotebookDocumentMetadata=this._onDidChangeNotebookDocumentMetadata.event,this._onDidChangeNotebookCells=new k.Emitter,this.onDidChangeNotebookCells=this._onDidChangeNotebookCells.event,this._onDidChangeCellOutputs=new k.Emitter,this.onDidChangeCellOutputs=this._onDidChangeCellOutputs.event,this._onDidChangeCellLanguage=new k.Emitter,this.onDidChangeCellLanguage=this._onDidChangeCellLanguage.event,this._onDidChangeCellMetadata=new k.Emitter,this.onDidChangeCellMetadata=this._onDidChangeCellMetadata.event,this._onDidChangeActiveNotebookEditor=new k.Emitter,this.onDidChangeActiveNotebookEditor=this._onDidChangeActiveNotebookEditor.event,this._onDidOpenNotebookDocument=new k.Emitter,this.onDidOpenNotebookDocument=this._onDidOpenNotebookDocument.event,this._onDidCloseNotebookDocument=new k.Emitter,this.onDidCloseNotebookDocument=this._onDidCloseNotebookDocument.event,this._onDidSaveNotebookDocument=new k.Emitter,this.onDidSaveNotebookDocument=this._onDidCloseNotebookDocument.event,this.visibleNotebookEditors=[],this._onDidChangeActiveNotebookKernel=new k.Emitter,this.onDidChangeActiveNotebookKernel=this._onDidChangeActiveNotebookKernel.event,this._onDidChangeVisibleNotebookEditors=new k.Emitter,this.onDidChangeVisibleNotebookEditors=this._onDidChangeVisibleNotebookEditors.event,this._proxy=i.getProxy(D.MainContext.MainThreadNotebook),this._mainThreadBulkEdits=i.getProxy(D.MainContext.MainThreadBulkEdits),this._commandsConverter=h.converter,h.registerArgumentProcessor({processArgument:L=>{var R;if(L&&L.$mid===12){const N=(R=L.notebookEditor)===null||R===void 0?void 0:R.notebookUri,W=L.cell.handle,x=this._documents.get(N),M=x==null?void 0:x.getCell(W);if(M)return M.cell}return L}})}get outputDisplayOrder(){return this._outputDisplayOrder}get activeNotebookEditor(){return this._activeNotebookEditor}get notebookDocuments(){return[...this._documents.values()]}lookupNotebookDocument(i){return this._documents.get(i)}registerNotebookContentProvider(i,h,y,m){var E,_,L;if(this._notebookContentProviders.has(h))throw new Error(`Notebook provider for '${h}' already registered`);this._notebookContentProviders.set(h,{extension:i,provider:y});const R=[];R.push(y.onDidChangeNotebook?y.onDidChangeNotebook(x=>{const M=this._documents.get(T.URI.revive(x.document.uri));if(!M)throw new Error(`Notebook document ${x.document.uri.toString()} not found`);if(t(x)){const $=M.addEdit(x);this._proxy.$onUndoableContentChange(x.document.uri,h,$,x.label)}else this._proxy.$onContentChange(x.document.uri,h)}):A.Disposable.None),R.push(y.onDidChangeNotebookContentOptions?y.onDidChangeNotebookContentOptions(()=>{this._proxy.$updateNotebookProviderOptions(h,y.options)}):A.Disposable.None);const N=!!y.backupNotebook,W=(E=m==null?void 0:m.viewOptions)===null||E===void 0?void 0:E.filenamePattern.map(x=>C.NotebookExclusiveDocumentPattern.from(x)).filter(x=>x!==void 0);return((_=m==null?void 0:m.viewOptions)===null||_===void 0?void 0:_.filenamePattern)&&!W&&console.warn(`Notebook content provider view options file name pattern is invalid ${(L=m==null?void 0:m.viewOptions)===null||L===void 0?void 0:L.filenamePattern}`),this._proxy.$registerNotebookProvider({id:i.identifier,location:i.extensionLocation,description:i.description},h,N,{transientOutputs:(m==null?void 0:m.transientOutputs)||!1,transientMetadata:(m==null?void 0:m.transientMetadata)||{},viewOptions:(m==null?void 0:m.viewOptions)&&W?{displayName:m.viewOptions.displayName,filenamePattern:W,exclusive:m.viewOptions.exclusive||!1}:void 0}),new n.Disposable(()=>{R.forEach(x=>x.dispose()),this._notebookContentProviders.delete(h),this._proxy.$unregisterNotebookProvider(h)})}registerNotebookKernelProvider(i,h,y){const m=c._notebookKernelProviderHandlePool++,E=new d(this._proxy,m,i,y);return this._notebookKernelProviders.set(m,E),this._proxy.$registerNotebookKernelProvider({id:i.identifier,location:i.extensionLocation,description:i.description},m,{viewType:h.viewType,filenamePattern:h.filenamePattern?C.NotebookExclusiveDocumentPattern.from(h.filenamePattern):void 0}),new n.Disposable(()=>{E.dispose(),this._notebookKernelProviders.delete(m),this._proxy.$unregisterNotebookKernelProvider(m)})}createNotebookEditorDecorationType(i){return new l(this._proxy,i)}async openNotebookDocument(i,h){const y=this._documents.get(T.URI.revive(i));if(y)return Promise.resolve(y.notebookDocument);await this._proxy.$tryOpenDocument(i,h);const m=this._documents.get(T.URI.revive(i));return b.assertIsDefined(m==null?void 0:m.notebookDocument)}_withAdapter(i,h,y){const m=this._documents.get(T.URI.revive(h));if(!m)return[];const E=this._notebookKernelProviders.get(i);return E?y(E,m):[]}async showNotebookDocument(i,h){var y;let m;typeof h=="object"?m={position:C.ViewColumn.from(h.viewColumn),preserveFocus:h.preserveFocus,selection:h.selection,pinned:typeof h.preview=="boolean"?!h.preview:void 0}:m={preserveFocus:!1};const E=await this._proxy.$tryShowNotebookDocument(i.uri,i.viewType,m),_=E&&((y=this._editors.get(E))===null||y===void 0?void 0:y.editor);if(_)return _;throw E?new Error(`Could NOT open editor for "${i.toString()}" because another editor opened in the meantime.`):new Error(`Could NOT open editor for "${i.toString()}".`)}async $provideNotebookKernels(i,h,y){return this._withAdapter(i,h,(m,E)=>m.provideKernels(E,y))}async $resolveNotebookKernel(i,h,y,m,E){await this._withAdapter(i,y,async(_,L)=>{const R=this._webviewComm.get(h);R&&await _.resolveNotebook(m,L,R.contentProviderComm,E)})}async $resolveNotebookData(i,h,y){const m=this._notebookContentProviders.get(i);if(!m)throw new Error(`NO provider for '${i}'`);const E=await m.provider.openNotebook(T.URI.revive(h),{backupId:y});return{metadata:Object.assign(Object.assign({},S.notebookDocumentMetadataDefaults),E.metadata),languages:E.languages,cells:E.cells.map(_=>Object.assign(Object.assign({},_),{outputs:_.outputs.map(L=>S.addIdToOutput(L))}))}}async $resolveNotebookEditor(i,h,y){const m=this._notebookContentProviders.get(i),E=T.URI.revive(h),_=this._documents.get(E);if(!(!_||!m)){let L=this._webviewComm.get(y);L||(L=new p(y,E,this._proxy,this._webviewInitData,_),this._webviewComm.set(y,L)),!!m.provider.resolveNotebook&&await m.provider.resolveNotebook(_.notebookDocument,L.contentProviderComm)}}async $executeNotebookKernelFromProvider(i,h,y,m){await this._withAdapter(i,h,async(E,_)=>{const L=m!==void 0?_.getCell(m):void 0;return E.executeNotebook(y,_,L)})}async $cancelNotebookKernelFromProvider(i,h,y,m){await this._withAdapter(i,h,async(E,_)=>{const L=m!==void 0?_.getCell(m):void 0;return E.cancelNotebook(y,_,L)})}async $saveNotebook(i,h,y){const m=this._documents.get(T.URI.revive(h));return m&&this._notebookContentProviders.has(i)?(await this._notebookContentProviders.get(i).provider.saveNotebook(m.notebookDocument,y),!0):!1}async $saveNotebookAs(i,h,y,m){const E=this._documents.get(T.URI.revive(h));return E&&this._notebookContentProviders.has(i)?(await this._notebookContentProviders.get(i).provider.saveNotebookAs(T.URI.revive(y),E.notebookDocument,m),!0):!1}async $undoNotebook(i,h,y,m){const E=this._documents.get(T.URI.revive(h));!E||E.undo(y,m)}async $redoNotebook(i,h,y,m){const E=this._documents.get(T.URI.revive(h));!E||E.redo(y,m)}async $backup(i,h,y){const m=this._documents.get(T.URI.revive(h)),E=this._notebookContentProviders.get(i);if(m&&E&&E.provider.backupNotebook){const _=await E.provider.backupNotebook(m.notebookDocument,{destination:m.getNewBackupUri()},y);return m.updateBackup(_),_.id}}$acceptDisplayOrder(i){this._outputDisplayOrder=i}$acceptNotebookActiveKernelChange(i){i.providerHandle!==void 0&&this._withAdapter(i.providerHandle,i.uri,async(h,y)=>{const m=i.kernelFriendlyId?h.getKernelByFriendlyId(i.kernelFriendlyId):void 0;this._editors.forEach(E=>{E.editor.notebookData===y&&E.editor._acceptKernel(m)}),this._onDidChangeActiveNotebookKernel.fire({document:y.notebookDocument,kernel:m})})}_getEditorFromURI(i){const h=T.URI.revive(i).toString();let y;return this._editors.forEach(m=>{m.editor.document.uri.toString()===h&&(y=m)}),y}$onDidReceiveMessage(i,h,y){var m;(m=this._webviewComm.get(i))===null||m===void 0||m.onDidReceiveMessage(h,y)}$acceptModelChanged(i,h,y){const m=this._documents.get(T.URI.revive(i));m&&m.acceptModelChanged(h,y)}$acceptModelSaved(i){const h=this._documents.get(T.URI.revive(i));h&&this._onDidSaveNotebookDocument.fire(h.notebookDocument)}$acceptEditorPropertiesChanged(i,h){var y;this.logService.debug("ExtHostNotebook#$acceptEditorPropertiesChanged",i,h);let m;if(this._editors.forEach(E=>{E.editor.id===i&&(m=E)}),!!m&&(h.visibleRanges&&(m.editor._acceptVisibleRanges(h.visibleRanges.ranges),this._onDidChangeNotebookEditorVisibleRanges.fire({notebookEditor:m.editor,visibleRanges:m.editor.visibleRanges})),h.selections)){if(h.selections.selections.length){const E=h.selections.selections[0];m.editor.selection=(y=m.editor.notebookData.getCell(E))===null||y===void 0?void 0:y.cell}else m.editor.selection=void 0;this._onDidChangeNotebookEditorSelection.fire({notebookEditor:m.editor,selection:m.editor.selection})}}$acceptDocumentPropertiesChanged(i,h){this.logService.debug("ExtHostNotebook#$acceptDocumentPropertiesChanged",i.path,h);const y=this._getEditorFromURI(i);!y||h.metadata&&y.editor.notebookData.acceptDocumentPropertiesChanged(h)}_createExtHostEditor(i,h,y,m){var E,_;const L=i.uri;let R=this._webviewComm.get(h);R||(R=new p(h,L,this._proxy,this._webviewInitData,i),this._webviewComm.set(h,R));const N=new u.ExtHostNotebookEditor(h,i.notebookDocument.viewType,this._proxy,R.contentProviderComm,i);if(y.length){const W=y[0];N.selection=(E=N.notebookData.getCell(W))===null||E===void 0?void 0:E.cell}else N.selection=void 0;N._acceptVisibleRanges(m),(_=this._editors.get(h))===null||_===void 0||_.editor.dispose(),this._editors.set(h,{editor:N})}$acceptDocumentAndEditorsDelta(i){var h,y,m,E,_;let L=!1;if(i.removedDocuments)for(const N of i.removedDocuments){const W=T.URI.revive(N),x=this._documents.get(W);x&&(x.dispose(),this._documents.delete(W),this._documentsAndEditors.$acceptDocumentsAndEditorsDelta({removedDocuments:x.notebookDocument.cells.map(M=>M.uri)}),this._onDidCloseNotebookDocument.fire(x.notebookDocument));for(const M of this._editors.values())M.editor.document.uri.toString()===W.toString()&&(M.editor.dispose(),this._editors.delete(M.editor.id),L=!0)}if(i.addedDocuments){const N=[];for(const W of i.addedDocuments){const x=T.URI.revive(W.uri),M=W.viewType,$=this._notebookContentProviders.get(M),O=$&&((h=this._extensionStoragePaths.workspaceValue($.extension))!==null&&h!==void 0?h:this._extensionStoragePaths.globalValue($.extension));if(this._documents.has(x))throw new Error(`adding EXISTING notebook ${x}`);const z=this,J=new f.ExtHostNotebookDocument(this._proxy,this._documentsAndEditors,this._mainThreadBulkEdits,{emitModelChange(U){z._onDidChangeNotebookCells.fire(U)},emitCellOutputsChange(U){z._onDidChangeCellOutputs.fire(U)},emitCellLanguageChange(U){z._onDidChangeCellLanguage.fire(U)},emitCellMetadataChange(U){z._onDidChangeCellMetadata.fire(U)},emitDocumentMetadataChange(U){z._onDidChangeNotebookDocumentMetadata.fire(U)}},M,W.contentOptions,Object.assign(Object.assign({},S.notebookDocumentMetadataDefaults),W.metadata),x,O);J.acceptModelChanged({versionId:W.versionId,rawEvents:[{kind:S.NotebookCellsChangeType.Initialize,changes:[[0,0,W.cells]]}]},!1),N.push(...W.cells.map(U=>f.ExtHostCell.asModelAddData(J.notebookDocument,U))),(y=this._documents.get(x))===null||y===void 0||y.dispose(),this._documents.set(x,J),W.attachedEditor&&(this._createExtHostEditor(J,W.attachedEditor.id,W.attachedEditor.selections,W.attachedEditor.visibleRanges),L=!0),this._documentsAndEditors.$acceptDocumentsAndEditorsDelta({addedDocuments:N}),this._onDidOpenNotebookDocument.fire(J.notebookDocument)}}if(i.addedEditors)for(const N of i.addedEditors){if(this._editors.has(N.id))return;const W=T.URI.revive(N.documentUri),x=this._documents.get(W);x&&(this._createExtHostEditor(x,N.id,N.selections,N.visibleRanges),L=!0)}const R=[];if(i.removedEditors)for(const N of i.removedEditors){const W=this._editors.get(N);W&&(L=!0,this._editors.delete(N),((m=this.activeNotebookEditor)===null||m===void 0?void 0:m.id)===W.editor.id&&(this._activeNotebookEditor=void 0),R.push(W))}if(L&&R.forEach(N=>{N.editor.dispose()}),i.visibleEditors){this.visibleNotebookEditors=i.visibleEditors.map(W=>this._editors.get(W).editor).filter(W=>!!W);const N=new Set;this.visibleNotebookEditors.forEach(W=>N.add(W.id));for(const W of this._editors.values()){const x=N.has(W.editor.id);W.editor._acceptVisibility(x)}this.visibleNotebookEditors=[...this._editors.values()].map(W=>W.editor).filter(W=>W.visible),this._onDidChangeVisibleNotebookEditors.fire(this.visibleNotebookEditors)}if(i.newActiveEditor!==void 0){if(i.newActiveEditor){this._activeNotebookEditor=(E=this._editors.get(i.newActiveEditor))===null||E===void 0?void 0:E.editor,(_=this._activeNotebookEditor)===null||_===void 0||_._acceptActive(!0);for(const N of this._editors.values())N.editor!==this.activeNotebookEditor&&N.editor._acceptActive(!1)}else{this._activeNotebookEditor=void 0;for(const N of this._editors.values())N.editor._acceptActive(!1)}this._onDidChangeActiveNotebookEditor.fire(this._activeNotebookEditor)}}createNotebookCellStatusBarItemInternal(i,h,y){const m=new r(this._proxy,this._commandsConverter,i,h,y),E=S.CellUri.parse(i.uri);if(E){const _=this._documents.get(E.notebook);if(_){const L=_.getCell(E.handle);L&&k.Event.once(L.onDidDispose)(()=>m.dispose())}}return m}}e.ExtHostNotebookController=c,c._notebookKernelProviderHandlePool=0;function t(a){return typeof a.undo=="function"&&typeof a.redo=="function"}class r extends A.Disposable{constructor(i,h,y,m,E){super();this._proxy=i,this._commands=h,this._cell=y,this._priority=E,this._id=r.NEXT_ID++,this._isDisposed=!1,this._text="",this._visible=!1,this._internalCommandRegistration=this._register(new A.DisposableStore),this._alignment=m!=null?m:n.NotebookCellStatusBarAlignment.Left}get apiItem(){return this._apiItem||(this._apiItem=o(this)),this._apiItem}get cell(){return this._cell}get alignment(){return this._alignment}set alignment(i){this._alignment=i,this.update()}get priority(){return this._priority}set priority(i){this._priority=i,this.update()}get text(){return this._text}set text(i){this._text=i,this.update()}get tooltip(){return this._tooltip}set tooltip(i){this._tooltip=i,this.update()}get command(){var i;return(i=this._command)===null||i===void 0?void 0:i.fromApi}set command(i){var h;((h=this._command)===null||h===void 0?void 0:h.fromApi)!==i&&(this._internalCommandRegistration.clear(),typeof i=="string"?this._command={fromApi:i,internal:this._commands.toInternal({title:"",command:i},this._internalCommandRegistration)}:i?this._command={fromApi:i,internal:this._commands.toInternal(i,this._internalCommandRegistration)}:this._command=void 0,this.update())}get accessibilityInformation(){return this._accessibilityInformation}set accessibilityInformation(i){this._accessibilityInformation=i,this.update()}show(){this._visible=!0,this.update()}hide(){this._visible=!1,this.update()}dispose(){this.hide(),this._isDisposed=!0,this._internalCommandRegistration.dispose()}update(){var i;if(!this._isDisposed){const h={alignment:this.alignment===n.NotebookCellStatusBarAlignment.Left?0:1,cellResource:this.cell.uri,command:(i=this._command)===null||i===void 0?void 0:i.internal,text:this.text,tooltip:this.tooltip,accessibilityInformation:this.accessibilityInformation,priority:this.priority,visible:this._visible};this._proxy.$setStatusBarEntry(this._id,h)}}}e.NotebookCellStatusBarItemInternal=r,r.NEXT_ID=0;function o(a){return Object.freeze({cell:a.cell,get alignment(){return a.alignment},set alignment(i){a.alignment=i},get priority(){return a.priority},set priority(i){a.priority=i},get text(){return a.text},set text(i){a.text=i},get tooltip(){return a.tooltip},set tooltip(i){a.tooltip=i},get command(){return a.command},set command(i){a.command=i},get accessibilityInformation(){return a.accessibilityInformation},set accessibilityInformation(i){a.accessibilityInformation=i},show(){a.show()},hide(){a.hide()},dispose(){a.dispose()}})}}),define(ge[65],pe([0,1,6,3,5,27,4,14]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostOutputService=e.ExtHostOutputService=e.LazyOutputChannel=e.ExtHostPushOutputChannel=e.AbstractExtHostOutputChannel=void 0;class C extends A.Disposable{constructor(u,g,b,p){super();this._onDidAppend=this._register(new k.Emitter),this.onDidAppend=this._onDidAppend.event,this._name=u,this._proxy=p,this._id=p.$register(this.name,g,b),this._disposed=!1,this._offset=0}get name(){return this._name}append(u){this.validate(),this._offset+=u?T.VSBuffer.fromString(u).byteLength:0}update(){this._id.then(u=>this._proxy.$update(u))}appendLine(u){this.validate(),this.append(u+`
`)}clear(){this.validate();const u=this._offset;this._id.then(g=>this._proxy.$clear(g,u))}show(u,g){this.validate(),this._id.then(b=>this._proxy.$reveal(b,!!(typeof u=="boolean"?u:g)))}hide(){this.validate(),this._id.then(u=>this._proxy.$close(u))}validate(){if(this._disposed)throw new Error("Channel has been closed")}dispose(){super.dispose(),this._disposed||this._id.then(u=>this._proxy.$dispose(u)).then(()=>this._disposed=!0)}}e.AbstractExtHostOutputChannel=C;class n extends C{constructor(u,g){super(u,!1,void 0,g)}append(u){super.append(u),this._id.then(g=>this._proxy.$append(g,u)),this._onDidAppend.fire()}}e.ExtHostPushOutputChannel=n;class I extends C{constructor(u,g,b){super(u,!0,g,b)}append(u){throw new Error("Not supported")}}class S{constructor(u,g){this.name=u,this._channel=g}append(u){this._channel.then(g=>g.append(u))}appendLine(u){this._channel.then(g=>g.appendLine(u))}clear(){this._channel.then(u=>u.clear())}show(u,g){this._channel.then(b=>b.show(u,g))}hide(){this._channel.then(u=>u.hide())}dispose(){this._channel.then(u=>u.dispose())}}e.LazyOutputChannel=S;let v=class{constructor(u){this._proxy=u.getProxy(w.MainContext.MainThreadOutputService)}$setVisibleChannel(u){}createOutputChannel(u){if(u=u.trim(),!u)throw new Error("illegal argument `name`. must not be falsy");return new n(u,this._proxy)}createOutputChannelFromLogFile(u,g){if(u=u.trim(),!u)throw new Error("illegal argument `name`. must not be falsy");if(!g)throw new Error("illegal argument `file`. must not be falsy");return new I(u,g,this._proxy)}};v=He([Fe(0,D.IExtHostRpcService)],v),e.ExtHostOutputService=v,e.IExtHostOutputService=P.createDecorator("IExtHostOutputService")}),define(ge[242],pe([0,1,19,21,3,5,6,2,8,15,12]),function(Z,e,w,k,A,T,P,D,C,n,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostQuickOpen=void 0;class S{constructor(s,l,c){this._sessions=new Map,this._instances=0,this._proxy=s.getProxy(P.MainContext.MainThreadQuickOpen),this._workspace=l,this._commands=c}showQuickPick(s,l,c,t=k.CancellationToken.None){this._onDidSelectItem=void 0;const r=Promise.resolve(s),o=++this._instances,a=this._proxy.$show(o,{placeHolder:c&&c.placeHolder,matchOnDescription:c&&c.matchOnDescription,matchOnDetail:c&&c.matchOnDetail,ignoreFocusLost:c&&c.ignoreFocusOut,canPickMany:c&&c.canPickMany},t),i={},h=a.then(()=>i);return Promise.race([h,r]).then(y=>{if(y!==i)return r.then(m=>{const E=[];for(let _=0;_<m.length;_++){const L=m[_];let R,N,W,x,M;typeof L=="string"?R=L:(R=L.label,N=L.description,W=L.detail,x=L.picked,M=L.alwaysShow),E.push({label:R,description:N,handle:_,detail:W,picked:x,alwaysShow:M})}return c&&typeof c.onDidSelectItem=="function"&&(this._onDidSelectItem=_=>{c.onDidSelectItem(m[_])}),this._proxy.$setItems(o,E),a.then(_=>{if(typeof _=="number")return m[_];if(Array.isArray(_))return _.map(L=>m[L])})})}).then(void 0,y=>{if(!n.isPromiseCanceledError(y))return this._proxy.$setError(o,y),Promise.reject(y)})}$onItemSelected(s){this._onDidSelectItem&&this._onDidSelectItem(s)}showInput(s,l=k.CancellationToken.None){return this._validateInput=s?s.validateInput:void 0,this._proxy.$input(s,typeof this._validateInput=="function",l).then(void 0,c=>{if(!n.isPromiseCanceledError(c))return Promise.reject(c)})}$validateInput(s){return this._validateInput?w.asPromise(()=>this._validateInput(s)):Promise.resolve(void 0)}async showWorkspaceFolderPick(s,l=k.CancellationToken.None){const c=await this._commands.executeCommand("_workbench.pickWorkspaceFolder",[s]);if(!!c){const t=await this._workspace.getWorkspaceFolders2();if(!!t)return t.find(r=>r.uri.toString()===c.uri.toString())}}createQuickPick(s,l){const c=new b(this._proxy,s,l,()=>this._sessions.delete(c._id));return this._sessions.set(c._id,c),c}createInputBox(s){const l=new p(this._proxy,s,()=>this._sessions.delete(l._id));return this._sessions.set(l._id,l),l}$onDidChangeValue(s,l){const c=this._sessions.get(s);c&&c._fireDidChangeValue(l)}$onDidAccept(s){const l=this._sessions.get(s);l&&l._fireDidAccept()}$onDidChangeActive(s,l){const c=this._sessions.get(s);c instanceof b&&c._fireDidChangeActive(l)}$onDidChangeSelection(s,l){const c=this._sessions.get(s);c instanceof b&&c._fireDidChangeSelection(l)}$onDidTriggerButton(s,l){const c=this._sessions.get(s);c&&c._fireDidTriggerButton(l)}$onDidHide(s){const l=this._sessions.get(s);l&&l._fireDidHide()}}e.ExtHostQuickOpen=S;class v{constructor(s,l,c){this._proxy=s,this._extensionId=l,this._onDidDispose=c,this._id=b._nextId++,this._visible=!1,this._expectingHide=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!0,this._value="",this._buttons=[],this._handlesToButtons=new Map,this._onDidAcceptEmitter=new A.Emitter,this._onDidChangeValueEmitter=new A.Emitter,this._onDidTriggerButtonEmitter=new A.Emitter,this._onDidHideEmitter=new A.Emitter,this._pendingUpdate={id:this._id},this._disposed=!1,this._disposables=[this._onDidTriggerButtonEmitter,this._onDidHideEmitter,this._onDidAcceptEmitter,this._onDidChangeValueEmitter],this.onDidChangeValue=this._onDidChangeValueEmitter.event,this.onDidAccept=this._onDidAcceptEmitter.event,this.onDidTriggerButton=this._onDidTriggerButtonEmitter.event,this.onDidHide=this._onDidHideEmitter.event}get title(){return this._title}set title(s){this._title=s,this.update({title:s})}get step(){return this._steps}set step(s){this._steps=s,this.update({step:s})}get totalSteps(){return this._totalSteps}set totalSteps(s){this._totalSteps=s,this.update({totalSteps:s})}get enabled(){return this._enabled}set enabled(s){this._enabled=s,this.update({enabled:s})}get busy(){return this._busy}set busy(s){this._busy=s,this.update({busy:s})}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(s){this._ignoreFocusOut=s,this.update({ignoreFocusOut:s})}get value(){return this._value}set value(s){this._value=s,this.update({value:s})}get placeholder(){return this._placeholder}set placeholder(s){this._placeholder=s,this.update({placeholder:s})}get buttons(){return this._buttons}set buttons(s){this._buttons=s.slice(),this._handlesToButtons.clear(),s.forEach((l,c)=>{const t=l===C.QuickInputButtons.Back?-1:c;this._handlesToButtons.set(t,l)}),this.update({buttons:s.map((l,c)=>({iconPath:f(l.iconPath),tooltip:l.tooltip,handle:l===C.QuickInputButtons.Back?-1:c}))})}show(){this._visible=!0,this._expectingHide=!0,this.update({visible:!0})}hide(){this._visible=!1,this.update({visible:!1})}_fireDidAccept(){this._onDidAcceptEmitter.fire()}_fireDidChangeValue(s){this._value=s,this._onDidChangeValueEmitter.fire(s)}_fireDidTriggerButton(s){const l=this._handlesToButtons.get(s);l&&this._onDidTriggerButtonEmitter.fire(l)}_fireDidHide(){this._expectingHide&&(this._expectingHide=!1,this._onDidHideEmitter.fire())}dispose(){this._disposed||(this._disposed=!0,this._fireDidHide(),this._disposables=T.dispose(this._disposables),this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this._onDidDispose(),this._proxy.$dispose(this._id))}update(s){if(!this._disposed){for(const l of Object.keys(s)){const c=s[l];this._pendingUpdate[l]=c===void 0?null:c}"visible"in this._pendingUpdate?(this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this.dispatchUpdate()):this._visible&&!this._updateTimeout&&(this._updateTimeout=setTimeout(()=>{this._updateTimeout=void 0,this.dispatchUpdate()},0))}}dispatchUpdate(){this._proxy.$createOrUpdate(this._pendingUpdate),this._pendingUpdate={id:this._id}}}v._nextId=1;function f(d){if(d instanceof C.ThemeIcon)return{id:d.id};const s=g(d),l=u(d);return{dark:typeof s=="string"?D.URI.file(s):s,light:typeof l=="string"?D.URI.file(l):l}}function u(d){return typeof d=="object"&&"light"in d?d.light:d}function g(d){return typeof d=="object"&&"dark"in d?d.dark:d}class b extends v{constructor(s,l,c,t){super(s,l,t);this._items=[],this._handlesToItems=new Map,this._itemsToHandles=new Map,this._canSelectMany=!1,this._matchOnDescription=!0,this._matchOnDetail=!0,this._sortByLabel=!0,this._activeItems=[],this._onDidChangeActiveEmitter=new A.Emitter,this._selectedItems=[],this._onDidChangeSelectionEmitter=new A.Emitter,this.onDidChangeActive=this._onDidChangeActiveEmitter.event,this.onDidChangeSelection=this._onDidChangeSelectionEmitter.event,this._disposables.push(this._onDidChangeActiveEmitter,this._onDidChangeSelectionEmitter),this.update({type:"quickPick"})}get items(){return this._items}set items(s){this._items=s.slice(),this._handlesToItems.clear(),this._itemsToHandles.clear(),s.forEach((l,c)=>{this._handlesToItems.set(c,l),this._itemsToHandles.set(l,c)}),this.update({items:s.map((l,c)=>({label:l.label,description:l.description,handle:c,detail:l.detail,picked:l.picked,alwaysShow:l.alwaysShow}))})}get canSelectMany(){return this._canSelectMany}set canSelectMany(s){this._canSelectMany=s,this.update({canSelectMany:s})}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(s){this._matchOnDescription=s,this.update({matchOnDescription:s})}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(s){this._matchOnDetail=s,this.update({matchOnDetail:s})}get sortByLabel(){return this._sortByLabel}set sortByLabel(s){this._sortByLabel=s,this.update({sortByLabel:s})}get activeItems(){return this._activeItems}set activeItems(s){this._activeItems=s.filter(l=>this._itemsToHandles.has(l)),this.update({activeItems:this._activeItems.map(l=>this._itemsToHandles.get(l))})}get selectedItems(){return this._selectedItems}set selectedItems(s){this._selectedItems=s.filter(l=>this._itemsToHandles.has(l)),this.update({selectedItems:this._selectedItems.map(l=>this._itemsToHandles.get(l))})}_fireDidChangeActive(s){const l=I.coalesce(s.map(c=>this._handlesToItems.get(c)));this._activeItems=l,this._onDidChangeActiveEmitter.fire(l)}_fireDidChangeSelection(s){const l=I.coalesce(s.map(c=>this._handlesToItems.get(c)));this._selectedItems=l,this._onDidChangeSelectionEmitter.fire(l)}}class p extends v{constructor(s,l,c){super(s,l,c);this._password=!1,this.update({type:"inputBox"})}get password(){return this._password}set password(s){this._password=s,this.update({password:s})}get prompt(){return this._prompt}set prompt(s){this._prompt=s,this.update({prompt:s})}get validationMessage(){return this._validationMessage}set validationMessage(s){this._validationMessage=s,this.update({validationMessage:s})}}}),define(ge[243],pe([0,1,2,3,55,5,19,6,12,93,11,29,42]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostSCM=e.ExtHostSCMInputBox=void 0;function f(a){if(a)return typeof a.iconPath=="string"?w.URI.file(a.iconPath):a.iconPath}function u(a,i){if(!a.iconPath&&!i.iconPath)return 0;if(a.iconPath){if(!i.iconPath)return 1}else return-1;const h=typeof a.iconPath=="string"?a.iconPath:a.iconPath.fsPath,y=typeof i.iconPath=="string"?i.iconPath:i.iconPath.fsPath;return n.comparePaths(h,y)}function g(a,i){let h=0;if(a.strikeThrough!==i.strikeThrough)return a.strikeThrough?1:-1;if(a.faded!==i.faded)return a.faded?1:-1;if(a.tooltip!==i.tooltip)return(a.tooltip||"").localeCompare(i.tooltip||"");if(h=u(a,i),h!==0)return h;if(a.light&&i.light)h=u(a.light,i.light);else{if(a.light)return 1;if(i.light)return-1}if(h!==0)return h;if(a.dark&&i.dark)h=u(a.dark,i.dark);else{if(a.dark)return 1;if(i.dark)return-1}return h}function b(a,i){if(a.command!==i.command)return a.command<i.command?-1:1;if(a.title!==i.title)return a.title<i.title?-1:1;if(a.tooltip!==i.tooltip){if(a.tooltip!==void 0&&i.tooltip!==void 0)return a.tooltip<i.tooltip?-1:1;if(a.tooltip!==void 0)return 1;if(i.tooltip!==void 0)return-1}if(a.arguments===i.arguments)return 0;if(a.arguments)if(i.arguments){if(a.arguments.length!==i.arguments.length)return a.arguments.length-i.arguments.length}else return 1;else return-1;for(let h=0;h<a.arguments.length;h++){const y=a.arguments[h],m=i.arguments[h];if(y!==m)return y<m?-1:1}return 0}function p(a,i){let h=n.comparePaths(a.resourceUri.fsPath,i.resourceUri.fsPath,!0);if(h!==0)return h;if(a.command&&i.command)h=b(a.command,i.command);else{if(a.command)return 1;if(i.command)return-1}if(h!==0)return h;if(a.decorations&&i.decorations)h=g(a.decorations,i.decorations);else{if(a.decorations)return 1;if(i.decorations)return-1}return h}function d(a,i){for(let h=0;h<a.length;h++)if(a[h]!==i[h])return!1;return!0}function s(a,i){return a.command===i.command&&a.title===i.title&&a.tooltip===i.tooltip&&(a.arguments&&i.arguments?d(a.arguments,i.arguments):a.arguments===i.arguments)}function l(a,i){return C.equals(a,i,s)}class c{constructor(i,h,y){this._extension=i,this._proxy=h,this._sourceControlHandle=y,this._value="",this._onDidChange=new k.Emitter,this._placeholder="",this._visible=!0}get value(){return this._value}set value(i){this._proxy.$setInputBoxValue(this._sourceControlHandle,i),this.updateValue(i)}get onDidChange(){return this._onDidChange.event}get placeholder(){return this._placeholder}set placeholder(i){this._proxy.$setInputBoxPlaceholder(this._sourceControlHandle,i),this._placeholder=i}get validateInput(){return v.checkProposedApiEnabled(this._extension),this._validateInput}set validateInput(i){if(v.checkProposedApiEnabled(this._extension),i&&typeof i!="function")throw new Error(`[${this._extension.identifier.value}]: Invalid SCM input box validation function`);this._validateInput=i,this._proxy.$setValidationProviderIsEnabled(this._sourceControlHandle,!!i)}get visible(){return this._visible}set visible(i){i=!!i,this._visible!==i&&(this._visible=i,this._proxy.$setInputBoxVisibility(this._sourceControlHandle,i))}$onInputBoxValueChange(i){this.updateValue(i)}updateValue(i){this._value=i,this._onDidChange.fire(i)}}e.ExtHostSCMInputBox=c;class t{constructor(i,h,y,m,E){this._proxy=i,this._commands=h,this._sourceControlHandle=y,this._id=m,this._label=E,this._resourceHandlePool=0,this._resourceStates=[],this._resourceStatesMap=new Map,this._resourceStatesCommandsMap=new Map,this._resourceStatesDisposablesMap=new Map,this._onDidUpdateResourceStates=new k.Emitter,this.onDidUpdateResourceStates=this._onDidUpdateResourceStates.event,this._disposed=!1,this._onDidDispose=new k.Emitter,this.onDidDispose=this._onDidDispose.event,this._handlesSnapshot=[],this._resourceSnapshot=[],this._hideWhenEmpty=void 0,this.handle=t._handlePool++}get disposed(){return this._disposed}get id(){return this._id}get label(){return this._label}set label(i){this._label=i,this._proxy.$updateGroupLabel(this._sourceControlHandle,this.handle,i)}get hideWhenEmpty(){return this._hideWhenEmpty}set hideWhenEmpty(i){this._hideWhenEmpty=i,this._proxy.$updateGroup(this._sourceControlHandle,this.handle,this.features)}get features(){return{hideWhenEmpty:this.hideWhenEmpty}}get resourceStates(){return[...this._resourceStates]}set resourceStates(i){this._resourceStates=[...i],this._onDidUpdateResourceStates.fire()}getResourceState(i){return this._resourceStatesMap.get(i)}$executeResourceCommand(i,h){const y=this._resourceStatesCommandsMap.get(i);return y?P.asPromise(()=>this._commands.executeCommand(y.command,...y.arguments||[],h)):Promise.resolve(void 0)}_takeResourceStateSnapshot(){var i;const h=[...this._resourceStates].sort(p),m=C.sortedDiff(this._resourceSnapshot,h,p).map(L=>{const R=L.toInsert.map(N=>{const W=this._resourceHandlePool++;this._resourceStatesMap.set(W,N);const x=N.resourceUri,M=f(N.decorations),$=N.decorations&&f(N.decorations.light)||M,O=N.decorations&&f(N.decorations.dark)||M,z=[];let J;if(N.command)if(N.command.command==="vscode.open"||N.command.command==="vscode.diff"){const ce=new T.DisposableStore;J=this._commands.converter.toInternal(N.command,ce),this._resourceStatesDisposablesMap.set(W,ce)}else this._resourceStatesCommandsMap.set(W,N.command);$&&z.push($),O&&O.toString()!==($==null?void 0:$.toString())&&z.push(O);const U=N.decorations&&N.decorations.tooltip||"",V=N.decorations&&!!N.decorations.strikeThrough,B=N.decorations&&!!N.decorations.faded,Y=N.contextValue||"";return{rawResource:[W,x,z,U,V,B,Y,J],handle:W}});return{start:L.start,deleteCount:L.deleteCount,toInsert:R}}),E=m.map(({start:L,deleteCount:R,toInsert:N})=>[L,R,N.map(W=>W.rawResource)]),_=m.reverse();for(const{start:L,deleteCount:R,toInsert:N}of _){const W=N.map(M=>M.handle),x=this._handlesSnapshot.splice(L,R,...W);for(const M of x)this._resourceStatesMap.delete(M),this._resourceStatesCommandsMap.delete(M),(i=this._resourceStatesDisposablesMap.get(M))===null||i===void 0||i.dispose(),this._resourceStatesDisposablesMap.delete(M)}return this._resourceSnapshot=h,E}dispose(){this._disposed=!0,this._onDidDispose.fire()}}t._handlePool=0;class r{constructor(i,h,y,m,E,_){this._proxy=h,this._commands=y,this._id=m,this._label=E,this._rootUri=_,this._groups=new Map,this._count=void 0,this._quickDiffProvider=void 0,this._commitTemplate=void 0,this._acceptInputDisposables=new T.MutableDisposable,this._acceptInputCommand=void 0,this._statusBarDisposables=new T.MutableDisposable,this._statusBarCommands=void 0,this._selected=!1,this._onDidChangeSelection=new k.Emitter,this.onDidChangeSelection=this._onDidChangeSelection.event,this.handle=r._handlePool++,this.createdResourceGroups=new Map,this.updatedResourceGroups=new Set,this._inputBox=new c(i,this._proxy,this.handle),this._proxy.$registerSourceControl(this.handle,m,E,_)}get id(){return this._id}get label(){return this._label}get rootUri(){return this._rootUri}get inputBox(){return this._inputBox}get count(){return this._count}set count(i){this._count!==i&&(this._count=i,this._proxy.$updateSourceControl(this.handle,{count:i}))}get quickDiffProvider(){return this._quickDiffProvider}set quickDiffProvider(i){this._quickDiffProvider=i,this._proxy.$updateSourceControl(this.handle,{hasQuickDiffProvider:!!i})}get commitTemplate(){return this._commitTemplate}set commitTemplate(i){i!==this._commitTemplate&&(this._commitTemplate=i,this._proxy.$updateSourceControl(this.handle,{commitTemplate:i}))}get acceptInputCommand(){return this._acceptInputCommand}set acceptInputCommand(i){this._acceptInputDisposables.value=new T.DisposableStore,this._acceptInputCommand=i;const h=this._commands.converter.toInternal(i,this._acceptInputDisposables.value);this._proxy.$updateSourceControl(this.handle,{acceptInputCommand:h})}get statusBarCommands(){return this._statusBarCommands}set statusBarCommands(i){if(!(this._statusBarCommands&&i&&l(this._statusBarCommands,i))){this._statusBarDisposables.value=new T.DisposableStore,this._statusBarCommands=i;const h=(i||[]).map(y=>this._commands.converter.toInternal(y,this._statusBarDisposables.value));this._proxy.$updateSourceControl(this.handle,{statusBarCommands:h})}}get selected(){return this._selected}createResourceGroup(i,h){const y=new t(this._proxy,this._commands,this.handle,i,h),m=k.Event.once(y.onDidDispose)(()=>this.createdResourceGroups.delete(y));return this.createdResourceGroups.set(y,m),this.eventuallyAddResourceGroups(),y}eventuallyAddResourceGroups(){const i=[],h=[];for(const[y,m]of this.createdResourceGroups){m.dispose();const E=y.onDidUpdateResourceStates(()=>{this.updatedResourceGroups.add(y),this.eventuallyUpdateResourceStates()});k.Event.once(y.onDidDispose)(()=>{this.updatedResourceGroups.delete(y),E.dispose(),this._groups.delete(y.handle),this._proxy.$unregisterGroup(this.handle,y.handle)}),i.push([y.handle,y.id,y.label,y.features]);const _=y._takeResourceStateSnapshot();_.length>0&&h.push([y.handle,_]),this._groups.set(y.handle,y)}this._proxy.$registerGroups(this.handle,i,h),this.createdResourceGroups.clear()}eventuallyUpdateResourceStates(){const i=[];this.updatedResourceGroups.forEach(h=>{const y=h._takeResourceStateSnapshot();y.length!==0&&i.push([h.handle,y])}),i.length>0&&this._proxy.$spliceResourceStates(this.handle,i),this.updatedResourceGroups.clear()}getResourceGroup(i){return this._groups.get(i)}setSelectionState(i){this._selected=i,this._onDidChangeSelection.fire(i)}dispose(){this._acceptInputDisposables.dispose(),this._statusBarDisposables.dispose(),this._groups.forEach(i=>i.dispose()),this._proxy.$unregisterSourceControl(this.handle)}}r._handlePool=0,He([A.debounce(100)],r.prototype,"eventuallyAddResourceGroups",null),He([A.debounce(100)],r.prototype,"eventuallyUpdateResourceStates",null);let o=class yi{constructor(i,h,y){this._commands=h,this.logService=y,this._sourceControls=new Map,this._sourceControlsByExtension=new Map,this._onDidChangeActiveProvider=new k.Emitter,this._proxy=i.getProxy(D.MainContext.MainThreadSCM),this._telemetry=i.getProxy(D.MainContext.MainThreadTelemetry),h.registerArgumentProcessor({processArgument:m=>{if(m&&m.$mid===3){const E=this._sourceControls.get(m.sourceControlHandle);if(!E)return m;const _=E.getResourceGroup(m.groupHandle);return _?_.getResourceState(m.handle):m}else if(m&&m.$mid===4){const E=this._sourceControls.get(m.sourceControlHandle);return E?E.getResourceGroup(m.groupHandle):m}else if(m&&m.$mid===5){const E=this._sourceControls.get(m.handle);return E||m}return m}})}get onDidChangeActiveProvider(){return this._onDidChangeActiveProvider.event}createSourceControl(i,h,y,m){this.logService.trace("ExtHostSCM#createSourceControl",i.identifier.value,h,y,m),this._telemetry.$publicLog2("api/scm/createSourceControl",{extensionId:i.identifier.value});const E=yi._handlePool++,_=new r(i,this._proxy,this._commands,h,y,m);this._sourceControls.set(E,_);const L=this._sourceControlsByExtension.get(S.ExtensionIdentifier.toKey(i.identifier))||[];return L.push(_),this._sourceControlsByExtension.set(S.ExtensionIdentifier.toKey(i.identifier),L),_}getLastInputBox(i){this.logService.trace("ExtHostSCM#getLastInputBox",i.identifier.value);const h=this._sourceControlsByExtension.get(S.ExtensionIdentifier.toKey(i.identifier)),y=h&&h[h.length-1];return y&&y.inputBox}$provideOriginalResource(i,h,y){const m=w.URI.revive(h);this.logService.trace("ExtHostSCM#$provideOriginalResource",i,m.toString());const E=this._sourceControls.get(i);return!E||!E.quickDiffProvider||!E.quickDiffProvider.provideOriginalResource?Promise.resolve(null):P.asPromise(()=>E.quickDiffProvider.provideOriginalResource(m,y)).then(_=>_||null)}$onInputBoxValueChange(i,h){this.logService.trace("ExtHostSCM#$onInputBoxValueChange",i);const y=this._sourceControls.get(i);return y&&y.inputBox.$onInputBoxValueChange(h),Promise.resolve(void 0)}$executeResourceCommand(i,h,y,m){this.logService.trace("ExtHostSCM#$executeResourceCommand",i,h,y);const E=this._sourceControls.get(i);if(!E)return Promise.resolve(void 0);const _=E.getResourceGroup(h);return _?_.$executeResourceCommand(y,m):Promise.resolve(void 0)}$validateInput(i,h,y){this.logService.trace("ExtHostSCM#$validateInput",i);const m=this._sourceControls.get(i);return!m||!m.inputBox.validateInput?Promise.resolve(void 0):P.asPromise(()=>m.inputBox.validateInput(h,y)).then(E=>E?Promise.resolve([E.message,E.type]):Promise.resolve(void 0))}$setSelectedSourceControl(i){var h,y;return this.logService.trace("ExtHostSCM#$setSelectedSourceControl",i),i!==void 0&&((h=this._sourceControls.get(i))===null||h===void 0||h.setSelectionState(!0)),this._selectedSourceControlHandle!==void 0&&((y=this._sourceControls.get(this._selectedSourceControlHandle))===null||y===void 0||y.setSelectionState(!1)),this._selectedSourceControlHandle=i,Promise.resolve(void 0)}};o._handlePool=0,o=He([Fe(2,I.ILogService)],o),e.ExtHostSCM=o}),define(ge[244],pe([0,1,8,6,161,5]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostStatusBar=e.ExtHostStatusBarEntry=void 0;class P{constructor(I,S,v,f,u=w.StatusBarAlignment.Left,g,b){this._disposed=!1,this._visible=!1,this._text="",this._internalCommandRegistration=new T.DisposableStore,this._id=P.ID_GEN++,this._proxy=I,this._commands=S,this._statusId=v,this._statusName=f,this._alignment=u,this._priority=g,this._accessibilityInformation=b}get id(){return this._id}get alignment(){return this._alignment}get priority(){return this._priority}get text(){return this._text}get tooltip(){return this._tooltip}get color(){return this._color}get backgroundColor(){return this._backgroundColor}get command(){var I;return(I=this._command)===null||I===void 0?void 0:I.fromApi}get accessibilityInformation(){return this._accessibilityInformation}set text(I){this._text=I,this.update()}set tooltip(I){this._tooltip=I,this.update()}set color(I){this._color=I,this.update()}set backgroundColor(I){I&&!P.ALLOWED_BACKGROUND_COLORS.has(I.id)&&(I=void 0),this._backgroundColor=I,this.update()}set command(I){var S;((S=this._command)===null||S===void 0?void 0:S.fromApi)!==I&&(this._internalCommandRegistration.clear(),typeof I=="string"?this._command={fromApi:I,internal:this._commands.toInternal({title:"",command:I},this._internalCommandRegistration)}:I?this._command={fromApi:I,internal:this._commands.toInternal(I,this._internalCommandRegistration)}:this._command=void 0,this.update())}set accessibilityInformation(I){this._accessibilityInformation=I,this.update()}show(){this._visible=!0,this.update()}hide(){clearTimeout(this._timeoutHandle),this._visible=!1,this._proxy.$dispose(this.id)}update(){this._disposed||!this._visible||(clearTimeout(this._timeoutHandle),this._timeoutHandle=setTimeout(()=>{var I;this._timeoutHandle=void 0;let S=this._color;this._backgroundColor&&(S=P.ALLOWED_BACKGROUND_COLORS.get(this._backgroundColor.id)),this._proxy.$setEntry(this.id,this._statusId,this._statusName,this._text,this._tooltip,(I=this._command)===null||I===void 0?void 0:I.internal,S,this._backgroundColor,this._alignment===w.StatusBarAlignment.Left?0:1,this._priority,this._accessibilityInformation)},0))}dispose(){this.hide(),this._disposed=!0}}e.ExtHostStatusBarEntry=P,P.ID_GEN=0,P.ALLOWED_BACKGROUND_COLORS=(()=>{const n=new Map;return n.set("statusBarItem.errorBackground",new w.ThemeColor("statusBarItem.errorForeground")),n})();class D{constructor(I){this._messages=[],this._item=I.createStatusBarEntry("status.extensionMessage",A.localize(0,null),w.StatusBarAlignment.Left,Number.MIN_VALUE)}dispose(){this._messages.length=0,this._item.dispose()}setMessage(I){const S={message:I};return this._messages.unshift(S),this._update(),new w.Disposable(()=>{const v=this._messages.indexOf(S);v>=0&&(this._messages.splice(v,1),this._update())})}_update(){this._messages.length>0?(this._item.text=this._messages[0].message,this._item.show()):this._item.hide()}}class C{constructor(I,S){this._proxy=I.getProxy(k.MainContext.MainThreadStatusBar),this._commands=S,this._statusMessage=new D(this)}createStatusBarEntry(I,S,v,f,u){return new P(this._proxy,this._commands,I,S,v,f,u)}setStatusBarMessage(I,S){const v=this._statusMessage.setMessage(I);let f;return typeof S=="number"?f=setTimeout(()=>v.dispose(),S):typeof S!="undefined"&&S.then(()=>v.dispose(),()=>v.dispose()),new w.Disposable(()=>{v.dispose(),clearTimeout(f)})}}e.ExtHostStatusBar=C}),define(ge[90],pe([0,1,6,3,4]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostStorage=e.ExtHostStorage=void 0;class T{constructor(D){this._onDidChangeStorage=new k.Emitter,this.onDidChangeStorage=this._onDidChangeStorage.event,this._proxy=D.getProxy(w.MainContext.MainThreadStorage)}registerExtensionStorageKeysToSync(D,C){this._proxy.$registerExtensionStorageKeysToSync(D,C)}getValue(D,C,n){return this._proxy.$getValue(D,C).then(I=>I||n)}setValue(D,C,n){return this._proxy.$setValue(D,C,n)}$acceptValue(D,C,n){this._onDidChangeStorage.fire({shared:D,key:C,value:n})}}e.ExtHostStorage=T,e.IExtHostStorage=A.createDecorator("IExtHostStorage")}),define(ge[91],pe([0,1,4,28,11,89,2]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionStoragePaths=e.IExtensionStoragePaths=void 0,e.IExtensionStoragePaths=w.createDecorator("IExtensionStoragePaths");let D=class{constructor(n,I,S){var v;this._logService=I,this._extHostFileSystem=S,this._workspace=(v=n.workspace)!==null&&v!==void 0?v:void 0,this._environment=n.environment,this.whenReady=this._getOrCreateWorkspaceStoragePath().then(f=>this._value=f)}async _getOrCreateWorkspaceStoragePath(){var n;if(!this._workspace)return Promise.resolve(void 0);const I=this._workspace.id,S=P.URI.joinPath(this._environment.workspaceStorageHome,I);try{return await this._extHostFileSystem.stat(S),this._logService.trace("[ExtHostStorage] storage dir already exists",S),S}catch(v){}try{return this._logService.trace("[ExtHostStorage] creating dir and metadata-file",S),await this._extHostFileSystem.createDirectory(S),await this._extHostFileSystem.writeFile(P.URI.joinPath(S,"meta.json"),new TextEncoder().encode(JSON.stringify({id:this._workspace.id,configuration:(n=P.URI.revive(this._workspace.configuration))===null||n===void 0?void 0:n.toString(),name:this._workspace.name},void 0,2))),S}catch(v){this._logService.error("[ExtHostStorage]",v);return}}workspaceValue(n){if(this._value)return P.URI.joinPath(this._value,n.identifier.value)}globalValue(n){return P.URI.joinPath(this._environment.globalStorageHome,n.identifier.value.toLowerCase())}};D=He([Fe(0,k.IExtHostInitDataService),Fe(1,A.ILogService),Fe(2,T.IExtHostConsumerFileSystem)],D),e.ExtensionStoragePaths=D}),define(ge[35],pe([0,1,3,6,4,2,14,210,5,8,162,15,208,21,26]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerExtHostTerminalService=e.EnvironmentVariableCollection=e.BaseExtHostTerminalService=e.ExtHostPseudoterminal=e.ExtHostTerminal=e.IExtHostTerminalService=void 0,e.IExtHostTerminalService=A.createDecorator("IExtHostTerminalService");class g{constructor(t,r,o,a){this._proxy=t,this._id=r,this._creationOptions=o,this._name=a,this._disposed=!1,this.isOpen=!1,this._creationOptions=Object.freeze(this._creationOptions),this._pidPromise=new Promise(i=>this._pidPromiseComplete=i)}async create(t,r,o,a,i,h,y,m){if(typeof this._id!="string")throw new Error("Terminal has already been created");await this._proxy.$createTerminal(this._id,{name:this._name,shellPath:t,shellArgs:r,cwd:o,env:a,waitOnExit:i,strictEnv:h,hideFromUser:y,isFeatureTerminal:m})}async createExtensionTerminal(){if(typeof this._id!="string")throw new Error("Terminal has already been created");if(await this._proxy.$createTerminal(this._id,{name:this._name,isExtensionTerminal:!0}),typeof this._id=="string")throw new Error("Terminal creation failed");return this._id}dispose(){this._disposed||(this._disposed=!0,this._proxy.$dispose(this._id))}_checkDisposed(){if(this._disposed)throw new Error("Terminal has already been disposed")}get name(){return this._name||""}set name(t){this._name=t}get exitStatus(){return this._exitStatus}get dimensions(){if(!(this._cols===void 0||this._rows===void 0))return{columns:this._cols,rows:this._rows}}setExitCode(t){this._exitStatus=Object.freeze({code:t})}setDimensions(t,r){return t===this._cols&&r===this._rows||t===0||r===0?!1:(this._cols=t,this._rows=r,!0)}get processId(){return this._pidPromise}get creationOptions(){return this._creationOptions}sendText(t,r=!0){this._checkDisposed(),this._proxy.$sendText(this._id,t,r)}show(t){this._checkDisposed(),this._proxy.$show(this._id,t)}hide(){this._checkDisposed(),this._proxy.$hide(this._id)}_setProcessId(t){this._pidPromiseComplete?(this._pidPromiseComplete(t),this._pidPromiseComplete=void 0):this._pidPromise.then(r=>{r!==t&&(this._pidPromise=Promise.resolve(t))})}}e.ExtHostTerminal=g;class b{constructor(t){this._pty=t,this._onProcessData=new w.Emitter,this.onProcessData=this._onProcessData.event,this._onProcessExit=new w.Emitter,this.onProcessExit=this._onProcessExit.event,this._onProcessReady=new w.Emitter,this._onProcessTitleChanged=new w.Emitter,this.onProcessTitleChanged=this._onProcessTitleChanged.event,this._onProcessOverrideDimensions=new w.Emitter}get onProcessReady(){return this._onProcessReady.event}get onProcessOverrideDimensions(){return this._onProcessOverrideDimensions.event}async start(){}shutdown(){this._pty.close()}input(t){this._pty.handleInput&&this._pty.handleInput(t)}resize(t,r){this._pty.setDimensions&&this._pty.setDimensions({columns:t,rows:r})}acknowledgeDataEvent(t){}getInitialCwd(){return Promise.resolve("")}getCwd(){return Promise.resolve("")}getLatency(){return Promise.resolve(0)}startSendingEvents(t){this._pty.onDidWrite(r=>this._onProcessData.fire(r)),this._pty.onDidClose&&this._pty.onDidClose((r=void 0)=>{this._onProcessExit.fire(r===void 0?void 0:r)}),this._pty.onDidOverrideDimensions&&this._pty.onDidOverrideDimensions(r=>this._onProcessOverrideDimensions.fire(r&&{cols:r.columns,rows:r.rows})),this._pty.open(t||void 0),this._pty.setDimensions&&t&&this._pty.setDimensions(t),this._onProcessReady.fire({pid:-1,cwd:""})}}e.ExtHostPseudoterminal=b;let p=1,d=class extends C.Disposable{constructor(t,r){super();this._terminals=[],this._terminalProcesses=new Map,this._terminalProcessDisposables={},this._extensionTerminalAwaitingStart={},this._getTerminalPromises={},this._environmentVariableCollections=new Map,this._linkProviders=new Set,this._terminalLinkCache=new Map,this._terminalLinkCancellationSource=new Map,this._onDidCloseTerminal=new w.Emitter,this._onDidOpenTerminal=new w.Emitter,this._onDidChangeActiveTerminal=new w.Emitter,this._onDidChangeTerminalDimensions=new w.Emitter,this._proxy=r.getProxy(k.MainContext.MainThreadTerminalService),this._bufferer=new D.TerminalDataBufferer(this._proxy.$sendProcessData),this._onDidWriteTerminalData=new w.Emitter({onFirstListenerAdd:()=>this._proxy.$startSendingDataEvents(),onLastListenerRemove:()=>this._proxy.$stopSendingDataEvents()}),this._proxy.$registerProcessSupport(t),this._register({dispose:()=>{for(const[o,a]of this._terminalProcesses)a.shutdown(!0)}})}get activeTerminal(){return this._activeTerminal}get terminals(){return this._terminals}get onDidCloseTerminal(){return this._onDidCloseTerminal&&this._onDidCloseTerminal.event}get onDidOpenTerminal(){return this._onDidOpenTerminal&&this._onDidOpenTerminal.event}get onDidChangeActiveTerminal(){return this._onDidChangeActiveTerminal&&this._onDidChangeActiveTerminal.event}get onDidChangeTerminalDimensions(){return this._onDidChangeTerminalDimensions&&this._onDidChangeTerminalDimensions.event}get onDidWriteTerminalData(){return this._onDidWriteTerminalData&&this._onDidWriteTerminalData.event}createExtensionTerminal(t){const r=new g(this._proxy,u.generateUuid(),t,t.name),o=new b(t.pty);return r.createExtensionTerminal().then(a=>{const i=this._setupExtHostProcessListeners(a,o);this._terminalProcessDisposables[a]=i}),this._terminals.push(r),r}attachPtyToTerminal(t,r){if(!this._getTerminalById(t))throw new Error(`Cannot resolve terminal with id ${t} for virtual process`);const a=new b(r),i=this._setupExtHostProcessListeners(t,a);this._terminalProcessDisposables[t]=i}async $acceptActiveTerminalChanged(t){const r=this._activeTerminal;if(t===null){this._activeTerminal=void 0,r!==this._activeTerminal&&this._onDidChangeActiveTerminal.fire(this._activeTerminal);return}const o=this._getTerminalById(t);o&&(this._activeTerminal=o,r!==this._activeTerminal&&this._onDidChangeActiveTerminal.fire(this._activeTerminal))}async $acceptTerminalProcessData(t,r){const o=this._getTerminalById(t);o&&this._onDidWriteTerminalData.fire({terminal:o,data:r})}async $acceptTerminalDimensions(t,r,o){const a=this._getTerminalById(t);a&&a.setDimensions(r,o)&&this._onDidChangeTerminalDimensions.fire({terminal:a,dimensions:a.dimensions})}async $acceptTerminalMaximumDimensions(t,r,o){var a;(a=this._terminalProcesses.get(t))===null||a===void 0||a.resize(r,o)}async $acceptTerminalTitleChange(t,r){const o=this._getTerminalById(t);o&&(o.name=r)}async $acceptTerminalClosed(t,r){const o=this._getTerminalObjectIndexById(this.terminals,t);if(o!==null){const a=this._terminals.splice(o,1)[0];a.setExitCode(r),this._onDidCloseTerminal.fire(a)}}$acceptTerminalOpened(t,r,o,a){if(r){const y=this._getTerminalObjectIndexById(this._terminals,r);if(y!==null){this.terminals[y]._id=t,this._onDidOpenTerminal.fire(this.terminals[y]),this.terminals[y].isOpen=!0;return}}const i={name:a.name,shellPath:a.executable,shellArgs:a.args,cwd:typeof a.cwd=="string"?a.cwd:T.URI.revive(a.cwd),env:a.env,hideFromUser:a.hideFromUser},h=new g(this._proxy,t,i,o);this._terminals.push(h),this._onDidOpenTerminal.fire(h),h.isOpen=!0}async $acceptTerminalProcessId(t,r){const o=this._getTerminalById(t);o&&o._setProcessId(r)}async $startExtensionTerminal(t,r){const o=this._getTerminalById(t);if(!o)return{message:I.localize(0,null,t)};o.isOpen||await new Promise(i=>{const h=this.onDidOpenTerminal(async y=>{y===o&&(h.dispose(),i())})});const a=this._terminalProcesses.get(t);a?a.startSendingEvents(r):this._extensionTerminalAwaitingStart[t]={initialDimensions:r}}_setupExtHostProcessListeners(t,r){const o=new C.DisposableStore;o.add(r.onProcessReady(i=>this._proxy.$sendProcessReady(t,i.pid,i.cwd))),o.add(r.onProcessTitleChanged(i=>this._proxy.$sendProcessTitle(t,i))),this._bufferer.startBuffering(t,r.onProcessData),o.add(r.onProcessExit(i=>this._onProcessExit(t,i))),r.onProcessOverrideDimensions&&o.add(r.onProcessOverrideDimensions(i=>this._proxy.$sendOverrideDimensions(t,i))),this._terminalProcesses.set(t,r);const a=this._extensionTerminalAwaitingStart[t];return a&&r instanceof b&&(r.startSendingEvents(a.initialDimensions),delete this._extensionTerminalAwaitingStart[t]),o}$acceptProcessAckDataEvent(t,r){var o;(o=this._terminalProcesses.get(t))===null||o===void 0||o.acknowledgeDataEvent(r)}$acceptProcessInput(t,r){var o;(o=this._terminalProcesses.get(t))===null||o===void 0||o.input(r)}$acceptProcessResize(t,r,o){var a;try{(a=this._terminalProcesses.get(t))===null||a===void 0||a.resize(r,o)}catch(i){if(i.code!=="EPIPE"&&i.code!=="ERR_IPC_CHANNEL_CLOSED")throw i}}$acceptProcessShutdown(t,r){var o;(o=this._terminalProcesses.get(t))===null||o===void 0||o.shutdown(r)}$acceptProcessRequestInitialCwd(t){var r;(r=this._terminalProcesses.get(t))===null||r===void 0||r.getInitialCwd().then(o=>this._proxy.$sendProcessInitialCwd(t,o))}$acceptProcessRequestCwd(t){var r;(r=this._terminalProcesses.get(t))===null||r===void 0||r.getCwd().then(o=>this._proxy.$sendProcessCwd(t,o))}$acceptProcessRequestLatency(t){return t}registerLinkProvider(t){return this._linkProviders.add(t),this._linkProviders.size===1&&this._proxy.$startLinkProvider(),new n.Disposable(()=>{this._linkProviders.delete(t),this._linkProviders.size===0&&this._proxy.$stopLinkProvider()})}async $provideLinks(t,r){const o=this._getTerminalById(t);if(!o)return[];this._terminalLinkCache.delete(t);const a=this._terminalLinkCancellationSource.get(t);a&&a.dispose(!0);const i=new f.CancellationTokenSource;this._terminalLinkCancellationSource.set(t,i);const h=[],y={terminal:o,line:r},m=[];for(const L of this._linkProviders)m.push(new Promise(async R=>{i.token.onCancellationRequested(()=>R({provider:L,links:[]}));const N=await L.provideTerminalLinks(y,i.token)||[];i.token.isCancellationRequested||R({provider:L,links:N})}));const E=await Promise.all(m);if(i.token.isCancellationRequested)return[];const _=new Map;for(const L of E)L&&L.links.length>0&&h.push(...L.links.map(R=>{const N={id:p++,startIndex:R.startIndex,length:R.length,label:R.tooltip};return _.set(N.id,{provider:L.provider,link:R}),N}));return this._terminalLinkCache.set(t,_),h}$activateLink(t,r){var o;const a=(o=this._terminalLinkCache.get(t))===null||o===void 0?void 0:o.get(r);!a||a.provider.handleTerminalLink(a.link)}_onProcessExit(t,r){this._bufferer.stopBuffering(t),this._terminalProcesses.delete(t),delete this._extensionTerminalAwaitingStart[t];const o=this._terminalProcessDisposables[t];o&&(o.dispose(),delete this._terminalProcessDisposables[t]),this._proxy.$sendProcessExit(t,r)}_getTerminalById(t){return this._getTerminalObjectById(this._terminals,t)}_getTerminalObjectById(t,r){const o=this._getTerminalObjectIndexById(t,r);return o!==null?t[o]:null}_getTerminalObjectIndexById(t,r){let o=null;return t.some((a,i)=>a._id===r?(o=i,!0):!1),o}getEnvironmentVariableCollection(t){let r=this._environmentVariableCollections.get(t.identifier.value);return r||(r=new s,this._setEnvironmentVariableCollection(t.identifier.value,r)),r}_syncEnvironmentVariableCollection(t,r){const o=v.serializeEnvironmentVariableCollection(r.map);this._proxy.$setEnvironmentVariableCollection(t,r.persistent,o.length===0?void 0:o)}$initEnvironmentVariableCollections(t){t.forEach(r=>{const o=r[0],a=new s(r[1]);this._setEnvironmentVariableCollection(o,a)})}_setEnvironmentVariableCollection(t,r){this._environmentVariableCollections.set(t,r),r.onDidChangeCollection(()=>{this._syncEnvironmentVariableCollection(t,r)})}};d=He([Fe(1,P.IExtHostRpcService)],d),e.BaseExtHostTerminalService=d;class s{constructor(t){this.map=new Map,this._persistent=!0,this._onDidChangeCollection=new w.Emitter,this.map=new Map(t)}get persistent(){return this._persistent}set persistent(t){this._persistent=t,this._onDidChangeCollection.fire()}get onDidChangeCollection(){return this._onDidChangeCollection&&this._onDidChangeCollection.event}get size(){return this.map.size}replace(t,r){this._setIfDiffers(t,{value:r,type:n.EnvironmentVariableMutatorType.Replace})}append(t,r){this._setIfDiffers(t,{value:r,type:n.EnvironmentVariableMutatorType.Append})}prepend(t,r){this._setIfDiffers(t,{value:r,type:n.EnvironmentVariableMutatorType.Prepend})}_setIfDiffers(t,r){const o=this.map.get(t);(!o||o.value!==r.value||o.type!==r.type)&&(this.map.set(t,r),this._onDidChangeCollection.fire())}get(t){return this.map.get(t)}forEach(t,r){this.map.forEach((o,a)=>t.call(r,a,o,this))}delete(t){this.map.delete(t),this._onDidChangeCollection.fire()}clear(){this.map.clear(),this._onDidChangeCollection.fire()}}e.EnvironmentVariableCollection=s;let l=class extends d{constructor(t){super(!1,t)}createTerminal(t,r,o){throw new S.NotSupportedError}createTerminalFromOptions(t){throw new S.NotSupportedError}getDefaultShell(t,r){return""}getDefaultShellArgs(t,r){throw new S.NotSupportedError}$spawnExtHostProcess(t,r,o,a,i,h){throw new S.NotSupportedError}$getAvailableShells(){throw new S.NotSupportedError}async $getDefaultShellAndArgs(t){throw new S.NotSupportedError}$acceptWorkspacePermissionsChanged(t){}};l=He([Fe(0,P.IExtHostRpcService)],l),e.WorkerExtHostTerminalService=l}),define(ge[245],pe([0,1,3,12,6,121,20,8]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostEditors=void 0;class C{constructor(I,S){this._extHostDocumentsAndEditors=S,this._onDidChangeTextEditorSelection=new w.Emitter,this._onDidChangeTextEditorOptions=new w.Emitter,this._onDidChangeTextEditorVisibleRanges=new w.Emitter,this._onDidChangeTextEditorViewColumn=new w.Emitter,this._onDidChangeActiveTextEditor=new w.Emitter,this._onDidChangeVisibleTextEditors=new w.Emitter,this.onDidChangeTextEditorSelection=this._onDidChangeTextEditorSelection.event,this.onDidChangeTextEditorOptions=this._onDidChangeTextEditorOptions.event,this.onDidChangeTextEditorVisibleRanges=this._onDidChangeTextEditorVisibleRanges.event,this.onDidChangeTextEditorViewColumn=this._onDidChangeTextEditorViewColumn.event,this.onDidChangeActiveTextEditor=this._onDidChangeActiveTextEditor.event,this.onDidChangeVisibleTextEditors=this._onDidChangeVisibleTextEditors.event,this._proxy=I.getProxy(A.MainContext.MainThreadTextEditors),this._extHostDocumentsAndEditors.onDidChangeVisibleTextEditors(v=>this._onDidChangeVisibleTextEditors.fire(v)),this._extHostDocumentsAndEditors.onDidChangeActiveTextEditor(v=>this._onDidChangeActiveTextEditor.fire(v))}getActiveTextEditor(){return this._extHostDocumentsAndEditors.activeEditor()}getVisibleTextEditors(){return this._extHostDocumentsAndEditors.allEditors()}async showTextDocument(I,S,v){let f;typeof S=="number"?f={position:P.ViewColumn.from(S),preserveFocus:v}:typeof S=="object"?f={position:P.ViewColumn.from(S.viewColumn),preserveFocus:S.preserveFocus,selection:typeof S.selection=="object"?P.Range.from(S.selection):void 0,pinned:typeof S.preview=="boolean"?!S.preview:void 0}:f={preserveFocus:!1};const u=await this._proxy.$tryShowTextDocument(I.uri,f),g=u&&this._extHostDocumentsAndEditors.getEditor(u);if(g)return g;throw u?new Error(`Could NOT open editor for "${I.uri.toString()}" because another editor opened in the meantime.`):new Error(`Could NOT open editor for "${I.uri.toString()}".`)}createTextEditorDecorationType(I){return new T.TextEditorDecorationType(this._proxy,I)}$acceptEditorPropertiesChanged(I,S){const v=this._extHostDocumentsAndEditors.getEditor(I);if(!v)throw new Error("unknown text editor");if(S.options&&v._acceptOptions(S.options),S.selections){const f=S.selections.selections.map(P.Selection.to);v._acceptSelections(f)}if(S.visibleRanges){const f=k.coalesce(S.visibleRanges.map(P.Range.to));v._acceptVisibleRanges(f)}if(S.options&&this._onDidChangeTextEditorOptions.fire({textEditor:v,options:Object.assign(Object.assign({},S.options),{lineNumbers:P.TextEditorLineNumbersStyle.to(S.options.lineNumbers)})}),S.selections){const f=D.TextEditorSelectionChangeKind.fromValue(S.selections.source),u=S.selections.selections.map(P.Selection.to);this._onDidChangeTextEditorSelection.fire({textEditor:v,selections:u,kind:f})}if(S.visibleRanges){const f=k.coalesce(S.visibleRanges.map(P.Range.to));this._onDidChangeTextEditorVisibleRanges.fire({textEditor:v,visibleRanges:f})}}$acceptEditorPositionData(I){for(const S in I){const v=this._extHostDocumentsAndEditors.getEditor(S);if(!v)throw new Error("Unknown text editor");const f=P.ViewColumn.to(I[S]);v.viewColumn!==f&&(v._acceptViewColumn(f),this._onDidChangeTextEditorViewColumn.fire({textEditor:v,viewColumn:f}))}}getDiffInformation(I){return Promise.resolve(this._proxy.$getDiffInformation(I))}}e.ExtHostEditors=C});var di=this&&this.__rest||function(Z,e){var w={};for(var k in Z)Object.prototype.hasOwnProperty.call(Z,k)&&e.indexOf(k)<0&&(w[k]=Z[k]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,k=Object.getOwnPropertySymbols(Z);A<k.length;A++)e.indexOf(k[A])<0&&Object.prototype.propertyIsEnumerable.call(Z,k[A])&&(w[k[A]]=Z[k[A]]);return w};define(ge[246],pe([0,1,2,4,6,5,8]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTimeline=e.IExtHostTimeline=void 0,e.IExtHostTimeline=k.createDecorator("IExtHostTimeline");class D{constructor(I,S){this._providers=new Map,this._itemsBySourceAndUriMap=new Map,this._proxy=I.getProxy(A.MainContext.MainThreadTimeline),S.registerArgumentProcessor({processArgument:v=>{var f,u;if(v&&v.$mid===11){const g=v.uri===void 0?void 0:w.URI.revive(v.uri);return(u=(f=this._itemsBySourceAndUriMap.get(v.source))===null||f===void 0?void 0:f.get(C(g)))===null||u===void 0?void 0:u.get(v.handle)}return v}})}async $getTimeline(I,S,v,f,u){const g=this._providers.get(I);return g==null?void 0:g.provideTimeline(w.URI.revive(S),v,f,u)}registerTimelineProvider(I,S,v,f){const u=new T.DisposableStore,g=this.convertTimelineItem(S.id,f,u).bind(this);let b;S.onDidChange&&(b=S.onDidChange(d=>this._proxy.$emitTimelineChangeEvent(Object.assign(Object.assign({uri:void 0,reset:!0},d),{id:S.id})),this));const p=this._itemsBySourceAndUriMap;return this.registerTimelineProviderCore(Object.assign(Object.assign({},S),{scheme:I,onDidChange:void 0,async provideTimeline(d,s,l,c){var t;(c==null?void 0:c.resetCache)&&(u.clear(),(t=p.get(S.id))===null||t===void 0||t.clear());const r=await S.provideTimeline(d,s,l);if(r!=null){const o=g(d,c);return Object.assign(Object.assign({},r),{source:S.id,items:r.items.map(o)})}},dispose(){var d;for(const s of p.values())(d=s.get(S.id))===null||d===void 0||d.clear();b==null||b.dispose(),u.dispose()}}))}convertTimelineItem(I,S,v){return(f,u)=>{let g;if(u==null?void 0:u.cacheResults){let b=this._itemsBySourceAndUriMap.get(I);b===void 0&&(b=new Map,this._itemsBySourceAndUriMap.set(I,b));const p=C(f);g=b.get(p),g===void 0&&(g=new Map,b.set(p,g))}return b=>{var p,d;const{iconPath:s}=b,l=di(b,["iconPath"]),c=`${I}|${(p=b.id)!==null&&p!==void 0?p:b.timestamp}`;g==null||g.set(c,b);let t,r,o;return b.iconPath&&(s instanceof P.ThemeIcon?o={id:s.id}:w.URI.isUri(s)?(t=s,r=s):{light:t,dark:r}=s),Object.assign(Object.assign({},l),{id:(d=l.id)!==null&&d!==void 0?d:void 0,handle:c,source:I,command:b.command?S.toInternal(b.command,v):void 0,icon:t,iconDark:r,themeIcon:o,accessibilityInformation:b.accessibilityInformation})}}}registerTimelineProviderCore(I){if(this._providers.get(I.id))throw new Error(`Timeline Provider ${I.id} already exists.`);return this._proxy.$registerTimelineProvider({id:I.id,label:I.label,scheme:I.scheme}),this._providers.set(I.id,I),T.toDisposable(()=>{var v;for(const f of this._itemsBySourceAndUriMap.values())(v=f.get(I.id))===null||v===void 0||v.clear();this._providers.delete(I.id),this._proxy.$unregisterTimelineProvider(I.id),I.dispose()})}}e.ExtHostTimeline=D;function C(n){return n==null?void 0:n.toString()}}),define(ge[247],pe([0,1,5,13,2,6]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostUriOpeners=void 0;class P{constructor(C){this._openers=new Map,this._proxy=C.getProxy(T.MainContext.MainThreadUriOpeners)}registerExternalUriOpener(C,n,I,S){if(this._openers.has(n))throw new Error(`Opener with id '${n}' already registered`);const v=S.schemes.find(f=>!P.supportedSchemes.has(f));if(v)throw new Error(`Scheme '${v}' is not supported. Only http and https are currently supported.`);return this._openers.set(n,I),this._proxy.$registerUriOpener(n,S.schemes,C,S.label),w.toDisposable(()=>{this._openers.delete(n),this._proxy.$unregisterUriOpener(n)})}async $canOpenUri(C,n,I){const S=this._openers.get(C);if(!S)throw new Error(`Unknown opener with id: ${C}`);const v=A.URI.revive(n);return S.canOpenExternalUri(v,I)}async $openUri(C,n,I){const S=this._openers.get(C);if(!S)throw new Error(`Unknown opener id: '${C}'`);return S.openExternalUri(A.URI.revive(n.resolvedUri),{sourceUri:A.URI.revive(n.sourceUri)},I)}}e.ExtHostUriOpeners=P,P.supportedSchemes=new Set([k.Schemas.http,k.Schemas.https])}),define(ge[248],pe([0,1,6,2,5,15,29]),function(Z,e,w,k,A,T,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostUrls=void 0;class D{constructor(n){this.handles=new Set,this.handlers=new Map,this._proxy=n.getProxy(w.MainContext.MainThreadUrls)}registerUriHandler(n,I){if(this.handles.has(P.ExtensionIdentifier.toKey(n)))throw new Error(`Protocol handler already registered for extension ${n}`);const S=D.HandlePool++;return this.handles.add(P.ExtensionIdentifier.toKey(n)),this.handlers.set(S,I),this._proxy.$registerUriHandler(S,n),A.toDisposable(()=>{this.handles.delete(P.ExtensionIdentifier.toKey(n)),this.handlers.delete(S),this._proxy.$unregisterUriHandler(S)})}$handleExternalUri(n,I){const S=this.handlers.get(n);if(!S)return Promise.resolve(void 0);try{S.handleUri(k.URI.revive(I))}catch(v){T.onUnexpectedError(v)}return Promise.resolve(void 0)}async createAppUri(n){return k.URI.revive(await this._proxy.$createAppUri(n))}}e.ExtHostUrls=D,D.HandlePool=0});var Je=this&&this.__classPrivateFieldSet||function(Z,e,w){if(!e.has(Z))throw new TypeError("attempted to set private field on non-instance");return e.set(Z,w),w},We=this&&this.__classPrivateFieldGet||function(Z,e){if(!e.has(Z))throw new TypeError("attempted to get private field on non-instance");return e.get(Z)};define(ge[66],pe([0,1,3,2,87,6]),function(Z,e,w,k,A,T){"use strict";var P,D,C,n,I,S,v,f,u,g,b;Object.defineProperty(e,"__esModule",{value:!0}),e.convertWebviewOptions=e.toExtensionData=e.ExtHostWebviews=e.ExtHostWebview=void 0;class p{constructor(o,a,i,h,y,m,E){P.set(this,void 0),D.set(this,void 0),C.set(this,void 0),n.set(this,void 0),I.set(this,void 0),S.set(this,void 0),v.set(this,""),f.set(this,void 0),u.set(this,!1),g.set(this,!1),this._onMessageEmitter=new w.Emitter,this.onDidReceiveMessage=this._onMessageEmitter.event,b.set(this,new w.Emitter),this._onDidDispose=We(this,b).event,Je(this,P,o),Je(this,D,a),Je(this,f,i),Je(this,n,h),Je(this,I,y),Je(this,S,m),Je(this,C,E)}dispose(){Je(this,u,!0),We(this,b).fire(),We(this,b).dispose(),this._onMessageEmitter.dispose()}asWebviewUri(o){return Je(this,g,!0),A.asWebviewUri(We(this,n),We(this,P),o)}get cspSource(){return We(this,n).webviewCspSource.replace("{{uuid}}",We(this,P))}get html(){return this.assertNotDisposed(),We(this,v)}set html(o){this.assertNotDisposed(),We(this,v)!==o&&(Je(this,v,o),!We(this,g)&&/(["'])vscode-resource:([^\s'"]+?)(["'])/i.test(o)&&(Je(this,g,!0),We(this,C).report("Webview vscode-resource: uris",We(this,S),"Please migrate to use the 'webview.asWebviewUri' api instead: https://aka.ms/vscode-webview-use-aswebviewuri")),We(this,D).$setHtml(We(this,P),o))}get options(){return this.assertNotDisposed(),We(this,f)}set options(o){this.assertNotDisposed(),We(this,D).$setOptions(We(this,P),l(We(this,S),We(this,I),o)),Je(this,f,o)}async postMessage(o){return We(this,u)?!1:We(this,D).$postMessage(We(this,P),o)}assertNotDisposed(){if(We(this,u))throw new Error("Webview is disposed")}}e.ExtHostWebview=p,P=new WeakMap,D=new WeakMap,C=new WeakMap,n=new WeakMap,I=new WeakMap,S=new WeakMap,v=new WeakMap,f=new WeakMap,u=new WeakMap,g=new WeakMap,b=new WeakMap;class d{constructor(o,a,i,h,y){this.initData=a,this.workspace=i,this._logService=h,this._deprecationService=y,this._webviews=new Map,this._webviewProxy=o.getProxy(T.MainContext.MainThreadWebviews)}$onMessage(o,a){const i=this.getWebview(o);i&&i._onMessageEmitter.fire(a)}$onMissingCsp(o,a){this._logService.warn(`${a} created a webview without a content security policy: https://aka.ms/vscode-webview-missing-csp`)}createNewWebview(o,a,i){const h=new p(o,this._webviewProxy,c(a),this.initData,this.workspace,i,this._deprecationService);return this._webviews.set(o,h),h._onDidDispose(()=>{this._webviews.delete(o)}),h}deleteWebview(o){this._webviews.delete(o)}getWebview(o){return this._webviews.get(o)}}e.ExtHostWebviews=d;function s(r){return{id:r.identifier,location:r.extensionLocation}}e.toExtensionData=s;function l(r,o,a){return Object.assign(Object.assign({},a),{localResourceRoots:a.localResourceRoots||t(r,o)})}e.convertWebviewOptions=l;function c(r){var o;return Object.assign(Object.assign({},r),{localResourceRoots:(o=r.localResourceRoots)===null||o===void 0?void 0:o.map(a=>k.URI.from(a))})}function t(r,o){return[...((o==null?void 0:o.getWorkspaceFolders())||[]).map(a=>a.uri),r.extensionLocation]}}),define(ge[249],pe([0,1,21,75,5,13,23,2,20,66,86,6,8]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostCustomEditors=void 0;class f{constructor(t,r){this.document=t,this._storagePath=r,this._backupCounter=1,this._edits=new I.Cache("custom documents")}addEdit(t){return this._edits.add([t])}async undo(t,r){await this.getEdit(t).undo(),r||this.disposeBackup()}async redo(t,r){await this.getEdit(t).redo(),r||this.disposeBackup()}disposeEdits(t){for(const r of t)this._edits.delete(r)}getNewBackupUri(){if(!this._storagePath)throw new Error("Backup requires a valid storage path");const t=l(this.document.uri)+this._backupCounter++;return P.joinPath(this._storagePath,t)}updateBackup(t){var r;(r=this._backup)===null||r===void 0||r.delete(),this._backup=t}disposeBackup(){var t;(t=this._backup)===null||t===void 0||t.delete(),this._backup=void 0}getEdit(t){const r=this._edits.get(t,0);if(!r)throw new Error("No edit found");return r}}class u{constructor(){this._documents=new Map}get(t,r){return this._documents.get(this.key(t,r))}add(t,r,o){const a=this.key(t,r.uri);if(this._documents.has(a))throw new Error(`Document already exists for viewType:${t} resource:${r.uri}`);const i=new f(r,o);return this._documents.set(a,i),i}delete(t,r){const o=this.key(t,r.uri);this._documents.delete(o)}key(t,r){return`${t}@@@${r}`}}var g;(function(c){c[c.Text=0]="Text",c[c.Custom=1]="Custom"})(g||(g={}));class b{constructor(){this._providers=new Map}addTextProvider(t,r,o){return this.add(0,t,r,o)}addCustomProvider(t,r,o){return this.add(1,t,r,o)}get(t){return this._providers.get(t)}add(t,r,o,a){if(this._providers.has(r))throw new Error(`Provider for viewType:${r} already registered`);return this._providers.set(r,{type:t,extension:o,provider:a}),new v.Disposable(()=>this._providers.delete(r))}}class p{constructor(t,r,o,a,i){this._extHostDocuments=r,this._extensionStoragePaths=o,this._extHostWebview=a,this._extHostWebviewPanels=i,this._editorProviders=new b,this._documents=new u,this._proxy=t.getProxy(S.MainContext.MainThreadCustomEditors)}registerCustomEditorProvider(t,r,o,a){const i=new A.DisposableStore;return d(o)?(i.add(this._editorProviders.addTextProvider(r,t,o)),this._proxy.$registerTextEditorProvider(n.toExtensionData(t),r,a.webviewOptions||{},{supportsMove:!!o.moveCustomTextEditor})):(i.add(this._editorProviders.addCustomProvider(r,t,o)),this.supportEditing(o)&&i.add(o.onDidChangeCustomDocument(h=>{const y=this.getCustomDocumentEntry(r,h.document.uri);if(s(h)){const m=y.addEdit(h);this._proxy.$onDidEdit(h.document.uri,r,m,h.label)}else this._proxy.$onContentChange(h.document.uri,r)})),this._proxy.$registerCustomEditorProvider(n.toExtensionData(t),r,a.webviewOptions||{},!!a.supportsMultipleEditorsPerDocument)),v.Disposable.from(i,new v.Disposable(()=>{this._proxy.$unregisterEditorProvider(r)}))}async $createCustomDocument(t,r,o,a){var i;const h=this._editorProviders.get(r);if(!h)throw new Error(`No provider found for '${r}'`);if(h.type!==1)throw new Error(`Invalid provide type for '${r}'`);const y=D.URI.revive(t),m=await h.provider.openCustomDocument(y,{backupId:o},a);let E;return this.supportEditing(h.provider)&&this._extensionStoragePaths&&(E=(i=this._extensionStoragePaths.workspaceValue(h.extension))!==null&&i!==void 0?i:this._extensionStoragePaths.globalValue(h.extension)),this._documents.add(r,m,E),{editable:this.supportEditing(h.provider)}}async $disposeCustomDocument(t,r){const o=this._editorProviders.get(r);if(!o)throw new Error(`No provider found for '${r}'`);if(o.type!==1)throw new Error(`Invalid provider type for '${r}'`);const a=D.URI.revive(t),{document:i}=this.getCustomDocumentEntry(r,a);this._documents.delete(r,i),i.dispose()}async $resolveWebviewEditor(t,r,o,a,i,h,y){const m=this._editorProviders.get(o);if(!m)throw new Error(`No provider found for '${o}'`);const E=C.ViewColumn.to(i),_=this._extHostWebview.createNewWebview(r,h,m.extension),L=this._extHostWebviewPanels.createNewWebviewPanel(r,o,a,E,h,_),R=D.URI.revive(t);switch(m.type){case 1:{const{document:N}=this.getCustomDocumentEntry(o,R);return m.provider.resolveCustomEditor(N,L,y)}case 0:{const N=this._extHostDocuments.getDocument(R);return m.provider.resolveCustomTextEditor(N,L,y)}default:throw new Error("Unknown webview provider type")}}$disposeEdits(t,r,o){this.getCustomDocumentEntry(r,t).disposeEdits(o)}async $onMoveCustomEditor(t,r,o){const a=this._editorProviders.get(o);if(!a)throw new Error(`No provider found for '${o}'`);if(!a.provider.moveCustomTextEditor)throw new Error(`Provider does not implement move '${o}'`);const i=this._extHostWebviewPanels.getWebviewPanel(t);if(!i)throw new Error("No webview found");const h=D.URI.revive(r),y=this._extHostDocuments.getDocument(h);await a.provider.moveCustomTextEditor(y,i,w.CancellationToken.None)}async $undo(t,r,o,a){return this.getCustomDocumentEntry(r,t).undo(o,a)}async $redo(t,r,o,a){return this.getCustomDocumentEntry(r,t).redo(o,a)}async $revert(t,r,o){const a=this.getCustomDocumentEntry(r,t);await this.getCustomEditorProvider(r).revertCustomDocument(a.document,o),a.disposeBackup()}async $onSave(t,r,o){const a=this.getCustomDocumentEntry(r,t);await this.getCustomEditorProvider(r).saveCustomDocument(a.document,o),a.disposeBackup()}async $onSaveAs(t,r,o,a){const i=this.getCustomDocumentEntry(r,t);return this.getCustomEditorProvider(r).saveCustomDocumentAs(i.document,D.URI.revive(o),a)}async $backup(t,r,o){const a=this.getCustomDocumentEntry(r,t),h=await this.getCustomEditorProvider(r).backupCustomDocument(a.document,{destination:a.getNewBackupUri()},o);return a.updateBackup(h),h.id}getCustomDocumentEntry(t,r){const o=this._documents.get(t,D.URI.revive(r));if(!o)throw new Error("No custom document found");return o}getCustomEditorProvider(t){const r=this._editorProviders.get(t),o=r==null?void 0:r.provider;if(!o||!this.supportEditing(o))throw new Error("Custom document is not editable");return o}supportEditing(t){return!!t.onDidChangeCustomDocument}}e.ExtHostCustomEditors=p;function d(c){return typeof c.resolveCustomTextEditor=="function"}function s(c){return typeof c.undo=="function"&&typeof c.redo=="function"}function l(c){const t=c.scheme===T.Schemas.file||c.scheme===T.Schemas.untitled?c.fsPath:c.toString();return k.hash(t)+""}});var Je=this&&this.__classPrivateFieldSet||function(Z,e,w){if(!e.has(Z))throw new TypeError("attempted to set private field on non-instance");return e.set(Z,w),w},We=this&&this.__classPrivateFieldGet||function(Z,e){if(!e.has(Z))throw new TypeError("attempted to get private field on non-instance");return e.get(Z)};define(ge[250],pe([0,1,3,5,2,26,20,66,6,8]),function(Z,e,w,k,A,T,P,D,C,n){"use strict";var I,S,v,f,u,g,b,p,d,s,l,c,t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostWebviewPanels=void 0;class r extends k.Disposable{constructor(i,h,y,m,E,_,L){super();I.set(this,void 0),S.set(this,void 0),v.set(this,void 0),f.set(this,void 0),u.set(this,void 0),g.set(this,void 0),b.set(this,void 0),p.set(this,void 0),d.set(this,!0),s.set(this,!0),l.set(this,!1),c.set(this,this._register(new w.Emitter)),this.onDidDispose=We(this,c).event,t.set(this,this._register(new w.Emitter)),this.onDidChangeViewState=We(this,t).event,Je(this,I,i),Je(this,S,h),Je(this,v,y),Je(this,u,_),Je(this,p,E),Je(this,g,m),Je(this,f,L)}dispose(){We(this,l)||(Je(this,l,!0),We(this,c).fire(),We(this,S).$disposeWebview(We(this,I)),We(this,f).dispose(),super.dispose())}get webview(){return this.assertNotDisposed(),We(this,f)}get viewType(){return this.assertNotDisposed(),We(this,v)}get title(){return this.assertNotDisposed(),We(this,g)}set title(i){this.assertNotDisposed(),We(this,g)!==i&&(Je(this,g,i),We(this,S).$setTitle(We(this,I),i))}get iconPath(){return this.assertNotDisposed(),We(this,b)}set iconPath(i){this.assertNotDisposed(),We(this,b)!==i&&(Je(this,b,i),We(this,S).$setIconPath(We(this,I),A.URI.isUri(i)?{light:i,dark:i}:i))}get options(){return We(this,u)}get viewColumn(){if(this.assertNotDisposed(),!(typeof We(this,p)=="number"&&We(this,p)<0))return We(this,p)}get active(){return this.assertNotDisposed(),We(this,s)}get visible(){return this.assertNotDisposed(),We(this,d)}_updateViewState(i){We(this,l)||(this.active!==i.active||this.visible!==i.visible||this.viewColumn!==i.viewColumn)&&(Je(this,s,i.active),Je(this,d,i.visible),Je(this,p,i.viewColumn),We(this,t).fire({webviewPanel:this}))}reveal(i,h){this.assertNotDisposed(),We(this,S).$reveal(We(this,I),{viewColumn:i?P.ViewColumn.from(i):void 0,preserveFocus:!!h})}assertNotDisposed(){if(We(this,l))throw new Error("Webview is disposed")}}I=new WeakMap,S=new WeakMap,v=new WeakMap,f=new WeakMap,u=new WeakMap,g=new WeakMap,b=new WeakMap,p=new WeakMap,d=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,t=new WeakMap;class o{constructor(i,h,y){this.webviews=h,this.workspace=y,this._webviewPanels=new Map,this._serializers=new Map,this._proxy=i.getProxy(C.MainContext.MainThreadWebviewPanels)}static newHandle(){return T.generateUuid()}createWebviewPanel(i,h,y,m,E={}){const _=typeof m=="object"?m.viewColumn:m,L={viewColumn:P.ViewColumn.from(_),preserveFocus:typeof m=="object"&&!!m.preserveFocus},R=o.newHandle();this._proxy.$createWebviewPanel(D.toExtensionData(i),R,h,y,L,D.convertWebviewOptions(i,this.workspace,E));const N=this.webviews.createNewWebview(R,E,i);return this.createNewWebviewPanel(R,h,y,_,E,N)}$onDidChangeWebviewPanelViewStates(i){const h=Object.keys(i);h.sort((y,m)=>{const E=i[y],_=i[m];return E.active?1:_.active?-1:+E.visible-+_.visible});for(const y of h){const m=this.getWebviewPanel(y);if(!!m){const E=i[y];m._updateViewState({active:E.active,visible:E.visible,viewColumn:P.ViewColumn.to(E.position)})}}}async $onDidDisposeWebviewPanel(i){const h=this.getWebviewPanel(i);h==null||h.dispose(),this._webviewPanels.delete(i),this.webviews.deleteWebview(i)}registerWebviewPanelSerializer(i,h,y){if(this._serializers.has(h))throw new Error(`Serializer for '${h}' already registered`);return this._serializers.set(h,{serializer:y,extension:i}),this._proxy.$registerSerializer(h),new n.Disposable(()=>{this._serializers.delete(h),this._proxy.$unregisterSerializer(h)})}async $deserializeWebviewPanel(i,h,y,m,E,_){const L=this._serializers.get(h);if(!L)throw new Error(`No serializer found for '${h}'`);const{serializer:R,extension:N}=L,W=this.webviews.createNewWebview(i,_,N),x=this.createNewWebviewPanel(i,h,y,E,_,W);await R.deserializeWebviewPanel(x,m)}createNewWebviewPanel(i,h,y,m,E,_){const L=new r(i,this._proxy,h,y,m,E,_);return this._webviewPanels.set(i,L),L}getWebviewPanel(i){return this._webviewPanels.get(i)}}e.ExtHostWebviewPanels=o});var Je=this&&this.__classPrivateFieldSet||function(Z,e,w){if(!e.has(Z))throw new TypeError("attempted to set private field on non-instance");return e.set(Z,w),w},We=this&&this.__classPrivateFieldGet||function(Z,e){if(!e.has(Z))throw new TypeError("attempted to get private field on non-instance");return e.get(Z)};define(ge[251],pe([0,1,3,5,66,6,8]),function(Z,e,w,k,A,T,P){"use strict";var D,C,n,I,S,v,f,u,g,b;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostWebviewViews=void 0;class p extends k.Disposable{constructor(l,c,t,r,o,a){super();D.set(this,void 0),C.set(this,void 0),n.set(this,void 0),I.set(this,void 0),S.set(this,!1),v.set(this,void 0),f.set(this,void 0),u.set(this,void 0),g.set(this,this._register(new w.Emitter)),this.onDidChangeVisibility=We(this,g).event,b.set(this,this._register(new w.Emitter)),this.onDidDispose=We(this,b).event,Je(this,n,t),Je(this,f,r),Je(this,D,l),Je(this,C,c),Je(this,I,o),Je(this,v,a)}dispose(){We(this,S)||(Je(this,S,!0),We(this,b).fire(),We(this,I).dispose(),super.dispose())}get title(){return this.assertNotDisposed(),We(this,f)}set title(l){this.assertNotDisposed(),We(this,f)!==l&&(Je(this,f,l),We(this,C).$setWebviewViewTitle(We(this,D),l))}get description(){return this.assertNotDisposed(),We(this,u)}set description(l){this.assertNotDisposed(),We(this,u)!==l&&(Je(this,u,l),We(this,C).$setWebviewViewDescription(We(this,D),l))}get visible(){return We(this,v)}get webview(){return We(this,I)}get viewType(){return We(this,n)}_setVisible(l){l===We(this,v)||We(this,S)||(Je(this,v,l),We(this,g).fire())}show(l){this.assertNotDisposed(),We(this,C).$show(We(this,D),!!l)}assertNotDisposed(){if(We(this,S))throw new Error("Webview is disposed")}}D=new WeakMap,C=new WeakMap,n=new WeakMap,I=new WeakMap,S=new WeakMap,v=new WeakMap,f=new WeakMap,u=new WeakMap,g=new WeakMap,b=new WeakMap;class d{constructor(l,c){this._extHostWebview=c,this._viewProviders=new Map,this._webviewViews=new Map,this._proxy=l.getProxy(T.MainContext.MainThreadWebviewViews)}registerWebviewViewProvider(l,c,t,r){if(this._viewProviders.has(c))throw new Error(`View provider for '${c}' already registered`);return this._viewProviders.set(c,{provider:t,extension:l}),this._proxy.$registerWebviewViewProvider(A.toExtensionData(l),c,r),new P.Disposable(()=>{this._viewProviders.delete(c),this._proxy.$unregisterWebviewViewProvider(c)})}async $resolveWebviewView(l,c,t,r,o){const a=this._viewProviders.get(c);if(!a)throw new Error(`No view provider found for '${c}'`);const{provider:i,extension:h}=a,y=this._extHostWebview.createNewWebview(l,{},h),m=new p(l,this._proxy,c,t,y,!0);this._webviewViews.set(l,m),await i.resolveWebviewView(m,{state:r},o)}async $onDidChangeWebviewViewVisibility(l,c){this.getWebviewView(l)._setVisible(c)}async $disposeWebviewView(l){const c=this.getWebviewView(l);this._webviewViews.delete(l),c.dispose(),this._extHostWebview.deleteWebview(l)}getWebviewView(l){const c=this._webviewViews.get(l);if(!c)throw new Error("No webview found");return c}}e.ExtHostWebviewViews=d}),define(ge[124],pe([0,1,3,6,2,13,10,4,14]),function(Z,e,w,k,A,T,P,D,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostWindow=e.ExtHostWindow=void 0;let n=class ki{constructor(S){this._onDidChangeWindowState=new w.Emitter,this.onDidChangeWindowState=this._onDidChangeWindowState.event,this._state=ki.InitialState,this._proxy=S.getProxy(k.MainContext.MainThreadWindow),this._proxy.$getWindowVisibility().then(v=>this.$onDidChangeWindowFocus(v))}get state(){return this._state}$onDidChangeWindowFocus(S){S!==this._state.focused&&(this._state=Object.assign(Object.assign({},this._state),{focused:S}),this._onDidChangeWindowState.fire(this._state))}openUri(S,v){let f;if(typeof S=="string"){f=S;try{S=A.URI.parse(S)}catch(u){return Promise.reject(`Invalid uri - '${S}'`)}}return P.isFalsyOrWhitespace(S.scheme)?Promise.reject("Invalid scheme - cannot be empty"):S.scheme===T.Schemas.command?Promise.reject(`Invalid scheme '${S.scheme}'`):this._proxy.$openUri(S,f,v)}async asExternalUri(S,v){if(P.isFalsyOrWhitespace(S.scheme))return Promise.reject("Invalid scheme - cannot be empty");if(!new Set([T.Schemas.http,T.Schemas.https]).has(S.scheme))return Promise.reject(`Invalid scheme '${S.scheme}'`);const f=await this._proxy.$asExternalUri(S,v);return A.URI.from(f)}};n.InitialState={focused:!0},n=He([Fe(0,C.IExtHostRpcService)],n),e.ExtHostWindow=n,e.IExtHostWindow=D.createDecorator("IExtHostWindow")}),define(ge[252],pe([0,1,7,39,26,52,5,6,2,14]),function(Z,e,w,k,A,T,P,D,C,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDownloadService=void 0;let I=class extends P.Disposable{constructor(v,f){super();const u=v.getProxy(D.MainContext.MainThreadDownloadService);f.registerCommand(!1,"_workbench.downloadResource",async g=>{const b=C.URI.file(w.join(k.tmpdir(),A.generateUuid()));return await u.$download(g,b),b})}};I=He([Fe(0,n.IExtHostRpcService),Fe(1,T.IExtHostCommands)],I),e.ExtHostDownloadService=I}),define(ge[253],pe([0,1,6,14,5,28,2,34,23,38,24,9,51,3,59,74,11]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTunnelService=e.findPorts=e.loadConnectionTable=e.parseIpAddress=e.loadListeningPorts=e.getSockets=void 0;class p{constructor(i,h,y){this.remoteAddress=i,this.localAddress=h,this._dispose=y,this._onDispose=new f.Emitter,this.onDidDispose=this._onDispose.event}dispose(){return this._onDispose.fire(),this._dispose()}}function d(a){const i=a.trim().split(`
`),h=[];return i.forEach(y=>{const m=/\/proc\/(\d+)\/fd\/\d+ -> socket:\[(\d+)\]/.exec(y);m&&m.length>=3&&h.push({pid:parseInt(m[1],10),socket:parseInt(m[2],10)})}),h}e.getSockets=d;function s(...a){const i=[].concat(...a.map(c));return[...new Map(i.filter(h=>h.st==="0A").map(h=>{const y=h.local_address.split(":");return{socket:parseInt(h.inode,10),ip:l(y[0]),port:parseInt(y[1],16)}}).map(h=>[h.ip+":"+h.port,h])).values()]}e.loadListeningPorts=s;function l(a){let i="";if(a.length===8)for(let h=a.length-2;h>=0;h-=2)i+=parseInt(a.substr(h,2),16),h!==0&&(i+=".");else for(let h=a.length-4;h>=0;h-=4)i+=parseInt(a.substr(h,4),16).toString(16),h!==0&&(i+=":");return i}e.parseIpAddress=l;function c(a){const i=a.trim().split(`
`),h=i.shift().trim().split(/\s+/).filter(m=>m!=="rx_queue"&&m!=="tm->when");return i.map(m=>m.trim().split(/\s+/).reduce((E,_,L)=>(E[h[L]||L]=_,E),{}))}e.loadConnectionTable=c;function t(a){return!!a.match(/.*\.vscode-server-[a-zA-Z]+\/bin.*/)||a.indexOf("out/vs/server/main.js")!==-1||a.indexOf("_productName=VSCode")!==-1}async function r(a,i,h,y){const m=s(a,i),_=d(h).reduce((N,W)=>(N[W.socket]=W,N),{}),L=y.reduce((N,W)=>(N[W.pid]=W,N),{}),R=[];return m.filter(N=>_[N.socket]).forEach(({socket:N,ip:W,port:x})=>{const M=L[_[N].pid].cmd;t(M)||R.push({host:W,port:x,detail:L[_[N].pid].cmd,pid:_[N].pid})}),R}e.findPorts=r;let o=class extends A.Disposable{constructor(i,h,y){super();this.logService=y,this._showCandidatePort=()=>Promise.resolve(!0),this._extensionTunnels=new Map,this._onDidChangeTunnels=new f.Emitter,this.onDidChangeTunnels=this._onDidChangeTunnels.event,this._candidateFindingEnabled=!1,this._proxy=i.getProxy(w.MainContext.MainThreadTunnelService),S.isLinux&&h.remote.isRemote&&h.remote.authority&&this._proxy.$setCandidateFinder()}async openTunnel(i,h){const y=await this._proxy.$openTunnel(h,i.displayName);if(y){const m=new p(y.remoteAddress,y.localAddress,()=>this._proxy.$closeTunnel(y.remoteAddress));return this._register(m),m}}async getTunnels(){return this._proxy.$getTunnels()}calculateDelay(i){return Math.max(i*20,2e3)}async $registerCandidateFinder(i){if(!(i&&this._candidateFindingEnabled)){this._candidateFindingEnabled=i;let h=new g.MovingAverage,y;for(;this._candidateFindingEnabled;){const m=new Date().getTime(),E=await this.findCandidatePorts(),_=new Date().getTime()-m;h.update(_),(!y||JSON.stringify(y)!==JSON.stringify(E))&&(y=E,await this._proxy.$onFoundNewCandidates(y)),await new Promise(L=>setTimeout(()=>L(),this.calculateDelay(h.value)))}}}async setTunnelExtensionFunctions(i){var h;return i?(i.showCandidatePort&&(this._showCandidatePort=i.showCandidatePort,await this._proxy.$setCandidateFilter()),i.tunnelFactory&&(this._forwardPortProvider=i.tunnelFactory,await this._proxy.$setTunnelProvider((h=i.tunnelFeatures)!==null&&h!==void 0?h:{elevation:!1,public:!1}))):this._forwardPortProvider=void 0,A.toDisposable(()=>{this._forwardPortProvider=void 0})}async $closeTunnel(i,h){if(this._extensionTunnels.has(i.host)){const y=this._extensionTunnels.get(i.host);y.has(i.port)&&(h&&y.get(i.port).disposeListener.dispose(),await y.get(i.port).tunnel.dispose(),y.delete(i.port))}}async $onDidTunnelsChange(){this._onDidChangeTunnels.fire()}async $forwardPort(i,h){if(this._forwardPortProvider)try{this.logService.trace("$forwardPort: Getting tunnel from provider.");const y=this._forwardPortProvider(i,h);if(this.logService.trace("$forwardPort: Got tunnel promise from provider."),y!==void 0){const m=await y;this.logService.trace("$forwardPort: Successfully awaited tunnel from provider."),this._extensionTunnels.has(i.remoteAddress.host)||this._extensionTunnels.set(i.remoteAddress.host,new Map);const E=this._register(m.onDidDispose(()=>this._proxy.$closeTunnel(m.remoteAddress)));return this._extensionTunnels.get(i.remoteAddress.host).set(i.remoteAddress.port,{tunnel:m,disposeListener:E}),v.TunnelDto.fromApiTunnel(m)}else this.logService.trace("$forwardPort: Tunnel is undefined")}catch(y){this.logService.trace("$forwardPort: tunnel provider error")}}async $applyCandidateFilter(i){const h=await Promise.all(i.map(y=>this._showCandidatePort(y.host,y.port,y.detail)));return i.filter((y,m)=>h[m])}async findCandidatePorts(){let i="",h="";try{i=await I.readFile("/proc/net/tcp","utf8"),h=await I.readFile("/proc/net/tcp6","utf8")}catch(_){}const y=await new Promise(_=>{D.exec("ls -l /proc/[0-9]*/fd/[0-9]* | grep socket:",(L,R,N)=>{_(R)})}),m=await I.readdir("/proc"),E=[];for(let _ of m)try{const L=Number(_),R=C.joinPath(P.URI.file("/proc"),_);if((await I.stat(R.fsPath)).isDirectory()&&!isNaN(L)){const W=await u.promisify(n.readlink)(C.joinPath(R,"cwd").fsPath),x=await I.readFile(C.joinPath(R,"cmdline").fsPath,"utf8");E.push({pid:L,cwd:W,cmd:x})}}catch(L){}return r(i,h,y,E)}};o=He([Fe(0,k.IExtHostRpcService),Fe(1,T.IExtHostInitDataService),Fe(2,b.ILogService)],o),e.ExtHostTunnelService=o}),define(ge[254],pe([0,1,19,21,15,3,5,99,226,122,27]),function(Z,e,w,k,A,T,P,D,C,n,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RPCProtocol=e.ResponsiveState=e.RequestInitiator=void 0;function S(t,r){try{return JSON.stringify(t,r)}catch(o){return"null"}}function v(t,r){return JSON.stringify(t,r)}function f(t){return t?(r,o)=>o&&o.$mid===1?t.transformOutgoing(o):o:null}var u;(function(t){t[t.LocalSide=0]="LocalSide",t[t.OtherSide=1]="OtherSide"})(u=e.RequestInitiator||(e.RequestInitiator={}));var g;(function(t){t[t.Responsive=0]="Responsive",t[t.Unresponsive=1]="Unresponsive"})(g=e.ResponsiveState||(e.ResponsiveState={}));const b=()=>{};class p extends P.Disposable{constructor(r,o=null,a=null){super();this._onDidChangeResponsiveState=this._register(new T.Emitter),this.onDidChangeResponsiveState=this._onDidChangeResponsiveState.event,this._protocol=r,this._logger=o,this._uriTransformer=a,this._uriReplacer=f(this._uriTransformer),this._isDisposed=!1,this._locals=[],this._proxies=[];for(let i=0,h=n.ProxyIdentifier.count;i<h;i++)this._locals[i]=null,this._proxies[i]=null;this._lastMessageId=0,this._cancelInvokedHandlers=Object.create(null),this._pendingRPCReplies={},this._responsiveState=0,this._unacknowledgedCount=0,this._unresponsiveTime=0,this._asyncCheckUresponsive=this._register(new w.RunOnceScheduler(()=>this._checkUnresponsive(),1e3)),this._protocol.onMessage(i=>this._receiveOneMessage(i))}dispose(){this._isDisposed=!0,Object.keys(this._pendingRPCReplies).forEach(r=>{this._pendingRPCReplies[r].resolveErr(A.canceled())})}drain(){return typeof this._protocol.drain=="function"?this._protocol.drain():Promise.resolve()}_onWillSendRequest(r){this._unacknowledgedCount===0&&(this._unresponsiveTime=Date.now()+p.UNRESPONSIVE_TIME),this._unacknowledgedCount++,this._asyncCheckUresponsive.isScheduled()||this._asyncCheckUresponsive.schedule()}_onDidReceiveAcknowledge(r){this._unresponsiveTime=Date.now()+p.UNRESPONSIVE_TIME,this._unacknowledgedCount--,this._unacknowledgedCount===0&&this._asyncCheckUresponsive.cancel(),this._setResponsiveState(0)}_checkUnresponsive(){this._unacknowledgedCount!==0&&(Date.now()>this._unresponsiveTime?this._setResponsiveState(1):this._asyncCheckUresponsive.schedule())}_setResponsiveState(r){this._responsiveState!==r&&(this._responsiveState=r,this._onDidChangeResponsiveState.fire(this._responsiveState))}get responsiveState(){return this._responsiveState}transformIncomingURIs(r){return this._uriTransformer?D.transformIncomingURIs(r,this._uriTransformer):r}getProxy(r){const o=r.nid;return this._proxies[o]||(this._proxies[o]=this._createProxy(o)),this._proxies[o]}_createProxy(r){let o={get:(a,i)=>(typeof i=="string"&&!a[i]&&i.charCodeAt(0)===36&&(a[i]=(...h)=>this._remoteCall(r,i,h)),a[i])};return new Proxy(Object.create(null),o)}set(r,o){return this._locals[r.nid]=o,o}assertRegistered(r){for(let o=0,a=r.length;o<a;o++){const i=r[o];if(!this._locals[i.nid])throw new Error(`Missing actor ${i.sid} (isMain: ${i.isMain})`)}}_receiveOneMessage(r){if(!this._isDisposed){const o=r.byteLength,a=d.read(r,0),i=a.readUInt8(),h=a.readUInt32();switch(i){case 1:case 2:{let{rpcId:y,method:m,args:E}=s.deserializeRequestJSONArgs(a);this._uriTransformer&&(E=D.transformIncomingURIs(E,this._uriTransformer)),this._receiveRequest(o,h,y,m,E,i===2);break}case 3:case 4:{let{rpcId:y,method:m,args:E}=s.deserializeRequestMixedArgs(a);this._uriTransformer&&(E=D.transformIncomingURIs(E,this._uriTransformer)),this._receiveRequest(o,h,y,m,E,i===4);break}case 5:{this._logger&&this._logger.logIncoming(o,h,0,"ack"),this._onDidReceiveAcknowledge(h);break}case 6:{this._receiveCancel(o,h);break}case 7:{this._receiveReply(o,h,void 0);break}case 9:{let y=s.deserializeReplyOKJSON(a);this._uriTransformer&&(y=D.transformIncomingURIs(y,this._uriTransformer)),this._receiveReply(o,h,y);break}case 8:{let y=s.deserializeReplyOKVSBuffer(a);this._receiveReply(o,h,y);break}case 10:{let y=s.deserializeReplyErrError(a);this._uriTransformer&&(y=D.transformIncomingURIs(y,this._uriTransformer)),this._receiveReplyErr(o,h,y);break}case 11:{this._receiveReplyErr(o,h,void 0);break}default:console.error("received unexpected message"),console.error(r)}}}_receiveRequest(r,o,a,i,h,y){this._logger&&this._logger.logIncoming(r,o,1,`receiveRequest ${n.getStringIdentifierForProxy(a)}.${i}(`,h);const m=String(o);let E,_;if(y){const R=new k.CancellationTokenSource;h.push(R.token),E=this._invokeHandler(a,i,h),_=()=>R.cancel()}else E=this._invokeHandler(a,i,h),_=b;this._cancelInvokedHandlers[m]=_;const L=s.serializeAcknowledged(o);this._logger&&this._logger.logOutgoing(L.byteLength,o,1,"ack"),this._protocol.send(L),E.then(R=>{delete this._cancelInvokedHandlers[m];const N=s.serializeReplyOK(o,R,this._uriReplacer);this._logger&&this._logger.logOutgoing(N.byteLength,o,1,"reply:",R),this._protocol.send(N)},R=>{delete this._cancelInvokedHandlers[m];const N=s.serializeReplyErr(o,R);this._logger&&this._logger.logOutgoing(N.byteLength,o,1,"replyErr:",R),this._protocol.send(N)})}_receiveCancel(r,o){this._logger&&this._logger.logIncoming(r,o,1,"receiveCancel");const a=String(o);this._cancelInvokedHandlers[a]&&this._cancelInvokedHandlers[a]()}_receiveReply(r,o,a){this._logger&&this._logger.logIncoming(r,o,0,"receiveReply:",a);const i=String(o);if(!!this._pendingRPCReplies.hasOwnProperty(i)){const h=this._pendingRPCReplies[i];delete this._pendingRPCReplies[i],h.resolveOk(a)}}_receiveReplyErr(r,o,a){this._logger&&this._logger.logIncoming(r,o,0,"receiveReplyErr:",a);const i=String(o);if(!!this._pendingRPCReplies.hasOwnProperty(i)){const h=this._pendingRPCReplies[i];delete this._pendingRPCReplies[i];let y;a&&(a.$isError?(y=new Error,y.name=a.name,y.message=a.message,y.stack=a.stack):y=a),h.resolveErr(y)}}_invokeHandler(r,o,a){try{return Promise.resolve(this._doInvokeHandler(r,o,a))}catch(i){return Promise.reject(i)}}_doInvokeHandler(r,o,a){const i=this._locals[r];if(!i)throw new Error("Unknown actor "+n.getStringIdentifierForProxy(r));let h=i[o];if(typeof h!="function")throw new Error("Unknown method "+o+" on actor "+n.getStringIdentifierForProxy(r));return h.apply(i,a)}_remoteCall(r,o,a){if(this._isDisposed)return Promise.reject(A.canceled());let i=null;if(a.length>0&&k.CancellationToken.isCancellationToken(a[a.length-1])&&(i=a.pop()),i&&i.isCancellationRequested)return Promise.reject(A.canceled());const h=s.serializeRequestArguments(a,this._uriReplacer),y=++this._lastMessageId,m=String(y),E=new C.LazyPromise;i&&i.onCancellationRequested(()=>{const L=s.serializeCancel(y);this._logger&&this._logger.logOutgoing(L.byteLength,y,0,"cancel"),this._protocol.send(s.serializeCancel(y))}),this._pendingRPCReplies[m]=E,this._onWillSendRequest(y);const _=s.serializeRequest(y,r,o,h,!!i);return this._logger&&this._logger.logOutgoing(_.byteLength,y,0,`request: ${n.getStringIdentifierForProxy(r)}.${o}(`,a),this._protocol.send(_),E}}e.RPCProtocol=p,p.UNRESPONSIVE_TIME=3*1e3;class d{constructor(r,o){this._buff=r,this._offset=o}static alloc(r,o,a){let i=new d(I.VSBuffer.alloc(a+1+4),0);return i.writeUInt8(r),i.writeUInt32(o),i}static read(r,o){return new d(r,o)}get buffer(){return this._buff}static sizeUInt8(){return 1}writeUInt8(r){this._buff.writeUInt8(r,this._offset),this._offset+=1}readUInt8(){const r=this._buff.readUInt8(this._offset);return this._offset+=1,r}writeUInt32(r){this._buff.writeUInt32BE(r,this._offset),this._offset+=4}readUInt32(){const r=this._buff.readUInt32BE(this._offset);return this._offset+=4,r}static sizeShortString(r){return 1+r.byteLength}writeShortString(r){this._buff.writeUInt8(r.byteLength,this._offset),this._offset+=1,this._buff.set(r,this._offset),this._offset+=r.byteLength}readShortString(){const r=this._buff.readUInt8(this._offset);this._offset+=1;const a=this._buff.slice(this._offset,this._offset+r).toString();return this._offset+=r,a}static sizeLongString(r){return 4+r.byteLength}writeLongString(r){this._buff.writeUInt32BE(r.byteLength,this._offset),this._offset+=4,this._buff.set(r,this._offset),this._offset+=r.byteLength}readLongString(){const r=this._buff.readUInt32BE(this._offset);this._offset+=4;const a=this._buff.slice(this._offset,this._offset+r).toString();return this._offset+=r,a}writeBuffer(r){this._buff.writeUInt32BE(r.byteLength,this._offset),this._offset+=4,this._buff.set(r,this._offset),this._offset+=r.byteLength}static sizeVSBuffer(r){return 4+r.byteLength}writeVSBuffer(r){this._buff.writeUInt32BE(r.byteLength,this._offset),this._offset+=4,this._buff.set(r,this._offset),this._offset+=r.byteLength}readVSBuffer(){const r=this._buff.readUInt32BE(this._offset);this._offset+=4;const o=this._buff.slice(this._offset,this._offset+r);return this._offset+=r,o}static sizeMixedArray(r,o){let a=0;a+=1;for(let i=0,h=r.length;i<h;i++){const y=r[i],m=o[i];switch(a+=1,m){case 1:a+=this.sizeLongString(y);break;case 2:a+=this.sizeVSBuffer(y);break;case 3:break}}return a}writeMixedArray(r,o){this._buff.writeUInt8(r.length,this._offset),this._offset+=1;for(let a=0,i=r.length;a<i;a++){const h=r[a];switch(o[a]){case 1:this.writeUInt8(1),this.writeLongString(h);break;case 2:this.writeUInt8(2),this.writeVSBuffer(h);break;case 3:this.writeUInt8(3);break}}}readMixedArray(){const r=this._buff.readUInt8(this._offset);this._offset+=1;let o=new Array(r);for(let a=0;a<r;a++)switch(this.readUInt8()){case 1:o[a]=this.readLongString();break;case 2:o[a]=this.readVSBuffer();break;case 3:o[a]=void 0;break}return o}}class s{static _arrayContainsBufferOrUndefined(r){for(let o=0,a=r.length;o<a;o++)if(r[o]instanceof I.VSBuffer||typeof r[o]=="undefined")return!0;return!1}static serializeRequestArguments(r,o){if(this._arrayContainsBufferOrUndefined(r)){let a=[],i=[];for(let h=0,y=r.length;h<y;h++){const m=r[h];m instanceof I.VSBuffer?(a[h]=m,i[h]=2):typeof m=="undefined"?(a[h]=I.VSBuffer.alloc(0),i[h]=3):(a[h]=I.VSBuffer.fromString(v(m,o)),i[h]=1)}return{type:"mixed",args:a,argsType:i}}return{type:"simple",args:v(r,o)}}static serializeRequest(r,o,a,i,h){return i.type==="mixed"?this._requestMixedArgs(r,o,a,i.args,i.argsType,h):this._requestJSONArgs(r,o,a,i.args,h)}static _requestJSONArgs(r,o,a,i,h){const y=I.VSBuffer.fromString(a),m=I.VSBuffer.fromString(i);let E=0;E+=d.sizeUInt8(),E+=d.sizeShortString(y),E+=d.sizeLongString(m);let _=d.alloc(h?2:1,r,E);return _.writeUInt8(o),_.writeShortString(y),_.writeLongString(m),_.buffer}static deserializeRequestJSONArgs(r){const o=r.readUInt8(),a=r.readShortString(),i=r.readLongString();return{rpcId:o,method:a,args:JSON.parse(i)}}static _requestMixedArgs(r,o,a,i,h,y){const m=I.VSBuffer.fromString(a);let E=0;E+=d.sizeUInt8(),E+=d.sizeShortString(m),E+=d.sizeMixedArray(i,h);let _=d.alloc(y?4:3,r,E);return _.writeUInt8(o),_.writeShortString(m),_.writeMixedArray(i,h),_.buffer}static deserializeRequestMixedArgs(r){const o=r.readUInt8(),a=r.readShortString(),i=r.readMixedArray(),h=new Array(i.length);for(let y=0,m=i.length;y<m;y++){const E=i[y];typeof E=="string"?h[y]=JSON.parse(E):h[y]=E}return{rpcId:o,method:a,args:h}}static serializeAcknowledged(r){return d.alloc(5,r,0).buffer}static serializeCancel(r){return d.alloc(6,r,0).buffer}static serializeReplyOK(r,o,a){return typeof o=="undefined"?this._serializeReplyOKEmpty(r):o instanceof I.VSBuffer?this._serializeReplyOKVSBuffer(r,o):this._serializeReplyOKJSON(r,S(o,a))}static _serializeReplyOKEmpty(r){return d.alloc(7,r,0).buffer}static _serializeReplyOKVSBuffer(r,o){let a=0;a+=d.sizeVSBuffer(o);let i=d.alloc(8,r,a);return i.writeVSBuffer(o),i.buffer}static deserializeReplyOKVSBuffer(r){return r.readVSBuffer()}static _serializeReplyOKJSON(r,o){const a=I.VSBuffer.fromString(o);let i=0;i+=d.sizeLongString(a);let h=d.alloc(9,r,i);return h.writeLongString(a),h.buffer}static deserializeReplyOKJSON(r){const o=r.readLongString();return JSON.parse(o)}static serializeReplyErr(r,o){return o?this._serializeReplyErrEror(r,o):this._serializeReplyErrEmpty(r)}static _serializeReplyErrEror(r,o){const a=I.VSBuffer.fromString(S(A.transformErrorForSerialization(o),null));let i=0;i+=d.sizeLongString(a);let h=d.alloc(10,r,i);return h.writeLongString(a),h.buffer}static deserializeReplyErrError(r){const o=r.readLongString();return JSON.parse(o)}static _serializeReplyErrEmpty(r){return d.alloc(11,r,0).buffer}}var l;(function(t){t[t.RequestJSONArgs=1]="RequestJSONArgs",t[t.RequestJSONArgsWithCancellation=2]="RequestJSONArgsWithCancellation",t[t.RequestMixedArgs=3]="RequestMixedArgs",t[t.RequestMixedArgsWithCancellation=4]="RequestMixedArgsWithCancellation",t[t.Acknowledged=5]="Acknowledged",t[t.Cancel=6]="Cancel",t[t.ReplyOKEmpty=7]="ReplyOKEmpty",t[t.ReplyOKVSBuffer=8]="ReplyOKVSBuffer",t[t.ReplyOKJSON=9]="ReplyOKJSON",t[t.ReplyErrError=10]="ReplyErrError",t[t.ReplyErrEmpty=11]="ReplyErrEmpty"})(l||(l={}));var c;(function(t){t[t.String=1]="String",t[t.VSBuffer=2]="VSBuffer",t[t.Undefined=3]="Undefined"})(c||(c={}))}),define(ge[255],pe([0,1,110,50]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputAppender=void 0;class A{constructor(P,D){this.file=D,this.appender=w.createRotatingLogger(P,D,30*k.ByteSize.MB,1),this.appender.clearFormatters()}append(P){this.appender.critical(P)}flush(){this.appender.flush()}}e.OutputAppender=A}),define(ge[256],pe([0,1,2,7,255,144,24,65,28,14,5,11]),function(Z,e,w,k,A,T,P,D,C,n,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostOutputService2=e.ExtHostOutputChannelBackedByFile=void 0;class v extends D.AbstractExtHostOutputChannel{constructor(g,b,p){super(g,!1,w.URI.file(b.file),p);this._appender=b}append(g){super.append(g),this._appender.append(g),this._onDidAppend.fire()}update(){this._appender.flush(),super.update()}show(g,b){this._appender.flush(),super.show(g,b)}clear(){this._appender.flush(),super.clear()}}e.ExtHostOutputChannelBackedByFile=v;let f=class extends D.ExtHostOutputService{constructor(g,b,p){super(g);this.logService=b,this._namePool=1,this._channels=new Map,this._visibleChannelDisposable=new I.MutableDisposable,this._logsLocation=p.logsLocation}$setVisibleChannel(g){if(g){const b=this._channels.get(g);b&&(this._visibleChannelDisposable.value=b.onDidAppend(()=>b.update()))}}createOutputChannel(g){if(g=g.trim(),!g)throw new Error("illegal argument `name`. must not be falsy");const b=this._doCreateOutChannel(g);return b.then(p=>p._id.then(d=>this._channels.set(d,p))),new D.LazyOutputChannel(g,b)}async _doCreateOutChannel(g){try{const b=k.join(this._logsLocation.fsPath,`output_logging_${T.toLocalISOString(new Date).replace(/-|:|\.\d+Z$/g,"")}`);await P.dirExists(b)||await P.mkdirp(b);const d=`${this._namePool++}-${g.replace(/[\\/:\*\?"<>\|]/g,"")}`,s=w.URI.file(k.join(b,`${d}.log`)),l=new A.OutputAppender(d,s.fsPath);return new v(g,l,this._proxy)}catch(b){return this.logService.error(b),new D.ExtHostPushOutputChannel(g,this._proxy)}}};f=He([Fe(0,n.IExtHostRpcService),Fe(1,S.ILogService),Fe(2,C.IExtHostInitDataService)],f),e.ExtHostOutputService2=f}),define(ge[257],pe([0,1,4]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IRemoteAgentService=e.RemoteExtensionLogFileName=void 0,e.RemoteExtensionLogFileName="remoteagent",e.IRemoteAgentService=w.createDecorator("remoteAgentService")}),define(ge[258],pe([0,1,13,7,9,2,4,257]),function(Z,e,w,k,A,T,P,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPathService=e.IPathService=void 0,e.IPathService=P.createDecorator("pathService");let C=class{constructor(I,S){this.localUserHome=I,this.remoteAgentService=S,this.resolveOS=(async()=>{const v=await this.remoteAgentService.getEnvironment();return(v==null?void 0:v.os)||A.OS})(),this.resolveUserHome=(async()=>{const v=await this.remoteAgentService.getEnvironment();return this.maybeUnresolvedUserHome=(v==null?void 0:v.userHome)||I})()}async userHome(I){return(I==null?void 0:I.preferLocal)?this.localUserHome:this.resolveUserHome}get resolvedUserHome(){return this.maybeUnresolvedUserHome}get path(){return this.resolveOS.then(I=>I===1?k.win32:k.posix)}async fileURI(I){let S="";if(await this.resolveOS===1&&(I=I.replace(/\\/g,"/")),I[0]==="/"&&I[1]==="/"){const f=I.indexOf("/",2);f===-1?(S=I.substring(2),I="/"):(S=I.substring(2,f),I=I.substring(f)||"/")}return T.URI.from({scheme:w.Schemas.file,authority:S,path:I,query:"",fragment:""})}};C=He([Fe(1,D.IRemoteAgentService)],C),e.AbstractPathService=C}),define(ge[31],pe([0,1,12,33,25,30,10,4,7,15]),function(Z,e,w,k,A,T,P,D,C,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryGlobTester=e.resolvePatternsForProvider=e.SerializableFileMatch=e.isFilePatternMatch=e.isSerializedFileMatch=e.isSerializedSearchSuccess=e.isSerializedSearchComplete=e.serializeSearchError=e.deserializeSearchError=e.SearchError=e.SearchErrorCode=e.pathIncludedInQuery=e.getExcludes=e.SearchSortOrder=e.OneLineRange=e.SearchRange=e.TextSearchMatch=e.FileMatch=e.SearchCompletionExitCode=e.isProgressMessage=e.isFileMatch=e.resultIsMatch=e.QueryType=e.SearchProviderType=e.ISearchService=e.SEARCH_EXCLUDE_CONFIG=e.VIEW_ID=e.PANEL_ID=e.VIEWLET_ID=void 0,e.VIEWLET_ID="workbench.view.search",e.PANEL_ID="workbench.panel.search",e.VIEW_ID="workbench.view.search",e.SEARCH_EXCLUDE_CONFIG="search.exclude";const I="\u27EA ",S=" characters skipped \u27EB",v=(I.length+S.length+5)*2;e.ISearchService=D.createDecorator("searchService");var f;(function(O){O[O.file=0]="file",O[O.text=1]="text"})(f=e.SearchProviderType||(e.SearchProviderType={}));var u;(function(O){O[O.File=1]="File",O[O.Text=2]="Text"})(u=e.QueryType||(e.QueryType={}));function g(O){return!!O.preview}e.resultIsMatch=g;function b(O){return!!O.resource}e.isFileMatch=b;function p(O){return!!O.message}e.isProgressMessage=p;var d;(function(O){O[O.Normal=0]="Normal",O[O.NewSearchStarted=1]="NewSearchStarted"})(d=e.SearchCompletionExitCode||(e.SearchCompletionExitCode={}));class s{constructor(z){this.resource=z,this.results=[]}}e.FileMatch=s;class l{constructor(z,J,U){this.ranges=J;const V=Array.isArray(J)?J:[J];if(U&&U.matchLines===1&&c(V)){z=P.getNLines(z,U.matchLines);let B="",Y=0,ae=0;const ce=Math.floor(U.charsPerLine/5),fe=[];for(const _e of V){const be=Math.max(_e.startColumn-ce,0),H=_e.startColumn+U.charsPerLine;if(be>ae+ce+v){const X=I+(be-ae)+S;B+=X+z.slice(be,H),Y+=be-(ae+X.length)}else B+=z.slice(ae,H);fe.push(new r(0,_e.startColumn-Y,_e.endColumn-Y)),ae=H}this.preview={text:B,matches:Array.isArray(this.ranges)?fe:fe[0]}}else{const B=Array.isArray(J)?J[0].startLineNumber:J.startLineNumber;this.preview={text:z,matches:w.mapArrayOrNot(J,Y=>new t(Y.startLineNumber-B,Y.startColumn,Y.endLineNumber-B,Y.endColumn))}}}}e.TextSearchMatch=l;function c(O){const z=O[0].startLineNumber;for(const J of O)if(J.startLineNumber!==z||J.endLineNumber!==z)return!1;return!0}class t{constructor(z,J,U,V){this.startLineNumber=z,this.startColumn=J,this.endLineNumber=U,this.endColumn=V}}e.SearchRange=t;class r extends t{constructor(z,J,U){super(z,J,z,U)}}e.OneLineRange=r;var o;(function(O){O.Default="default",O.FileNames="fileNames",O.Type="type",O.Modified="modified",O.CountDescending="countDescending",O.CountAscending="countAscending"})(o=e.SearchSortOrder||(e.SearchSortOrder={}));function a(O,z=!0){const J=O&&O.files&&O.files.exclude,U=z&&O&&O.search&&O.search.exclude;if(!(!J&&!U)){if(!J||!U)return J||U;let V=Object.create(null);return V=A.mixin(V,A.deepClone(J)),V=A.mixin(V,A.deepClone(U),!0),V}}e.getExcludes=a;function i(O,z){return O.excludePattern&&k.match(O.excludePattern,z)?!1:O.includePattern||O.usingSearchPaths?O.includePattern&&k.match(O.includePattern,z)?!0:O.usingSearchPaths?!!O.folderQueries&&O.folderQueries.some(J=>{const U=J.folder.fsPath;if(T.isEqualOrParent(z,U)){const V=C.relative(U,z);return!J.includePattern||!!k.match(J.includePattern,V)}else return!1}):!1:!0}e.pathIncludedInQuery=i;var h;(function(O){O[O.unknownEncoding=1]="unknownEncoding",O[O.regexParseError=2]="regexParseError",O[O.globParseError=3]="globParseError",O[O.invalidLiteral=4]="invalidLiteral",O[O.rgProcessError=5]="rgProcessError",O[O.other=6]="other",O[O.canceled=7]="canceled"})(h=e.SearchErrorCode||(e.SearchErrorCode={}));class y extends Error{constructor(z,J){super(z);this.code=J}}e.SearchError=y;function m(O){const z=O.message;if(n.isPromiseCanceledError(O))return new y(z,h.canceled);try{const J=JSON.parse(z);return new y(J.message,J.code)}catch(J){return new y(z,h.other)}}e.deserializeSearchError=m;function E(O){const z={message:O.message,code:O.code};return new Error(JSON.stringify(z))}e.serializeSearchError=E;function _(O){return O.type==="error"?!0:O.type==="success"}e.isSerializedSearchComplete=_;function L(O){return O.type==="success"}e.isSerializedSearchSuccess=L;function R(O){return!!O.path}e.isSerializedFileMatch=R;function N(O,z){const J=O.searchPath?O.searchPath:O.relativePath;return P.fuzzyContains(J,z)}e.isFilePatternMatch=N;class W{constructor(z){this.path=z,this.results=[]}addMatch(z){this.results.push(z)}serialize(){return{path:this.path,results:this.results,numMatches:this.results.length}}}e.SerializableFileMatch=W;function x(O,z){const J=Object.assign(Object.assign({},O||{}),z||{});return Object.keys(J).filter(U=>{const V=J[U];return typeof V=="boolean"&&V})}e.resolvePatternsForProvider=x;class M{constructor(z,J){this._parsedIncludeExpression=null,this._excludeExpression=Object.assign(Object.assign({},z.excludePattern||{}),J.excludePattern||{}),this._parsedExcludeExpression=k.parse(this._excludeExpression);let U=z.includePattern;J.includePattern&&(U?U=Object.assign(Object.assign({},U),J.includePattern):U=J.includePattern),U&&(this._parsedIncludeExpression=k.parse(U))}includedInQuerySync(z,J,U){return!(this._parsedExcludeExpression&&this._parsedExcludeExpression(z,J,U)||this._parsedIncludeExpression&&!this._parsedIncludeExpression(z,J,U))}includedInQuery(z,J,U){return Promise.resolve(this._parsedExcludeExpression(z,J,U)).then(B=>!!B).then(B=>B?!1:this._parsedIncludeExpression?Promise.resolve(this._parsedIncludeExpression(z,J,U)).then(Y=>!!Y):Promise.resolve(!0)).then(B=>B)}hasSiblingExcludeClauses(){return $(this._excludeExpression)}}e.QueryGlobTester=M;function $(O){for(const z in O)if(typeof O[z]!="boolean")return!0;return!1}}),define(ge[32],pe([0,1,12,19,21,3,22,13,74,23,10,16,2,164,4,11,182,61,62,28,14,8,31,6]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p,d,s,l,c,t,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostWorkspace=e.ExtHostWorkspace=void 0;function o(L,R,N){return new n.ExtUri(W=>y(W,N)).isEqual(L,R)}function a(L,R,N){return o(L.uri,R.uri,N)?0:I.compare(L.uri.toString(),R.uri.toString())}function i(L,R,N){return L.index!==R.index?L.index<R.index?-1:1:o(L.uri,R.uri,N)?I.compare(L.name,R.name):I.compare(L.uri.toString(),R.uri.toString())}function h(L,R,N,W){const x=L.slice(0).sort(($,O)=>N($,O,W)),M=R.slice(0).sort(($,O)=>N($,O,W));return w.delta(x,M,($,O)=>N($,O,W))}function y(L,R){const N=R.getCapabilities(L.scheme);return!(N&&N&1024)}class m extends p.Workspace{constructor(R,N,W,x,M,$){super(R,W.map(O=>new p.WorkspaceFolder(O)),x,$);this._name=N,this._isUntitled=M,this._workspaceFolders=[],this._structure=P.TernarySearchTree.forUris($),W.forEach(O=>{this._workspaceFolders.push(O),this._structure.set(O.uri,O)})}static toExtHostWorkspace(R,N,W,x){if(!R)return{workspace:null,added:[],removed:[]};const{id:M,name:$,folders:O,configuration:z,isUntitled:J}=R,U=[],V=N;N?O.forEach((ce,fe)=>{const _e=v.URI.revive(ce.uri),be=m._findFolder(W||N,_e,x);be?(be.name=ce.name,be.index=ce.index,U.push(be)):U.push({uri:_e,name:ce.name,index:fe})}):U.push(...O.map(({uri:ce,name:fe,index:_e})=>({uri:v.URI.revive(ce),name:fe,index:_e}))),U.sort((ce,fe)=>ce.index<fe.index?-1:1);const B=new m(M,$,U,z?v.URI.revive(z):null,!!J,ce=>y(ce,x)),{added:Y,removed:ae}=h(V?V.workspaceFolders:[],B.workspaceFolders,a,x);return{workspace:B,added:Y,removed:ae}}static _findFolder(R,N,W){for(let x=0;x<R.folders.length;x++){const M=R.workspaceFolders[x];if(o(M.uri,N,W))return M}}get name(){return this._name}get isUntitled(){return this._isUntitled}get workspaceFolders(){return this._workspaceFolders.slice(0)}getWorkspaceFolder(R,N){return N&&this._structure.get(R)&&(R=n.dirname(R)),this._structure.findSubstr(R)}resolveWorkspaceFolder(R){return this._structure.get(R)}}let E=class{constructor(R,N,W,x){this._onDidChangeWorkspace=new T.Emitter,this.onDidChangeWorkspace=this._onDidChangeWorkspace.event,this._activeSearchCallbacks=[],this._logService=x,this._extHostFileSystemInfo=W,this._requestIdProvider=new C.Counter,this._barrier=new k.Barrier,this._proxy=R.getProxy(r.MainContext.MainThreadWorkspace),this._messageService=R.getProxy(r.MainContext.MainThreadMessageService);const M=N.workspace;this._confirmedWorkspace=M?new m(M.id,M.name,[],M.configuration?v.URI.revive(M.configuration):null,!!M.isUntitled,$=>y($,W)):void 0}$initializeWorkspace(R){this.$acceptWorkspaceData(R),this._barrier.open()}waitForInitializeCall(){return this._barrier.wait()}get workspace(){return this._actualWorkspace}get name(){return this._actualWorkspace?this._actualWorkspace.name:void 0}get workspaceFile(){if(this._actualWorkspace&&this._actualWorkspace.configuration)return this._actualWorkspace.isUntitled?v.URI.from({scheme:D.Schemas.untitled,path:n.basename(n.dirname(this._actualWorkspace.configuration))}):this._actualWorkspace.configuration}get _actualWorkspace(){return this._unconfirmedWorkspace||this._confirmedWorkspace}getWorkspaceFolders(){if(!!this._actualWorkspace)return this._actualWorkspace.workspaceFolders.slice(0)}async getWorkspaceFolders2(){if(await this._barrier.wait(),!!this._actualWorkspace)return this._actualWorkspace.workspaceFolders.slice(0)}updateWorkspaceFolders(R,N,W,...x){const M=[];if(Array.isArray(x)&&x.forEach(U=>{v.URI.isUri(U.uri)&&!M.some(V=>o(V.uri,U.uri,this._extHostFileSystemInfo))&&M.push({uri:U.uri,name:U.name||n.basenameOrAuthority(U.uri)})}),this._unconfirmedWorkspace||[N,W].some(U=>typeof U!="number"||U<0)||W===0&&M.length===0)return!1;const $=this._actualWorkspace?this._actualWorkspace.workspaceFolders:[];if(N+W>$.length)return!1;const O=$.slice(0);O.splice(N,W,...M.map(U=>({uri:U.uri,name:U.name||n.basenameOrAuthority(U.uri),index:void 0})));for(let U=0;U<O.length;U++){const V=O[U];if(O.some((B,Y)=>Y!==U&&o(V.uri,B.uri,this._extHostFileSystemInfo)))return!1}O.forEach((U,V)=>U.index=V);const{added:z,removed:J}=h($,O,i,this._extHostFileSystemInfo);if(z.length===0&&J.length===0)return!1;if(this._proxy){const U=R.displayName||R.name;this._proxy.$updateWorkspaceFolders(U,N,W,M).then(void 0,V=>{this._unconfirmedWorkspace=void 0,this._messageService.$showMessage(b.Severity.Error,f.localize(0,null,U,V.toString()),{extension:R},[])})}return this.trySetWorkspaceFolders(O),!0}getWorkspaceFolder(R,N){if(!!this._actualWorkspace)return this._actualWorkspace.getWorkspaceFolder(R,N)}async getWorkspaceFolder2(R,N){if(await this._barrier.wait(),!!this._actualWorkspace)return this._actualWorkspace.getWorkspaceFolder(R,N)}async resolveWorkspaceFolder(R){if(await this._barrier.wait(),!!this._actualWorkspace)return this._actualWorkspace.resolveWorkspaceFolder(R)}getPath(){if(!!this._actualWorkspace){const{folders:R}=this._actualWorkspace;if(R.length!==0)return R[0].uri.fsPath}}getRelativePath(R,N){let W,x="";if(typeof R=="string"?(W=v.URI.file(R),x=R):typeof R!="undefined"&&(W=R,x=R.fsPath),!W)return x;const M=this.getWorkspaceFolder(W,!0);if(!M)return x;typeof N=="undefined"&&this._actualWorkspace&&(N=this._actualWorkspace.folders.length>1);let $=n.relativePath(M.uri,W);return N&&M.name&&($=`${M.name}/${$}`),$}trySetWorkspaceFolders(R){this._actualWorkspace&&(this._unconfirmedWorkspace=m.toExtHostWorkspace({id:this._actualWorkspace.id,name:this._actualWorkspace.name,configuration:this._actualWorkspace.configuration,folders:R,isUntitled:this._actualWorkspace.isUntitled},this._actualWorkspace,void 0,this._extHostFileSystemInfo).workspace||void 0)}$acceptWorkspaceData(R){const{workspace:N,added:W,removed:x}=m.toExtHostWorkspace(R,this._confirmedWorkspace,this._unconfirmedWorkspace,this._extHostFileSystemInfo);this._confirmedWorkspace=N||void 0,this._unconfirmedWorkspace=void 0,this._onDidChangeWorkspace.fire(Object.freeze({added:W,removed:x}))}findFiles(R,N,W,x,M=A.CancellationToken.None){this._logService.trace(`extHostWorkspace#findFiles: fileSearch, extension: ${x.value}, entryPoint: findFiles`);let $;if(N===null?$=!1:N&&(typeof N=="string"?$=N:$=N.pattern),M&&M.isCancellationRequested)return Promise.resolve([]);const{includePattern:O,folder:z}=_(R);return this._proxy.$startFileSearch(S.withUndefinedAsNull(O),S.withUndefinedAsNull(z),S.withUndefinedAsNull($),S.withUndefinedAsNull(W),M).then(J=>Array.isArray(J)?J.map(U=>v.URI.revive(U)):[])}async findTextInFiles(R,N,W,x,M=A.CancellationToken.None){this._logService.trace(`extHostWorkspace#findTextInFiles: textSearch, extension: ${x.value}, entryPoint: findTextInFiles`);const $=this._requestIdProvider.getNext(),O=typeof N.previewOptions=="undefined"?{matchLines:100,charsPerLine:1e4}:N.previewOptions,{includePattern:z,folder:J}=_(N.include),U=typeof N.exclude=="string"?N.exclude:N.exclude?N.exclude.pattern:void 0,V={ignoreSymlinks:typeof N.followSymlinks=="boolean"?!N.followSymlinks:void 0,disregardIgnoreFiles:typeof N.useIgnoreFiles=="boolean"?!N.useIgnoreFiles:void 0,disregardGlobalIgnoreFiles:typeof N.useGlobalIgnoreFiles=="boolean"?!N.useGlobalIgnoreFiles:void 0,disregardExcludeSettings:typeof N.useDefaultExcludes=="boolean"?!N.useDefaultExcludes:!0,fileEncoding:N.encoding,maxResults:N.maxResults,previewOptions:O,afterContext:N.afterContext,beforeContext:N.beforeContext,includePattern:z,excludePattern:U},B=!1;if(this._activeSearchCallbacks[$]=Y=>{if(!B){const ae=v.URI.revive(Y.resource);Y.results.forEach(ce=>{t.resultIsMatch(ce)?W({uri:ae,preview:{text:ce.preview.text,matches:w.mapArrayOrNot(ce.preview.matches,fe=>new c.Range(fe.startLineNumber,fe.startColumn,fe.endLineNumber,fe.endColumn))},ranges:w.mapArrayOrNot(ce.ranges,fe=>new c.Range(fe.startLineNumber,fe.startColumn,fe.endLineNumber,fe.endColumn))}):W({uri:ae,text:ce.text,lineNumber:ce.lineNumber})})}},M.isCancellationRequested)return{};try{const Y=await this._proxy.$startTextSearch(R,S.withUndefinedAsNull(J),V,$,M);return delete this._activeSearchCallbacks[$],Y||{}}catch(Y){throw delete this._activeSearchCallbacks[$],Y}}$handleTextSearchResult(R,N){this._activeSearchCallbacks[N]&&this._activeSearchCallbacks[N](R)}saveAll(R){return this._proxy.$saveAll(R)}resolveProxy(R){return this._proxy.$resolveProxy(R)}};E=He([Fe(0,l.IExtHostRpcService),Fe(1,s.IExtHostInitDataService),Fe(2,d.IExtHostFileSystemInfo),Fe(3,g.ILogService)],E),e.ExtHostWorkspace=E,e.IExtHostWorkspace=u.createDecorator("IExtHostWorkspace");function _(L){let R,N;return L&&(typeof L=="string"?R=L:(R=L.pattern,N=L.baseFolder||v.URI.file(L.base))),{includePattern:R,folder:N}}}),define(ge[36],pe([0,1,25,3,32,6,8,185,84,16,19,4,14,11,2]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostConfiguration=e.ExtHostConfigProvider=e.ExtHostConfiguration=void 0;function g(r,o){if(o){const a=o.split(".");let i=r;for(let h=0;i&&h<a.length;h++)i=i[a[h]];return i}}function b(r){return r instanceof u.URI}function p(r){return r&&r.uri instanceof u.URI&&r.languageId&&typeof r.languageId=="string"}function d(r){return r&&!r.uri&&r.languageId&&typeof r.languageId=="string"}function s(r){return r&&r.uri instanceof u.URI&&(!r.name||typeof r.name=="string")&&(!r.index||typeof r.index=="number")}function l(r){if(b(r))return{resource:r};if(p(r))return{resource:r.uri,overrideIdentifier:r.languageId};if(d(r))return{overrideIdentifier:r.languageId};if(s(r))return{resource:r.uri};if(r===null)return{resource:null}}let c=class{constructor(o,a,i){this._proxy=o.getProxy(T.MainContext.MainThreadConfiguration),this._extHostWorkspace=a,this._logService=i,this._barrier=new I.Barrier,this._actual=null}getConfigProvider(){return this._barrier.wait().then(o=>this._actual)}$initializeConfiguration(o){this._actual=new t(this._proxy,this._extHostWorkspace,o,this._logService),this._barrier.open()}$acceptConfigurationChanged(o,a){this.getConfigProvider().then(i=>i.$acceptConfigurationChanged(o,a))}};c=He([Fe(0,v.IExtHostRpcService),Fe(1,A.IExtHostWorkspace),Fe(2,f.ILogService)],c),e.ExtHostConfiguration=c;class t{constructor(o,a,i,h){this._onDidChangeConfiguration=new k.Emitter,this._proxy=o,this._logService=h,this._extHostWorkspace=a,this._configuration=D.Configuration.parse(i),this._configurationScopes=this._toMap(i.configurationScopes)}get onDidChangeConfiguration(){return this._onDidChangeConfiguration&&this._onDidChangeConfiguration.event}$acceptConfigurationChanged(o,a){const i={data:this._configuration.toData(),workspace:this._extHostWorkspace.workspace};this._configuration=D.Configuration.parse(o),this._configurationScopes=this._toMap(o.configurationScopes),this._onDidChangeConfiguration.fire(this._toConfigurationChangeEvent(a,i))}getConfiguration(o,a,i){const h=l(a)||{},y=this._toReadonlyValue(o?g(this._configuration.getValue(void 0,h,this._extHostWorkspace.workspace),o):this._configuration.getValue(void 0,h,this._extHostWorkspace.workspace));o&&this._validateConfigurationAccess(o,h,i==null?void 0:i.identifier);function m(_){if(_==null)return null;if(typeof _=="boolean")return _?1:4;switch(_){case P.ConfigurationTarget.Global:return 1;case P.ConfigurationTarget.Workspace:return 4;case P.ConfigurationTarget.WorkspaceFolder:return 5}}const E={has(_){return typeof g(y,_)!="undefined"},get:(_,L)=>{this._validateConfigurationAccess(o?`${o}.${_}`:_,h,i==null?void 0:i.identifier);let R=g(y,_);if(typeof R=="undefined")R=L;else{let N;const W=(x,M)=>{let $;const O=()=>{N=N||w.deepClone(y),$=$||g(N,M)};return n.isObject(x)?new Proxy(x,{get:(z,J)=>{if(typeof J=="string"&&J.toLowerCase()==="tojson")return O(),()=>$;if(N)return $=$||g(N,M),$[J];const U=z[J];return typeof J=="string"?W(U,`${M}.${J}`):U},set:(z,J,U)=>(O(),$&&($[J]=U),!0),deleteProperty:(z,J)=>(O(),$&&delete $[J],!0),defineProperty:(z,J,U)=>(O(),$&&Object.defineProperty($,J,U),!0)}):x};R=W(R,_)}return R},update:(_,L,R,N)=>{_=o?`${o}.${_}`:_;const W=m(R);return L!==void 0?this._proxy.$updateConfigurationOption(W,_,L,h,N):this._proxy.$removeConfigurationOption(W,_,h,N)},inspect:_=>{var L,R,N,W,x,M,$,O;_=o?`${o}.${_}`:_;const z=w.deepClone(this._configuration.inspect(_,h,this._extHostWorkspace.workspace));if(z)return{key:_,defaultValue:(L=z.default)===null||L===void 0?void 0:L.value,globalValue:(R=z.user)===null||R===void 0?void 0:R.value,workspaceValue:(N=z.workspace)===null||N===void 0?void 0:N.value,workspaceFolderValue:(W=z.workspaceFolder)===null||W===void 0?void 0:W.value,defaultLanguageValue:(x=z.default)===null||x===void 0?void 0:x.override,globalLanguageValue:(M=z.user)===null||M===void 0?void 0:M.override,workspaceLanguageValue:($=z.workspace)===null||$===void 0?void 0:$.override,workspaceFolderLanguageValue:(O=z.workspaceFolder)===null||O===void 0?void 0:O.override,languageIds:z.overrideIdentifiers}}};return typeof y=="object"&&w.mixin(E,y,!1),Object.freeze(E)}_toReadonlyValue(o){const a=i=>n.isObject(i)?new Proxy(i,{get:(h,y)=>a(h[y]),set:(h,y,m)=>{throw new Error(`TypeError: Cannot assign to read only property '${String(y)}' of object`)},deleteProperty:(h,y)=>{throw new Error(`TypeError: Cannot delete read only property '${String(y)}' of object`)},defineProperty:(h,y)=>{throw new Error(`TypeError: Cannot define property '${String(y)}' for a readonly object`)},setPrototypeOf:h=>{throw new Error("TypeError: Cannot set prototype for a readonly object")},isExtensible:()=>!1,preventExtensions:()=>!0}):i;return a(o)}_validateConfigurationAccess(o,a,i){const h=C.OVERRIDE_PROPERTY_PATTERN.test(o)?4:this._configurationScopes.get(o),y=i?`[${i.value}] `:"";if(h===4){typeof(a==null?void 0:a.resource)=="undefined"&&this._logService.warn(`${y}Accessing a resource scoped configuration without providing a resource is not expected. To get the effective value for '${o}', provide the URI of a resource or 'null' for any resource.`);return}if(h===3){(a==null?void 0:a.resource)&&this._logService.warn(`${y}Accessing a window scoped configuration for a resource is not expected. To associate '${o}' to a resource, define its scope to 'resource' in configuration contributions in 'package.json'.`);return}}_toConfigurationChangeEvent(o,a){const i=new D.ConfigurationChangeEvent(o,a,this._configuration,this._extHostWorkspace.workspace);return Object.freeze({affectsConfiguration:(h,y)=>i.affectsConfiguration(h,l(y))})}_toMap(o){return o.reduce((a,i)=>(a.set(i[0],i[1]),a),new Map)}}e.ExtHostConfigProvider=t,e.IExtHostConfiguration=S.createDecorator("IExtHostConfiguration")}),define(ge[67],pe([0,1,2,19,3,6,8,32,40,36,21,35,14,28,4,13,9,11,64,205,15]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p,d,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostTask=e.WorkerExtHostTask=e.ExtHostTaskBase=e.TaskExecutionDTO=e.TaskFilterDTO=e.TaskDTO=e.TaskHandleDTO=e.CustomExecutionDTO=e.ShellExecutionDTO=e.ShellExecutionOptionsDTO=e.ProcessExecutionDTO=e.ProcessExecutionOptionsDTO=e.TaskPresentationOptionsDTO=e.TaskDefinitionDTO=void 0;var c;(function(W){function x($){if($!=null)return $}W.from=x;function M($){if($!=null)return $}W.to=M})(c=e.TaskDefinitionDTO||(e.TaskDefinitionDTO={}));var t;(function(W){function x($){if($!=null)return $}W.from=x;function M($){if($!=null)return $}W.to=M})(t=e.TaskPresentationOptionsDTO||(e.TaskPresentationOptionsDTO={}));var r;(function(W){function x($){if($!=null)return $}W.from=x;function M($){if($!=null)return $}W.to=M})(r=e.ProcessExecutionOptionsDTO||(e.ProcessExecutionOptionsDTO={}));var o;(function(W){function x(O){if(O){const z=O;return z&&!!z.process}else return!1}W.is=x;function M(O){if(O!=null){const z={process:O.process,args:O.args};return O.options&&(z.options=r.from(O.options)),z}}W.from=M;function $(O){if(O!=null)return new P.ProcessExecution(O.process,O.args,O.options)}W.to=$})(o=e.ProcessExecutionDTO||(e.ProcessExecutionDTO={}));var a;(function(W){function x($){if($!=null)return $}W.from=x;function M($){if($!=null)return $}W.to=M})(a=e.ShellExecutionOptionsDTO||(e.ShellExecutionOptionsDTO={}));var i;(function(W){function x(O){if(O){const z=O;return z&&(!!z.commandLine||!!z.command)}else return!1}W.is=x;function M(O){if(O!=null){const z={};return O.commandLine!==void 0?z.commandLine=O.commandLine:(z.command=O.command,z.args=O.args),O.options&&(z.options=a.from(O.options)),z}}W.from=M;function $(O){if(!(O==null||O.command===void 0&&O.commandLine===void 0))return O.commandLine?new P.ShellExecution(O.commandLine,O.options):new P.ShellExecution(O.command,O.args?O.args:[],O.options)}W.to=$})(i=e.ShellExecutionDTO||(e.ShellExecutionDTO={}));var h;(function(W){function x(O){if(O){let z=O;return z&&z.customExecution==="customExecution"}else return!1}W.is=x;function M(O){return{customExecution:"customExecution"}}W.from=M;function $(O,z){return z.get(O)}W.to=$})(h=e.CustomExecutionDTO||(e.CustomExecutionDTO={}));var y;(function(W){function x(M,$){let O;return M.scope!==void 0&&typeof M.scope!="number"?O=M.scope.uri:M.scope!==void 0&&typeof M.scope=="number"&&(M.scope===P.TaskScope.Workspace&&$&&$.workspaceFile?O=$.workspaceFile:O=s.USER_TASKS_GROUP_KEY),{id:M._id,workspaceFolder:O}}W.from=x})(y=e.TaskHandleDTO||(e.TaskHandleDTO={}));var m;(function(W){function x(O,z){if(O==null)return[];const J=[];for(let U of O){const V=M(U,z);V&&J.push(V)}return J}W.fromMany=x;function M(O,z){if(O!=null){let J;O.execution instanceof P.ProcessExecution?J=o.from(O.execution):O.execution instanceof P.ShellExecution?J=i.from(O.execution):O.execution&&O.execution instanceof P.CustomExecution&&(J=h.from(O.execution));const U=c.from(O.definition);let V;if(O.scope?typeof O.scope=="number"?V=O.scope:V=O.scope.uri:V=P.TaskScope.Workspace,!(!U||!V)){const B=O.group?O.group.id:void 0;return{_id:O._id,definition:U,name:O.name,source:{extensionId:z.identifier.value,label:O.source,scope:V},execution:J,isBackground:O.isBackground,group:B,presentationOptions:t.from(O.presentationOptions),problemMatchers:O.problemMatchers,hasDefinedMatchers:O.hasDefinedMatchers,runOptions:O.runOptions?O.runOptions:{reevaluateOnRerun:!0},detail:O.detail}}}}W.from=M;async function $(O,z,J){if(O!=null){let U;o.is(O.execution)?U=o.to(O.execution):i.is(O.execution)?U=i.to(O.execution):h.is(O.execution)&&(U=h.to(O._id,J));const V=c.to(O.definition);let B;if(O.source&&(O.source.scope!==void 0?typeof O.source.scope=="number"?B=O.source.scope:B=await z.resolveWorkspaceFolder(w.URI.revive(O.source.scope)):B=P.TaskScope.Workspace),!(!V||!B)){const Y=new P.Task(V,B,O.name,O.source.label,U,O.problemMatchers);return O.isBackground!==void 0&&(Y.isBackground=O.isBackground),O.group!==void 0&&(Y.group=P.TaskGroup.from(O.group)),O.presentationOptions&&(Y.presentationOptions=t.to(O.presentationOptions)),O._id&&(Y._id=O._id),O.detail&&(Y.detail=O.detail),Y}}}W.to=$})(m=e.TaskDTO||(e.TaskDTO={}));var E;(function(W){function x($){return $}W.from=x;function M($){if(!!$)return Object.assign(Object.create(null),$)}W.to=M})(E=e.TaskFilterDTO||(e.TaskFilterDTO={}));class _{constructor(x,M,$){this._tasks=x,this._id=M,this._task=$}get task(){return this._task}terminate(){this._tasks.terminateTask(this)}fireDidStartProcess(x){}fireDidEndProcess(x){}}var L;(function(W){function x(M){return{id:M._id,task:void 0}}W.from=x})(L=e.TaskExecutionDTO||(e.TaskExecutionDTO={}));let R=class{constructor(x,M,$,O,z,J,U,V){this._onDidExecuteTask=new A.Emitter,this._onDidTerminateTask=new A.Emitter,this._onDidTaskProcessStarted=new A.Emitter,this._onDidTaskProcessEnded=new A.Emitter,this._proxy=x.getProxy(T.MainContext.MainThreadTask),this._workspaceProvider=$,this._editorService=O,this._configurationService=z,this._terminalService=J,this._handleCounter=0,this._handlers=new Map,this._taskExecutions=new Map,this._taskExecutionPromises=new Map,this._providedCustomExecutions2=new Map,this._notProvidedCustomExecutions=new Set,this._activeCustomExecutions2=new Map,this._logService=U,this._deprecationService=V,this._proxy.$registerSupportedExecutions(!0)}registerTaskProvider(x,M,$){if(!$)return new P.Disposable(()=>{});const O=this.nextHandle();return this._handlers.set(O,{type:M,provider:$,extension:x}),this._proxy.$registerTaskProvider(O,M),new P.Disposable(()=>{this._handlers.delete(O),this._proxy.$unregisterTaskProvider(O)})}registerTaskSystem(x,M){this._proxy.$registerTaskSystem(x,M)}fetchTasks(x){return this._proxy.$fetchTasks(E.from(x)).then(async M=>{const $=[];for(let O of M){const z=await m.to(O,this._workspaceProvider,this._providedCustomExecutions2);z&&$.push(z)}return $})}get taskExecutions(){const x=[];return this._taskExecutions.forEach(M=>x.push(M)),x}terminateTask(x){if(!(x instanceof _))throw new Error("No valid task execution provided");return this._proxy.$terminateTask(x._id)}get onDidStartTask(){return this._onDidExecuteTask.event}async $onDidStartTask(x,M,$){const O=this._providedCustomExecutions2.get(x.id);if(O){if(this._activeCustomExecutions2.get(x.id)!==void 0)throw new Error("We should not be trying to start the same custom task executions twice.");this._activeCustomExecutions2.set(x.id,O),this._terminalService.attachPtyToTerminal(M,await O.callback($))}this._lastStartedTask=x.id,this._onDidExecuteTask.fire({execution:await this.getTaskExecution(x)})}get onDidEndTask(){return this._onDidTerminateTask.event}async $OnDidEndTask(x){const M=await this.getTaskExecution(x);this._taskExecutionPromises.delete(x.id),this._taskExecutions.delete(x.id),this.customExecutionComplete(x),this._onDidTerminateTask.fire({execution:M})}get onDidStartTaskProcess(){return this._onDidTaskProcessStarted.event}async $onDidStartTaskProcess(x){const M=await this.getTaskExecution(x.id);this._onDidTaskProcessStarted.fire({execution:M,processId:x.processId})}get onDidEndTaskProcess(){return this._onDidTaskProcessEnded.event}async $onDidEndTaskProcess(x){const M=await this.getTaskExecution(x.id);this._onDidTaskProcessEnded.fire({execution:M,exitCode:x.exitCode})}$provideTasks(x,M){const $=this._handlers.get(x);if(!$)return Promise.reject(new Error("no handler found"));const O=[],z=k.asPromise(()=>$.provider.provideTasks(I.CancellationToken.None)).then(J=>this.provideTasksInternal(M,O,$,J));return new Promise(J=>{z.then(U=>{Promise.all(O).then(()=>{J(U)})})})}async $resolveTask(x,M){const $=this._handlers.get(x);if(!$)return Promise.reject(new Error("no handler found"));if(M.definition.type!==$.type)throw new Error(`Unexpected: Task of type [${M.definition.type}] cannot be resolved by provider of type [${$.type}].`);const O=await m.to(M,this._workspaceProvider,this._providedCustomExecutions2);if(!O)throw new Error("Unexpected: Task cannot be resolved.");const z=await $.provider.resolveTask(O,I.CancellationToken.None);if(!!z){this.checkDeprecation(z,$);const J=m.from(z,$.extension);if(!J)throw new Error("Unexpected: Task cannot be resolved.");if(z.definition!==O.definition)throw new Error("Unexpected: The resolved task definition must be the same object as the original task definition. The task definition cannot be changed.");return h.is(J.execution)&&await this.addCustomExecution(J,z,!0),await this.resolveTaskInternal(J)}}nextHandle(){return this._handleCounter++}async addCustomExecution(x,M,$){const O=await this._proxy.$createTaskId(x);!$&&!this._providedCustomExecutions2.has(O)&&this._notProvidedCustomExecutions.add(O),this._providedCustomExecutions2.set(O,M.execution)}async getTaskExecution(x,M){if(typeof x=="string"){const z=this._taskExecutionPromises.get(x);if(!z)throw new Error("Unexpected: The specified task is missing an execution");return z}let $=this._taskExecutionPromises.get(x.id);if($)return $;const O=new Promise(async(z,J)=>{const U=M||await m.to(x.task,this._workspaceProvider,this._providedCustomExecutions2);U?z(new _(this,x.id,U)):J("Unexpected: Task does not exist.")});return this._taskExecutionPromises.set(x.id,O),O.then(z=>(this._taskExecutions.set(x.id,z),z),z=>Promise.reject(z))}checkDeprecation(x,M){x._deprecated&&this._deprecationService.report("Task.constructor",M.extension,"Use the Task constructor that takes a `scope` instead.")}customExecutionComplete(x){this._activeCustomExecutions2.get(x.id)&&this._activeCustomExecutions2.delete(x.id),this._notProvidedCustomExecutions.has(x.id)&&this._lastStartedTask!==x.id&&(this._providedCustomExecutions2.delete(x.id),this._notProvidedCustomExecutions.delete(x.id));let $=this._notProvidedCustomExecutions.values(),O=$.next();for(;!O.done;)!this._activeCustomExecutions2.has(O.value)&&this._lastStartedTask!==O.value&&(this._providedCustomExecutions2.delete(O.value),this._notProvidedCustomExecutions.delete(O.value)),O=$.next()}};R=He([Fe(0,v.IExtHostRpcService),Fe(1,f.IExtHostInitDataService),Fe(2,D.IExtHostWorkspace),Fe(3,C.IExtHostDocumentsAndEditors),Fe(4,n.IExtHostConfiguration),Fe(5,S.IExtHostTerminalService),Fe(6,p.ILogService),Fe(7,d.IExtHostApiDeprecationService)],R),e.ExtHostTaskBase=R;let N=class extends R{constructor(x,M,$,O,z,J,U,V){super(x,M,$,O,z,J,U,V);this.registerTaskSystem(g.Schemas.vscodeRemote,{scheme:g.Schemas.vscodeRemote,authority:"",platform:b.PlatformToString(0)})}async executeTask(x,M){if(!M.execution)throw new Error("Tasks to execute must include an execution");const $=m.from(M,x);if($===void 0)throw new Error("Task is not valid");if(h.is($.execution))await this.addCustomExecution($,M,!1);else throw new l.NotSupportedError;const O=await this.getTaskExecution(await this._proxy.$getTaskExecution($),M);return this._proxy.$executeTask($).catch(z=>{throw new Error(z)}),O}provideTasksInternal(x,M,$,O){const z=[];if(O)for(let J of O){this.checkDeprecation(J,$),(!J.definition||!x[J.definition.type])&&this._logService.warn(`The task [${J.source}, ${J.name}] uses an undefined task type. The task will be ignored in the future.`);const U=m.from(J,$.extension);U&&h.is(U.execution)?(z.push(U),M.push(this.addCustomExecution(U,J,!0))):this._logService.warn("Only custom execution tasks supported.")}return{tasks:z,extension:$.extension}}async resolveTaskInternal(x){if(h.is(x.execution))return x;this._logService.warn("Only custom execution tasks supported.")}async $resolveVariables(x,M){return{process:void 0,variables:Object.create(null)}}$getDefaultShellAndArgs(){throw new Error("Not implemented")}async $jsonTasksSupported(){return!1}async $findExecutable(x,M,$){}};N=He([Fe(0,v.IExtHostRpcService),Fe(1,f.IExtHostInitDataService),Fe(2,D.IExtHostWorkspace),Fe(3,C.IExtHostDocumentsAndEditors),Fe(4,n.IExtHostConfiguration),Fe(5,S.IExtHostTerminalService),Fe(6,p.ILogService),Fe(7,d.IExtHostApiDeprecationService)],N),e.WorkerExtHostTask=N,e.IExtHostTask=u.createDecorator("IExtHostTask")});var Je=this&&this.__classPrivateFieldSet||function(Z,e,w){if(!e.has(Z))throw new TypeError("attempted to set private field on non-instance");return e.set(Z,w),w},We=this&&this.__classPrivateFieldGet||function(Z,e){if(!e.has(Z))throw new TypeError("attempted to get private field on non-instance");return e.get(Z)},di=this&&this.__rest||function(Z,e){var w={};for(var k in Z)Object.prototype.hasOwnProperty.call(Z,k)&&e.indexOf(k)<0&&(w[k]=Z[k]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,k=Object.getOwnPropertySymbols(Z);A<k.length;A++)e.indexOf(k[A])<0&&Object.prototype.propertyIsEnumerable.call(Z,k[A])&&(w[k[A]]=Z[k[A]]);return w};define(ge[259],pe([0,1,12,19,21,3,70,5,16,2,26,6,40,14,20,8,32,221,213]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p,d){"use strict";var s,l;Object.defineProperty(e,"__esModule",{value:!0}),e.MirroredTestCollection=e.TestItemFilteredWrapper=e.ExtHostTesting=void 0;const c=(L,R)=>`${L}:${R.toString()}`;let t=class{constructor(R,N,W){this.documents=N,this.workspace=W,this.resultsChangedEmitter=new T.Emitter,this.providers=new Map,this.ownedTests=new p.OwnedTestCollection,this.testSubscriptions=new Map,this.onLastResultsChanged=this.resultsChangedEmitter.event,this.proxy=R.getProxy(S.MainContext.MainThreadTesting),this.workspaceObservers=new E(this.proxy),this.textDocumentObservers=new _(this.proxy,N)}registerTestProvider(R){const N=I.generateUuid();this.providers.set(N,R),this.proxy.$registerTestProvider(N);const W=[...this.testSubscriptions.keys()];return setTimeout(()=>{var x;for(const M of W)(x=this.testSubscriptions.get(M))===null||x===void 0||x.subscribeFn(N,R)},0),new g.Disposable(()=>{this.providers.delete(N),this.proxy.$unregisterTestProvider(N)})}createTextDocumentTestObserver(R){return this.textDocumentObservers.checkout(R.uri)}createWorkspaceTestObserver(R){return this.workspaceObservers.checkout(R.uri)}async runTests(R,N=A.CancellationToken.None){await this.proxy.$runTests({tests:R.tests.map(W=>{var x,M;return(M=(x=this.workspaceObservers.getMirroredTestDataByReference(W))!==null&&x!==void 0?x:w.mapFind(this.testSubscriptions.values(),$=>$.collection.getTestByReference(W)))!==null&&M!==void 0?M:this.textDocumentObservers.getMirroredTestDataByReference(W)}).filter(C.isDefined).map(W=>({providerId:W.providerId,testId:W.id})),debug:R.debug},N)}$publishTestResults(R){const N=W=>Object.assign(Object.assign({},u.TestItem.toShallow(W.item)),{children:W.children.map(N)});this.lastResults={tests:R.tests.map(N)},this.resultsChangedEmitter.fire()}async $subscribeToTests(R,N){const W=n.URI.revive(N),x=c(R,W);if(!this.testSubscriptions.has(x)){let M;if(R===1){let J=this.documents.getDocument(W);if(!J){const U=new D.DisposableStore;J=await new Promise(V=>{U.add(k.disposableTimeout(()=>V(void 0),5e3)),U.add(this.documents.onDidAddDocuments(B=>{const Y=B.find(ae=>ae.document.uri.toString()===W.toString());Y&&V(Y)}))}).finally(()=>U.dispose())}if(J){const U=await this.workspace.getWorkspaceFolder2(W,!1);M=V=>V.createDocumentTestHierarchy?V.createDocumentTestHierarchy(J.document):this.createDefaultDocumentTestHierarchy(V,J.document,U)}}else{const J=await this.workspace.getWorkspaceFolder2(W,!1);J&&(M=U=>{var V;return(V=U.createWorkspaceTestHierarchy)===null||V===void 0?void 0:V.call(U,J)})}if(!!M){const $=(J,U)=>{try{const V=M(U);if(!V)return;z.pushDiff([3,1]),O.add(V),z.addRoot(V.root,J),Promise.resolve(V.discoveredInitialTests).then(()=>z.pushDiff([3,-1])),V.onDidChangeTest(B=>z.onItemChange(B,J))}catch(V){console.error(V)}},O=new D.DisposableStore,z=O.add(this.ownedTests.createForHierarchy(J=>this.proxy.$publishDiff(R,N,J)));for(const[J,U]of this.providers)$(J,U);z.pushDiff([4,-1]),this.testSubscriptions.set(x,{store:O,collection:z,subscribeFn:$})}}}$unsubscribeFromTests(R,N){var W;const x=n.URI.revive(N),M=c(R,x);(W=this.testSubscriptions.get(M))===null||W===void 0||W.store.dispose(),this.testSubscriptions.delete(M)}$acceptDiff(R,N,W){R===1?this.textDocumentObservers.acceptDiff(n.URI.revive(N),W):this.workspaceObservers.acceptDiff(n.URI.revive(N),W)}async $runTestsForProvider(R,N){const W=this.providers.get(R.providerId);if(!W||!W.runTests)return d.EMPTY_TEST_RESULT;const x=R.ids.map(M=>{var $;return($=this.ownedTests.getTestById(M))===null||$===void 0?void 0:$.actual}).filter(C.isDefined).map(M=>M instanceof r?M.actual:M);if(!x.length)return d.EMPTY_TEST_RESULT;try{await W.runTests({tests:x,debug:R.debug},N);for(const{collection:M}of this.testSubscriptions.values())M.flushDiff();return d.EMPTY_TEST_RESULT}catch(M){throw console.error(M),M}}$lookupTest(R){const N=this.ownedTests.getTestById(R.testId);if(!N)return Promise.resolve(void 0);const{actual:W,previousChildren:x,previousEquals:M}=N,$=di(N,["actual","previousChildren","previousEquals"]);return Promise.resolve($)}createDefaultDocumentTestHierarchy(R,N,W){var x;if(!!W){const M=(x=R.createWorkspaceTestHierarchy)===null||x===void 0?void 0:x.call(R,W);if(!!M){const $=new T.Emitter;return M.onDidChangeTest(O=>{const z=r.getWrapperForTestItem(O,N);if(z.hasNodeMatchingFilter){if(z.reset(),z.hasNodeMatchingFilter){$.fire(z);return}$.fire(z.visibleParent);return}const U=z.visibleParent;z.reset(),!!z.hasNodeMatchingFilter&&(U.reset(),$.fire(U))}),{root:r.getWrapperForTestItem(M.root,N),dispose:()=>{$.dispose(),r.removeFilter(N)},onDidChangeTest:$.event}}}}};t=He([Fe(0,f.IExtHostRpcService),Fe(1,v.IExtHostDocumentsAndEditors),Fe(2,b.IExtHostWorkspace)],t),e.ExtHostTesting=t;class r{constructor(R,N,W){this.actual=R,this.filterDocument=N,this.parent=W,this.getWrappedChildren()}static removeFilter(R){this.wrapperMap.delete(R)}static getWrapperForTestItem(R,N,W){let x=this.wrapperMap.get(N);if(x==null?void 0:x.has(R))return x.get(R);x||(x=new WeakMap,this.wrapperMap.set(N,x));const M=new r(R,N,W);return x.set(R,M),M}get label(){return this.actual.label}get debuggable(){return this.actual.debuggable}get description(){return this.actual.description}get location(){return this.actual.location}get runnable(){return this.actual.runnable}get state(){return this.actual.state}get children(){return this.getWrappedChildren().filter(R=>R.hasNodeMatchingFilter)}get visibleParent(){return this.hasNodeMatchingFilter?this:this.parent.visibleParent}get hasNodeMatchingFilter(){var R;return this.matchesFilter===void 0&&(this.matchesFilter=!this.parent||((R=this.actual.location)===null||R===void 0?void 0:R.uri.toString())===this.filterDocument.uri.toString()||this.getWrappedChildren().some(N=>N.hasNodeMatchingFilter)),this.matchesFilter}reset(){var R;this!==this.visibleParent&&((R=this.parent)===null||R===void 0||R.reset()),this.matchesFilter=void 0}getWrappedChildren(){var R;return((R=this.actual.children)===null||R===void 0?void 0:R.map(N=>r.getWrapperForTestItem(N,this.filterDocument,this)))||[]}}e.TestItemFilteredWrapper=r,r.wrapperMap=new WeakMap;class o extends d.IncrementalChangeCollector{constructor(R,N){super();this.collection=R,this.emitter=N,this.added=new Set,this.updated=new Set,this.removed=new Set,this.alreadyRemoved=new Set}get isEmpty(){return this.added.size===0&&this.removed.size===0&&this.updated.size===0}add(R){this.added.add(R)}update(R){Object.assign(R.revived,u.TestItem.toShallow(R.item)),this.added.has(R)||this.updated.add(R)}remove(R){if(this.added.has(R)){this.added.delete(R);return}if(this.updated.delete(R),R.parent&&this.alreadyRemoved.has(R.parent)){this.alreadyRemoved.add(R.id);return}this.removed.add(R)}getChangeEvent(){const{collection:R,added:N,updated:W,removed:x}=this;return{get added(){return[...N].map(R.getPublicTestItem,R)},get updated(){return[...W].map(R.getPublicTestItem,R)},get removed(){return[...x].map(R.getPublicTestItem,R)},get commonChangeAncestor(){let M;const $=U=>{if(!!U){const V=new Array(U.depth+1);for(let B=U.depth;B>=0;B--){if(!U)return;V[U.depth]=U,U=U.parent?R.getMirroredTestDataById(U.parent):void 0}return V}},O=U=>{if(!(M&&M.length===0)){const V=$(U);if(!!V){if(!M){M=V;return}for(let B=M.length-1;B>=0;B--)M[B]!==V[B]&&M.pop()}}},z=U=>{if(!(M&&M.length===0))if(U.parent===null)M=[];else{const V=R.getMirroredTestDataById(U.parent);V&&O(V)}};for(const U of N)z(U);for(const U of W)O(U);for(const U of x)z(U);const J=M&&M[M.length-1];return J?R.getPublicTestItem(J):null}}}complete(){this.isEmpty||this.emitter.fire(this.getChangeEvent())}}class a extends d.AbstractIncrementalTestCollection{constructor(){super(...arguments);this.changeEmitter=new T.Emitter,this.onDidChangeTests=this.changeEmitter.event}get rootTestItems(){return this.getAllAsTestItem([...this.roots])}getAllAsTestItem(R){let N=[];for(const W of R){const x=this.items.get(W);x&&N.push(this.getPublicTestItem(x))}return N}getMirroredTestDataById(R){return this.items.get(R)}getMirroredTestDataByReference(R){const N=i(R);return N?this.items.get(N):void 0}createItem(R,N){return Object.assign(Object.assign({},R),{revived:u.TestItem.toShallow(R.item),depth:N?N.depth+1:0,children:new Set})}createChangeCollector(){return new o(this,this.changeEmitter)}getPublicTestItem(R){return R.wrapped||(R.wrapped=new y(R,this)),R.wrapped}}e.MirroredTestCollection=a;const i=L=>L[h],h=Symbol("MirroredItemId");class y{constructor(R,N){s.set(this,void 0),l.set(this,void 0),Je(this,s,R),Je(this,l,N)}get id(){return We(this,s).revived.id}get label(){return We(this,s).revived.label}get description(){return We(this,s).revived.description}get state(){return We(this,s).revived.state}get location(){return We(this,s).revived.location}get runnable(){var R;return(R=We(this,s).revived.runnable)!==null&&R!==void 0?R:!0}get debuggable(){var R;return(R=We(this,s).revived.debuggable)!==null&&R!==void 0?R:!1}get children(){return We(this,l).getAllAsTestItem(We(this,s).children)}get[(s=new WeakMap,l=new WeakMap,h)](){return We(this,s).id}toJSON(){return{id:this.id,label:this.label,description:this.description,state:this.state,location:this.location,runnable:this.runnable,debuggable:this.debuggable,children:this.children.map(N=>N.toJSON()),providerId:We(this,s).providerId,testId:We(this,s).id}}}class m{constructor(){this.resources=new Map}checkout(R){var N,W;const x=R.toString(),M=(N=this.resources.get(x))!==null&&N!==void 0?N:this.createObserverData(R);return(W=M.pendingDeletion)===null||W===void 0||W.dispose(),M.observers++,{onDidChangeTest:M.tests.onDidChangeTests,onDidDiscoverInitialTests:new T.Emitter().event,get tests(){return M.tests.rootTestItems},dispose:P.once(()=>{--M.observers||(M.pendingDeletion=this.eventuallyDispose(R))})}}getMirroredTestDataByReference(R){for(const{tests:N}of this.resources.values()){const W=N.getMirroredTestDataByReference(R);if(W)return W}}eventuallyDispose(R){return k.disposableTimeout(()=>this.unlisten(R),10*1e3)}createObserverData(R){const N=new a,W=this.listen(R,M=>N.apply(M)),x={observers:0,tests:N,listener:W};return this.resources.set(R.toString(),x),x}unlisten(R){var N;const W=R.toString(),x=this.resources.get(W);x&&(x.observers=-1,(N=x.pendingDeletion)===null||N===void 0||N.dispose(),x.listener.dispose(),this.resources.delete(W))}}class E extends m{constructor(R){super();this.proxy=R,this.diffListeners=new Map}acceptDiff(R,N){var W;(W=this.diffListeners.get(R.toString()))===null||W===void 0||W(N)}listen(R,N){this.proxy.$subscribeToDiffs(0,R);const W=R.toString();return this.diffListeners.set(W,N),new g.Disposable(()=>{this.proxy.$unsubscribeFromDiffs(0,R),this.diffListeners.delete(W)})}}class _ extends m{constructor(R,N){super();this.proxy=R,this.documents=N,this.diffListeners=new Map}acceptDiff(R,N){var W;(W=this.diffListeners.get(R.toString()))===null||W===void 0||W(N)}listen(R,N){if(!this.documents.getDocument(R))return new g.Disposable(()=>{});const x=R.toString();return this.diffListeners.set(x,N),this.proxy.$subscribeToDiffs(1,R),new g.Disposable(()=>{this.proxy.$unsubscribeFromDiffs(1,R),this.diffListeners.delete(x)})}}}),define(ge[260],pe([0,1,12,54,33,78,22,13,7,23,10,16,2,138,170,85,61,215,258,31]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveResourcesForSearchIncludes=e.QueryBuilder=void 0;let l=class{constructor(m,E,_,L){this.configurationService=m,this.workspaceContextService=E,this.editorGroupsService=_,this.pathService=L}text(m,E,_={}){m=this.getContentPattern(m,_);const L=this.configurationService.getValue(),R=E&&E.some(W=>!this.configurationService.getValue({resource:W}).search.useRipgrep),N=this.commonQuery(E==null?void 0:E.map(b.toWorkspaceFolder),_);return Object.assign(Object.assign({},N),{type:2,contentPattern:m,previewOptions:_.previewOptions,maxFileSize:_.maxFileSize,usePCRE2:L.search.usePCRE2||R||!1,beforeContext:_.beforeContext,afterContext:_.afterContext,userDisabledExcludesAndIgnoreFiles:_.disregardExcludeSettings&&_.disregardIgnoreFiles})}getContentPattern(m,E){const _=this.configurationService.getValue();m.isRegExp&&(m.pattern=m.pattern.replace(/\r?\n/g,"\\n"));const L=Object.assign(Object.assign({},m),{wordSeparators:_.editor.wordSeparators});return this.isCaseSensitive(m,E)&&(L.isCaseSensitive=!0),this.isMultiline(m)&&(L.isMultiline=!0),L}file(m,E={}){const _=this.commonQuery(m,E);return Object.assign(Object.assign({},_),{type:1,filePattern:E.filePattern?E.filePattern.trim():E.filePattern,exists:E.exists,sortByScore:E.sortByScore,cacheKey:E.cacheKey})}handleIncludeExclude(m,E){return m?(m=Array.isArray(m)?m.map(a):a(m),E?this.parseSearchPaths(m):{pattern:t(...Array.isArray(m)?m:[m])}):{}}commonQuery(m=[],E={}){const _=this.handleIncludeExclude(E.includePattern,E.expandPatterns),L=this.handleIncludeExclude(E.excludePattern,E.expandPatterns),R=m.length>1,N=(_.searchPaths&&_.searchPaths.length?_.searchPaths.map(M=>this.getFolderQueryForSearchPath(M,E,L)):m.map(M=>this.getFolderQueryForRoot(M,E,L,R))).filter(M=>!!M),W={_reason:E._reason,folderQueries:N,usingSearchPaths:!!(_.searchPaths&&_.searchPaths.length),extraFileResources:E.extraFileResources,excludePattern:L.pattern,includePattern:_.pattern,onlyOpenEditors:E.onlyOpenEditors,maxResults:E.maxResults};if(E.onlyOpenEditors){const $=w.coalesce(w.flatten(this.editorGroupsService.groups.map(z=>z.editors.map(J=>J.resource)))).filter(z=>s.pathIncludedInQuery(W,z.fsPath)),O=this.commonQueryFromFileList($);return Object.assign(Object.assign({},W),O)}const x=E.extraFileResources&&E.extraFileResources.filter(M=>s.pathIncludedInQuery(W,M.fsPath));return W.extraFileResources=x&&x.length?x:void 0,W}commonQueryFromFileList(m){const E=[],_=new P.ResourceMap,L={};let R=!1;return m.forEach(N=>{var W,x;if(N.scheme!==D.Schemas.walkThrough){const M=n.isAbsolutePath(N),$=N.scheme===D.Schemas.userData;if(M&&!$){const O=(x=(W=this.workspaceContextService.getWorkspaceFolder(N))===null||W===void 0?void 0:W.uri)!==null&&x!==void 0?x:N.with({path:C.dirname(N.fsPath)});let z=_.get(O);z||(R=!0,z={folder:O,includePattern:{}},E.push(z),_.set(O,z));const J=C.relative(O.fsPath,N.fsPath);S.assertIsDefined(z.includePattern)[J.replace(/\\/g,"/")]=!0}else N.fsPath&&(R=!0,L[N.fsPath]=!0)}}),{folderQueries:E,includePattern:L,usingSearchPaths:!0,excludePattern:R?void 0:{"**/*":!0}}}isCaseSensitive(m,E){if(E.isSmartCase){if(m.isRegExp){if(I.containsUppercaseCharacter(m.pattern,!0))return!0}else if(I.containsUppercaseCharacter(m.pattern))return!0}return!!m.isCaseSensitive}isMultiline(m){return m.isMultiline||m.isRegExp&&f.isMultilineRegexSource(m.pattern)||m.pattern.indexOf(`
`)>=0?!0:!!m.isMultiline}parseSearchPaths(m){const E=O=>C.isAbsolute(O)||/^\.\.?([\/\\]|$)/.test(O),L=(Array.isArray(m)?m:r(m)).map(O=>{const z=this.pathService.resolvedUserHome;return z?T.untildify(O,z.scheme===D.Schemas.file?z.fsPath:z.path):O}),R=k.groupBy(L,O=>E(O)?"searchPaths":"exprSegments"),N=(R.exprSegments||[]).map(O=>I.rtrim(O,"/")).map(O=>I.rtrim(O,"\\")).map(O=>(O[0]==="."&&(O="*"+O),o(O))),W={},x=this.expandSearchPathPatterns(R.searchPaths||[]);x&&x.length&&(W.searchPaths=x);const M=w.flatten(N),$=t(...M);return $&&(W.pattern=$),W}getExcludesForFolder(m,E){return E.disregardExcludeSettings?void 0:s.getExcludes(m,!E.disregardSearchExcludeSettings)}expandSearchPathPatterns(m){if(!m||!m.length)return[];const E=w.flatten(m.map(L=>{let{pathPortion:R,globPortion:N}=c(L);N&&(N=i(N));const W=this.expandOneSearchPath(R);return w.flatten(W.map(x=>this.resolveOneSearchPathPattern(x,N)))})),_=new Map;return E.forEach(L=>{const R=L.searchPath.toString(),N=_.get(R);N?L.pattern&&(N.pattern=N.pattern||{},N.pattern[L.pattern]=!0):_.set(R,{searchPath:L.searchPath,pattern:L.pattern?t(L.pattern):void 0})}),Array.from(_.values())}expandOneSearchPath(m){if(C.isAbsolute(m)){const E=this.workspaceContextService.getWorkspace().folders;return E[0]&&E[0].uri.scheme!==D.Schemas.file?[{searchPath:E[0].uri.with({path:m})}]:[{searchPath:v.URI.file(C.normalize(m))}]}if(this.workspaceContextService.getWorkbenchState()===2){const E=this.workspaceContextService.getWorkspace().folders[0].uri;if(m=a(m),m.startsWith("../")||m===".."){const L=C.posix.resolve(E.path,m);return[{searchPath:E.with({path:L})}]}const _=i(m);return[{searchPath:E,pattern:_}]}else{if(m==="./"||m===".\\")return[];{const E=m.match(/\.[\/\\]([^\/\\]+)(?:[\/\\](.+))?/);if(E){const _=E[1],L=this.workspaceContextService.getWorkspace().folders.filter(R=>R.name===_);if(L.length)return L.map(R=>{const N=E[2];return{searchPath:R.uri,pattern:N&&i(N)}});{const R=u.localize(0,null,_);throw new Error(R)}}}}return[]}resolveOneSearchPathPattern(m,E){const _=m.pattern&&E?`${m.pattern}/${E}`:m.pattern||E,L=[{searchPath:m.searchPath,pattern:_}];return _&&!_.endsWith("**")&&L.push({searchPath:m.searchPath,pattern:_+"/**"}),L}getFolderQueryForSearchPath(m,E,_){const L=this.getFolderQueryForRoot(b.toWorkspaceFolder(m.searchPath),E,_,!1);return L?Object.assign(Object.assign({},L),{includePattern:m.pattern}):null}getFolderQueryForRoot(m,E,_,L){let R;const N=v.URI.isUri(m)?m:m.uri;if(_.searchPaths){const O=_.searchPaths.filter(z=>n.isEqual(z.searchPath,N))[0];if(O&&!O.pattern)return null;O&&(R=O.pattern)}const W=this.configurationService.getValue({resource:N}),x=this.getExcludesForFolder(W,E),M=Object.assign(Object.assign({},x||{}),R||{}),$=v.URI.isUri(m)?n.basename(m):m.name;return{folder:N,folderName:L?$:void 0,excludePattern:Object.keys(M).length>0?M:void 0,fileEncoding:W.files&&W.files.encoding,disregardIgnoreFiles:typeof E.disregardIgnoreFiles=="boolean"?E.disregardIgnoreFiles:!W.search.useIgnoreFiles,disregardGlobalIgnoreFiles:typeof E.disregardGlobalIgnoreFiles=="boolean"?E.disregardGlobalIgnoreFiles:!W.search.useGlobalIgnoreFiles,ignoreSymlinks:typeof E.ignoreSymlinks=="boolean"?E.ignoreSymlinks:!W.search.followSymlinks}}};l=He([Fe(0,g.IConfigurationService),Fe(1,b.IWorkspaceContextService),Fe(2,p.IEditorGroupsService),Fe(3,d.IPathService)],l),e.QueryBuilder=l;function c(y){const m=y.match(/[\*\{\}\(\)\[\]\?]/);if(m){const E=m.index,_=y.substr(0,E).match(/[/|\\][^/\\]*$/);if(_){let L=y.substr(0,_.index);return L.match(/[/\\]/)||(L+="/"),{pathPortion:L,globPortion:y.substr((_.index||0)+1)}}}return{pathPortion:y}}function t(...y){return y.length?y.reduce((m,E)=>(m[E]=!0,m),Object.create(null)):void 0}function r(y){return A.splitGlobAware(y,",").map(m=>m.trim()).filter(m=>!!m.length)}function o(y){return[`**/${y}/**`,`**/${y}`].map(E=>E.replace(/\*\*\/\*\*/g,"**"))}function a(y){return y.replace(/\\/g,"/")}function i(y){return a(y).replace(/^\.\//,"").replace(/\/+$/g,"")}function h(y,m){y=w.distinct(y,L=>L.toString());const E=[],_=m.getWorkspace();return y&&y.forEach(L=>{let R;if(m.getWorkbenchState()===2)R=n.relativePath(_.folders[0].uri,L),R&&R!=="."&&(R="./"+R);else{const N=m.getWorkspaceFolder(L);if(N){const W=N.name;if(_.folders.filter(M=>M.name===W).length===1){const M=n.relativePath(N.uri,L);M===""?R=`./${N.name}`:R=`./${N.name}/${M}`}else R=L.fsPath}}R&&E.push(R)}),E}e.resolveResourcesForSearchIncludes=h}),define(ge[261],pe([0,1,23,2,21,15,4,260,31,61]),function(Z,e,w,k,A,T,P,D,C,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkGlobFileExists=e.checkActivateWorkspaceContainsExtension=void 0;const I=7e3;function S(g,b){const p=b.activationEvents;if(!p)return Promise.resolve(void 0);const d=[],s=[];for(const a of p)if(/^workspaceContains:/.test(a)){const i=a.substr("workspaceContains:".length);i.indexOf("*")>=0||i.indexOf("?")>=0||g.forceUsingSearch?s.push(i):d.push(i)}if(d.length===0&&s.length===0)return Promise.resolve(void 0);let l;const c=new Promise((a,i)=>{l=a}),t=a=>l({activationEvent:a}),r=Promise.all(d.map(a=>v(g,a,t))).then(()=>{}),o=f(g,b.identifier,s,t);return Promise.all([r,o]).then(()=>{l(void 0)}),c}e.checkActivateWorkspaceContainsExtension=S;async function v(g,b,p){for(const d of g.folders)if(await g.exists(w.joinPath(k.URI.revive(d),b))){p(`workspaceContains:${b}`);return}}async function f(g,b,p,d){if(p.length===0)return Promise.resolve(void 0);const s=new A.CancellationTokenSource,l=g.checkExists(g.folders,p,s.token),c=setTimeout(async()=>{s.cancel(),d(`workspaceContainsTimeout:${p.join(",")}`)},I);let t=!1;try{t=await l}catch(r){T.isPromiseCanceledError(r)||T.onUnexpectedError(r)}s.dispose(),clearTimeout(c),t&&d(`workspaceContains:${p.join(",")}`)}function u(g,b,p,d){const s=g.get(P.IInstantiationService),l=g.get(C.ISearchService),t=s.createInstance(D.QueryBuilder).file(b.map(r=>n.toWorkspaceFolder(k.URI.revive(r))),{_reason:"checkExists",includePattern:p,exists:!0});return l.fileSearch(t,d).then(r=>!!r.limitHit,r=>T.isPromiseCanceledError(r)?!1:Promise.reject(r))}e.checkGlobFileExists=u}),define(ge[43],pe([0,1,159,7,68,23,19,5,22,2,11,6,36,224,90,32,42,222,15,29,13,27,191,8,113,4,28,91,14,83,51,35,3,261,88,192]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p,d,s,l,c,t,r,o,a,i,h,y,m,E,_,L,R,N,W){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostExtensionService=e.AbstractExtHostExtensionService=e.IHostUtils=void 0,e.IHostUtils=a.createDecorator("IHostUtils");let x=class Pi extends D.Disposable{constructor(O,z,J,U,V,B,Y,ae,ce,fe){super();this._onDidChangeRemoteConnectionData=this._register(new L.Emitter),this.onDidChangeRemoteConnectionData=this._onDidChangeRemoteConnectionData.event,this._hostUtils=z,this._extHostContext=J,this._initData=Y,this._extHostWorkspace=U,this._extHostConfiguration=V,this._logService=B,this._extHostTunnelService=ce,this._extHostTerminalService=fe,this._disposables=new D.DisposableStore,this._mainThreadWorkspaceProxy=this._extHostContext.getProxy(S.MainContext.MainThreadWorkspace),this._mainThreadTelemetryProxy=this._extHostContext.getProxy(S.MainContext.MainThreadTelemetry),this._mainThreadExtensionsProxy=this._extHostContext.getProxy(S.MainContext.MainThreadExtensionService),this._almostReadyToRunExtensions=new P.Barrier,this._readyToStartExtensionHost=new P.Barrier,this._readyToRunExtensions=new P.Barrier,this._registry=new p.ExtensionDescriptionRegistry(this._initData.extensions),this._storage=new u.ExtHostStorage(this._extHostContext),this._secretState=new N.ExtHostSecretState(this._extHostContext),this._storagePath=ae,this._instaService=O.createChild(new m.ServiceCollection([u.IExtHostStorage,this._storage],[N.IExtHostSecretState,this._secretState]));const _e=new Set;this._initData.hostExtensions.forEach(be=>_e.add(s.ExtensionIdentifier.toKey(be))),this._activator=new f.ExtensionsActivator(this._registry,this._initData.resolvedExtensions,this._initData.hostExtensions,{onExtensionActivationError:(be,H)=>{this._mainThreadExtensionsProxy.$onExtensionActivationError(be,H)},actualActivateExtension:async(be,H)=>{if(_e.has(s.ExtensionIdentifier.toKey(be)))return await this._mainThreadExtensionsProxy.$activateExtension(be,H),new f.HostExtension;const X=this._registry.getExtensionDescription(be);return this._activateExtension(X,H)}},this._logService),this._extensionPathIndex=null,this._resolvers=Object.create(null),this._started=!1,this._remoteConnectionData=this._initData.remote.connectionData}getRemoteConnectionData(){return this._remoteConnectionData}async initialize(){try{await this._beforeAlmostReadyToRunExtensions(),this._almostReadyToRunExtensions.open(),await this._extHostWorkspace.waitForInitializeCall(),A.mark("code/extHost/ready"),this._readyToStartExtensionHost.open(),this._initData.autoStart&&this._startExtensionHost()}catch(O){d.onUnexpectedError(O)}}async deactivateAll(){let O=[];try{O=this._registry.getAllExtensionDescriptions().map(V=>V.identifier).filter(V=>this.isActivated(V)).map(V=>this._deactivate(V))}catch(z){}await Promise.all(O)}isActivated(O){return this._readyToRunExtensions.isOpen()?this._activator.isActivated(O):!1}_activateByEvent(O,z){return this._activator.activateByEvent(O,z)}_activateById(O,z){return this._activator.activateById(O,z)}activateByIdWithErrors(O,z){return this._activateById(O,z).then(()=>{const J=this._activator.getActivatedExtension(O);if(J.activationFailed)return Promise.reject(J.activationFailedError)})}getExtensionRegistry(){return this._readyToRunExtensions.wait().then(O=>this._registry)}getExtensionExports(O){return this._readyToRunExtensions.isOpen()?this._activator.getActivatedExtension(O).exports:null}getExtensionPathIndex(){if(!this._extensionPathIndex){const O=C.TernarySearchTree.forPaths(),z=this._registry.getAllExtensionDescriptions().map(J=>{if(!!this._getEntryPoint(J))return this._hostUtils.realpath(J.extensionLocation.fsPath).then(U=>O.set(n.URI.file(U).fsPath,J))});this._extensionPathIndex=Promise.all(z).then(()=>O)}return this._extensionPathIndex}_deactivate(O){let z=Promise.resolve(void 0);if(!this._readyToRunExtensions.isOpen()||!this._activator.isActivated(O))return z;const J=this._activator.getActivatedExtension(O);if(!J)return z;try{typeof J.module.deactivate=="function"&&(z=Promise.resolve(J.module.deactivate()).then(void 0,U=>Promise.resolve(void 0)))}catch(U){}try{D.dispose(J.subscriptions)}catch(U){}return z}async _activateExtension(O,z){return this._initData.remote.isRemote?this._mainThreadExtensionsProxy.$onWillActivateExtension(O.identifier):await this._mainThreadExtensionsProxy.$onWillActivateExtension(O.identifier),this._doActivateExtension(O,z).then(J=>{const U=J.activationTimes;return this._mainThreadExtensionsProxy.$onDidActivateExtension(O.identifier,U.codeLoadingTime,U.activateCallTime,U.activateResolvedTime,z),this._logExtensionActivationTimes(O,z,"success",U),J},J=>{throw this._logExtensionActivationTimes(O,z,"failure"),J})}_logExtensionActivationTimes(O,z,J,U){const V=M(O,z);this._mainThreadTelemetryProxy.$publicLog2("extensionActivationTimes",Object.assign(Object.assign(Object.assign({},V),U||{}),{outcome:J}))}_doActivateExtension(O,z){const J=M(O,z);this._mainThreadTelemetryProxy.$publicLog2("activatePlugin",J);const U=this._getEntryPoint(O);if(!U)return Promise.resolve(new f.EmptyExtension(f.ExtensionActivationTimes.NONE));this._logService.info(`ExtensionService#_doActivateExtension ${O.identifier.value} ${JSON.stringify(z)}`),this._logService.flush();const V=new f.ExtensionActivationTimesBuilder(z.startup);return Promise.all([this._loadCommonJSModule(O.identifier,T.joinPath(O.extensionLocation,U),V),this._loadExtensionContext(O)]).then(B=>(A.mark(`code/extHost/willActivateExtension/${O.identifier.value}`),Pi._callActivate(this._logService,O.identifier,B[0],B[1],V))).then(B=>(A.mark(`code/extHost/didActivateExtension/${O.identifier.value}`),B))}_loadExtensionContext(O){const z=new t.ExtensionGlobalMemento(O,this._storage),J=new t.ExtensionMemento(O.identifier.value,!1,this._storage),U=new W.ExtensionSecrets(O,this._secretState),V=O.isUnderDevelopment?this._initData.environment.extensionTestsLocationURI?r.ExtensionMode.Test:r.ExtensionMode.Development:r.ExtensionMode.Production;return this._logService.trace(`ExtensionService#loadExtensionContext ${O.identifier.value}`),Promise.all([z.whenReady,J.whenReady,this._storagePath.whenReady]).then(()=>{const B=this;return Object.freeze({globalState:z,workspaceState:J,secrets:U,subscriptions:[],get extensionUri(){return O.extensionLocation},get extensionPath(){return O.extensionLocation.fsPath},asAbsolutePath(Y){return k.join(O.extensionLocation.fsPath,Y)},get storagePath(){var Y;return(Y=B._storagePath.workspaceValue(O))===null||Y===void 0?void 0:Y.fsPath},get globalStoragePath(){return B._storagePath.globalValue(O).fsPath},get logPath(){return k.join(B._initData.logsLocation.fsPath,O.identifier.value)},get logUri(){return n.URI.joinPath(B._initData.logsLocation,O.identifier.value)},get storageUri(){return B._storagePath.workspaceValue(O)},get globalStorageUri(){return B._storagePath.globalValue(O)},get extensionMode(){return V},get extensionRuntime(){return b.checkProposedApiEnabled(O),B.extensionRuntime},get environmentVariableCollection(){return B._extHostTerminalService.getEnvironmentVariableCollection(O)}})})}static _callActivate(O,z,J,U,V){return J=J||{activate:void 0,deactivate:void 0},this._callActivateOptional(O,z,J,U,V).then(B=>new f.ActivatedExtension(!1,null,V.build(),J,B,U.subscriptions))}static _callActivateOptional(O,z,J,U,V){if(typeof J.activate=="function")try{V.activateCallStart(),O.trace(`ExtensionService#_callActivateOptional ${z.value}`);const B=typeof global=="object"?global:self,Y=J.activate.apply(B,[U]);return V.activateCallStop(),V.activateResolveStart(),Promise.resolve(Y).then(ae=>(V.activateResolveStop(),ae))}catch(B){return Promise.reject(B)}else return Promise.resolve(J)}_activateOneStartupFinished(O,z){this._activateById(O.identifier,{startup:!1,extensionId:O.identifier,activationEvent:z}).then(void 0,J=>{this._logService.error(J)})}_activateAllStartupFinished(){this._mainThreadExtensionsProxy.$setPerformanceMarks(A.getMarks());for(const O of this._registry.getAllExtensionDescriptions())if(O.activationEvents)for(const z of O.activationEvents)z==="onStartupFinished"&&this._activateOneStartupFinished(O,z)}_handleEagerExtensions(){const O=this._activateByEvent("*",!0).then(void 0,V=>{this._logService.error(V)});this._disposables.add(this._extHostWorkspace.onDidChangeWorkspace(V=>this._handleWorkspaceContainsEagerExtensions(V.added)));const z=this._extHostWorkspace.workspace?this._extHostWorkspace.workspace.folders:[],J=this._handleWorkspaceContainsEagerExtensions(z),U=Promise.all([O,J]).then(()=>{});return Promise.race([U,P.timeout(1e4)]).then(()=>{this._activateAllStartupFinished()}),U}_handleWorkspaceContainsEagerExtensions(O){return O.length===0?Promise.resolve(void 0):Promise.all(this._registry.getAllExtensionDescriptions().map(z=>this._handleWorkspaceContainsEagerExtension(O,z))).then(()=>{})}async _handleWorkspaceContainsEagerExtension(O,z){if(!this.isActivated(z.identifier)){const J=!this._initData.remote.isRemote&&!!this._initData.remote.authority,U={folders:O.map(B=>B.uri),forceUsingSearch:J,exists:B=>this._hostUtils.exists(B.fsPath),checkExists:(B,Y,ae)=>this._mainThreadWorkspaceProxy.$checkExists(B,Y,ae)},V=await R.checkActivateWorkspaceContainsExtension(U,z);if(!!V)return this._activateById(z.identifier,{startup:!0,extensionId:z.identifier,activationEvent:V.activationEvent}).then(void 0,B=>this._logService.error(B))}}_handleExtensionTests(){return this._doHandleExtensionTests().then(void 0,O=>(console.error(O),Promise.reject(O)))}async _doHandleExtensionTests(){const{extensionDevelopmentLocationURI:O,extensionTestsLocationURI:z}=this._initData.environment;if(!(O&&z&&z.scheme===l.Schemas.file))return Promise.resolve(void 0);const J=T.originalFSPath(z);let U,V;try{U=await this._loadCommonJSModule(null,n.URI.file(J),new f.ExtensionActivationTimesBuilder(!1))}catch(B){V=B}return U&&typeof U.run=="function"?new Promise((B,Y)=>{const ae=(fe,_e)=>{fe?Y(fe.toString()):B(void 0),this._testRunnerExit(fe||typeof _e=="number"&&_e>0?1:0)},ce=U.run(J,ae);ce&&ce.then&&ce.then(()=>{B(),this._testRunnerExit(0)}).catch(fe=>{Y(fe.toString()),this._testRunnerExit(1)})}):(this._testRunnerExit(1),Promise.reject(new Error(V?V.toString():w.localize(0,null,J))))}_testRunnerExit(O){this._logService.info(`extension host terminating: test runner requested exit with code ${O}`),this._logService.flush();const z=this._mainThreadExtensionsProxy.$onExtensionHostExit(O),J=this._extHostContext.drain();Promise.race([Promise.all([z,J]),P.timeout(5e3)]).then(()=>{this._logService.info(`exiting with code ${O}`),this._logService.flush(),this._hostUtils.exit(O)})}_startExtensionHost(){if(this._started)throw new Error("Extension host is already started!");return this._started=!0,this._readyToStartExtensionHost.wait().then(()=>this._readyToRunExtensions.open()).then(()=>this._handleEagerExtensions()).then(()=>this._handleExtensionTests()).then(()=>{this._logService.info("eager extensions activated")})}registerRemoteAuthorityResolver(O,z){return this._resolvers[O]=z,D.toDisposable(()=>{delete this._resolvers[O]})}async $resolveAuthority(O,z){const J=O.indexOf("+");if(J===-1)throw new Error("Not an authority that can be resolved!");const U=O.substr(0,J);await this._almostReadyToRunExtensions.wait(),await this._activateByEvent(`onResolveRemoteAuthority:${U}`,!1);const V=this._resolvers[U];if(!V)return{type:"error",error:{code:o.RemoteAuthorityResolverErrorCode.NoResolverFound,message:`No remote extension installed to resolve ${U}.`,detail:void 0}};try{A.mark(`code/extHost/willResolveAuthority/${U}`);const B=await V.resolve(O,{resolveAttempt:z});A.mark(`code/extHost/didResolveAuthorityOK/${U}`),this._disposables.add(await this._extHostTunnelService.setTunnelExtensionFunctions(V));const Y={authority:O,host:B.host,port:B.port,connectionToken:B.connectionToken},ae={extensionHostEnv:B.extensionHostEnv};return{type:"ok",value:{authority:Y,options:ae,tunnelInformation:{environmentTunnels:B.environmentTunnels}}}}catch(B){if(A.mark(`code/extHost/didResolveAuthorityError/${U}`),B instanceof r.RemoteAuthorityResolverError)return{type:"error",error:{code:B._code,message:B._message,detail:B._detail}};throw B}}$startExtensionHost(O){return this._registry.keepOnly(O),this._startExtensionHost()}$activateByEvent(O,z){return z===1?this._activateByEvent(O,!1):this._readyToRunExtensions.wait().then(J=>this._activateByEvent(O,!1))}async $activate(O,z){return await this._readyToRunExtensions.wait(),this._registry.getExtensionDescription(O)?(await this._activateById(O,z),!0):!1}async $deltaExtensions(O,z){O.forEach(U=>U.extensionLocation=n.URI.revive(U.extensionLocation));const J=await this.getExtensionPathIndex();return await Promise.all(z.map(async U=>{const V=this._registry.getExtensionDescription(U);if(!!V){const B=await this._hostUtils.realpath(V.extensionLocation.fsPath);J.delete(n.URI.file(B).fsPath)}})),await Promise.all(O.map(async U=>{const V=await this._hostUtils.realpath(U.extensionLocation.fsPath);J.set(n.URI.file(V).fsPath,U)})),this._registry.deltaExtensions(O,z),Promise.resolve(void 0)}async $test_latency(O){return O}async $test_up(O){return O.byteLength}async $test_down(O){let z=c.VSBuffer.alloc(O),J=Math.random()%256;for(let U=0;U<O;U++)z.writeUInt8(J,U);return z}async $updateRemoteConnectionData(O){this._remoteConnectionData=O,this._onDidChangeRemoteConnectionData.fire()}};x=He([Fe(0,a.IInstantiationService),Fe(1,e.IHostUtils),Fe(2,y.IExtHostRpcService),Fe(3,g.IExtHostWorkspace),Fe(4,v.IExtHostConfiguration),Fe(5,I.ILogService),Fe(6,i.IExtHostInitDataService),Fe(7,h.IExtensionStoragePaths),Fe(8,E.IExtHostTunnelService),Fe(9,_.IExtHostTerminalService)],x),e.AbstractExtHostExtensionService=x;function M($,O){return{id:$.identifier.value,name:$.name,extensionVersion:$.version,publisherDisplayName:$.publisher,activationEvents:$.activationEvents?$.activationEvents.join(","):null,isBuiltin:$.isBuiltin,reason:O.activationEvent,reasonId:O.extensionId.value}}e.IExtHostExtensionService=a.createDecorator("IExtHostExtensionService")}),define(ge[46],pe([0,1,7,2,3,19,6,8,116,32,43,40,214,36,196,14,4,16]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerExtHostDebugService=e.ExtHostVariableResolverService=e.ExtHostDebugConsole=e.ExtHostDebugSession=e.ExtHostDebugServiceBase=e.IExtHostDebugService=void 0,e.IExtHostDebugService=b.createDecorator("IExtHostDebugService");let d=class{constructor(i,h,y,m,E){this._workspaceService=h,this._extensionService=y,this._editorsService=m,this._configurationService=E,this._debugSessions=new Map,this._configProviderHandleCounter=0,this._configProviders=[],this._adapterFactoryHandleCounter=0,this._adapterFactories=[],this._trackerFactoryHandleCounter=0,this._trackerFactories=[],this._debugAdapters=new Map,this._debugAdaptersTrackers=new Map,this._onDidStartDebugSession=new A.Emitter,this._onDidTerminateDebugSession=new A.Emitter,this._onDidChangeActiveDebugSession=new A.Emitter,this._onDidReceiveDebugSessionCustomEvent=new A.Emitter,this._debugServiceProxy=i.getProxy(P.MainContext.MainThreadDebugService),this._onDidChangeBreakpoints=new A.Emitter({onFirstListenerAdd:()=>{this.startBreakpoints()}}),this._activeDebugConsole=new l(this._debugServiceProxy),this._breakpoints=new Map,this._breakpointEventsActive=!1,this._extensionService.getExtensionRegistry().then(_=>{_.onDidChange(L=>{this.registerAllDebugTypes(_)}),this.registerAllDebugTypes(_)})}get onDidStartDebugSession(){return this._onDidStartDebugSession.event}get onDidTerminateDebugSession(){return this._onDidTerminateDebugSession.event}get onDidChangeActiveDebugSession(){return this._onDidChangeActiveDebugSession.event}get activeDebugSession(){return this._activeDebugSession}get onDidReceiveDebugSessionCustomEvent(){return this._onDidReceiveDebugSessionCustomEvent.event}get activeDebugConsole(){return this._activeDebugConsole}asDebugSourceUri(i,h){const y=i;if(typeof y.sourceReference=="number"&&y.sourceReference>0){let m=`debug:${encodeURIComponent(y.path||"")}`,E="?";return h&&(m+=`${E}session=${encodeURIComponent(h.id)}`,E="&"),m+=`${E}ref=${y.sourceReference}`,k.URI.parse(m)}else{if(y.path)return k.URI.file(y.path);throw new Error("cannot create uri from DAP 'source' object; properties 'path' and 'sourceReference' are both missing.")}}registerAllDebugTypes(i){const h=[];for(const y of i.getAllExtensionDescriptions())if(y.contributes){const m=y.contributes.debuggers;if(m&&m.length>0)for(const E of m)u.isDebuggerMainContribution(E)&&h.push(E.type)}this._debugServiceProxy.$registerDebugTypes(h)}get onDidChangeBreakpoints(){return this._onDidChangeBreakpoints.event}get breakpoints(){this.startBreakpoints();const i=[];return this._breakpoints.forEach(h=>i.push(h)),i}addBreakpoints(i){this.startBreakpoints();const h=i.filter(E=>{const _=E.id;return this._breakpoints.has(_)?!1:(this._breakpoints.set(_,E),!0)});this.fireBreakpointChanges(h,[],[]);const y=[],m=new Map;for(const E of h)if(E instanceof D.SourceBreakpoint){let _=m.get(E.location.uri.toString());_||(_={type:"sourceMulti",uri:E.location.uri,lines:[]},m.set(E.location.uri.toString(),_),y.push(_)),_.lines.push({id:E.id,enabled:E.enabled,condition:E.condition,hitCondition:E.hitCondition,logMessage:E.logMessage,line:E.location.range.start.line,character:E.location.range.start.character})}else E instanceof D.FunctionBreakpoint&&y.push({type:"function",id:E.id,enabled:E.enabled,hitCondition:E.hitCondition,logMessage:E.logMessage,condition:E.condition,functionName:E.functionName});return this._debugServiceProxy.$registerBreakpoints(y)}removeBreakpoints(i){this.startBreakpoints();const h=i.filter(_=>this._breakpoints.delete(_.id));this.fireBreakpointChanges([],h,[]);const y=h.filter(_=>_ instanceof D.SourceBreakpoint).map(_=>_.id),m=h.filter(_=>_ instanceof D.FunctionBreakpoint).map(_=>_.id),E=h.filter(_=>_ instanceof D.DataBreakpoint).map(_=>_.id);return this._debugServiceProxy.$unregisterBreakpoints(y,m,E)}startDebugging(i,h,y){return this._debugServiceProxy.$startDebugging(i?i.uri:void 0,h,{parentSessionID:y.parentSession?y.parentSession.id:void 0,repl:y.consoleMode===D.DebugConsoleMode.MergeWithParent?"mergeWithParent":"separate",noDebug:y.noDebug,compact:y.compact})}stopDebugging(i){return this._debugServiceProxy.$stopDebugging(i?i.id:void 0)}registerDebugConfigurationProvider(i,h,y){if(!h)return new D.Disposable(()=>{});const m=this._configProviderHandleCounter++;return this._configProviders.push({type:i,handle:m,provider:h}),this._debugServiceProxy.$registerDebugConfigurationProvider(i,y,!!h.provideDebugConfigurations,!!h.resolveDebugConfiguration,!!h.resolveDebugConfigurationWithSubstitutedVariables,m),new D.Disposable(()=>{this._configProviders=this._configProviders.filter(E=>E.provider!==h),this._debugServiceProxy.$unregisterDebugConfigurationProvider(m)})}registerDebugAdapterDescriptorFactory(i,h,y){if(!y)return new D.Disposable(()=>{});if(!this.definesDebugType(i,h))throw new Error(`a DebugAdapterDescriptorFactory can only be registered from the extension that defines the '${h}' debugger.`);if(this.getAdapterDescriptorFactoryByType(h))throw new Error("a DebugAdapterDescriptorFactory can only be registered once per a type.");const m=this._adapterFactoryHandleCounter++;return this._adapterFactories.push({type:h,handle:m,factory:y}),this._debugServiceProxy.$registerDebugAdapterDescriptorFactory(h,m),new D.Disposable(()=>{this._adapterFactories=this._adapterFactories.filter(E=>E.factory!==y),this._debugServiceProxy.$unregisterDebugAdapterDescriptorFactory(m)})}registerDebugAdapterTrackerFactory(i,h){if(!h)return new D.Disposable(()=>{});const y=this._trackerFactoryHandleCounter++;return this._trackerFactories.push({type:i,handle:y,factory:h}),new D.Disposable(()=>{this._trackerFactories=this._trackerFactories.filter(m=>m.factory!==h)})}async $runInTerminal(i){return Promise.resolve(void 0)}async $substituteVariables(i,h){if(!this._variableResolver){const[E,_]=await Promise.all([this._workspaceService.getWorkspaceFolders2(),this._configurationService.getConfigProvider()]);this._variableResolver=this.createVariableResolver(E||[],this._editorsService,_)}let y;const m=await this.getFolder(i);return m&&(y={uri:m.uri,name:m.name,index:m.index,toResource:()=>{throw new Error("Not implemented")}}),this._variableResolver.resolveAny(y,h)}createDebugAdapter(i,h){if(i.type==="implementation")return new r(i.implementation)}createSignService(){}async $startDASession(i,h){const y=this,m=await this.getSession(h);return this.getAdapterDescriptor(this.getAdapterDescriptorFactoryByType(m.type),m).then(E=>{if(!E)throw new Error(`Couldn't find a debug adapter descriptor for debug type '${m.type}' (extension might have failed to activate)`);const _=this.convertToDto(E),L=this.createDebugAdapter(_,m);if(!L)throw new Error(`Couldn't create a debug adapter for type '${m.type}'.`);const R=L;return this._debugAdapters.set(i,R),this.getDebugAdapterTrackers(m).then(N=>(N&&this._debugAdaptersTrackers.set(i,N),R.onMessage(async W=>{if(W.type==="request"&&W.command==="handshake"){const x=W,M={type:"response",seq:0,command:x.command,request_seq:x.seq,success:!0};this._signService||(this._signService=this.createSignService());try{if(this._signService){const $=await this._signService.sign(x.arguments.value);M.body={signature:$},R.sendResponse(M)}else throw new Error("no signer")}catch($){M.success=!1,M.message=$.message,R.sendResponse(M)}}else N&&N.onDidSendMessage&&N.onDidSendMessage(W),W=u.convertToVSCPaths(W,!0),y._debugServiceProxy.$acceptDAMessage(i,W)}),R.onError(W=>{N&&N.onError&&N.onError(W),this._debugServiceProxy.$acceptDAError(i,W.name,W.message,W.stack)}),R.onExit(W=>{N&&N.onExit&&N.onExit(p.withNullAsUndefined(W),void 0),this._debugServiceProxy.$acceptDAExit(i,p.withNullAsUndefined(W),void 0)}),N&&N.onWillStartSession&&N.onWillStartSession(),R.startSession()))})}$sendDAMessage(i,h){h=u.convertToDAPaths(h,!1);const y=this._debugAdaptersTrackers.get(i);y&&y.onWillReceiveMessage&&y.onWillReceiveMessage(h);const m=this._debugAdapters.get(i);m&&m.sendMessage(h)}$stopDASession(i){const h=this._debugAdaptersTrackers.get(i);this._debugAdaptersTrackers.delete(i),h&&h.onWillStopSession&&h.onWillStopSession();const y=this._debugAdapters.get(i);return this._debugAdapters.delete(i),y?y.stopSession():Promise.resolve(void 0)}$acceptBreakpointsDelta(i){const h=[],y=[],m=[];if(i.added)for(const E of i.added){const _=E.id;if(_&&!this._breakpoints.has(_)){let L;if(E.type==="function")L=new D.FunctionBreakpoint(E.functionName,E.enabled,E.condition,E.hitCondition,E.logMessage);else if(E.type==="data")L=new D.DataBreakpoint(E.label,E.dataId,E.canPersist,E.enabled,E.hitCondition,E.condition,E.logMessage);else{const R=k.URI.revive(E.uri);L=new D.SourceBreakpoint(new D.Location(R,new D.Position(E.line,E.character)),E.enabled,E.condition,E.hitCondition,E.logMessage)}L._id=_,this._breakpoints.set(_,L),h.push(L)}}if(i.removed)for(const E of i.removed){const _=this._breakpoints.get(E);_&&(this._breakpoints.delete(E),y.push(_))}if(i.changed){for(const E of i.changed)if(E.id){const _=this._breakpoints.get(E.id);if(_){if(_ instanceof D.FunctionBreakpoint&&E.type==="function"){const L=_;L.enabled=E.enabled,L.condition=E.condition,L.hitCondition=E.hitCondition,L.logMessage=E.logMessage,L.functionName=E.functionName}else if(_ instanceof D.SourceBreakpoint&&E.type==="source"){const L=_;L.enabled=E.enabled,L.condition=E.condition,L.hitCondition=E.hitCondition,L.logMessage=E.logMessage,L.location=new D.Location(k.URI.revive(E.uri),new D.Position(E.line,E.character))}m.push(_)}}}this.fireBreakpointChanges(h,y,m)}$provideDebugConfigurations(i,h,y){return T.asPromise(async()=>{const m=this.getConfigProviderByHandle(i);if(!m)throw new Error("no DebugConfigurationProvider found");if(!m.provideDebugConfigurations)throw new Error("DebugConfigurationProvider has no method provideDebugConfigurations");const E=await this.getFolder(h);return m.provideDebugConfigurations(E,y)}).then(m=>{if(!m)throw new Error("nothing returned from DebugConfigurationProvider.provideDebugConfigurations");return m})}$resolveDebugConfiguration(i,h,y,m){return T.asPromise(async()=>{const E=this.getConfigProviderByHandle(i);if(!E)throw new Error("no DebugConfigurationProvider found");if(!E.resolveDebugConfiguration)throw new Error("DebugConfigurationProvider has no method resolveDebugConfiguration");const _=await this.getFolder(h);return E.resolveDebugConfiguration(_,y,m)})}$resolveDebugConfigurationWithSubstitutedVariables(i,h,y,m){return T.asPromise(async()=>{const E=this.getConfigProviderByHandle(i);if(!E)throw new Error("no DebugConfigurationProvider found");if(!E.resolveDebugConfigurationWithSubstitutedVariables)throw new Error("DebugConfigurationProvider has no method resolveDebugConfigurationWithSubstitutedVariables");const _=await this.getFolder(h);return E.resolveDebugConfigurationWithSubstitutedVariables(_,y,m)})}async $provideDebugAdapter(i,h){const y=this.getAdapterDescriptorFactoryByHandle(i);if(!y)return Promise.reject(new Error("no adapter descriptor factory found for handle"));const m=await this.getSession(h);return this.getAdapterDescriptor(y,m).then(E=>{if(!E)throw new Error(`Couldn't find a debug adapter descriptor for debug type '${m.type}'`);return this.convertToDto(E)})}async $acceptDebugSessionStarted(i){const h=await this.getSession(i);this._onDidStartDebugSession.fire(h)}async $acceptDebugSessionTerminated(i){const h=await this.getSession(i);h&&(this._onDidTerminateDebugSession.fire(h),this._debugSessions.delete(h.id))}async $acceptDebugSessionActiveChanged(i){this._activeDebugSession=i?await this.getSession(i):void 0,this._onDidChangeActiveDebugSession.fire(this._activeDebugSession)}async $acceptDebugSessionNameChanged(i,h){const y=await this.getSession(i);y&&y._acceptNameChanged(h)}async $acceptDebugSessionCustomEvent(i,h){const m={session:await this.getSession(i),event:h.event,body:h.body};this._onDidReceiveDebugSessionCustomEvent.fire(m)}convertToDto(i){if(i instanceof D.DebugAdapterExecutable)return{type:"executable",command:i.command,args:i.args,options:i.options};if(i instanceof D.DebugAdapterServer)return{type:"server",port:i.port,host:i.host};if(i instanceof D.DebugAdapterNamedPipeServer)return{type:"pipeServer",path:i.path};if(i instanceof D.DebugAdapterInlineImplementation)return{type:"implementation",implementation:i.implementation};throw new Error("convertToDto unexpected type")}getAdapterDescriptorFactoryByType(i){const h=this._adapterFactories.filter(y=>y.type===i);if(h.length>0)return h[0].factory}getAdapterDescriptorFactoryByHandle(i){const h=this._adapterFactories.filter(y=>y.handle===i);if(h.length>0)return h[0].factory}getConfigProviderByHandle(i){const h=this._configProviders.filter(y=>y.handle===i);if(h.length>0)return h[0].provider}definesDebugType(i,h){if(i.contributes){const y=i.contributes.debuggers;if(y&&y.length>0){for(const m of y)if(m.label&&m.type&&m.type===h)return!0}}return!1}getDebugAdapterTrackers(i){const y=i.configuration.type,m=this._trackerFactories.filter(E=>E.type===y||E.type==="*").map(E=>T.asPromise(()=>E.factory.createDebugAdapterTracker(i)).then(_=>_,_=>null));return Promise.race([Promise.all(m).then(E=>{const _=E.filter(L=>!!L);if(_.length>0)return new t(_)}),new Promise((E,_)=>{const L=setTimeout(()=>{clearTimeout(L),_(new Error("timeout"))},1e3)})]).catch(E=>{})}async getAdapterDescriptor(i,h){const y=h.configuration.debugServer;if(typeof y=="number")return Promise.resolve(new D.DebugAdapterServer(y));if(i){const E=await this._extensionService.getExtensionRegistry();return T.asPromise(()=>i.createDebugAdapterDescriptor(h,this.daExecutableFromPackage(h,E))).then(_=>{if(_)return _})}const m=await this._extensionService.getExtensionRegistry();return Promise.resolve(this.daExecutableFromPackage(h,m))}daExecutableFromPackage(i,h){}startBreakpoints(){this._breakpointEventsActive||(this._breakpointEventsActive=!0,this._debugServiceProxy.$startBreakpointEvents())}fireBreakpointChanges(i,h,y){(i.length>0||h.length>0||y.length>0)&&this._onDidChangeBreakpoints.fire(Object.freeze({added:i,removed:h,changed:y}))}async getSession(i){if(i)if(typeof i=="string"){const h=this._debugSessions.get(i);if(h)return h}else{let h=this._debugSessions.get(i.id);if(!h){const y=await this.getFolder(i.folderUri);h=new s(this._debugServiceProxy,i.id,i.type,i.name,y,i.configuration),this._debugSessions.set(h.id,h),this._debugServiceProxy.$sessionCached(h.id)}return h}throw new Error("cannot find session")}getFolder(i){if(i){const h=k.URI.revive(i);return this._workspaceService.resolveWorkspaceFolder(h)}return Promise.resolve(void 0)}};d=He([Fe(0,g.IExtHostRpcService),Fe(1,n.IExtHostWorkspace),Fe(2,I.IExtHostExtensionService),Fe(3,S.IExtHostDocumentsAndEditors),Fe(4,f.IExtHostConfiguration)],d),e.ExtHostDebugServiceBase=d;class s{constructor(i,h,y,m,E,_){this._debugServiceProxy=i,this._id=h,this._type=y,this._name=m,this._workspaceFolder=E,this._configuration=_}get id(){return this._id}get type(){return this._type}get name(){return this._name}set name(i){this._name=i,this._debugServiceProxy.$setDebugSessionName(this._id,i)}_acceptNameChanged(i){this._name=i}get workspaceFolder(){return this._workspaceFolder}get configuration(){return this._configuration}customRequest(i,h){return this._debugServiceProxy.$customDebugAdapterRequest(this._id,i,h)}getDebugProtocolBreakpoint(i){return this._debugServiceProxy.$getDebugProtocolBreakpoint(this._id,i.id)}}e.ExtHostDebugSession=s;class l{constructor(i){this._debugServiceProxy=i}append(i){this._debugServiceProxy.$appendDebugConsole(i)}appendLine(i){this.append(i+`
`)}}e.ExtHostDebugConsole=l;class c extends v.AbstractVariableResolverService{constructor(i,h,y,m,E){super({getFolderUri:_=>{const L=i.filter(R=>R.name===_);if(L&&L.length>0)return L[0].uri},getWorkspaceFolderCount:()=>i.length,getConfigurationValue:(_,L)=>y.getConfiguration(void 0,_).get(L),getExecPath:()=>m?m.VSCODE_EXEC_PATH:void 0,getFilePath:()=>{if(h){const _=h.activeEditor();if(_)return w.normalize(_.document.uri.fsPath)}},getWorkspaceFolderPathForFile:()=>{if(h&&E){const _=h.activeEditor();if(_){const L=E.getWorkspaceFolder(_.document.uri);if(L)return w.normalize(L.uri.fsPath)}}},getSelectedText:()=>{if(h){const _=h.activeEditor();if(_&&!_.selection.isEmpty)return _.document.getText(_.selection)}},getLineNumber:()=>{if(h){const _=h.activeEditor();if(_)return String(_.selection.end.line+1)}}},void 0,m)}}e.ExtHostVariableResolverService=c;class t{constructor(i){this.trackers=i}onWillStartSession(){this.trackers.forEach(i=>i.onWillStartSession?i.onWillStartSession():void 0)}onWillReceiveMessage(i){this.trackers.forEach(h=>h.onWillReceiveMessage?h.onWillReceiveMessage(i):void 0)}onDidSendMessage(i){this.trackers.forEach(h=>h.onDidSendMessage?h.onDidSendMessage(i):void 0)}onWillStopSession(){this.trackers.forEach(i=>i.onWillStopSession?i.onWillStopSession():void 0)}onError(i){this.trackers.forEach(h=>h.onError?h.onError(i):void 0)}onExit(i,h){this.trackers.forEach(y=>y.onExit?y.onExit(i,h):void 0)}}class r extends C.AbstractDebugAdapter{constructor(i){super();this.implementation=i,i.onDidSendMessage(h=>{this.acceptMessage(h)})}startSession(){return Promise.resolve(void 0)}sendMessage(i){this.implementation.handleMessage(i)}stopSession(){return this.implementation.dispose(),Promise.resolve(void 0)}}let o=class extends d{constructor(i,h,y,m,E){super(i,h,y,m,E)}createVariableResolver(i,h,y){return new c(i,h,y)}};o=He([Fe(0,g.IExtHostRpcService),Fe(1,n.IExtHostWorkspace),Fe(2,I.IExtHostExtensionService),Fe(3,S.IExtHostDocumentsAndEditors),Fe(4,f.IExtHostConfiguration)],o),e.WorkerExtHostDebugService=o}),define(ge[262],pe([0,1,68,2,6,36,42,29,14,28,4,43,37,11]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequireInterceptor=void 0;let u=class{constructor(s,l,c,t,r,o,a){this._apiFactory=s,this._extensionRegistry=l,this._instaService=c,this._extHostConfiguration=t,this._extHostExtensionService=r,this._initData=o,this._logService=a,this._factories=new Map,this._alternatives=[]}async install(){this._installInterceptor(),w.mark("code/extHost/willWaitForConfig");const s=await this._extHostConfiguration.getConfigProvider();w.mark("code/extHost/didWaitForConfig");const l=await this._extHostExtensionService.getExtensionPathIndex();this.register(new g(this._apiFactory,l,this._extensionRegistry,s,this._logService)),this.register(this._instaService.createInstance(b)),this._initData.remote.isRemote&&this.register(this._instaService.createInstance(p,l,this._initData.environment.appUriScheme))}register(s){if(Array.isArray(s.nodeModuleName))for(let l of s.nodeModuleName)this._factories.set(l,s);else this._factories.set(s.nodeModuleName,s);typeof s.alternativeModuleName=="function"&&this._alternatives.push(l=>s.alternativeModuleName(l))}};u=He([Fe(2,I.IInstantiationService),Fe(3,T.IExtHostConfiguration),Fe(4,S.IExtHostExtensionService),Fe(5,n.IExtHostInitDataService),Fe(6,f.ILogService)],u),e.RequireInterceptor=u;class g{constructor(s,l,c,t,r){this._apiFactory=s,this._extensionPaths=l,this._extensionRegistry=c,this._configProvider=t,this._logService=r,this.nodeModuleName="vscode",this._extApiImpl=new Map}load(s,l){const c=this._extensionPaths.findSubstr(l.fsPath);if(c){let t=this._extApiImpl.get(D.ExtensionIdentifier.toKey(c.identifier));return t||(t=this._apiFactory(c,this._extensionRegistry,this._configProvider),this._extApiImpl.set(D.ExtensionIdentifier.toKey(c.identifier),t)),t}if(!this._defaultApiImpl){let t="";this._extensionPaths.forEach((r,o)=>t+=`	${o} -> ${r.identifier.value}
`),this._logService.warn(`Could not identify extension for 'vscode' require call from ${l.fsPath}. These are the extension path mappings: 
${t}`),this._defaultApiImpl=this._apiFactory(P.nullExtensionDescription,this._extensionRegistry,this._configProvider)}return this._defaultApiImpl}}let b=class{constructor(s,l){this.nodeModuleName="keytar";const{environment:c}=l,t=s.getProxy(A.MainContext.MainThreadKeytar);if(c.appRoot){let r=c.appRoot.fsPath;v.platform==="win32"&&(r=r.replace(/\\/g,"/")),r[r.length-1]==="/"&&(r=r.substr(0,r.length-1)),this.alternativeNames=new Set,this.alternativeNames.add(`${r}/node_modules.asar/keytar`),this.alternativeNames.add(`${r}/node_modules/keytar`)}this._impl={getPassword:(r,o)=>t.$getPassword(r,o),setPassword:(r,o,a)=>t.$setPassword(r,o,a),deletePassword:(r,o)=>t.$deletePassword(r,o),findPassword:r=>t.$findPassword(r),findCredentials(r){return t.$findCredentials(r)}}}load(s,l){return this._impl}alternativeModuleName(s){const l=s.length;if(!(l<=7||!this.alternativeNames)){const c=l-7;if((s.charAt(c)==="/"||s.charAt(c)==="\\")&&s.endsWith("keytar")&&(s=s.replace(/\\/g,"/"),this.alternativeNames.has(s)))return"keytar"}}};b=He([Fe(0,C.IExtHostRpcService),Fe(1,n.IExtHostInitDataService)],b);let p=class{constructor(s,l,c){this._extensionPaths=s,this._appUriScheme=l,this.nodeModuleName=["open","opn"],this._mainThreadTelemetry=c.getProxy(A.MainContext.MainThreadTelemetry);const t=c.getProxy(A.MainContext.MainThreadWindow);this._impl=(r,o)=>{const a=k.URI.parse(r);return o?this.callOriginal(r,o):a.scheme==="http"||a.scheme==="https"?t.$openUri(a,r,{allowTunneling:!0}):a.scheme==="mailto"||a.scheme===this._appUriScheme?t.$openUri(a,r,{}):this.callOriginal(r,o)}}load(s,l,c){const t=this._extensionPaths.findSubstr(l.fsPath);return t&&(this._extensionId=t.identifier.value,this.sendShimmingTelemetry()),this._original=c(s),this._impl}callOriginal(s,l){return this.sendNoForwardTelemetry(),this._original(s,l)}sendShimmingTelemetry(){!this._extensionId||this._mainThreadTelemetry.$publicLog2("shimming.open",{extension:this._extensionId})}sendNoForwardTelemetry(){!this._extensionId||this._mainThreadTelemetry.$publicLog2("shimming.open.call.noForward",{extension:this._extensionId})}};p=He([Fe(2,C.IExtHostRpcService)],p)}),define(ge[263],pe([0,1,165,8,197,32,43,40,36,35,14,46,186,200,19]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDebugService=void 0;let g=class extends S.ExtHostDebugServiceBase{constructor(d,s,l,c,t,r){super(d,s,l,c,t);this._terminalService=r,this._integratedTerminalInstances=new b}createDebugAdapter(d,s){switch(d.type){case"server":return new A.SocketDebugAdapter(d);case"pipeServer":return new A.NamedPipeDebugAdapter(d);case"executable":return new A.ExecutableDebugAdapter(d,s.type)}return super.createDebugAdapter(d,s)}daExecutableFromPackage(d,s){const l=A.ExecutableDebugAdapter.platformAdapterExecutable(s.getAllExtensionDescriptions(),d.type);if(l)return new k.DebugAdapterExecutable(l.command,l.args,l.options)}createSignService(){return new v.SignService}async $runInTerminal(d){if(d.kind==="integrated"){this._terminalDisposedListener||(this._terminalDisposedListener=this._terminalService.onDidCloseTerminal(y=>{this._integratedTerminalInstances.onTerminalClosed(y)}));const s=await this._configurationService.getConfigProvider(),l=this._terminalService.getDefaultShell(!0,s),c=this._terminalService.getDefaultShellArgs(!0,s),t=JSON.stringify({shell:l,shellArgs:c});let r=await this._integratedTerminalInstances.checkout(t),o,a=!1;if(r)o=d.cwd;else{const y={shellPath:l,shellArgs:c,cwd:d.cwd,name:d.title||w.localize(0,null)};a=!0,r=this._terminalService.createTerminalFromOptions(y,!0),this._integratedTerminalInstances.insert(r,t)}r.show(!0);const i=await r.processId;a&&await new Promise(y=>setTimeout(y,1e3));const h=f.prepareCommand(l,d.args,o,d.env);return r.sendText(h,!0),i}else if(d.kind==="external")return f.runInExternalTerminal(d,await this._configurationService.getConfigProvider());return super.$runInTerminal(d)}createVariableResolver(d,s,l){return new S.ExtHostVariableResolverService(d,s,l,process.env,this._workspaceService)}};g=He([Fe(0,I.IExtHostRpcService),Fe(1,T.IExtHostWorkspace),Fe(2,P.IExtHostExtensionService),Fe(3,D.IExtHostDocumentsAndEditors),Fe(4,C.IExtHostConfiguration),Fe(5,n.IExtHostTerminalService)],g),e.ExtHostDebugService=g;class b{constructor(){this._terminalInstances=new Map}async checkout(d){const l=[...this._terminalInstances.keys()].map(c=>u.createCancelablePromise(async t=>{const r=await c.processId;if(await f.hasChildProcesses(r))return null;const o=Date.now(),a=this._terminalInstances.get(c);return!a||a.lastUsedAt+b.minUseDelay>o||t.isCancellationRequested||a.config!==d?null:(a.lastUsedAt=o,c)}));return await u.firstParallel(l,c=>!!c)}insert(d,s){this._terminalInstances.set(d,{lastUsedAt:Date.now(),config:s})}onTerminalClosed(d){this._terminalInstances.delete(d)}}b.minUseDelay=1e3}),define(ge[264],pe([0,1,7,2,80,32,46,40,36,35,14,28,67,13,11,64]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTask=void 0;let b=class extends v.ExtHostTaskBase{constructor(d,s,l,c,t,r,o,a){super(d,s,l,c,t,r,o,a);this.workspaceService=l,s.remote.isRemote&&s.remote.authority&&this.registerTaskSystem(f.Schemas.vscodeRemote,{scheme:f.Schemas.vscodeRemote,authority:s.remote.authority,platform:process.platform}),this._proxy.$registerSupportedExecutions(!0,!0,!0)}async executeTask(d,s){const l=s;if(!s.execution&&l._id===void 0)throw new Error("Tasks to execute must include an execution");if(l._id!==void 0){const c=v.TaskHandleDTO.from(l,this.workspaceService),t=await this._proxy.$getTaskExecution(c);if(t.task===void 0)throw new Error("Task from execution DTO is undefined");const r=await this.getTaskExecution(t,s);return this._proxy.$executeTask(c).catch(()=>{}),r}else{const c=v.TaskDTO.from(s,d);if(c===void 0)return Promise.reject(new Error("Task is not valid"));v.CustomExecutionDTO.is(c.execution)&&await this.addCustomExecution(c,s,!1);const t=await this.getTaskExecution(await this._proxy.$getTaskExecution(c),s);return this._proxy.$executeTask(c).catch(()=>{}),t}}provideTasksInternal(d,s,l,c){const t=[];if(c)for(let r of c){this.checkDeprecation(r,l),(!r.definition||!d[r.definition.type])&&this._logService.warn(`The task [${r.source}, ${r.name}] uses an undefined task type. The task will be ignored in the future.`);const o=v.TaskDTO.from(r,l.extension);o&&(t.push(o),v.CustomExecutionDTO.is(o.execution)&&s.push(this.addCustomExecution(o,r,!0)))}return{tasks:t,extension:l.extension}}async resolveTaskInternal(d){return d}async getVariableResolver(d){if(this._variableResolver===void 0){const s=await this._configurationService.getConfigProvider();this._variableResolver=new P.ExtHostVariableResolverService(d,this._editorService,s,process.env,this.workspaceService)}return this._variableResolver}async $resolveVariables(d,s){const l=k.URI.revive(d),c={process:void 0,variables:Object.create(null)},t=await this._workspaceProvider.resolveWorkspaceFolder(l),r=await this._workspaceProvider.getWorkspaceFolders2();if(!r||!t)throw new Error("Unexpected: Tasks can only be run in a workspace folder");const o=await this.getVariableResolver(r),a={uri:t.uri,name:t.name,index:t.index,toResource:()=>{throw new Error("Not implemented")}};for(let i of s.variables)c.variables[i]=o.resolve(a,i);if(s.process!==void 0){let i;if(s.process.path!==void 0){i=s.process.path.split(w.delimiter);for(let h=0;h<i.length;h++)i[h]=o.resolve(a,i[h])}c.process=await A.win32.findExecutable(o.resolve(a,s.process.name),s.process.cwd!==void 0?o.resolve(a,s.process.cwd):void 0,i)}return c}$getDefaultShellAndArgs(){return this._terminalService.$getDefaultShellAndArgs(!0)}async $jsonTasksSupported(){return!0}async $findExecutable(d,s,l){return A.win32.findExecutable(d,s,l)}};b=He([Fe(0,I.IExtHostRpcService),Fe(1,S.IExtHostInitDataService),Fe(2,T.IExtHostWorkspace),Fe(3,D.IExtHostDocumentsAndEditors),Fe(4,C.IExtHostConfiguration),Fe(5,n.IExtHostTerminalService),Fe(6,u.ILogService),Fe(7,g.IExtHostApiDeprecationService)],b),e.ExtHostTask=b}),define(ge[265],pe([0,1,39,2,9,211,36,11,212,32,46,40,119,120,35,14,207,28,16,147,26]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p,d,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTerminalService=void 0;let c=class extends u.BaseExtHostTerminalService{constructor(r,o,a,i,h,y){super(!0,r);this._extHostConfiguration=o,this._extHostWorkspace=a,this._extHostDocumentsAndEditors=i,this._logService=h,this._extHostInitDataService=y,this._isWorkspaceShellAllowed=!1,s.getSystemShell(A.platform).then(m=>this._defaultShell=m),this._updateLastActiveWorkspace(),this._updateVariableResolver(),this._registerListeners()}createTerminal(r,o,a){const i=new u.ExtHostTerminal(this._proxy,l.generateUuid(),{name:r,shellPath:o,shellArgs:a},r);return this._terminals.push(i),i.create(o,a),i}createTerminalFromOptions(r,o){const a=new u.ExtHostTerminal(this._proxy,l.generateUuid(),r,r.name);return this._terminals.push(a),a.create(d.withNullAsUndefined(r.shellPath),d.withNullAsUndefined(r.shellArgs),d.withNullAsUndefined(r.cwd),d.withNullAsUndefined(r.env),void 0,d.withNullAsUndefined(r.strictEnv),d.withNullAsUndefined(r.hideFromUser),d.withNullAsUndefined(o)),a}getDefaultShell(r,o){var a;const i=h=>{const y=o.getConfiguration(h.substr(0,h.lastIndexOf("."))).inspect(h.substr(h.lastIndexOf(".")+1));return this._apiInspectConfigToPlain(y)};return T.getDefaultShell(i,this._isWorkspaceShellAllowed,(a=this._defaultShell)!==null&&a!==void 0?a:s.getSystemShellSync(A.platform),process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),process.env.windir,T.createVariableResolver(this._lastActiveWorkspace,this._variableResolver),this._logService,r)}getDefaultShellArgs(r,o){const a=i=>{const h=o.getConfiguration(i.substr(0,i.lastIndexOf("."))).inspect(i.substr(i.lastIndexOf(".")+1));return this._apiInspectConfigToPlain(h)};return T.getDefaultShellArgs(a,this._isWorkspaceShellAllowed,r,T.createVariableResolver(this._lastActiveWorkspace,this._variableResolver),this._logService)}_apiInspectConfigToPlain(r){return{userValue:r?r.globalValue:void 0,value:r?r.workspaceValue:void 0,defaultValue:r?r.defaultValue:void 0}}async _getNonInheritedEnv(){const r=await f.getMainProcessParentEnv();return r.VSCODE_IPC_HOOK_CLI=process.env.VSCODE_IPC_HOOK_CLI,r}_registerListeners(){this._extHostDocumentsAndEditors.onDidChangeActiveTextEditor(()=>this._updateLastActiveWorkspace()),this._extHostWorkspace.onDidChangeWorkspace(()=>this._updateVariableResolver())}_updateLastActiveWorkspace(){const r=this._extHostDocumentsAndEditors.activeEditor();r&&(this._lastActiveWorkspace=this._extHostWorkspace.getWorkspaceFolder(r.document.uri))}async _updateVariableResolver(){const r=await this._extHostConfiguration.getConfigProvider(),o=await this._extHostWorkspace.getWorkspaceFolders2();this._variableResolver=new I.ExtHostVariableResolverService(o||[],this._extHostDocumentsAndEditors,r,process.env)}async $spawnExtHostProcess(r,o,a,i,h,y){const m={name:o.name,executable:o.executable,args:o.args,cwd:typeof o.cwd=="string"?o.cwd:k.URI.revive(o.cwd),env:o.env,flowControl:o.flowControl},E=A.isWindows?"windows":A.isMacintosh?"osx":"linux",_=await this._extHostConfiguration.getConfigProvider();if(!m.executable)m.executable=this.getDefaultShell(!1,_),m.args=this.getDefaultShellArgs(!1,_);else if(this._variableResolver&&(m.executable=this._variableResolver.resolve(this._lastActiveWorkspace,m.executable),m.args))if(Array.isArray(m.args)){const U=[];for(const V of m.args)U.push(this._variableResolver.resolve(this._lastActiveWorkspace,V));m.args=U}else m.args=this._variableResolver.resolve(this._lastActiveWorkspace,m.args);const L=k.URI.revive(a);let R;if(a&&L){const U=await this._extHostWorkspace.getWorkspaceFolder(L);U&&(R={uri:U.uri,name:U.name,index:U.index,toResource:()=>{throw new Error("Not implemented")}})}const N=_.getConfiguration("terminal.integrated"),W=T.getCwd(m,w.homedir(),T.createVariableResolver(R,this._variableResolver),L,N.cwd,this._logService);m.cwd=W;const x=this._apiInspectConfigToPlain(_.getConfiguration("terminal.integrated").inspect(`env.${E}`)),M=N.get("inheritEnv",!0)?process.env:await this._getNonInheritedEnv(),$=T.createTerminalEnvironment(m,x,T.createVariableResolver(R,this._variableResolver),y,this._extHostInitDataService.version,N.get("detectLocale","auto"),M);m.strictEnv||new b.MergedEnvironmentVariableCollection(this._environmentVariableCollections).applyToProcessEnvironment($),this._proxy.$sendResolvedLaunchConfig(r,m),this._logService.debug("Terminal process launching on ext host",{shellLaunchConfig:m,initialCwd:W,cols:i,rows:h,env:$});const O=!1,z=new C.TerminalProcess(m,W,i,h,$,process.env,O,this._logService);this._setupExtHostProcessListeners(r,z);const J=await z.start();if(J)return J}$getAvailableShells(){return v.detectAvailableShells()}async $getDefaultShellAndArgs(r){const o=await this._extHostConfiguration.getConfigProvider();return{shell:this.getDefaultShell(r,o),args:this.getDefaultShellArgs(r,o)}}$acceptWorkspacePermissionsChanged(r){this._isWorkspaceShellAllowed=r}};c=He([Fe(0,g.IExtHostRpcService),Fe(1,P.IExtHostConfiguration),Fe(2,n.IExtHostWorkspace),Fe(3,S.IExtHostDocumentsAndEditors),Fe(4,D.ILogService),Fe(5,p.IExtHostInitDataService)],c),e.ExtHostTerminalService=c}),define(ge[266],pe([0,1,19,15,68,5,2,6,254,11,81,83,28,181,14,63,43,35]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionHostMain=void 0;class d{constructor(l,c,t,r){this._disposables=new T.DisposableStore,this._isTerminating=!1,this._hostUtils=t;const o=new C.RPCProtocol(l,null,r);c=d._transform(c,o);const a=new S.ServiceCollection(...I.getSingletonServiceDescriptors());a.set(v.IExtHostInitDataService,Object.assign({_serviceBrand:void 0},c)),a.set(u.IExtHostRpcService,new u.ExtHostRpcService(o)),a.set(g.IURITransformerService,new g.URITransformerService(r)),a.set(b.IHostUtils,t);const i=new f.InstantiationService(a,!0),h=i.invokeFunction(_=>_.get(p.IExtHostTerminalService));this._disposables.add(h),this._logService=i.invokeFunction(_=>_.get(n.ILogService)),A.mark("code/extHost/didCreateServices"),this._logService.info("extension host started"),this._logService.trace("initData",c),this._extensionService=i.invokeFunction(_=>_.get(b.IExtHostExtensionService)),this._extensionService.initialize(),Error.stackTraceLimit=100;const y=new WeakMap;this._extensionService.getExtensionPathIndex().then(_=>{Error.prepareStackTrace=(L,R)=>{let N="",W,x;for(const M of R)N+=`
	at ${M.toString()}`,x=M.getFileName(),!W&&x&&(W=_.findSubstr(x));return y.set(L,W),`${L.name||"Error"}: ${L.message||""}${N}`}});const m=o.getProxy(D.MainContext.MainThreadExtensionService),E=o.getProxy(D.MainContext.MainThreadErrors);k.setUnexpectedErrorHandler(_=>{const L=k.transformErrorForSerialization(_),R=y.get(_);R?m.$onExtensionRuntimeError(R.identifier,L):E.$onUnexpectedError(L)})}terminate(l){if(!this._isTerminating){this._isTerminating=!0,this._logService.info(`extension host terminating: ${l}`),this._logService.flush(),this._disposables.dispose(),k.setUnexpectedErrorHandler(t=>{});const c=this._extensionService.deactivateAll();setTimeout(()=>{Promise.race([w.timeout(4e3),c]).finally(()=>{this._logService.info("exiting with code 0"),this._logService.flush(),this._logService.dispose(),this._hostUtils.exit(0)})},1e3)}}static _transform(l,c){l.extensions.forEach(r=>r.extensionLocation=P.URI.revive(c.transformIncomingURIs(r.extensionLocation))),l.environment.appRoot=P.URI.revive(c.transformIncomingURIs(l.environment.appRoot));const t=l.environment.extensionDevelopmentLocationURI;return t&&(l.environment.extensionDevelopmentLocationURI=t.map(r=>P.URI.revive(c.transformIncomingURIs(r)))),l.environment.extensionTestsLocationURI=P.URI.revive(c.transformIncomingURIs(l.environment.extensionTestsLocationURI)),l.environment.globalStorageHome=P.URI.revive(c.transformIncomingURIs(l.environment.globalStorageHome)),l.environment.workspaceStorageHome=P.URI.revive(c.transformIncomingURIs(l.environment.workspaceStorageHome)),l.logsLocation=P.URI.revive(c.transformIncomingURIs(l.logsLocation)),l.logFile=P.URI.revive(c.transformIncomingURIs(l.logFile)),l.workspace=c.transformIncomingURIs(l.workspace),l}}e.ExtensionHostMain=d}),define(ge[267],pe([0,1,7,21,49,33,23,47,31,37]),function(Z,e,w,k,A,T,P,D,C,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileSearchManager=void 0;class I{constructor(f,u,g){this.config=f,this.provider=u,this.sessionToken=g,this.isLimitHit=!1,this.resultCount=0,this.isCanceled=!1,this.filePattern=f.filePattern,this.includePattern=f.includePattern&&T.parse(f.includePattern),this.maxResults=f.maxResults||void 0,this.exists=f.exists,this.activeCancellationTokens=new Set,this.globalExcludePattern=f.excludePattern&&T.parse(f.excludePattern)}cancel(){this.isCanceled=!0,this.activeCancellationTokens.forEach(f=>f.cancel()),this.activeCancellationTokens=new Set}search(f){const u=this.config.folderQueries||[];return new Promise((g,b)=>{const p=d=>{this.resultCount++,f(d)};if(this.isCanceled)return g({limitHit:this.isLimitHit});this.config.extraFileResources&&this.config.extraFileResources.forEach(d=>{const s=d.toString(),l=w.basename(s);this.globalExcludePattern&&this.globalExcludePattern(s,l)||this.matchFile(p,{base:d,basename:l})}),Promise.all(u.map(d=>this.searchInFolder(d,p))).then(d=>{g({limitHit:this.isLimitHit,stats:d[0]||void 0})},d=>{b(new Error(A.toErrorMessage(d)))})})}searchInFolder(f,u){const g=new k.CancellationTokenSource;return new Promise((b,p)=>{const d=this.getSearchOptionsForFolder(f),s=this.initDirectoryTree(),l=new C.QueryGlobTester(this.config,f),c=!l.hasSiblingExcludeClauses();let t;new Promise(r=>n.nextTick(r)).then(()=>(this.activeCancellationTokens.add(g),t=D.StopWatch.create(),this.provider.provideFileSearchResults({pattern:this.config.filePattern||""},d,g.token))).then(r=>{const o=t.elapsed(),a=D.StopWatch.create();return this.isCanceled&&!this.isLimitHit||(r&&r.forEach(i=>{const h=w.posix.relative(f.folder.path,i.path);if(c){const y=w.basename(i.path);this.matchFile(u,{base:f.folder,relativePath:h,basename:y});return}this.addDirectoryEntries(s,f.folder,h,u)}),this.activeCancellationTokens.delete(g),this.isCanceled&&!this.isLimitHit)?null:(this.matchDirectoryTree(s,l,u),{providerTime:o,postProcessTime:a.elapsed()})}).then(r=>{g.dispose(),b(r)},r=>{g.dispose(),p(r)})})}getSearchOptionsForFolder(f){const u=C.resolvePatternsForProvider(this.config.includePattern,f.includePattern),g=C.resolvePatternsForProvider(this.config.excludePattern,f.excludePattern);return{folder:f.folder,excludes:g,includes:u,useIgnoreFiles:!f.disregardIgnoreFiles,useGlobalIgnoreFiles:!f.disregardGlobalIgnoreFiles,followSymlinks:!f.ignoreSymlinks,maxResults:this.config.maxResults,session:this.sessionToken}}initDirectoryTree(){const f={rootEntries:[],pathToEntries:Object.create(null)};return f.pathToEntries["."]=f.rootEntries,f}addDirectoryEntries({pathToEntries:f},u,g,b){if(g===this.filePattern){const d=w.basename(this.filePattern);this.matchFile(b,{base:u,relativePath:this.filePattern,basename:d})}function p(d){const s=w.basename(d),l=w.dirname(d);let c=f[l];c||(c=f[l]=[],p(l)),c.push({base:u,relativePath:d,basename:s})}p(g)}matchDirectoryTree({rootEntries:f,pathToEntries:u},g,b){const p=this,d=this.filePattern;function s(l){const c=T.hasSiblingFn(()=>l.map(t=>t.basename));for(let t=0,r=l.length;t<r;t++){const o=l[t],{relativePath:a,basename:i}=o;if(!!g.includedInQuerySync(a,i,d!==i?c:void 0)){const h=u[a];if(h)s(h);else{if(a===d)continue;p.matchFile(b,o)}if(p.isLimitHit)break}}}s(f)}matchFile(f,u){(!this.includePattern||u.relativePath&&this.includePattern(u.relativePath,u.basename))&&((this.exists||this.maxResults&&this.resultCount>=this.maxResults)&&(this.isLimitHit=!0,this.cancel()),this.isLimitHit||f(u))}}class S{constructor(){this.sessions=new Map}fileSearch(f,u,g,b){const p=this.getSessionTokenSource(f.cacheKey),d=new I(f,u,p&&p.token);let s=0;const l=c=>{s+=c.length,g(c.map(t=>this.rawMatchToSearchItem(t)))};return this.doSearch(d,S.BATCH_SIZE,l,b).then(c=>({limitHit:c.limitHit,stats:{fromCache:!1,type:"fileSearchProvider",resultCount:s,detailStats:c.stats}}))}clearCache(f){const u=this.getSessionTokenSource(f);u&&u.cancel()}getSessionTokenSource(f){if(!!f)return this.sessions.has(f)||this.sessions.set(f,new k.CancellationTokenSource),this.sessions.get(f)}rawMatchToSearchItem(f){return f.relativePath?{resource:P.joinPath(f.base,f.relativePath)}:{resource:f.base}}doSearch(f,u,g,b){b.onCancellationRequested(()=>{f.cancel()});const p=s=>{s&&(d.push(s),u>0&&d.length>=u&&(g(d),d=[]))};let d=[];return f.search(p).then(s=>(d.length&&g(d),s),s=>(d.length&&g(d),Promise.reject(s)))}}e.FileSearchManager=S,S.BATCH_SIZE=512}),define(ge[125],pe([0,1]),function(Z,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=e.Position=void 0;class w{constructor(T,P){this.line=T,this.character=P}isBefore(T){return!1}isBeforeOrEqual(T){return!1}isAfter(T){return!1}isAfterOrEqual(T){return!1}isEqual(T){return!1}compareTo(T){return 0}translate(T,P){return new w(0,0)}with(T){return new w(0,0)}}e.Position=w;class k{constructor(T,P,D,C){this.isEmpty=!1,this.isSingleLine=!1,this.start=new w(T,P),this.end=new w(D,C)}contains(T){return!1}isEqual(T){return!1}intersection(T){}union(T){return new k(0,0,0,0)}with(T){return new k(0,0,0,0)}}e.Range=k}),define(ge[126],pe([0,1,7,12,21,49,23,33,2,31,37,13]),function(Z,e,w,k,A,T,P,D,C,n,I,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchedCollector=e.extensionResultIsMatch=e.TextSearchResultsCollector=e.TextSearchManager=void 0;class v{constructor(s,l,c){this.query=s,this.provider=l,this.fileUtils=c,this.collector=null,this.isLimitHit=!1,this.resultCount=0}search(s,l){const c=this.query.folderQueries||[],t=new A.CancellationTokenSource;return l.onCancellationRequested(()=>t.cancel()),new Promise((r,o)=>{this.collector=new u(s);let a=!1;const i=(h,y)=>{if(!a&&!this.isLimitHit){const m=this.resultSize(h);b(h)&&typeof this.query.maxResults=="number"&&this.resultCount+m>this.query.maxResults&&(this.isLimitHit=!0,a=!0,t.cancel(),h=this.trimResultToSize(h,this.query.maxResults-this.resultCount));const E=this.resultSize(h);this.resultCount+=E,(E>0||!b(h))&&this.collector.add(h,y)}};Promise.all(c.map((h,y)=>this.searchInFolder(h,m=>i(m,y),t.token))).then(h=>{t.dispose(),this.collector.flush();const y=h.some(m=>!!m&&!!m.limitHit);r({limitHit:this.isLimitHit||y,stats:{type:"textSearchProvider"}})},h=>{t.dispose();const y=T.toErrorMessage(h);o(new Error(y))})})}resultSize(s){return b(s)?Array.isArray(s.ranges)?s.ranges.length:1:0}trimResultToSize(s,l){const c=Array.isArray(s.ranges)?s.ranges:[s.ranges],t=Array.isArray(s.preview.matches)?s.preview.matches:[s.preview.matches];return{ranges:c.slice(0,l),preview:{matches:t.slice(0,l),text:s.preview.text},uri:s.uri}}searchInFolder(s,l,c){const t=new n.QueryGlobTester(this.query,s),r=[],o={report:i=>{if(!!this.validateProviderResult(i)){const h=s.folder.scheme===S.Schemas.file?D.hasSiblingPromiseFn(()=>this.fileUtils.readdir(P.dirname(i.uri))):void 0,y=P.relativePath(s.folder,i.uri);y&&r.push(t.includedInQuery(y,w.basename(y),h).then(m=>{m&&l(i)}))}}},a=this.getSearchOptionsForFolder(s);return new Promise(i=>I.nextTick(i)).then(()=>this.provider.provideTextSearchResults(f(this.query.contentPattern),a,o,c)).then(i=>Promise.all(r).then(()=>i))}validateProviderResult(s){if(b(s)){if(Array.isArray(s.ranges)){if(!Array.isArray(s.preview.matches))return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same type."),!1;if(s.preview.matches.length!==s.ranges.length)return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same length."),!1}else if(Array.isArray(s.preview.matches))return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same length."),!1}return!0}getSearchOptionsForFolder(s){const l=n.resolvePatternsForProvider(this.query.includePattern,s.includePattern),c=n.resolvePatternsForProvider(this.query.excludePattern,s.excludePattern),t={folder:C.URI.from(s.folder),excludes:c,includes:l,useIgnoreFiles:!s.disregardIgnoreFiles,useGlobalIgnoreFiles:!s.disregardGlobalIgnoreFiles,followSymlinks:!s.ignoreSymlinks,encoding:s.fileEncoding&&this.fileUtils.toCanonicalName(s.fileEncoding),maxFileSize:this.query.maxFileSize,maxResults:this.query.maxResults,previewOptions:this.query.previewOptions,afterContext:this.query.afterContext,beforeContext:this.query.beforeContext};return t.usePCRE2=this.query.usePCRE2,t}}e.TextSearchManager=v;function f(d){return{isCaseSensitive:d.isCaseSensitive||!1,isRegExp:d.isRegExp||!1,isWordMatch:d.isWordMatch||!1,isMultiline:d.isMultiline||!1,pattern:d.pattern}}class u{constructor(s){this._onResult=s,this._currentFolderIdx=-1,this._currentFileMatch=null,this._batchedCollector=new p(512,l=>this.sendItems(l))}add(s,l){this._currentFileMatch&&(this._currentFolderIdx!==l||!P.isEqual(this._currentUri,s.uri))&&(this.pushToCollector(),this._currentFileMatch=null),this._currentFileMatch||(this._currentFolderIdx=l,this._currentFileMatch={resource:s.uri,results:[]}),this._currentFileMatch.results.push(g(s))}pushToCollector(){const s=this._currentFileMatch&&this._currentFileMatch.results?this._currentFileMatch.results.length:0;this._batchedCollector.addItem(this._currentFileMatch,s)}flush(){this.pushToCollector(),this._batchedCollector.flush()}sendItems(s){this._onResult(s)}}e.TextSearchResultsCollector=u;function g(d){return b(d)?{preview:{matches:k.mapArrayOrNot(d.preview.matches,s=>({startLineNumber:s.start.line,startColumn:s.start.character,endLineNumber:s.end.line,endColumn:s.end.character})),text:d.preview.text},ranges:k.mapArrayOrNot(d.ranges,s=>({startLineNumber:s.start.line,startColumn:s.start.character,endLineNumber:s.end.line,endColumn:s.end.character}))}:{text:d.text,lineNumber:d.lineNumber}}function b(d){return!!d.preview}e.extensionResultIsMatch=b;class p{constructor(s,l){this.maxBatchSize=s,this.cb=l,this.totalNumberCompleted=0,this.batch=[],this.batchSize=0}addItem(s,l){!s||this.addItemToBatch(s,l)}addItems(s,l){!s||this.addItemsToBatch(s,l)}addItemToBatch(s,l){this.batch.push(s),this.batchSize+=l,this.onUpdate()}addItemsToBatch(s,l){this.batch=this.batch.concat(s),this.batchSize+=l,this.onUpdate()}onUpdate(){this.totalNumberCompleted<p.START_BATCH_AFTER_COUNT?this.flush():this.batchSize>=this.maxBatchSize?this.flush():this.timeoutHandle||(this.timeoutHandle=setTimeout(()=>{this.flush()},p.TIMEOUT))}flush(){this.batchSize&&(this.totalNumberCompleted+=this.batchSize,this.cb(this.batch),this.batch=[],this.batchSize=0,this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=0))}}e.BatchedCollector=p,p.TIMEOUT=4e3,p.START_BATCH_AFTER_COUNT=50}),define(ge[69],pe([0,1,5,6,4,267,14,63,11,2,126]),function(Z,e,w,k,A,T,P,D,C,n,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reviveQuery=e.ExtHostSearch=e.IExtHostSearch=void 0,e.IExtHostSearch=A.createDecorator("IExtHostSearch");let S=class{constructor(g,b,p){this.extHostRpc=g,this._uriTransformer=b,this._logService=p,this._proxy=this.extHostRpc.getProxy(k.MainContext.MainThreadSearch),this._handlePool=0,this._textSearchProvider=new Map,this._textSearchUsedSchemes=new Set,this._fileSearchProvider=new Map,this._fileSearchUsedSchemes=new Set,this._fileSearchManager=new T.FileSearchManager}_transformScheme(g){return this._uriTransformer.transformOutgoingScheme(g)}registerTextSearchProvider(g,b){if(this._textSearchUsedSchemes.has(g))throw new Error(`a text search provider for the scheme '${g}' is already registered`);this._textSearchUsedSchemes.add(g);const p=this._handlePool++;return this._textSearchProvider.set(p,b),this._proxy.$registerTextSearchProvider(p,this._transformScheme(g)),w.toDisposable(()=>{this._textSearchUsedSchemes.delete(g),this._textSearchProvider.delete(p),this._proxy.$unregisterProvider(p)})}registerFileSearchProvider(g,b){if(this._fileSearchUsedSchemes.has(g))throw new Error(`a file search provider for the scheme '${g}' is already registered`);this._fileSearchUsedSchemes.add(g);const p=this._handlePool++;return this._fileSearchProvider.set(p,b),this._proxy.$registerFileSearchProvider(p,this._transformScheme(g)),w.toDisposable(()=>{this._fileSearchUsedSchemes.delete(g),this._fileSearchProvider.delete(p),this._proxy.$unregisterProvider(p)})}$provideFileSearchResults(g,b,p,d){const s=v(p),l=this._fileSearchProvider.get(g);if(l)return this._fileSearchManager.fileSearch(s,l,c=>{this._proxy.$handleFileMatch(g,b,c.map(t=>t.resource))},d);throw new Error("unknown provider: "+g)}$clearCache(g){return this._fileSearchManager.clearCache(g),Promise.resolve(void 0)}$provideTextSearchResults(g,b,p,d){const s=this._textSearchProvider.get(g);if(!s||!s.provideTextSearchResults)throw new Error(`Unknown provider ${g}`);const l=v(p);return this.createTextSearchManager(l,s).search(t=>this._proxy.$handleTextMatch(g,b,t),d)}createTextSearchManager(g,b){return new I.TextSearchManager(g,b,{readdir:p=>Promise.resolve([]),toCanonicalName:p=>p})}};S=He([Fe(0,P.IExtHostRpcService),Fe(1,D.IURITransformerService),Fe(2,C.ILogService)],S),e.ExtHostSearch=S;function v(u){return Object.assign(Object.assign({},u),{folderQueries:u.folderQueries&&u.folderQueries.map(f),extraFileResources:u.extraFileResources&&u.extraFileResources.map(g=>n.URI.revive(g))})}e.reviveQuery=v;function f(u){return Object.assign(Object.assign({},u),{folder:n.URI.revive(u.folder)})}}),define(ge[268],pe([0,1,156,21,15,3,7,76,2,149,105,139,79,50,6,230,229,52,231,36,232,233,234,217,235,40,43,236,218,238,239,240,65,219,242,243,244,90,35,245,220,20,8,248,66,124,32,42,23,54,193,237,114,123,67,46,69,11,63,14,28,241,204,51,64,227,246,202,91,89,251,249,250,228,62,259,247,88,190]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p,d,s,l,c,t,r,o,a,i,h,y,m,E,_,L,R,N,W,x,M,$,O,z,J,U,V,B,Y,ae,ce,fe,_e,be,H,X,re,Q,le,ve,De,Me,Ee,Pe,Ce,Oe,Se,ze,K,se,we,Re,Ue,Be,je,ue,ye,Ne,ee,te,G,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createApiFactoryAndRegisterActors=void 0;function ie(me){const ke=me.get(Pe.IExtHostInitDataService),Ae=me.get(Ne.IExtHostFileSystemInfo),xe=me.get(Ue.IExtHostConsumerFileSystem),qe=me.get(i.IExtHostExtensionService),Ge=me.get(ae.IExtHostWorkspace),Ke=me.get(s.IExtHostConfiguration),st=me.get(Me.IURITransformerService),$e=me.get(Ee.IExtHostRpcService),Xe=me.get(M.IExtHostStorage),ft=me.get(Re.IExtensionStoragePaths),et=me.get(De.ILogService),mt=me.get(Se.IExtHostTunnelService),ot=me.get(ze.IExtHostApiDeprecationService),Ze=me.get(Y.IExtHostWindow),St=me.get(G.IExtHostSecretState);$e.set(u.ExtHostContext.ExtHostFileSystemInfo,Ae),$e.set(u.ExtHostContext.ExtHostLogService,et),$e.set(u.ExtHostContext.ExtHostWorkspace,Ge),$e.set(u.ExtHostContext.ExtHostConfiguration,Ke),$e.set(u.ExtHostContext.ExtHostExtensionService,qe),$e.set(u.ExtHostContext.ExtHostStorage,Xe),$e.set(u.ExtHostContext.ExtHostTunnelService,mt),$e.set(u.ExtHostContext.ExtHostWindow,Ze),$e.set(u.ExtHostContext.ExtHostSecretState,St);const wt=$e.set(u.ExtHostContext.ExtHostDecorations,me.get(re.IExtHostDecorations)),gt=$e.set(u.ExtHostContext.ExtHostDocumentsAndEditors,me.get(a.IExtHostDocumentsAndEditors)),at=$e.set(u.ExtHostContext.ExtHostCommands,me.get(p.IExtHostCommands)),ut=$e.set(u.ExtHostContext.ExtHostTerminalService,me.get($.IExtHostTerminalService)),rt=$e.set(u.ExtHostContext.ExtHostDebugService,me.get(le.IExtHostDebugService)),kt=$e.set(u.ExtHostContext.ExtHostSearch,me.get(ve.IExtHostSearch)),_t=$e.set(u.ExtHostContext.ExtHostTask,me.get(Q.IExtHostTask)),Et=$e.set(u.ExtHostContext.ExtHostOutputService,me.get(L.IExtHostOutputService)),pt=$e.set(u.ExtHostContext.ExtHostEditorTabs,new F.ExtHostEditorTabs),yt=$e.set(u.ExtHostContext.ExtHostUrls,new V.ExtHostUrls($e)),vt=$e.set(u.ExtHostContext.ExtHostDocuments,new o.ExtHostDocuments($e,gt)),Ct=$e.set(u.ExtHostContext.ExtHostDocumentContentProviders,new t.ExtHostDocumentContentProvider($e,gt,et)),Pt=$e.set(u.ExtHostContext.ExtHostDocumentSaveParticipant,new r.ExtHostDocumentSaveParticipant(et,vt,$e.getProxy(u.MainContext.MainThreadBulkEdits))),tt=$e.set(u.ExtHostContext.ExtHostNotebook,new Ce.ExtHostNotebookController($e,at,gt,ke.environment,et,ft)),bt=$e.set(u.ExtHostContext.ExtHostEditors,new O.ExtHostEditors($e,gt)),Ut=$e.set(u.ExtHostContext.ExtHostTreeViews,new z.ExtHostTreeViews($e.getProxy(u.MainContext.MainThreadTreeViews),at,et)),zt=$e.set(u.ExtHostContext.ExtHostEditorInsets,new be.ExtHostEditorInsets($e.getProxy(u.MainContext.MainThreadEditorInsets),bt,ke.environment)),xt=$e.set(u.ExtHostContext.ExtHostDiagnostics,new l.ExtHostDiagnostics($e,et)),it=$e.set(u.ExtHostContext.ExtHostLanguageFeatures,new m.ExtHostLanguageFeatures($e,st,vt,at,xt,et,ot)),Bt=$e.set(u.ExtHostContext.ExtHostFileSystem,new h.ExtHostFileSystem($e,it)),It=$e.set(u.ExtHostContext.ExtHostFileSystemEventService,new y.ExtHostFileSystemEventService($e,et,gt)),Lt=$e.set(u.ExtHostContext.ExtHostQuickOpen,new N.ExtHostQuickOpen($e,Ge,at)),ni=$e.set(u.ExtHostContext.ExtHostSCM,new W.ExtHostSCM($e,at,et)),hi=$e.set(u.ExtHostContext.ExtHostComments,new d.ExtHostComments($e,at,vt)),ri=$e.set(u.ExtHostContext.ExtHostProgress,new R.ExtHostProgress($e.getProxy(u.MainContext.MainThreadProgress))),Vt=$e.set(u.ExtHostContext.ExtHosLabelService,new H.ExtHostLabelService($e)),Wt=$e.set(u.ExtHostContext.ExtHostTheming,new Oe.ExtHostTheming($e)),Tt=$e.set(u.ExtHostContext.ExtHostAuthentication,new K.ExtHostAuthentication($e)),fi=$e.set(u.ExtHostContext.ExtHostTimeline,new se.ExtHostTimeline($e,at)),jt=$e.set(u.ExtHostContext.ExtHostWebviews,new B.ExtHostWebviews($e,ke.environment,Ge,et,ot)),qt=$e.set(u.ExtHostContext.ExtHostWebviewPanels,new ue.ExtHostWebviewPanels($e,jt,Ge)),$t=$e.set(u.ExtHostContext.ExtHostCustomEditors,new je.ExtHostCustomEditors($e,vt,ft,jt,qt)),mi=$e.set(u.ExtHostContext.ExtHostWebviewViews,new Be.ExtHostWebviewViews($e,jt)),At=$e.set(u.ExtHostContext.ExtHostTesting,new ee.ExtHostTesting($e,gt,Ge)),Gt=$e.set(u.ExtHostContext.ExtHostUriOpeners,new te.ExtHostUriOpeners($e)),gi=_e.values(u.ExtHostContext);$e.assertRegistered(gi);const Kt=new ye.ExtHostBulkEdits($e,gt,tt),Ht=new b.ExtHostClipboard($e),Xt=new _.ExtHostMessageService($e,et),Qt=new c.ExtHostDialogs($e),si=new x.ExtHostStatusBar($e,at.converter),Yt=new E.ExtHostLanguages($e,vt);return g.ExtHostApiCommands.register(at),function(Le,Jt,Ot){const ct=function(){let ne=!Le.isUnderDevelopment;function he(Ie){ne||(et.info(`Extension '${Le.identifier.value}' uses a document selector without scheme. Learn more about this: https://go.microsoft.com/fwlink/?linkid=872305`),ne=!0)}return function Ie(Ye){return Array.isArray(Ye)?Ye.forEach(Ie):typeof Ye=="string"?he(Ye):(typeof Ye.scheme=="undefined"&&he(Ye),!Le.enableProposedApi&&typeof Ye.exclusive=="boolean"&&ce.throwProposedApiError(Le)),Ye}}(),pi={getSession(ne,he,Ie){return Tt.getSession(Le,ne,he,Ie)},get onDidChangeSessions(){return Tt.onDidChangeSessions},registerAuthenticationProvider(ne,he,Ie,Ye){return ce.checkProposedApiEnabled(Le),Tt.registerAuthenticationProvider(ne,he,Ie,Ye)},get onDidChangeAuthenticationProviders(){return ce.checkProposedApiEnabled(Le),Tt.onDidChangeAuthenticationProviders},get providers(){return ce.checkProposedApiEnabled(Le),Tt.providers},logout(ne,he){return ce.checkProposedApiEnabled(Le),Tt.logout(ne,he)}},vi={registerCommand(ne,he,Ie){return at.registerCommand(!0,ne,he,Ie)},registerTextEditorCommand(ne,he,Ie){return at.registerCommand(!0,ne,(...Ye)=>{const lt=bt.getActiveTextEditor();if(!lt){et.warn("Cannot execute "+ne+" because there is no active text editor.");return}return lt.edit(dt=>{he.apply(Ie,[lt,dt,...Ye])}).then(dt=>{dt||et.warn("Edits from command "+ne+" were not applied.")},dt=>{et.warn("An error occurred while running command "+ne,dt)})})},registerDiffInformationCommand:(ne,he,Ie)=>(ce.checkProposedApiEnabled(Le),at.registerCommand(!0,ne,async(...Ye)=>{const lt=bt.getActiveTextEditor();if(!lt){et.warn("Cannot execute "+ne+" because there is no active text editor.");return}const dt=await bt.getDiffInformation(lt.id);he.apply(Ie,[dt,...Ye])})),executeCommand(ne,...he){return at.executeCommand(ne,...he)},getCommands(ne=!1){return at.getCommands(ne)}},oi={get machineId(){return ke.telemetryInfo.machineId},get sessionId(){return ke.telemetryInfo.sessionId},get language(){return ke.environment.appLanguage},get appName(){return ke.environment.appName},get appRoot(){var ne,he;return(he=(ne=ke.environment.appRoot)===null||ne===void 0?void 0:ne.fsPath)!==null&&he!==void 0?he:""},get uriScheme(){return ke.environment.appUriScheme},get clipboard(){return Ht},get shell(){return ut.getDefaultShell(!1,Ot)},openExternal(ne,he){return Ze.openUri(ne,{allowTunneling:!!ke.remote.authority,allowContributedOpeners:he==null?void 0:he.allowContributedOpeners})},asExternalUri(ne){return ne.scheme===ke.environment.appUriScheme?yt.createAppUri(ne):Ze.asExternalUri(ne,{allowTunneling:!!ke.remote.authority})},get remoteName(){return X.getRemoteName(ke.remote.authority)},get uiKind(){return ke.uiKind}};ke.environment.extensionTestsLocationURI||Object.freeze(oi);const ai=ke.remote.isRemote?U.ExtensionKind.Workspace:U.ExtensionKind.UI,wi={registerTestProvider(ne){return ce.checkProposedApiEnabled(Le),At.registerTestProvider(ne)},createDocumentTestObserver(ne){return ce.checkProposedApiEnabled(Le),At.createTextDocumentTestObserver(ne)},createWorkspaceTestObserver(ne){return ce.checkProposedApiEnabled(Le),At.createWorkspaceTestObserver(ne)},runTests(ne){return ce.checkProposedApiEnabled(Le),At.runTests(ne)},get onDidChangeTestResults(){return ce.checkProposedApiEnabled(Le),At.onLastResultsChanged},get testResults(){return ce.checkProposedApiEnabled(Le),At.lastResults}},Zt={getExtension(ne){const he=Jt.getExtensionDescription(ne);if(he)return new oe(qe,Le.identifier,he,ai)},get all(){return Jt.getAllExtensionDescriptions().map(ne=>new oe(qe,Le.identifier,ne,ai))},get onDidChange(){return Jt.onDidChange}},_i={createDiagnosticCollection(ne){return xt.createDiagnosticCollection(Le.identifier,ne)},get onDidChangeDiagnostics(){return xt.onDidChangeDiagnostics},getDiagnostics:ne=>xt.getDiagnostics(ne),getLanguages(){return Yt.getLanguages()},setTextDocumentLanguage(ne,he){return Yt.changeLanguage(ne.uri,he)},match(ne,he){return v.score(J.LanguageSelector.from(ne),he.uri,he.languageId,!0)},registerCodeActionsProvider(ne,he,Ie){return it.registerCodeActionProvider(Le,ct(ne),he,Ie)},registerCodeLensProvider(ne,he){return it.registerCodeLensProvider(Le,ct(ne),he)},registerDefinitionProvider(ne,he){return it.registerDefinitionProvider(Le,ct(ne),he)},registerDeclarationProvider(ne,he){return it.registerDeclarationProvider(Le,ct(ne),he)},registerImplementationProvider(ne,he){return it.registerImplementationProvider(Le,ct(ne),he)},registerTypeDefinitionProvider(ne,he){return it.registerTypeDefinitionProvider(Le,ct(ne),he)},registerHoverProvider(ne,he){return it.registerHoverProvider(Le,ct(ne),he,Le.identifier)},registerEvaluatableExpressionProvider(ne,he){return it.registerEvaluatableExpressionProvider(Le,ct(ne),he,Le.identifier)},registerDocumentHighlightProvider(ne,he){return it.registerDocumentHighlightProvider(Le,ct(ne),he)},registerLinkedEditingRangeProvider(ne,he){return it.registerLinkedEditingRangeProvider(Le,ct(ne),he)},registerReferenceProvider(ne,he){return it.registerReferenceProvider(Le,ct(ne),he)},registerRenameProvider(ne,he){return it.registerRenameProvider(Le,ct(ne),he)},registerDocumentSymbolProvider(ne,he,Ie){return it.registerDocumentSymbolProvider(Le,ct(ne),he,Ie)},registerWorkspaceSymbolProvider(ne){return it.registerWorkspaceSymbolProvider(Le,ne)},registerDocumentFormattingEditProvider(ne,he){return it.registerDocumentFormattingEditProvider(Le,ct(ne),he)},registerDocumentRangeFormattingEditProvider(ne,he){return it.registerDocumentRangeFormattingEditProvider(Le,ct(ne),he)},registerOnTypeFormattingEditProvider(ne,he,Ie,...Ye){return it.registerOnTypeFormattingEditProvider(Le,ct(ne),he,[Ie].concat(Ye))},registerDocumentSemanticTokensProvider(ne,he,Ie){return it.registerDocumentSemanticTokensProvider(Le,ct(ne),he,Ie)},registerDocumentRangeSemanticTokensProvider(ne,he,Ie){return it.registerDocumentRangeSemanticTokensProvider(Le,ct(ne),he,Ie)},registerSignatureHelpProvider(ne,he,Ie,...Ye){return typeof Ie=="object"?it.registerSignatureHelpProvider(Le,ct(ne),he,Ie):it.registerSignatureHelpProvider(Le,ct(ne),he,typeof Ie=="undefined"?[]:[Ie,...Ye])},registerCompletionItemProvider(ne,he,...Ie){return it.registerCompletionItemProvider(Le,ct(ne),he,Ie)},registerDocumentLinkProvider(ne,he){return it.registerDocumentLinkProvider(Le,ct(ne),he)},registerColorProvider(ne,he){return it.registerColorProvider(Le,ct(ne),he)},registerFoldingRangeProvider(ne,he){return it.registerFoldingRangeProvider(Le,ct(ne),he)},registerSelectionRangeProvider(ne,he){return it.registerSelectionRangeProvider(Le,ne,he)},registerCallHierarchyProvider(ne,he){return it.registerCallHierarchyProvider(Le,ne,he)},setLanguageConfiguration:(ne,he)=>it.setLanguageConfiguration(Le,ne,he),getTokenInformationAtPosition(ne,he){return ce.checkProposedApiEnabled(Le),Yt.tokenAtPosition(ne,he)},registerInlineHintsProvider(ne,he){return ce.checkProposedApiEnabled(Le),it.registerInlineHintsProvider(Le,ne,he)}},q={get activeTextEditor(){return bt.getActiveTextEditor()},get visibleTextEditors(){return bt.getVisibleTextEditors()},get activeTerminal(){return ut.activeTerminal},get terminals(){return ut.terminals},async showTextDocument(ne,he,Ie){const Ye=await(C.URI.isUri(ne)?Promise.resolve(j.openTextDocument(ne)):Promise.resolve(ne));return bt.showTextDocument(Ye,he,Ie)},createTextEditorDecorationType(ne){return bt.createTextEditorDecorationType(ne)},onDidChangeActiveTextEditor(ne,he,Ie){return bt.onDidChangeActiveTextEditor(ne,he,Ie)},onDidChangeVisibleTextEditors(ne,he,Ie){return bt.onDidChangeVisibleTextEditors(ne,he,Ie)},onDidChangeTextEditorSelection(ne,he,Ie){return bt.onDidChangeTextEditorSelection(ne,he,Ie)},onDidChangeTextEditorOptions(ne,he,Ie){return bt.onDidChangeTextEditorOptions(ne,he,Ie)},onDidChangeTextEditorVisibleRanges(ne,he,Ie){return bt.onDidChangeTextEditorVisibleRanges(ne,he,Ie)},onDidChangeTextEditorViewColumn(ne,he,Ie){return bt.onDidChangeTextEditorViewColumn(ne,he,Ie)},onDidCloseTerminal(ne,he,Ie){return ut.onDidCloseTerminal(ne,he,Ie)},onDidOpenTerminal(ne,he,Ie){return ut.onDidOpenTerminal(ne,he,Ie)},onDidChangeActiveTerminal(ne,he,Ie){return ut.onDidChangeActiveTerminal(ne,he,Ie)},onDidChangeTerminalDimensions(ne,he,Ie){return ce.checkProposedApiEnabled(Le),ut.onDidChangeTerminalDimensions(ne,he,Ie)},onDidWriteTerminalData(ne,he,Ie){return ce.checkProposedApiEnabled(Le),ut.onDidWriteTerminalData(ne,he,Ie)},get state(){return Ze.state},onDidChangeWindowState(ne,he,Ie){return Ze.onDidChangeWindowState(ne,he,Ie)},showInformationMessage(ne,...he){return Xt.showMessage(Le,D.default.Info,ne,he[0],he.slice(1))},showWarningMessage(ne,...he){return Xt.showMessage(Le,D.default.Warning,ne,he[0],he.slice(1))},showErrorMessage(ne,...he){return Xt.showMessage(Le,D.default.Error,ne,he[0],he.slice(1))},showQuickPick(ne,he,Ie){return Lt.showQuickPick(ne,!!Le.enableProposedApi,he,Ie)},showWorkspaceFolderPick(ne){return Lt.showWorkspaceFolderPick(ne)},showInputBox(ne,he){return Lt.showInput(ne,he)},showOpenDialog(ne){return Qt.showOpenDialog(ne)},showSaveDialog(ne){return Qt.showSaveDialog(ne)},createStatusBarItem(ne,he){let Ie,Ye,lt,dt;return ne&&typeof ne!="number"?(Ie=ne.id,Ye=ne.name,lt=ne.alignment,he=ne.priority,dt=ne.accessibilityInformation):(Ie=Le.identifier.value,Ye=w.localize(0,null,Le.displayName||Le.name),lt=ne),si.createStatusBarEntry(Ie,Ye,lt,he,dt)},setStatusBarMessage(ne,he){return si.setStatusBarMessage(ne,he)},withScmProgress(ne){return ot.report("window.withScmProgress",Le,"Use 'withProgress' instead."),ri.withProgress(Le,{location:U.ProgressLocation.SourceControl},(he,Ie)=>ne({report(Ye){}}))},withProgress(ne,he){return ri.withProgress(Le,ne,he)},createOutputChannel(ne){return Et.createOutputChannel(ne)},createWebviewPanel(ne,he,Ie,Ye){return qt.createWebviewPanel(Le,ne,he,Ie,Ye)},createWebviewTextEditorInset(ne,he,Ie,Ye){return ce.checkProposedApiEnabled(Le),zt.createWebviewEditorInset(ne,he,Ie,Ye,Le)},createTerminal(ne,he,Ie){return typeof ne=="object"?"pty"in ne?ut.createExtensionTerminal(ne):ut.createTerminalFromOptions(ne):ut.createTerminal(ne,he,Ie)},registerTerminalLinkProvider(ne){return ut.registerLinkProvider(ne)},registerTreeDataProvider(ne,he){return Ut.registerTreeDataProvider(ne,he,Le)},createTreeView(ne,he){return Ut.createTreeView(ne,he,Le)},registerWebviewPanelSerializer:(ne,he)=>qt.registerWebviewPanelSerializer(Le,ne,he),registerCustomEditorProvider:(ne,he,Ie={})=>$t.registerCustomEditorProvider(Le,ne,he,Ie),registerFileDecorationProvider(ne){return wt.registerFileDecorationProvider(ne,Le.identifier)},registerUriHandler(ne){return yt.registerUriHandler(Le.identifier,ne)},createQuickPick(){return Lt.createQuickPick(Le.identifier,!!Le.enableProposedApi)},createInputBox(){return Lt.createInputBox(Le.identifier)},get activeColorTheme(){return Wt.activeColorTheme},onDidChangeActiveColorTheme(ne,he,Ie){return Wt.onDidChangeActiveColorTheme(ne,he,Ie)},registerWebviewViewProvider(ne,he,Ie){return mi.registerWebviewViewProvider(Le,ne,he,Ie==null?void 0:Ie.webviewOptions)},get activeNotebookEditor(){return ce.checkProposedApiEnabled(Le),tt.activeNotebookEditor},onDidChangeActiveNotebookEditor(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.onDidChangeActiveNotebookEditor(ne,he,Ie)},get visibleNotebookEditors(){return ce.checkProposedApiEnabled(Le),tt.visibleNotebookEditors},get onDidChangeVisibleNotebookEditors(){return ce.checkProposedApiEnabled(Le),tt.onDidChangeVisibleNotebookEditors},onDidChangeNotebookEditorSelection(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.onDidChangeNotebookEditorSelection(ne,he,Ie)},onDidChangeNotebookEditorVisibleRanges(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.onDidChangeNotebookEditorVisibleRanges(ne,he,Ie)},showNotebookDocument(ne,he){return ce.checkProposedApiEnabled(Le),tt.showNotebookDocument(ne,he)},registerExternalUriOpener(ne,he,Ie){return ce.checkProposedApiEnabled(Le),Gt.registerExternalUriOpener(Le.identifier,ne,he,Ie)},get openEditors(){return ce.checkProposedApiEnabled(Le),pt.tabs},get onDidChangeOpenEditors(){return ce.checkProposedApiEnabled(Le),pt.onDidChangeTabs}},j={get rootPath(){return ot.report("workspace.rootPath",Le,"Please use 'workspace.workspaceFolders' instead. More details: https://aka.ms/vscode-eliminating-rootpath"),Ge.getPath()},set rootPath(ne){throw A.readonly()},getWorkspaceFolder(ne){return Ge.getWorkspaceFolder(ne)},get workspaceFolders(){return Ge.getWorkspaceFolders()},get name(){return Ge.name},set name(ne){throw A.readonly()},get workspaceFile(){return Ge.workspaceFile},set workspaceFile(ne){throw A.readonly()},updateWorkspaceFolders:(ne,he,...Ie)=>Ge.updateWorkspaceFolders(Le,ne,he||0,...Ie),onDidChangeWorkspaceFolders:function(ne,he,Ie){return Ge.onDidChangeWorkspace(ne,he,Ie)},asRelativePath:(ne,he)=>Ge.getRelativePath(ne,he),findFiles:(ne,he,Ie,Ye)=>Ge.findFiles(J.GlobPattern.from(ne),J.GlobPattern.from(he),Ie,Le.identifier,Ye),findTextInFiles:(ne,he,Ie,Ye)=>{let lt,dt;return typeof he=="object"?(lt=he,dt=Ie):(lt={},dt=he,Ye=Ie),Ge.findTextInFiles(ne,lt||{},dt,Le.identifier,Ye)},saveAll:ne=>Ge.saveAll(ne),applyEdit(ne){return Kt.applyWorkspaceEdit(ne)},createFileSystemWatcher:(ne,he,Ie,Ye)=>It.createFileSystemWatcher(J.GlobPattern.from(ne),he,Ie,Ye),get textDocuments(){return vt.getAllDocumentData().map(ne=>ne.document)},set textDocuments(ne){throw A.readonly()},openTextDocument(ne){let he;const Ie=ne;if(typeof ne=="string")he=Promise.resolve(C.URI.file(ne));else if(C.URI.isUri(ne))he=Promise.resolve(ne);else if(!Ie||typeof Ie=="object")he=vt.createDocumentData(Ie);else throw new Error("illegal argument - uriOrFileNameOrOptions");return he.then(Ye=>vt.ensureDocumentData(Ye).then(lt=>lt.document))},onDidOpenTextDocument:(ne,he,Ie)=>vt.onDidAddDocument(ne,he,Ie),onDidCloseTextDocument:(ne,he,Ie)=>vt.onDidRemoveDocument(ne,he,Ie),onDidChangeTextDocument:(ne,he,Ie)=>vt.onDidChangeDocument(ne,he,Ie),onDidSaveTextDocument:(ne,he,Ie)=>vt.onDidSaveDocument(ne,he,Ie),onWillSaveTextDocument:(ne,he,Ie)=>Pt.getOnWillSaveTextDocumentEvent(Le)(ne,he,Ie),onDidChangeConfiguration:(ne,he,Ie)=>Ot.onDidChangeConfiguration(ne,he,Ie),getConfiguration(ne,he){return he=arguments.length===1?void 0:he,Ot.getConfiguration(ne,he,Le)},registerTextDocumentContentProvider(ne,he){return Ct.registerTextDocumentContentProvider(ne,he)},registerTaskProvider:(ne,he)=>(ot.report("window.registerTaskProvider",Le,"Use the corresponding function on the 'tasks' namespace instead"),_t.registerTaskProvider(Le,ne,he)),registerFileSystemProvider(ne,he,Ie){return Bt.registerFileSystemProvider(Le.identifier,ne,he,Ie)},get fs(){return xe},registerFileSearchProvider:(ne,he)=>(ce.checkProposedApiEnabled(Le),kt.registerFileSearchProvider(ne,he)),registerTextSearchProvider:(ne,he)=>(ce.checkProposedApiEnabled(Le),kt.registerTextSearchProvider(ne,he)),registerRemoteAuthorityResolver:(ne,he)=>(ce.checkProposedApiEnabled(Le),qe.registerRemoteAuthorityResolver(ne,he)),registerResourceLabelFormatter:ne=>(ce.checkProposedApiEnabled(Le),Vt.$registerResourceLabelFormatter(ne)),onDidCreateFiles:(ne,he,Ie)=>It.onDidCreateFile(ne,he,Ie),onDidDeleteFiles:(ne,he,Ie)=>It.onDidDeleteFile(ne,he,Ie),onDidRenameFiles:(ne,he,Ie)=>It.onDidRenameFile(ne,he,Ie),onWillCreateFiles:(ne,he,Ie)=>It.getOnWillCreateFileEvent(Le)(ne,he,Ie),onWillDeleteFiles:(ne,he,Ie)=>It.getOnWillDeleteFileEvent(Le)(ne,he,Ie),onWillRenameFiles:(ne,he,Ie)=>It.getOnWillRenameFileEvent(Le)(ne,he,Ie),openTunnel:ne=>(ce.checkProposedApiEnabled(Le),mt.openTunnel(Le,ne).then(he=>{if(!he)throw new Error("cannot open tunnel");return he})),get tunnels(){return ce.checkProposedApiEnabled(Le),mt.getTunnels()},onDidChangeTunnels:(ne,he,Ie)=>(ce.checkProposedApiEnabled(Le),mt.onDidChangeTunnels(ne,he,Ie)),registerTimelineProvider:(ne,he)=>(ce.checkProposedApiEnabled(Le),fi.registerTimelineProvider(ne,he,Le.identifier,at.converter))},de={get inputBox(){return ot.report("scm.inputBox",Le,"Use 'SourceControl.inputBox' instead"),ni.getLastInputBox(Le)},createSourceControl(ne,he,Ie){return ni.createSourceControl(Le,ne,he,Ie)}},Te={createCommentController(ne,he){return hi.createCommentController(Le,ne,he)}},Ve={get activeDebugSession(){return rt.activeDebugSession},get activeDebugConsole(){return rt.activeDebugConsole},get breakpoints(){return rt.breakpoints},onDidStartDebugSession(ne,he,Ie){return rt.onDidStartDebugSession(ne,he,Ie)},onDidTerminateDebugSession(ne,he,Ie){return rt.onDidTerminateDebugSession(ne,he,Ie)},onDidChangeActiveDebugSession(ne,he,Ie){return rt.onDidChangeActiveDebugSession(ne,he,Ie)},onDidReceiveDebugSessionCustomEvent(ne,he,Ie){return rt.onDidReceiveDebugSessionCustomEvent(ne,he,Ie)},onDidChangeBreakpoints(ne,he,Ie){return rt.onDidChangeBreakpoints(ne,he,Ie)},registerDebugConfigurationProvider(ne,he,Ie){return rt.registerDebugConfigurationProvider(ne,he,Ie||U.DebugConfigurationProviderTriggerKind.Initial)},registerDebugAdapterDescriptorFactory(ne,he){return rt.registerDebugAdapterDescriptorFactory(Le,ne,he)},registerDebugAdapterTrackerFactory(ne,he){return rt.registerDebugAdapterTrackerFactory(ne,he)},startDebugging(ne,he,Ie){return!Ie||typeof Ie=="object"&&"configuration"in Ie?rt.startDebugging(ne,he,{parentSession:Ie}):rt.startDebugging(ne,he,Ie||{})},stopDebugging(ne){return rt.stopDebugging(ne)},addBreakpoints(ne){return rt.addBreakpoints(ne)},removeBreakpoints(ne){return rt.removeBreakpoints(ne)},asDebugSourceUri(ne,he){return rt.asDebugSourceUri(ne,he)}},Qe={registerTaskProvider:(ne,he)=>_t.registerTaskProvider(Le,ne,he),fetchTasks:ne=>_t.fetchTasks(ne),executeTask:ne=>_t.executeTask(Le,ne),get taskExecutions(){return _t.taskExecutions},onDidStartTask:(ne,he,Ie)=>_t.onDidStartTask(ne,he,Ie),onDidEndTask:(ne,he,Ie)=>_t.onDidEndTask(ne,he,Ie),onDidStartTaskProcess:(ne,he,Ie)=>_t.onDidStartTaskProcess(ne,he,Ie),onDidEndTaskProcess:(ne,he,Ie)=>_t.onDidEndTaskProcess(ne,he,Ie)},nt={openNotebookDocument:(ne,he)=>(ce.checkProposedApiEnabled(Le),tt.openNotebookDocument(ne,he)),get onDidOpenNotebookDocument(){return ce.checkProposedApiEnabled(Le),tt.onDidOpenNotebookDocument},get onDidCloseNotebookDocument(){return ce.checkProposedApiEnabled(Le),tt.onDidCloseNotebookDocument},get onDidSaveNotebookDocument(){return ce.checkProposedApiEnabled(Le),tt.onDidSaveNotebookDocument},get notebookDocuments(){return ce.checkProposedApiEnabled(Le),tt.notebookDocuments.map(ne=>ne.notebookDocument)},get visibleNotebookEditors(){return ce.checkProposedApiEnabled(Le),tt.visibleNotebookEditors},get onDidChangeVisibleNotebookEditors(){return ce.checkProposedApiEnabled(Le),tt.onDidChangeVisibleNotebookEditors},get onDidChangeActiveNotebookKernel(){return ce.checkProposedApiEnabled(Le),tt.onDidChangeActiveNotebookKernel},registerNotebookContentProvider:(ne,he,Ie)=>(ce.checkProposedApiEnabled(Le),tt.registerNotebookContentProvider(Le,ne,he,Ie)),registerNotebookKernelProvider:(ne,he)=>(ce.checkProposedApiEnabled(Le),tt.registerNotebookKernelProvider(Le,ne,he)),createNotebookEditorDecorationType(ne){return ce.checkProposedApiEnabled(Le),tt.createNotebookEditorDecorationType(ne)},get activeNotebookEditor(){return ce.checkProposedApiEnabled(Le),tt.activeNotebookEditor},onDidChangeActiveNotebookEditor(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.onDidChangeActiveNotebookEditor(ne,he,Ie)},onDidChangeNotebookDocumentMetadata(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.onDidChangeNotebookDocumentMetadata(ne,he,Ie)},onDidChangeNotebookCells(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.onDidChangeNotebookCells(ne,he,Ie)},onDidChangeNotebookEditorSelection(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.onDidChangeNotebookEditorSelection(ne,he,Ie)},onDidChangeNotebookEditorVisibleRanges(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.onDidChangeNotebookEditorVisibleRanges(ne,he,Ie)},onDidChangeCellOutputs(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.onDidChangeCellOutputs(ne,he,Ie)},onDidChangeCellLanguage(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.onDidChangeCellLanguage(ne,he,Ie)},onDidChangeCellMetadata(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.onDidChangeCellMetadata(ne,he,Ie)},createConcatTextDocument(ne,he){return ce.checkProposedApiEnabled(Le),new we.ExtHostNotebookConcatDocument(tt,vt,ne,he)},createCellStatusBarItem(ne,he,Ie){return ce.checkProposedApiEnabled(Le),tt.createNotebookCellStatusBarItemInternal(ne,he,Ie)}};return{version:ke.version,authentication:pi,commands:vi,comments:Te,debug:Ve,env:oi,extensions:Zt,languages:_i,notebook:nt,scm:de,tasks:Qe,test:wi,window:q,workspace:j,Breakpoint:U.Breakpoint,CallHierarchyIncomingCall:U.CallHierarchyIncomingCall,CallHierarchyItem:U.CallHierarchyItem,CallHierarchyOutgoingCall:U.CallHierarchyOutgoingCall,CancellationError:A.CancellationError,CancellationTokenSource:k.CancellationTokenSource,CodeAction:U.CodeAction,CodeActionKind:U.CodeActionKind,CodeActionTrigger:U.CodeActionTrigger,CodeLens:U.CodeLens,Color:U.Color,ColorInformation:U.ColorInformation,ColorPresentation:U.ColorPresentation,ColorThemeKind:U.ColorThemeKind,CommentMode:U.CommentMode,CommentThreadCollapsibleState:U.CommentThreadCollapsibleState,CompletionItem:U.CompletionItem,CompletionItemKind:U.CompletionItemKind,CompletionItemTag:U.CompletionItemTag,CompletionList:U.CompletionList,CompletionTriggerKind:U.CompletionTriggerKind,ConfigurationTarget:U.ConfigurationTarget,CustomExecution:U.CustomExecution,DebugAdapterExecutable:U.DebugAdapterExecutable,DebugAdapterInlineImplementation:U.DebugAdapterInlineImplementation,DebugAdapterNamedPipeServer:U.DebugAdapterNamedPipeServer,DebugAdapterServer:U.DebugAdapterServer,DebugConfigurationProviderTriggerKind:U.DebugConfigurationProviderTriggerKind,DebugConsoleMode:U.DebugConsoleMode,DecorationRangeBehavior:U.DecorationRangeBehavior,Diagnostic:U.Diagnostic,DiagnosticRelatedInformation:U.DiagnosticRelatedInformation,DiagnosticSeverity:U.DiagnosticSeverity,DiagnosticTag:U.DiagnosticTag,Disposable:U.Disposable,DocumentHighlight:U.DocumentHighlight,DocumentHighlightKind:U.DocumentHighlightKind,DocumentLink:U.DocumentLink,DocumentSymbol:U.DocumentSymbol,EndOfLine:U.EndOfLine,EnvironmentVariableMutatorType:U.EnvironmentVariableMutatorType,EvaluatableExpression:U.EvaluatableExpression,EventEmitter:T.Emitter,ExtensionKind:U.ExtensionKind,ExtensionMode:U.ExtensionMode,ExternalUriOpenerPriority:U.ExternalUriOpenerPriority,FileChangeType:U.FileChangeType,FileDecoration:U.FileDecoration,FileSystemError:U.FileSystemError,FileType:f.FileType,FoldingRange:U.FoldingRange,FoldingRangeKind:U.FoldingRangeKind,FunctionBreakpoint:U.FunctionBreakpoint,Hover:U.Hover,IndentAction:S.IndentAction,InlineHint:U.InlineHint,Location:U.Location,MarkdownString:U.MarkdownString,OverviewRulerLane:I.OverviewRulerLane,ParameterInformation:U.ParameterInformation,Position:U.Position,ProcessExecution:U.ProcessExecution,ProgressLocation:U.ProgressLocation,QuickInputButtons:U.QuickInputButtons,Range:U.Range,RelativePattern:U.RelativePattern,Selection:U.Selection,SelectionRange:U.SelectionRange,SemanticTokens:U.SemanticTokens,SemanticTokensBuilder:U.SemanticTokensBuilder,SemanticTokensEdit:U.SemanticTokensEdit,SemanticTokensEdits:U.SemanticTokensEdits,SemanticTokensLegend:U.SemanticTokensLegend,ShellExecution:U.ShellExecution,ShellQuoting:U.ShellQuoting,SignatureHelp:U.SignatureHelp,SignatureHelpTriggerKind:U.SignatureHelpTriggerKind,SignatureInformation:U.SignatureInformation,SnippetString:U.SnippetString,SourceBreakpoint:U.SourceBreakpoint,StandardTokenType:U.StandardTokenType,StatusBarAlignment:U.StatusBarAlignment,SymbolInformation:U.SymbolInformation,SymbolKind:U.SymbolKind,SymbolTag:U.SymbolTag,Task:U.Task,TaskGroup:U.TaskGroup,TaskPanelKind:U.TaskPanelKind,TaskRevealKind:U.TaskRevealKind,TaskScope:U.TaskScope,TextDocumentSaveReason:U.TextDocumentSaveReason,TextEdit:U.TextEdit,TextEditorCursorStyle:n.TextEditorCursorStyle,TextEditorLineNumbersStyle:U.TextEditorLineNumbersStyle,TextEditorRevealType:U.TextEditorRevealType,TextEditorSelectionChangeKind:U.TextEditorSelectionChangeKind,ThemeColor:U.ThemeColor,ThemeIcon:U.ThemeIcon,TreeItem:U.TreeItem,TreeItemCollapsibleState:U.TreeItemCollapsibleState,UIKind:u.UIKind,Uri:C.URI,ViewColumn:U.ViewColumn,WorkspaceEdit:U.WorkspaceEdit,get RemoteAuthorityResolverError(){return U.RemoteAuthorityResolverError},get ResolvedAuthority(){return U.ResolvedAuthority},get SourceControlInputBoxValidationType(){return U.SourceControlInputBoxValidationType},get ExtensionRuntime(){return U.ExtensionRuntime},get TimelineItem(){return U.TimelineItem},get CellKind(){return U.CellKind},get CellOutputKind(){return U.CellOutputKind},get NotebookCellRunState(){return U.NotebookCellRunState},get NotebookRunState(){return U.NotebookRunState},get NotebookCellStatusBarAlignment(){return U.NotebookCellStatusBarAlignment},get NotebookEditorRevealType(){return U.NotebookEditorRevealType},get NotebookCellOutput(){return U.NotebookCellOutput},get NotebookCellOutputItem(){return U.NotebookCellOutputItem},get LinkedEditingRanges(){return U.LinkedEditingRanges},get TestRunState(){return U.TestRunState},get TestMessageSeverity(){return U.TestMessageSeverity},get TestState(){return U.TestState}}}}e.createApiFactoryAndRegisterActors=ie;class oe{constructor(ke,Ae,xe,qe){this._extensionService=ke,this._originExtensionId=Ae,this._identifier=xe.identifier,this.id=xe.identifier.value,this.extensionUri=xe.extensionLocation,this.extensionPath=P.normalize(fe.originalFSPath(xe.extensionLocation)),this.packageJSON=xe,this.extensionKind=qe}get isActive(){return this._extensionService.isActivated(this._identifier)}get exports(){if(this.packageJSON.api!=="none")return this._extensionService.getExtensionExports(this._identifier)}activate(){return this._extensionService.activateByIdWithErrors(this._identifier,{startup:!1,extensionId:this._originExtensionId,activationEvent:"api"}).then(()=>this.exports)}}}),define(ge[269],pe([0,1,81,65,32,123,36,52,40,35,67,46,69,91,90,51,64,124,89,62,88]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p,d,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),w.registerSingleton(f.IExtensionStoragePaths,f.ExtensionStoragePaths),w.registerSingleton(b.IExtHostApiDeprecationService,b.ExtHostApiDeprecationService),w.registerSingleton(D.IExtHostCommands,D.ExtHostCommands),w.registerSingleton(P.IExtHostConfiguration,P.ExtHostConfiguration),w.registerSingleton(d.IExtHostConsumerFileSystem,d.ExtHostConsumerFileSystem),w.registerSingleton(S.IExtHostDebugService,S.WorkerExtHostDebugService),w.registerSingleton(T.IExtHostDecorations,T.ExtHostDecorations),w.registerSingleton(C.IExtHostDocumentsAndEditors,C.ExtHostDocumentsAndEditors),w.registerSingleton(s.IExtHostFileSystemInfo,s.ExtHostFileSystemInfo),w.registerSingleton(k.IExtHostOutputService,k.ExtHostOutputService),w.registerSingleton(v.IExtHostSearch,v.ExtHostSearch),w.registerSingleton(u.IExtHostStorage,u.ExtHostStorage),w.registerSingleton(I.IExtHostTask,I.WorkerExtHostTask),w.registerSingleton(n.IExtHostTerminalService,n.WorkerExtHostTerminalService),w.registerSingleton(g.IExtHostTunnelService,g.ExtHostTunnelService),w.registerSingleton(p.IExtHostWindow,p.ExtHostWindow),w.registerSingleton(A.IExtHostWorkspace,A.ExtHostWorkspace),w.registerSingleton(l.IExtHostSecretState,l.ExtHostSecretState)}),define(ge[92],pe([0,1,12,11,31,125]),function(Z,e,w,k,A,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputChannel=e.createTextSearchResult=e.anchorGlob=void 0;function P(S){return S.startsWith("**")||S.startsWith("/")?S:`/${S}`}e.anchorGlob=P;function D(S,v,f,u){const g=w.mapArrayOrNot(f,C),b=new A.TextSearchMatch(v,g,u),p=b.preview.matches;return{ranges:w.mapArrayOrNot(g,n),uri:S,preview:{text:b.preview.text,matches:w.mapArrayOrNot(p,n)}}}e.createTextSearchResult=D;function C(S){return new A.SearchRange(S.start.line,S.start.character,S.end.line,S.end.character)}function n(S){return new T.Range(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn)}let I=class{constructor(v){this.logService=v}appendLine(v){this.logService.debug("RipgrepSearchEH#search",v)}};I=He([Fe(0,k.ILogService)],I),e.OutputChannel=I}),define(ge[270],pe([0,1,94,27]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SUPPORTED_ENCODINGS=e.detectEncodingFromBuffer=e.toCanonicalName=e.detectEncodingByBOMFromBuffer=e.toNodeEncoding=e.encodingExists=e.toEncodeReadable=e.toDecodeStream=e.UTF8_BOM=e.UTF16le_BOM=e.UTF16be_BOM=e.isUTFEncoding=e.UTF16le=e.UTF16be=e.UTF8_with_bom=e.UTF8=void 0,e.UTF8="utf8",e.UTF8_with_bom="utf8bom",e.UTF16be="utf16be",e.UTF16le="utf16le";function A(t){return[e.UTF8,e.UTF8_with_bom,e.UTF16be,e.UTF16le].some(r=>r===t)}e.isUTFEncoding=A,e.UTF16be_BOM=[254,255],e.UTF16le_BOM=[255,254],e.UTF8_BOM=[239,187,191];const T=512,P=512,D=512*8,C=512*128;class n{constructor(r){this.iconvLiteDecoder=r}static async create(r){let o;if(r!==e.UTF8)o=(await new Promise((i,h)=>{Z(["iconv-lite-umd"],i,h)})).getDecoder(f(r));else{const a=new TextDecoder;o={write(i){return a.decode(i,{stream:!0})},end(){return a.decode()}}}return new n(o)}write(r){return this.iconvLiteDecoder.write(r)}end(){return this.iconvLiteDecoder.end()}}function I(t,r){var o;const a=((o=r.minBytesRequiredForDetection)!==null&&o!==void 0?o:r.guessEncoding)?D:P;return new Promise((i,h)=>{const y=w.newWriteableStream(R=>R.join("")),m=[];let E=0,_;const L=async()=>{try{const R=await c({buffer:k.VSBuffer.concat(m),bytesRead:E},r.guessEncoding);R.encoding=await r.overwriteEncoding(R.encoding),_=await n.create(R.encoding);const N=_.write(k.VSBuffer.concat(m).buffer);y.write(N),m.length=0,E=0,i({stream:y,detected:R})}catch(R){h(R)}};t.on("error",R=>y.error(R)),t.on("data",async R=>{_?y.write(_.write(R.buffer)):(m.push(R),E+=R.byteLength,E>=a&&(t.pause(),await L(),setTimeout(()=>t.resume())))}),t.on("end",async()=>{_||await L(),y.end(_==null?void 0:_.end())})})}e.toDecodeStream=I;async function S(t,r,o){const i=(await new Promise((m,E)=>{Z(["iconv-lite-umd"],m,E)})).getEncoder(f(r),o);let h=!1,y=!1;return{read(){if(y)return null;const m=t.read();if(typeof m!="string"){if(y=!0,!h&&(o==null?void 0:o.addBOM))switch(r){case e.UTF8:case e.UTF8_with_bom:return k.VSBuffer.wrap(Uint8Array.from(e.UTF8_BOM));case e.UTF16be:return k.VSBuffer.wrap(Uint8Array.from(e.UTF16be_BOM));case e.UTF16le:return k.VSBuffer.wrap(Uint8Array.from(e.UTF16le_BOM))}const E=i.end();return E&&E.length>0?(h=!0,k.VSBuffer.wrap(E)):null}return h=!0,k.VSBuffer.wrap(i.write(m))}}}e.toEncodeReadable=S;async function v(t){return(await new Promise((o,a)=>{Z(["iconv-lite-umd"],o,a)})).encodingExists(f(t))}e.encodingExists=v;function f(t){return t===e.UTF8_with_bom||t===null?e.UTF8:t}e.toNodeEncoding=f;function u(t,r){if(!t||r<e.UTF16be_BOM.length)return null;const o=t.readUInt8(0),a=t.readUInt8(1);if(o===e.UTF16be_BOM[0]&&a===e.UTF16be_BOM[1])return e.UTF16be;if(o===e.UTF16le_BOM[0]&&a===e.UTF16le_BOM[1])return e.UTF16le;if(r<e.UTF8_BOM.length)return null;const i=t.readUInt8(2);return o===e.UTF8_BOM[0]&&a===e.UTF8_BOM[1]&&i===e.UTF8_BOM[2]?e.UTF8_with_bom:null}e.detectEncodingByBOMFromBuffer=u;const g=["ascii","utf-16","utf-32"];async function b(t){const r=await new Promise((y,m)=>{Z(["jschardet"],y,m)}),o=t.slice(0,C),a=s(o.buffer),i=r.detect(a);if(!i||!i.encoding)return null;const h=i.encoding.toLowerCase();return 0<=g.indexOf(h)?null:d(i.encoding)}const p={ibm866:"cp866",big5:"cp950"};function d(t){const r=t.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return p[r]||r}function s(t){let r="";for(let o=0;o<t.length;o++)r+=String.fromCharCode(t[o]);return r}function l(t){switch(t){case"shiftjis":return"shift-jis";case"utf16le":return"utf-16le";case"utf16be":return"utf-16be";case"big5hkscs":return"big5-hkscs";case"eucjp":return"euc-jp";case"euckr":return"euc-kr";case"koi8r":return"koi8-r";case"koi8u":return"koi8-u";case"macroman":return"x-mac-roman";case"utf8bom":return"utf8";default:const r=t.match(/windows(\d+)/);return r?"windows-"+r[1]:t}}e.toCanonicalName=l;function c({buffer:t,bytesRead:r},o){let a=u(t,r),i=!1;if(a!==e.UTF16be&&a!==e.UTF16le&&t){let h=!0,y=!0,m=!1;for(let E=0;E<r&&E<T;E++){const _=E%2==1,L=t.readUInt8(E)===0;if(L&&(m=!0),h&&(_&&!L||!_&&L)&&(h=!1),y&&(_&&L||!_&&!L)&&(y=!1),L&&!h&&!y)break}m&&(h?a=e.UTF16le:y?a=e.UTF16be:i=!0)}return o&&!i&&!a&&t?b(t.slice(0,r)).then(h=>({seemsBinary:!1,encoding:h})):{seemsBinary:i,encoding:a}}e.detectEncodingFromBuffer=c,e.SUPPORTED_ENCODINGS={utf8:{labelLong:"UTF-8",labelShort:"UTF-8",order:1,alias:"utf8bom"},utf8bom:{labelLong:"UTF-8 with BOM",labelShort:"UTF-8 with BOM",encodeOnly:!0,order:2,alias:"utf8"},utf16le:{labelLong:"UTF-16 LE",labelShort:"UTF-16 LE",order:3},utf16be:{labelLong:"UTF-16 BE",labelShort:"UTF-16 BE",order:4},windows1252:{labelLong:"Western (Windows 1252)",labelShort:"Windows 1252",order:5},iso88591:{labelLong:"Western (ISO 8859-1)",labelShort:"ISO 8859-1",order:6},iso88593:{labelLong:"Western (ISO 8859-3)",labelShort:"ISO 8859-3",order:7},iso885915:{labelLong:"Western (ISO 8859-15)",labelShort:"ISO 8859-15",order:8},macroman:{labelLong:"Western (Mac Roman)",labelShort:"Mac Roman",order:9},cp437:{labelLong:"DOS (CP 437)",labelShort:"CP437",order:10},windows1256:{labelLong:"Arabic (Windows 1256)",labelShort:"Windows 1256",order:11},iso88596:{labelLong:"Arabic (ISO 8859-6)",labelShort:"ISO 8859-6",order:12},windows1257:{labelLong:"Baltic (Windows 1257)",labelShort:"Windows 1257",order:13},iso88594:{labelLong:"Baltic (ISO 8859-4)",labelShort:"ISO 8859-4",order:14},iso885914:{labelLong:"Celtic (ISO 8859-14)",labelShort:"ISO 8859-14",order:15},windows1250:{labelLong:"Central European (Windows 1250)",labelShort:"Windows 1250",order:16},iso88592:{labelLong:"Central European (ISO 8859-2)",labelShort:"ISO 8859-2",order:17},cp852:{labelLong:"Central European (CP 852)",labelShort:"CP 852",order:18},windows1251:{labelLong:"Cyrillic (Windows 1251)",labelShort:"Windows 1251",order:19},cp866:{labelLong:"Cyrillic (CP 866)",labelShort:"CP 866",order:20},iso88595:{labelLong:"Cyrillic (ISO 8859-5)",labelShort:"ISO 8859-5",order:21},koi8r:{labelLong:"Cyrillic (KOI8-R)",labelShort:"KOI8-R",order:22},koi8u:{labelLong:"Cyrillic (KOI8-U)",labelShort:"KOI8-U",order:23},iso885913:{labelLong:"Estonian (ISO 8859-13)",labelShort:"ISO 8859-13",order:24},windows1253:{labelLong:"Greek (Windows 1253)",labelShort:"Windows 1253",order:25},iso88597:{labelLong:"Greek (ISO 8859-7)",labelShort:"ISO 8859-7",order:26},windows1255:{labelLong:"Hebrew (Windows 1255)",labelShort:"Windows 1255",order:27},iso88598:{labelLong:"Hebrew (ISO 8859-8)",labelShort:"ISO 8859-8",order:28},iso885910:{labelLong:"Nordic (ISO 8859-10)",labelShort:"ISO 8859-10",order:29},iso885916:{labelLong:"Romanian (ISO 8859-16)",labelShort:"ISO 8859-16",order:30},windows1254:{labelLong:"Turkish (Windows 1254)",labelShort:"Windows 1254",order:31},iso88599:{labelLong:"Turkish (ISO 8859-9)",labelShort:"ISO 8859-9",order:32},windows1258:{labelLong:"Vietnamese (Windows 1258)",labelShort:"Windows 1258",order:33},gbk:{labelLong:"Simplified Chinese (GBK)",labelShort:"GBK",order:34},gb18030:{labelLong:"Simplified Chinese (GB18030)",labelShort:"GB18030",order:35},cp950:{labelLong:"Traditional Chinese (Big5)",labelShort:"Big5",order:36},big5hkscs:{labelLong:"Traditional Chinese (Big5-HKSCS)",labelShort:"Big5-HKSCS",order:37},shiftjis:{labelLong:"Japanese (Shift JIS)",labelShort:"Shift JIS",order:38},eucjp:{labelLong:"Japanese (EUC-JP)",labelShort:"EUC-JP",order:39},euckr:{labelLong:"Korean (EUC-KR)",labelShort:"EUC-KR",order:40},windows874:{labelLong:"Thai (Windows 874)",labelShort:"Windows 874",order:41},iso885911:{labelLong:"Latin/Thai (ISO 8859-11)",labelShort:"ISO 8859-11",order:42},koi8ru:{labelLong:"Cyrillic (KOI8-RU)",labelShort:"KOI8-RU",order:43},koi8t:{labelLong:"Tajik (KOI8-T)",labelShort:"KOI8-T",order:44},gb2312:{labelLong:"Simplified Chinese (GB 2312)",labelShort:"GB 2312",order:45},cp865:{labelLong:"Nordic DOS (CP 865)",labelShort:"CP 865",order:46},cp850:{labelLong:"Western European DOS (CP 850)",labelShort:"CP 850",order:47}}}),define(ge[127],pe([0,1,270,24,126]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeTextSearchManager=void 0;class T extends A.TextSearchManager{constructor(D,C,n=k){super(D,C,{readdir:I=>n.readdir(I.fsPath),toCanonicalName:I=>w.toCanonicalName(I)})}}e.NativeTextSearchManager=T}),define(ge[271],pe([0,1,272,285,286,287,39,38,34,288,49,2,59]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connectProxyResolver=void 0;function f(N,W,x,M,$,O){const z=g(N,W,M,$,O),J=l(W,z);return o(x,J)}e.connectProxyResolver=f;const u=5e3;function g(N,W,x,M,$){const O=process.env;let z=d(W.getConfiguration("http").get("proxy"));W.onDidChangeConfiguration(Oe=>{z=d(W.getConfiguration("http").get("proxy"))});let J=d(O.https_proxy||O.HTTPS_PROXY||O.http_proxy||O.HTTP_PROXY),U=s(O.no_proxy||O.NO_PROXY),V=0,B=new Map,Y=new Map;function ae(Oe){return T.format(Object.assign(Object.assign({},Oe),{pathname:void 0,search:void 0,hash:void 0}))}function ce(Oe){let Se=Y.get(Oe);return Se||(Se=B.get(Oe),Se&&(B.delete(Oe),fe(Oe,Se)),Se)}function fe(Oe,Se){Y.set(Oe,Se),Y.size>=u&&(B=Y,Y=new Map,V++,x.trace("ProxyResolver#cacheProxy cacheRolls",V))}let _e,be=0,H=0,X=0,re=0,Q=0,le=0,ve=0,De=0,Me=[];function Ee(){_e=void 0,M.$publicLog2("resolveProxy",{count:be,duration:H,errorCount:X,cacheCount:re,cacheSize:Y.size,cacheRolls:V,envCount:Q,settingsCount:le,localhostCount:ve,envNoProxyCount:De,results:Me}),be=H=X=re=Q=le=ve=De=0,Me=[]}function Pe(Oe,Se,ze,K,se){_e||(_e=setTimeout(Ee,10*60*1e3));const we=$.environment.useHostProxy,Re=typeof we=="boolean"?we:!$.remote.isRemote;a(x,Oe.useSystemCertificates,ze,()=>{Ce(Re,Oe.useProxySettings,Se,ze,K,se)})}function Ce(Oe,Se,ze,K,se,we){if(!Se){we("DIRECT");return}const Re=T.parse(se),Ue=Re.hostname;if(Ue==="localhost"||Ue==="127.0.0.1"||Ue==="::1"||Ue==="::ffff:127.0.0.1"){ve++,we("DIRECT"),x.trace("ProxyResolver#resolveProxy localhost",se,"DIRECT");return}if(typeof Ue=="string"&&U(Ue,String(Re.port||K.agent.defaultPort))){De++,we("DIRECT"),x.trace("ProxyResolver#resolveProxy envNoProxy",se,"DIRECT");return}if(z){le++,we(z),x.trace("ProxyResolver#resolveProxy settings",se,z);return}if(J){Q++,we(J),x.trace("ProxyResolver#resolveProxy env",se,J);return}const Be=ae(Re),je=ce(Be);if(je){re++,b(Me,je,Re.protocol==="https:"?"HTTPS":"HTTP",ze),we(je),x.trace("ProxyResolver#resolveProxy cached",se,je);return}if(!Oe){we("DIRECT"),x.trace("ProxyResolver#resolveProxy unconfigured",se,"DIRECT");return}const ue=Date.now();N.resolveProxy(se).then(ye=>{ye&&(fe(Be,ye),b(Me,ye,Re.protocol==="https:"?"HTTPS":"HTTP",ze)),we(ye),x.debug("ProxyResolver#resolveProxy",se,ye)}).then(()=>{be++,H=Date.now()-ue+H},ye=>{X++,we(),x.error("ProxyResolver#resolveProxy",I.toErrorMessage(ye))})}return Pe}function b(N,W,x,M){const $=W?String(W).trim().split(/\s+/,1)[0]:"EMPTY";M.on("response",O=>{const z=`HTTP_${O.statusCode}`,J=p(N,$,x,z);J.count++}),M.on("error",O=>{const z=O&&typeof O.code=="string"&&O.code||"UNKNOWN_ERROR",J=p(N,$,x,z);J.count++})}function p(N,W,x,M){for(const O of N)if(O.proxy===W&&O.connection===x&&O.code===M)return O;const $={proxy:W,connection:x,code:M,count:0};return N.push($),$}function d(N){const W=(N||"").trim(),x=W.indexOf("://");if(x!==-1){const M=W.substr(0,x).toLowerCase(),$=W.substr(x+3);if(M==="http")return"PROXY "+$;if(M==="https")return"HTTPS "+$;if(M==="socks")return"SOCKS "+$}}function s(N){const W=(N||"").trim().toLowerCase();if(W==="*")return()=>!0;const x=W.split(",").map(M=>M.trim().split(":",2)).map(([M,$])=>({name:M,port:$})).filter(M=>!!M.name).map(({name:M,port:$})=>({domain:M[0]==="."?M:`.${M}`,port:$}));return x.length?(M,$)=>x.some(({domain:O,port:z})=>`.${M.toLowerCase()}`.endsWith(O)&&(!z||$===z)):()=>!1}function l(N,W){const x={config:N.getConfiguration("http").get("proxySupport")||"off"};N.onDidChangeConfiguration($=>{x.config=N.getConfiguration("http").get("proxySupport")||"off"});const M={config:!!N.getConfiguration("http").get("systemCertificates")};return N.onDidChangeConfiguration($=>{M.config=!!N.getConfiguration("http").get("systemCertificates")}),{http:{off:Object.assign({},w,c(w,W,{config:"off"},M,!0)),on:Object.assign({},w,c(w,W,{config:"on"},M,!0)),override:Object.assign({},w,c(w,W,{config:"override"},M,!0)),onRequest:Object.assign({},w,c(w,W,x,M,!0)),default:Object.assign(w,c(w,W,x,M,!1))},https:{off:Object.assign({},k,c(k,W,{config:"off"},M,!0)),on:Object.assign({},k,c(k,W,{config:"on"},M,!0)),override:Object.assign({},k,c(k,W,{config:"override"},M,!0)),onRequest:Object.assign({},k,c(k,W,x,M,!0)),default:Object.assign(k,c(k,W,x,M,!1))},tls:Object.assign(A,t(A))}}function c(N,W,x,M,$){return{get:O(N.get),request:O(N.request)};function O(z){function J(U,V,B){if(typeof U!="string"&&!(U&&U.searchParams)&&(B=V,V=U,U=null),typeof V=="function"&&(B=V,V=null),V=V||{},V.socketPath)return z.apply(null,arguments);const Y=V.agent;if(Y===!0)throw new Error("Unexpected agent option: true");const ae=Y instanceof n.ProxyAgent,ce=$&&(V._vscodeProxySupport||V._vscodeSystemProxy)||x.config,fe=!ae&&(ce==="override"||ce==="on"&&Y===void 0),_e=!ae&&M.config&&N===k&&!V.ca;if(fe||_e){if(U){const be=typeof U=="string"?new T.URL(U):U,H={protocol:be.protocol,hostname:be.hostname.lastIndexOf("[",0)===0?be.hostname.slice(1,-1):be.hostname,port:be.port,path:`${be.pathname}${be.search}`};(be.username||be.password)&&(V.auth=`${be.username}:${be.password}`),V=Object.assign(Object.assign({},H),V)}else V=Object.assign({},V);return V.agent=new n.ProxyAgent({resolveProxy:W.bind(void 0,{useProxySettings:fe,useSystemCertificates:_e}),defaultPort:N===k?443:80,originalAgent:Y}),z(V,B)}return z.apply(null,arguments)}return J}}function t(N){return{createSecureContext:W(N.createSecureContext)};function W(x){return function(M){const $=x.apply(null,arguments),O=M._vscodeAdditionalCaCerts;if(O)for(const z of O)$.context.addCACert(z);return $}}}const r=new Map;function o(N,W){return N.getExtensionPathIndex().then(x=>{const M=Z.__$__nodeRequire("module"),$=M._load;M._load=function(z,J,U){if(z==="tls")return W.tls;if(z!=="http"&&z!=="https")return $.apply(this,arguments);const V=W[z],B=x.findSubstr(S.URI.file(J.filename).fsPath);let Y=r.get(B);if(Y||r.set(B,Y={}),!Y[z]){let ae=V.default;B&&B.enableProposedApi&&(ae=V[B.proxySupport]||V.onRequest),Y[z]=Object.assign({},ae)}return Y[z]}})}function a(N,W,x,M){W?h(N).then($=>{$&&($.append?x._vscodeAdditionalCaCerts=$.certs:x.ca=$.certs),M()}).catch($=>{N.error("ProxyResolver#useSystemCertificates",I.toErrorMessage($))}):M()}let i;async function h(N){return i||(i=y().then(W=>(N.debug("ProxyResolver#getCaCertificates count",W&&W.certs.length),W&&W.certs.length?W:void 0)).catch(W=>{N.error("ProxyResolver#getCaCertificates error",I.toErrorMessage(W))})),i}async function y(){if(process.platform==="win32")return m();if(process.platform==="darwin")return E();if(process.platform==="linux")return L()}async function m(){const N=await new Promise(($,O)=>{Z(["vscode-windows-ca-certs"],$,O)});let W=[];const x=new N.Crypt32;try{let $;for(;$=x.next();)W.push($)}finally{x.done()}const M=new Set(W.map(R));return{certs:Array.from(M),append:!0}}async function E(){const N=await new Promise((x,M)=>{const $=C.spawn("/usr/bin/security",["find-certificate","-a","-p"]),O=[];$.stdout.setEncoding("utf8"),$.stdout.on("data",z=>O.push(z)),$.on("error",M),$.on("exit",z=>z?M(z):x(O.join("")))}),W=new Set(N.split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(x=>!!x.length));return{certs:Array.from(W),append:!0}}const _=["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"];async function L(){for(const N of _)try{const W=await v.promisify(D.readFile)(N,{encoding:"utf8"}),x=new Set(W.split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(M=>!!M.length));return{certs:Array.from(x),append:!1}}catch(W){if(W.code!=="ENOENT")throw W}}function R(N){const W=["-----BEGIN CERTIFICATE-----"],x=N.toString("base64");for(let M=0;M<x.length;M+=64)W.push(x.substr(M,64));return W.push("-----END CERTIFICATE-----",""),W.join(P.EOL)}}),define(ge[273],pe([0,1,34,7,77,30,9,10,92,274]),function(Z,e,w,k,A,T,P,D,C,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixDriveC=e.getAbsoluteGlob=e.foldersToIncludeGlobs=e.foldersToRgExcludeGlobs=e.spawnRipgrepCmd=void 0;const I=n.rgPath.replace(/\bnode_modules\.asar\b/,"node_modules.asar.unpacked");function S(s,l,c,t){const r=v(s,l,c,t),o=l.folder.fsPath;return{cmd:w.spawn(I,r.args,{cwd:o}),rgDiskPath:I,siblingClauses:r.siblingClauses,rgArgs:r,cwd:o}}e.spawnRipgrepCmd=S;function v(s,l,c,t){const r=["--files","--hidden","--case-sensitive"];u([l],c,!1).forEach(a=>{const i=C.anchorGlob(a);if(r.push("-g",i),P.isMacintosh){const h=A.normalizeNFD(i);h!==i&&r.push("-g",h)}});const o=f([l],t,void 0,!1);return o.globArgs.forEach(a=>{const i=`!${C.anchorGlob(a)}`;if(r.push("-g",i),P.isMacintosh){const h=A.normalizeNFD(i);h!==i&&r.push("-g",h)}}),l.disregardIgnoreFiles!==!1?r.push("--no-ignore"):r.push("--no-ignore-parent"),l.ignoreSymlinks||r.push("--follow"),s.exists&&r.push("--quiet"),r.push("--no-config"),l.disregardGlobalIgnoreFiles&&r.push("--no-ignore-global"),{args:r,siblingClauses:o.siblingClauses}}function f(s,l,c,t=!0){const r=[];let o={};return s.forEach(a=>{const i=Object.assign({},a.excludePattern||{},l||{}),h=g(i,t?a.folder.fsPath:void 0,c);r.push(...h.globArgs),h.siblingClauses&&(o=Object.assign(o,h.siblingClauses))}),{globArgs:r,siblingClauses:o}}e.foldersToRgExcludeGlobs=f;function u(s,l,c=!0){const t=[];return s.forEach(r=>{const o=Object.assign({},l||{},r.includePattern||{}),a=g(o,c?r.folder.fsPath:void 0);t.push(...a.globArgs)}),t}e.foldersToIncludeGlobs=u;function g(s,l,c){const t=[],r={};return Object.keys(s).forEach(o=>{if(!(c&&c.has(o))&&!!o){const a=s[o];o=p(l?b(l,o):o),o.startsWith("\\\\")?o="\\\\"+o.substr(2).replace(/\\/g,"/"):o=o.replace(/\\/g,"/"),typeof a=="boolean"&&a?(o.startsWith("\\\\")&&(o+="**"),t.push(d(o))):a&&a.when&&(r[o]=a)}}),{globArgs:t,siblingClauses:r}}function b(s,l){return k.isAbsolute(l)?l:k.join(s,l)}e.getAbsoluteGlob=b;function p(s){return s=D.rtrim(s,"\\"),D.rtrim(s,"/")}function d(s){return T.getRoot(s).toLowerCase()==="c:/"?s.replace(/^c:[/\\]/i,"/"):s}e.fixDriveC=d}),define(ge[275],pe([0,1,34,38,7,100,12,49,33,77,30,9,47,10,16,24,31,273,97]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rgErrorMsgForDisplay=e.Engine=e.FileWalker=void 0;const s=new Set;process.on("exit",()=>{s.forEach(o=>o())});class l{constructor(a){this.normalizedFilePatternLowercase=null,this.maxFilesize=null,this.isCanceled=!1,this.fileWalkSW=null,this.cmdSW=null,this.cmdResultCount=0,this.config=a,this.filePattern=a.filePattern||"",this.includePattern=a.includePattern&&C.parse(a.includePattern),this.maxResults=a.maxResults||null,this.exists=!!a.exists,this.walkedPaths=Object.create(null),this.resultCount=0,this.isLimitHit=!1,this.directoriesWalked=0,this.filesWalked=0,this.errors=[],this.filePattern&&(this.normalizedFilePatternLowercase=d.prepareQuery(this.filePattern).normalizedLowercase),this.globalExcludePattern=a.excludePattern&&C.parse(a.excludePattern),this.folderExcludePatterns=new Map,a.folderQueries.forEach(i=>{const h=Object.assign({},i.excludePattern||{},this.config.excludePattern||{}),y=i.folder.fsPath;a.folderQueries.map(m=>m.folder.fsPath).filter(m=>m!==y).forEach(m=>{I.isEqualOrParent(m,y)&&(h[A.relative(y,m)]=!0)}),this.folderExcludePatterns.set(y,new t(h,y))})}cancel(){this.isCanceled=!0}walk(a,i,h,y,m){if(this.fileWalkSW=v.StopWatch.create(!1),this.isCanceled)return m(null,this.isLimitHit);i.forEach(E=>{const _=A.basename(E.fsPath);this.globalExcludePattern&&this.globalExcludePattern(E.fsPath,_)||this.matchFile(h,{relativePath:E.fsPath,searchPath:void 0})}),this.cmdSW=v.StopWatch.create(!1),this.parallel(a,(E,_)=>{this.call(this.cmdTraversal,this,E,h,y,L=>{if(L){const R=D.toErrorMessage(L);console.error(R),this.errors.push(R),_(L,void 0)}else _(null,void 0)})},(E,_)=>{this.fileWalkSW.stop();const L=E?P.coalesce(E)[0]:null;m(L,this.isLimitHit)})}parallel(a,i,h){const y=new Array(a.length),m=new Array(a.length);let E=!1,_=0;if(a.length===0)return h(null,[]);a.forEach((L,R)=>{i(L,(N,W)=>{if(N?(E=!0,y[R]=null,m[R]=N):(y[R]=W,m[R]=null),++_===a.length)return h(E?m:null,y)})})}call(a,i,...h){try{a.apply(i,h)}catch(y){h[h.length-1](y)}}cmdTraversal(a,i,h,y){const m=a.folder.fsPath,E=S.isMacintosh;let _;const L=()=>_&&_.kill();s.add(L);let R=z=>{s.delete(L),R=()=>{},y(z)},N="";const W=this.initDirectoryTree();let x;const M=p.spawnRipgrepCmd(this.config,a,this.config.includePattern,this.folderExcludePatterns.get(a.folder.fsPath).expression);_=M.cmd,x=!Object.keys(M.siblingClauses).length;const $=M.rgArgs.args.map(z=>z.match(/^-/)?z:`'${z}'`).join(" ");let O=`${M.rgDiskPath} ${$}
 - cwd: ${M.cwd}`;M.rgArgs.siblingClauses&&(O+=`
 - Sibling clauses: ${JSON.stringify(M.rgArgs.siblingClauses)}`),h({message:O}),this.cmdResultCount=0,this.collectStdout(_,"utf8",h,(z,J,U)=>{if(z){R(z);return}if(this.isLimitHit){R();return}const B=(N+(E?n.normalizeNFC(J||""):J)).split(`
`);if(U){const Y=B.length;B[Y-1]=B[Y-1].trim(),B[Y-1]||B.pop()}else N=B.pop()||"";if(B.length&&B[0].indexOf(`
`)!==-1){R(new Error("Splitting up files failed"));return}if(this.cmdResultCount+=B.length,x){for(const Y of B)if(this.matchFile(i,{base:m,relativePath:Y,searchPath:this.getSearchPath(a,Y)}),this.isLimitHit){L();break}(U||this.isLimitHit)&&R();return}this.addDirectoryEntries(a,W,m,B,i),U&&(this.matchDirectoryTree(W,m,i),R())})}spawnFindCmd(a){const i=this.folderExcludePatterns.get(a.folder.fsPath),h=i.getBasenameTerms(),y=i.getPathTerms(),m=["-L","."];if(h.length||y.length){m.push("-not","(","(");for(const E of h)m.push("-name",E),m.push("-o");for(const E of y)m.push("-path",E),m.push("-o");m.pop(),m.push(")","-prune",")")}return m.push("-type","f"),w.spawn("find",m,{cwd:a.folder.fsPath})}readStdout(a,i,h){let y="";this.collectStdout(a,i,()=>{},(m,E,_)=>{if(m){h(m);return}y+=E,_&&h(null,y)})}collectStdout(a,i,h,y){let m=(L,R,N)=>{(L||N)&&(m=()=>{},this.cmdSW&&this.cmdSW.stop()),y(L,R,N)},E=!1;a.stdout?(this.forwardData(a.stdout,i,m),a.stdout.once("data",()=>E=!0)):h({message:"stdout is null"});let _;a.stderr?_=this.collectData(a.stderr):h({message:"stderr is null"}),a.on("error",L=>{m(L)}),a.on("close",L=>{let R;!E&&(R=this.decodeData(_,i))&&r(R)?m(new Error(`command failed with error code ${L}: ${this.decodeData(_,i)}`)):(this.exists&&L===0&&(this.isLimitHit=!0),m(null,"",!0))})}forwardData(a,i,h){const y=new T.StringDecoder(i);return a.on("data",m=>{h(null,y.write(m))}),y}collectData(a){const i=[];return a.on("data",h=>{i.push(h)}),i}decodeData(a,i){const h=new T.StringDecoder(i);return a.map(y=>h.write(y)).join("")}initDirectoryTree(){const a={rootEntries:[],pathToEntries:Object.create(null)};return a.pathToEntries["."]=a.rootEntries,a}addDirectoryEntries(a,{pathToEntries:i},h,y,m){y.indexOf(this.filePattern)!==-1&&this.matchFile(m,{base:h,relativePath:this.filePattern,searchPath:this.getSearchPath(a,this.filePattern)});const E=_=>{const L=A.basename(_),R=A.dirname(_);let N=i[R];N||(N=i[R]=[],E(R)),N.push({base:h,relativePath:_,basename:L,searchPath:this.getSearchPath(a,_)})};y.forEach(E)}matchDirectoryTree({rootEntries:a,pathToEntries:i},h,y){const m=this,E=this.folderExcludePatterns.get(h),_=this.filePattern;function L(R){m.directoriesWalked++;const N=C.hasSiblingFn(()=>R.map(W=>W.basename));for(let W=0,x=R.length;W<x;W++){const M=R[W],{relativePath:$,basename:O}=M;if(!E.test($,O,_!==O?N:void 0)){const z=i[$];if(z)L(z);else{if(m.filesWalked++,$===_)continue;m.matchFile(y,M)}if(m.isLimitHit)break}}}L(a)}getStats(){return{cmdTime:this.cmdSW.elapsed(),fileWalkTime:this.fileWalkSW.elapsed(),directoriesWalked:this.directoriesWalked,filesWalked:this.filesWalked,cmdResultCount:this.cmdResultCount}}doWalk(a,i,h,y,m){const E=a.folder,_=C.hasSiblingFn(()=>h);this.parallel(h,(L,R)=>{if(this.isCanceled||this.isLimitHit)return R(null);const N=i?[i,L].join(A.sep):L;if(this.folderExcludePatterns.get(a.folder.fsPath).test(N,L,this.config.filePattern!==L?_:void 0))return R(null);const W=[E.fsPath,N].join(A.sep);k.lstat(W,(x,M)=>{if(x||this.isCanceled||this.isLimitHit)return R(null);this.statLinkIfNeeded(W,M,($,O)=>$||this.isCanceled||this.isLimitHit?R(null):O.isDirectory()?(this.directoriesWalked++,this.realPathIfNeeded(W,M,(z,J)=>z||this.isCanceled||this.isLimitHit||(J=J||"",this.walkedPaths[J])?R(null):(this.walkedPaths[J]=!0,g.readdir(W).then(U=>{if(this.isCanceled||this.isLimitHit)return R(null);this.doWalk(a,N,U,y,V=>R(V||null))},U=>{R(null)})))):(this.filesWalked++,N===this.filePattern||this.maxFilesize&&u.isNumber(O.size)&&O.size>this.maxFilesize||this.matchFile(y,{base:E.fsPath,relativePath:N,searchPath:this.getSearchPath(a,N)}),R(null,void 0)))})},L=>{const R=L&&P.coalesce(L);return m(R&&R.length>0?R[0]:void 0)})}matchFile(a,i){this.isFileMatch(i)&&(!this.includePattern||this.includePattern(i.relativePath,A.basename(i.relativePath)))&&(this.resultCount++,(this.exists||this.maxResults&&this.resultCount>this.maxResults)&&(this.isLimitHit=!0),this.isLimitHit||a(i))}isFileMatch(a){if(this.filePattern){if(this.filePattern==="*")return!0;if(this.normalizedFilePatternLowercase)return b.isFilePatternMatch(a,this.normalizedFilePatternLowercase)}return!0}statLinkIfNeeded(a,i,h){return i.isSymbolicLink()?k.stat(a,h):h(null,i)}realPathIfNeeded(a,i,h){return i.isSymbolicLink()?k.realpath(a,(y,m)=>y?h(y):h(null,m)):h(null,a)}getSearchPath(a,i){return a.folderName?A.join(a.folderName,i):i}}e.FileWalker=l;class c{constructor(a){this.folderQueries=a.folderQueries,this.extraFiles=a.extraFileResources||[],this.walker=new l(a)}search(a,i,h){this.walker.walk(this.folderQueries,this.extraFiles,a,i,(y,m)=>{h(y,{limitHit:m,stats:this.walker.getStats()})})}cancel(){this.walker.cancel()}}e.Engine=c;class t{constructor(a,i){this.expression=a,this.root=i,this.init(a)}init(a){let i,h;Object.keys(a).filter(y=>a[y]).forEach(y=>{A.isAbsolute(y)?(i=i||C.getEmptyExpression(),i[y]=a[y]):(h=h||C.getEmptyExpression(),h[y]=a[y])}),this.absoluteParsedExpr=i&&C.parse(i,{trimForExclusions:!0}),this.relativeParsedExpr=h&&C.parse(h,{trimForExclusions:!0})}test(a,i,h){return this.relativeParsedExpr&&this.relativeParsedExpr(a,i,h)||this.absoluteParsedExpr&&this.absoluteParsedExpr(A.join(this.root,a),i,h)}getBasenameTerms(){const a=[];return this.absoluteParsedExpr&&a.push(...C.getBasenameTerms(this.absoluteParsedExpr)),this.relativeParsedExpr&&a.push(...C.getBasenameTerms(this.relativeParsedExpr)),a}getPathTerms(){const a=[];return this.absoluteParsedExpr&&a.push(...C.getPathTerms(this.absoluteParsedExpr)),this.relativeParsedExpr&&a.push(...C.getPathTerms(this.relativeParsedExpr)),a}}function r(o){const a=o.trim().split(`
`),i=a[0].trim();if(i.startsWith("Error parsing regex"))return i;if(i.startsWith("regex parse error"))return f.uppercaseFirstLetter(a[a.length-1].trim());if(i.startsWith("error parsing glob")||i.startsWith("unsupported encoding"))return i.charAt(0).toUpperCase()+i.substr(1);if(i==="Literal '\\n' not allowed.")return"Literal '\\n' currently not supported";if(i.startsWith("Literal "))return i}e.rgErrorMsgForDisplay=r}),define(ge[128],pe([0,1,34,289,100,12,54,33,7,10,2,31,125,290,274,92]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixNewline=e.fixRegexNewline=e.unicodeEscapesToPCRE2=e.spreadGlobComponents=e.RipgrepParser=e.buildRegexParseError=e.rgErrorMsgForDisplay=e.RipgrepTextSearchEngine=void 0;const b=u.rgPath.replace(/\bnode_modules\.asar\b/,"node_modules.asar.unpacked");class p{constructor(E){this.outputChannel=E}provideTextSearchResults(E,_,L,R){return this.outputChannel.appendLine(`provideTextSearchResults ${E.pattern}, ${JSON.stringify(Object.assign(Object.assign({},_),{folder:_.folder.toString()}))}`),new Promise((N,W)=>{R.onCancellationRequested(()=>V());const x=r(E,_),M=_.folder.fsPath,$=x.map(fe=>fe.match(/^-/)?fe:`'${fe}'`).join(" ");this.outputChannel.appendLine(`${b} ${$}
 - cwd: ${M}`);let O=w.spawn(b,x,{cwd:M});O.on("error",fe=>{console.error(fe),this.outputChannel.appendLine("Error: "+(fe&&fe.message)),W(S.serializeSearchError(new S.SearchError(fe&&fe.message,S.SearchErrorCode.rgProcessError)))});let z=!1;const J=new l(_.maxResults,M,_.previewOptions);J.on("result",fe=>{z=!0,Y="",L.report(fe)});let U=!1;const V=()=>{U=!0,O&&O.kill(),J&&J.cancel()};let B=!1;J.on("hitLimit",()=>{B=!0,V()});let Y="";O.stdout.on("data",fe=>{J.handleData(fe),z||(Y+=fe)});let ae=!1;O.stdout.once("data",()=>ae=!0);let ce="";O.stderr.on("data",fe=>{const _e=fe.toString();this.outputChannel.appendLine(_e),ce+=_e}),O.on("close",()=>{if(this.outputChannel.appendLine(ae?"Got data from stdout":"No data from stdout"),this.outputChannel.appendLine(z?"Got result from parser":"No result from parser"),Y&&this.outputChannel.appendLine(`Got data without result: ${Y}`),this.outputChannel.appendLine(""),U)N({limitHit:B});else{J.flush(),O=null;let fe;ce&&!ae&&(fe=d(ce))?W(S.serializeSearchError(new S.SearchError(fe.message,fe.code))):N({limitHit:B})}})})}}e.RipgrepTextSearchEngine=p;function d(m){const E=m.split(`
`),_=E[0].trim();if(E.some(R=>R.startsWith("regex parse error")))return new S.SearchError(s(E),S.SearchErrorCode.regexParseError);const L=_.match(/grep config error: unknown encoding: (.*)/);if(L)return new S.SearchError(`Unknown encoding: ${L[1]}`,S.SearchErrorCode.unknownEncoding);if(_.startsWith("error parsing glob"))return new S.SearchError(_.charAt(0).toUpperCase()+_.substr(1),S.SearchErrorCode.globParseError);if(_.startsWith("the literal"))return new S.SearchError(_.charAt(0).toUpperCase()+_.substr(1),S.SearchErrorCode.invalidLiteral);if(_.startsWith("PCRE2: error compiling pattern"))return new S.SearchError(_,S.SearchErrorCode.regexParseError)}e.rgErrorMsgForDisplay=d;function s(m){const E=["Regex parse error"],_=m.filter(L=>L.startsWith("PCRE2:"));if(_.length>=1){const L=_[0].replace("PCRE2:","");if(L.indexOf(":")!==-1&&L.split(":").length>=2){const R=L.split(":")[1];E.push(":"+R)}}return E.join("")}e.buildRegexParseError=s;class l extends k.EventEmitter{constructor(E,_,L){super();this.maxResults=E,this.rootFolder=_,this.previewOptions=L,this.remainder="",this.isDone=!1,this.hitLimit=!1,this.numResults=0,this.stringDecoder=new A.StringDecoder}cancel(){this.isDone=!0}flush(){this.handleDecodedData(this.stringDecoder.end())}on(E,_){return super.on(E,_),this}handleData(E){if(!this.isDone){const _=typeof E=="string"?E:this.stringDecoder.write(E);this.handleDecodedData(_)}}handleDecodedData(E){let _=E.indexOf(`
`);const L=this.remainder+E;if(_>=0)_+=this.remainder.length;else{this.remainder=L;return}let R=0;for(;_>=0;)this.handleLine(L.substring(R,_).trim()),R=_+1,_=L.indexOf(`
`,R);this.remainder=L.substring(R)}handleLine(E){if(!(this.isDone||!E)){let _;try{_=JSON.parse(E)}catch(L){throw new Error(`malformed line from rg: ${E}`)}if(_.type==="match"){const L=c(_.data.path),R=I.URI.file(C.join(this.rootFolder,L)),N=this.createTextSearchMatch(_.data,R);this.onResult(N),this.hitLimit&&(this.cancel(),this.emit("hitLimit"))}else if(_.type==="context"){const L=c(_.data.path),R=I.URI.file(C.join(this.rootFolder,L));this.createTextSearchContext(_.data,R).forEach(W=>this.onResult(W))}}}createTextSearchMatch(E,_){const L=E.line_number-1;let R=!1,N=c(E.lines);L===0&&n.startsWithUTF8BOM(N)&&(R=!0,N=n.stripUTF8BOM(N));const W=Buffer.from(N);let x=0,M=0,$=L;E.submatches.length===0&&E.submatches.push(N.length?{start:0,end:1,match:{text:N[0]}}:{start:0,end:0,match:{text:""}});const O=T.coalesce(E.submatches.map((z,J)=>{if(this.hitLimit)return null;this.numResults++,this.numResults>=this.maxResults&&(this.hitLimit=!0);let U=c(z.match);L===0&&J===0&&R&&(U=n.stripUTF8BOM(U),z.start=z.start<=3?0:z.start-3,z.end=z.end<=3?0:z.end-3);const V=W.slice(x,z.start).toString().length,B=M+V,Y=t(U),ae=$,ce=Y.numLines+ae,fe=Y.numLines>0?Y.lastLineLength:Y.lastLineLength+B;return x=z.end,M=fe,$=ce,new v.Range(ae,B,ce,fe)}));return g.createTextSearchResult(_,N,O,this.previewOptions)}createTextSearchContext(E,_){const L=c(E.lines),R=E.line_number;return L.replace(/\r?\n$/,"").split(`
`).map((N,W)=>({text:N,uri:_,lineNumber:R+W}))}onResult(E){this.emit("result",E)}}e.RipgrepParser=l;function c(m){return m.bytes?Buffer.from(m.bytes,"base64").toString():m.text}function t(m){const E=/\n/g;let _=0,L=-1,R;for(;R=E.exec(m);)_++,L=R.index;const N=L>=0?m.length-L-1:m.length;return{numLines:_,lastLineLength:N}}function r(m,E){const _=["--hidden"];_.push(m.isCaseSensitive?"--case-sensitive":"--ignore-case");const{doubleStarIncludes:L,otherIncludes:R}=P.groupBy(E.includes,W=>W.startsWith("**")?"doubleStarIncludes":"otherIncludes");if(R&&R.length){const W=new Set;R.forEach(x=>{W.add(x)}),_.push("-g","!*"),W.forEach(x=>{o(x).map(g.anchorGlob).forEach(M=>{_.push("-g",M)})})}L&&L.length&&L.forEach(W=>{_.push("-g",W)}),E.excludes.map(g.anchorGlob).forEach(W=>_.push("-g",`!${W}`)),E.maxFileSize&&_.push("--max-filesize",E.maxFileSize+""),E.useIgnoreFiles?_.push("--no-ignore-parent"):_.push("--no-ignore"),E.followSymlinks&&_.push("--follow"),E.encoding&&E.encoding!=="utf8"&&_.push("--encoding",E.encoding),m.pattern==="--"&&(m.isRegExp=!0,m.pattern="\\-\\-"),m.isMultiline&&!m.isRegExp&&(m.pattern=n.escapeRegExpCharacters(m.pattern),m.isRegExp=!0),E.usePCRE2&&_.push("--pcre2"),_.push("--crlf"),m.isRegExp&&(m.pattern=a(m.pattern),_.push("--auto-hybrid-regex"));let N;if(m.isWordMatch){const x=n.createRegExp(m.pattern,!!m.isRegExp,{wholeWord:m.isWordMatch}).source.replace(/\\\//g,"/");_.push("--regexp",x)}else if(m.isRegExp){let W=h(m.pattern);W=y(W),_.push("--regexp",W)}else N=m.pattern,_.push("--fixed-strings");return _.push("--no-config"),E.useGlobalIgnoreFiles||_.push("--no-ignore-global"),_.push("--json"),m.isMultiline&&_.push("--multiline"),E.beforeContext&&_.push("--before-context",E.beforeContext+""),E.afterContext&&_.push("--after-context",E.afterContext+""),_.push("--"),N&&_.push(N),_.push("."),_}function o(m){const E=D.splitGlobAware(m,"/");return E.map((_,L)=>E.slice(0,L+1).join("/"))}e.spreadGlobComponents=o;function a(m){const E=/((?:[^\\]|^)(?:\\\\)*)\\u([a-z0-9]{4})/gi;for(;m.match(E);)m=m.replace(E,"$1\\x{$2}");const _=/((?:[^\\]|^)(?:\\\\)*)\\u\{([a-z0-9]{4})\}/gi;for(;m.match(_);)m=m.replace(_,"$1\\x{$2}");return m}e.unicodeEscapesToPCRE2=a;const i=m=>m.type==="Assertion"&&m.kind==="lookbehind";function h(m){let E;try{E=new f.RegExpParser().parsePattern(m)}catch(x){return m}let _="",L=0;const R=(x,M,$)=>{_+=m.slice(L,x)+$,L=M},N=[];return new f.RegExpVisitor({onCharacterEnter(x){if(x.raw==="\\n"){const M=N[0];if(!M)R(x.start,x.end,"\\r?\\n");else if(!N.some(i))if(M.type==="CharacterClass"){const $=m.slice(M.start+1,x.start)+m.slice(x.end,M.end-1);R(M.start,M.end,$===""?"\\r?\\n":`(?:[${$}]|\\r?\\n)`)}else M.type==="Quantifier"&&R(x.start,x.end,"(?:\\r?\\n)")}},onQuantifierEnter(x){N.unshift(x)},onQuantifierLeave(){N.shift()},onCharacterClassRangeEnter(x){N.unshift(x)},onCharacterClassRangeLeave(){N.shift()},onCharacterClassEnter(x){N.unshift(x)},onCharacterClassLeave(){N.shift()},onAssertionEnter(x){i(x)&&N.push(x)},onAssertionLeave(x){N[0]===x&&N.shift()}}).visit(E),_+=m.slice(L),_}e.fixRegexNewline=h;function y(m){return m.replace(/\n/g,"\\r?\\n")}e.fixNewline=y}),define(ge[276],pe([0,1,21,128]),function(Z,e,w,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RipgrepSearchProvider=void 0;class A{constructor(D){this.outputChannel=D,this.inProgress=new Set,process.once("exit",()=>this.dispose())}provideTextSearchResults(D,C,n,I){const S=new k.RipgrepTextSearchEngine(this.outputChannel);return this.withToken(I,v=>S.provideTextSearchResults(D,C,n,v))}async withToken(D,C){const n=T(D);this.inProgress.add(n);const I=await C(n.token);return this.inProgress.delete(n),I}dispose(){this.inProgress.forEach(D=>D.cancel())}}e.RipgrepSearchProvider=A;function T(P){const D=new w.CancellationTokenSource;return P.onCancellationRequested(()=>D.cancel()),D}}),define(ge[277],pe([0,1,24,128,127]),function(Z,e,w,k,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextSearchEngineAdapter=void 0;class T{constructor(C){this.query=C}search(C,n,I){if((!this.query.folderQueries||!this.query.folderQueries.length)&&(!this.query.extraFileResources||!this.query.extraFileResources.length))return Promise.resolve({type:"success",limitHit:!1,stats:{type:"searchProcess"}});const S={appendLine(f){I({message:f})}},v=new A.NativeTextSearchManager(this.query,new k.RipgrepTextSearchEngine(S),w);return new Promise((f,u)=>v.search(g=>{n(g.map(P))},C).then(g=>f({limitHit:g.limitHit,type:"success"}),u))}}e.TextSearchEngineAdapter=T;function P(D){return{path:D.resource&&D.resource.fsPath,results:D.results,numMatches:(D.results||[]).reduce((C,n)=>{if(n.ranges){const I=n;return C+(Array.isArray(I.ranges)?I.ranges.length:1)}else return C+1},0)}}}),define(ge[278],pe([0,1,38,291,12,19,15,3,97,7,47,2,24,31,275,277]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SearchService=void 0,k.gracefulify(w);class b{constructor(){this.caches=Object.create(null)}fileSearch(t){let r;const o=s(t),a=new D.Emitter({onFirstListenerDidAdd:()=>{r=T.createCancelablePromise(i=>this.doFileSearchWithEngine(u.Engine,o,h=>a.fire(h),i)),r.then(i=>a.fire(i),i=>a.fire({type:"error",error:{message:i.message,stack:i.stack}}))},onLastListenerRemove:()=>{r.cancel()}});return a.event}textSearch(t){let r;const o=s(t),a=new D.Emitter({onFirstListenerDidAdd:()=>{r=T.createCancelablePromise(i=>this.ripgrepTextSearch(o,h=>a.fire(h),i)),r.then(i=>a.fire(i),i=>a.fire({type:"error",error:{message:i.message,stack:i.stack}}))},onLastListenerRemove:()=>{r.cancel()}});return a.event}ripgrepTextSearch(t,r,o){return t.maxFileSize=v.MAX_FILE_SIZE,new g.TextSearchEngineAdapter(t).search(o,r,r)}doFileSearch(t,r,o){return this.doFileSearchWithEngine(u.Engine,t,r,o)}doFileSearchWithEngine(t,r,o,a,i=b.BATCH_SIZE){let h=0;const y=E=>{Array.isArray(E)?(h+=E.length,o(E.map(_=>this.rawMatchToSearchItem(_)))):E.relativePath?(h++,o(this.rawMatchToSearchItem(E))):o(E)};if(r.sortByScore){let E=this.trySortedSearchFromCache(r,y,a);if(!E){const _=r.maxResults?Object.assign({},r,{maxResults:null}):r,L=new t(_);E=this.doSortedSearch(L,r,o,y,a)}return new Promise((_,L)=>{E.then(([R,N])=>{const W=N.map(x=>this.rawMatchToSearchItem(x));this.sendProgress(W,o,i),_(R)},L)})}const m=new t(r);return this.doSearch(m,y,i,a).then(E=>({limitHit:E.limitHit,type:"success",stats:{detailStats:E.stats,type:"searchProcess",fromCache:!1,resultCount:h,sortingTime:void 0}}))}rawMatchToSearchItem(t){return{path:t.base?n.join(t.base,t.relativePath):t.relativePath}}doSortedSearch(t,r,o,a,i){const h=new D.Emitter;let y=T.createCancelablePromise(E=>{let _=[];const L=R=>{Array.isArray(R)?_=R:(a(R),h.fire(R))};return this.doSearch(t,L,-1,E).then(R=>[R,_])}),m;if(r.cacheKey){m=this.getOrCreateCache(r.cacheKey);const E={promise:y,event:h.event,resolved:!1};m.resultsToSearchCache[r.filePattern||""]=E,y.then(()=>{E.resolved=!0},_=>{delete m.resultsToSearchCache[r.filePattern||""]}),y=this.preventCancellation(y)}return y.then(([E,_])=>{const L=m?m.scorerCache:Object.create(null),R=(typeof r.maxResults!="number"||r.maxResults>0)&&I.StopWatch.create(!1);return this.sortResults(r,_,L,i).then(N=>{const W=R?R.elapsed():-1;return[{type:"success",stats:{detailStats:E.stats,sortingTime:W,fromCache:!1,type:"searchProcess",workspaceFolderCount:r.folderQueries.length,resultCount:N.length},limitHit:E.limitHit||typeof r.maxResults=="number"&&_.length>r.maxResults},N]})})}getOrCreateCache(t){const r=this.caches[t];return r||(this.caches[t]=new p)}trySortedSearchFromCache(t,r,o){const a=t.cacheKey&&this.caches[t.cacheKey];if(!!a){const i=this.getResultsFromCache(a,t.filePattern||"",r,o);if(i)return i.then(([h,y,m])=>{const E=I.StopWatch.create(!1);return this.sortResults(t,y,a.scorerCache,o).then(_=>{const L=E.elapsed(),R={fromCache:!0,detailStats:m,type:"searchProcess",resultCount:y.length,sortingTime:L};return[{type:"success",limitHit:h.limitHit||typeof t.maxResults=="number"&&y.length>t.maxResults,stats:R},_]})})}}sortResults(t,r,o,a){const i=C.prepareQuery(t.filePattern||""),h=(m,E)=>C.compareItemsByFuzzyScore(m,E,i,!0,d,o),y=typeof t.maxResults=="number"?t.maxResults:Number.MAX_VALUE;return A.topAsync(r,h,y,1e4,a)}sendProgress(t,r,o){if(o&&o>0)for(let a=0;a<t.length;a+=o)r(t.slice(a,a+o));else r(t)}getResultsFromCache(t,r,o,a){const i=I.StopWatch.create(!1),h=r.indexOf(n.sep)>=0;let y;for(const L in t.resultsToSearchCache)if(r.startsWith(L)){if(h&&L.indexOf(n.sep)<0&&L!=="")continue;const R=t.resultsToSearchCache[L];y={promise:this.preventCancellation(R.promise),event:R.event,resolved:R.resolved};break}if(!y)return null;const m=i.elapsed(),E=I.StopWatch.create(!1),_=y.event(o);return a&&a.onCancellationRequested(()=>{_.dispose()}),y.promise.then(([L,R])=>{if(a&&a.isCancellationRequested)throw P.canceled();const N=[],W=C.prepareQuery(r).normalizedLowercase;for(const x of R)!f.isFilePatternMatch(x,W)||N.push(x);return[L,N,{cacheWasResolved:y.resolved,cacheLookupTime:m,cacheFilterTime:E.elapsed(),cacheEntryCount:R.length}]})}doSearch(t,r,o,a){return new Promise((i,h)=>{let y=[];a&&a.onCancellationRequested(()=>t.cancel()),t.search(m=>{m&&(o?(y.push(m),o>0&&y.length>=o&&(r(y),y=[])):r(m))},m=>{r(m)},(m,E)=>{y.length&&r(y),m?h(m):i(E)})})}clearCache(t){return delete this.caches[t],Promise.resolve(void 0)}preventCancellation(t){return new class{get[Symbol.toStringTag](){return this.toString()}cancel(){}then(r,o){return t.then(r,o)}catch(r){return this.then(void 0,r)}finally(r){return t.finally(r)}}}}e.SearchService=b,b.BATCH_SIZE=512;class p{constructor(){this.resultsToSearchCache=Object.create(null),this.scorerCache=Object.create(null)}}const d=new class{getItemLabel(c){return n.basename(c.relativePath)}getItemDescription(c){return n.dirname(c.relativePath)}getItemPath(c){return c.relativePath}};function s(c){return Object.assign(Object.assign({},c),{folderQueries:c.folderQueries&&c.folderQueries.map(l),extraFileResources:c.extraFileResources&&c.extraFileResources.map(t=>S.URI.revive(t))})}function l(c){return Object.assign(Object.assign({},c),{folder:S.URI.revive(c.folder)})}}),define(ge[279],pe([0,1,5,2,24,11,31,278,276,92,14,63,28,69,13,127]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeExtHostSearch=void 0;let b=class extends f.ExtHostSearch{constructor(d,s,l,c){super(d,l,c);this._pfs=A,this._internalFileSearchHandle=-1,this._internalFileSearchProvider=null,s.remote.isRemote&&s.remote.authority&&this._registerEHSearchProviders()}_registerEHSearchProviders(){const d=new n.OutputChannel(this._logService);this.registerTextSearchProvider(u.Schemas.file,new C.RipgrepSearchProvider(d)),this.registerInternalFileSearchProvider(u.Schemas.file,new D.SearchService)}registerInternalFileSearchProvider(d,s){const l=this._handlePool++;return this._internalFileSearchProvider=s,this._internalFileSearchHandle=l,this._proxy.$registerFileSearchProvider(l,this._transformScheme(d)),w.toDisposable(()=>{this._internalFileSearchProvider=null,this._proxy.$unregisterProvider(l)})}$provideFileSearchResults(d,s,l,c){const t=f.reviveQuery(l);return d===this._internalFileSearchHandle?this.doInternalFileSearch(d,s,t,c):super.$provideFileSearchResults(d,s,l,c)}doInternalFileSearch(d,s,l,c){const t=r=>{if(P.isSerializedFileMatch(r)&&(r=[r]),Array.isArray(r)){this._proxy.$handleFileMatch(d,s,r.map(o=>k.URI.file(o.path)));return}r.message&&this._logService.debug("ExtHostSearch",r.message)};if(!this._internalFileSearchProvider)throw new Error("No internal file search handler");return this._internalFileSearchProvider.doFileSearch(l,t,c)}$clearCache(d){return this._internalFileSearchProvider&&this._internalFileSearchProvider.clearCache(d),super.$clearCache(d)}createTextSearchManager(d,s){return new g.NativeTextSearchManager(d,s)}};b=He([Fe(0,I.IExtHostRpcService),Fe(1,v.IExtHostInitDataService),Fe(2,S.IURITransformerService),Fe(3,T.ILogService)],b),e.NativeExtHostSearch=b}),define(ge[129],pe([0,1,292,117,293,3,102,7,39,26,5,27,103,15,9]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connect=e.serve=e.Server=e.createStaticIPCHandle=e.createRandomIPCHandle=e.XDG_RUNTIME_DIR=e.WebSocketNodeSocket=e.NodeSocket=void 0;class g{constructor(y){this.socket=y}dispose(){this.socket.destroy()}onData(y){const m=E=>y(S.VSBuffer.wrap(E));return this.socket.on("data",m),{dispose:()=>this.socket.off("data",m)}}onClose(y){return this.socket.on("close",y),{dispose:()=>this.socket.off("close",y)}}onEnd(y){return this.socket.on("end",y),{dispose:()=>this.socket.off("end",y)}}write(y){if(!this.socket.destroyed)try{this.socket.write(y.buffer)}catch(m){if(m.code==="EPIPE")return;f.onUnexpectedError(m)}}end(){this.socket.end()}drain(){return new Promise((y,m)=>{if(this.socket.bufferSize===0){y();return}const E=()=>{this.socket.off("close",E),this.socket.off("end",E),this.socket.off("error",E),this.socket.off("timeout",E),this.socket.off("drain",E),y()};this.socket.on("close",E),this.socket.on("end",E),this.socket.on("error",E),this.socket.on("timeout",E),this.socket.on("drain",E)})}}e.NodeSocket=g;var b;(function(h){h[h.MinHeaderByteSize=2]="MinHeaderByteSize"})(b||(b={}));var p;(function(h){h[h.PeekHeader=1]="PeekHeader",h[h.ReadHeader=2]="ReadHeader",h[h.ReadBody=3]="ReadBody",h[h.Fin=4]="Fin"})(p||(p={}));class d extends I.Disposable{constructor(y,m,E,_){super();this._onDidZlibFlush=this._register(new T.Emitter),this._recordedInflateBytes=[],this._pendingInflateData=[],this._pendingDeflateData=[],this._onData=this._register(new T.Emitter),this._onClose=this._register(new T.Emitter),this._isEnded=!1,this._state={state:1,readLen:2,fin:0,mask:0},this.socket=y,this._totalIncomingWireBytes=0,this._totalIncomingDataBytes=0,this._totalOutgoingWireBytes=0,this._totalOutgoingDataBytes=0,this.permessageDeflate=m,this._recordInflateBytes=_,m?(this._zlibInflate=A.createInflateRaw({windowBits:15}),this._zlibInflate.on("error",L=>{console.error(L),f.onUnexpectedError(L),this._onClose.fire()}),this._zlibInflate.on("data",L=>{this._pendingInflateData.push(L)}),E&&(this._zlibInflate.write(E.buffer),this._zlibInflate.flush(()=>{this._pendingInflateData.length=0})),this._zlibDeflate=A.createDeflateRaw({windowBits:15}),this._zlibDeflate.on("error",L=>{console.error(L),f.onUnexpectedError(L),this._onClose.fire()}),this._zlibDeflate.on("data",L=>{this._pendingDeflateData.push(L)})):(this._zlibInflate=null,this._zlibDeflate=null),this._zlibDeflateFlushWaitingCount=0,this._incomingData=new v.ChunkStream,this._register(this.socket.onData(L=>this._acceptChunk(L))),this._register(this.socket.onClose(()=>this._onClose.fire()))}get totalIncomingWireBytes(){return this._totalIncomingWireBytes}get totalIncomingDataBytes(){return this._totalIncomingDataBytes}get totalOutgoingWireBytes(){return this._totalOutgoingWireBytes}get totalOutgoingDataBytes(){return this._totalOutgoingDataBytes}get recordedInflateBytes(){return this._recordInflateBytes?S.VSBuffer.wrap(Buffer.concat(this._recordedInflateBytes)):S.VSBuffer.alloc(0)}dispose(){this._zlibDeflateFlushWaitingCount>0?this._register(this._onDidZlibFlush.event(()=>{this.dispose()})):(this.socket.dispose(),super.dispose())}onData(y){return this._onData.event(y)}onClose(y){return this._onClose.event(y)}onEnd(y){return this.socket.onEnd(y)}write(y){this._totalOutgoingDataBytes+=y.byteLength,this._zlibDeflate?(this._zlibDeflate.write(y.buffer),this._zlibDeflateFlushWaitingCount++,this._zlibDeflate.flush(2,()=>{this._zlibDeflateFlushWaitingCount--;let m=Buffer.concat(this._pendingDeflateData);this._pendingDeflateData.length=0,m=m.slice(0,m.length-4),this._isEnded||this._write(S.VSBuffer.wrap(m),!0),this._zlibDeflateFlushWaitingCount===0&&this._onDidZlibFlush.fire()})):this._write(y,!1)}_write(y,m){let E=2;y.byteLength<126?E+=0:y.byteLength<2**16?E+=2:E+=8;const _=S.VSBuffer.alloc(E);if(m?_.writeUInt8(194,0):_.writeUInt8(130,0),y.byteLength<126)_.writeUInt8(y.byteLength,1);else if(y.byteLength<2**16){_.writeUInt8(126,1);let L=1;_.writeUInt8(y.byteLength>>>8&255,++L),_.writeUInt8(y.byteLength>>>0&255,++L)}else{_.writeUInt8(127,1);let L=1;_.writeUInt8(0,++L),_.writeUInt8(0,++L),_.writeUInt8(0,++L),_.writeUInt8(0,++L),_.writeUInt8(y.byteLength>>>24&255,++L),_.writeUInt8(y.byteLength>>>16&255,++L),_.writeUInt8(y.byteLength>>>8&255,++L),_.writeUInt8(y.byteLength>>>0&255,++L)}this._totalOutgoingWireBytes+=_.byteLength+y.byteLength,this.socket.write(S.VSBuffer.concat([_,y]))}end(){this._isEnded=!0,this.socket.end()}_acceptChunk(y){if(y.byteLength!==0){for(this._totalIncomingWireBytes+=y.byteLength,this._incomingData.acceptChunk(y);this._incomingData.byteLength>=this._state.readLen;)if(this._state.state===1){const m=this._incomingData.peek(this._state.readLen),_=(m.readUInt8(0)&128)>>>7,L=m.readUInt8(1),R=(L&128)>>>7,N=L&127;this._state.state=2,this._state.readLen=2+(R?4:0)+(N===126?2:0)+(N===127?8:0),this._state.fin=_,this._state.mask=0}else if(this._state.state===2){const m=this._incomingData.read(this._state.readLen),E=m.readUInt8(1),_=(E&128)>>>7;let L=E&127,R=1;L===126?L=m.readUInt8(++R)*2**8+m.readUInt8(++R):L===127&&(L=m.readUInt8(++R)*0+m.readUInt8(++R)*0+m.readUInt8(++R)*0+m.readUInt8(++R)*0+m.readUInt8(++R)*2**24+m.readUInt8(++R)*2**16+m.readUInt8(++R)*2**8+m.readUInt8(++R));let N=0;_&&(N=m.readUInt8(++R)*2**24+m.readUInt8(++R)*2**16+m.readUInt8(++R)*2**8+m.readUInt8(++R)),this._state.state=3,this._state.readLen=L,this._state.mask=N}else if(this._state.state===3){const m=this._incomingData.read(this._state.readLen);s(m,this._state.mask),this._state.state=1,this._state.readLen=2,this._state.mask=0,this._zlibInflate?(this._recordInflateBytes&&this._recordedInflateBytes.push(Buffer.from(m.buffer)),this._zlibInflate.write(m.buffer),this._state.fin&&(this._recordInflateBytes&&this._recordedInflateBytes.push(Buffer.from([0,0,255,255])),this._zlibInflate.write(Buffer.from([0,0,255,255]))),this._zlibInflate.flush(()=>{const E=Buffer.concat(this._pendingInflateData);this._pendingInflateData.length=0,this._totalIncomingDataBytes+=E.length,this._onData.fire(S.VSBuffer.wrap(E))})):(this._totalIncomingDataBytes+=m.byteLength,this._onData.fire(m))}}}async drain(){this._zlibDeflateFlushWaitingCount>0&&await T.Event.toPromise(this._onDidZlibFlush.event),await this.socket.drain()}}e.WebSocketNodeSocket=d;function s(h,y){if(y!==0){let m=h.byteLength>>>2;for(let W=0;W<m;W++){const x=h.readUInt32BE(W*4);h.writeUInt32BE(x^y,W*4)}let E=m*4,_=h.byteLength-E;const L=y>>>24&255,R=y>>>16&255,N=y>>>8&255;_>=1&&h.writeUInt8(h.readUInt8(E)^L,E),_>=2&&h.writeUInt8(h.readUInt8(E+1)^R,E+1),_>=3&&h.writeUInt8(h.readUInt8(E+2)^N,E+2)}}e.XDG_RUNTIME_DIR=process.env.XDG_RUNTIME_DIR;const l={[2]:107,[1]:103};function c(){const h=n.generateUuid();if(process.platform==="win32")return`\\\\.\\pipe\\vscode-ipc-${h}-sock`;let y;return e.XDG_RUNTIME_DIR?y=D.join(e.XDG_RUNTIME_DIR,`vscode-ipc-${h}.sock`):y=D.join(C.tmpdir(),`vscode-ipc-${h}.sock`),r(y),y}e.createRandomIPCHandle=c;function t(h,y,m){const E=w.createHash("md5").update(h).digest("hex");if(process.platform==="win32")return`\\\\.\\pipe\\${E}-${m}-${y}-sock`;let _;return e.XDG_RUNTIME_DIR&&!process.env.VSCODE_PORTABLE?_=D.join(e.XDG_RUNTIME_DIR,`vscode-${E.substr(0,8)}-${m}-${y}.sock`):_=D.join(h,`${m}-${y}.sock`),r(_),_}e.createStaticIPCHandle=t;function r(h){const y=l[u.platform];typeof y=="number"&&h.length>=y&&console.warn(`WARNING: IPC handle "${h}" is longer than ${y} chars, try a shorter --user-data-dir`)}class o extends P.IPCServer{constructor(y){super(o.toClientConnectionEvent(y));this.server=y}static toClientConnectionEvent(y){const m=T.Event.fromNodeEventEmitter(y,"connection");return T.Event.map(m,E=>({protocol:new v.Protocol(new g(E)),onDidClientDisconnect:T.Event.once(T.Event.fromNodeEventEmitter(E,"close"))}))}dispose(){super.dispose(),this.server&&(this.server.close(),this.server=null)}}e.Server=o;function a(h){return new Promise((y,m)=>{const E=k.createServer();E.on("error",m),E.listen(h,()=>{E.removeListener("error",m),y(new o(E))})})}e.serve=a;function i(h,y){return new Promise((m,E)=>{const _=k.createConnection(h,()=>{_.removeListener("error",E),m(v.Client.fromSocket(new g(_),y))});_.once("error",E)})}e.connect=i}),define(ge[280],pe([0,1,129,272,38,52,2,115,11]),function(Z,e,w,k,A,T,P,D,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLIServer=e.CLIServerBase=void 0;class n{constructor(v,f,u){this._commands=v,this.logService=f,this._ipcHandlePath=u,this._server=k.createServer((g,b)=>this.onRequest(g,b)),this.setup().catch(g=>(f.error(g),""))}get ipcHandlePath(){return this._ipcHandlePath}async setup(){try{this._server.listen(this.ipcHandlePath),this._server.on("error",v=>this.logService.error(v))}catch(v){this.logService.error("Could not start open from terminal server.")}return this._ipcHandlePath}onRequest(v,f){const u=[];v.setEncoding("utf8"),v.on("data",g=>u.push(g)),v.on("end",()=>{const g=JSON.parse(u.join(""));switch(g.type){case"open":this.open(g,f);break;case"openExternal":this.openExternal(g,f);break;case"status":this.getStatus(g,f);break;case"command":this.runCommand(g,f).catch(this.logService.error);break;case"extensionManagement":this.manageExtensions(g,f).catch(this.logService.error);break;default:f.writeHead(404),f.write(`Unknown message type: ${g.type}`,b=>{b&&this.logService.error(b)}),f.end();break}})}open(v,f){let{fileURIs:u,folderURIs:g,forceNewWindow:b,diffMode:p,addMode:d,forceReuseWindow:s,gotoLineMode:l,waitMarkerFilePath:c}=v;const t=[];if(Array.isArray(g))for(const r of g)try{t.push({folderUri:P.URI.parse(r)})}catch(o){}if(Array.isArray(u))for(const r of u)try{D.hasWorkspaceFileExtension(r)?t.push({workspaceUri:P.URI.parse(r)}):t.push({fileUri:P.URI.parse(r)})}catch(o){}if(t.length){const r=c?P.URI.file(c):void 0,a={forceNewWindow:b,diffMode:p,addMode:d,gotoLineMode:l,forceReuseWindow:s,preferNewWindow:!s&&!r&&!d,waitMarkerFileURI:r};this._commands.executeCommand("_files.windowOpen",t,a)}f.writeHead(200),f.end()}async openExternal(v,f){for(const u of v.uris)await this._commands.executeCommand("_remoteCLI.openExternal",P.URI.parse(u),{allowTunneling:!0});f.writeHead(200),f.end()}async manageExtensions(v,f){console.log("server: manageExtensions");try{const u=p=>p==null?void 0:p.map(d=>/\.vsix$/i.test(d)?P.URI.parse(d):d),g={list:v.list,install:u(v.install),uninstall:u(v.uninstall),force:v.force},b=await this._commands.executeCommand("_remoteCLI.manageExtensions",g,{allowTunneling:!0});f.writeHead(200),f.write(b)}catch(u){f.writeHead(500),f.write(String(u))}f.end()}async getStatus(v,f){try{const u=await this._commands.executeCommand("_issues.getSystemStatus");f.writeHead(200),f.write(u),f.end()}catch(u){f.writeHead(500),f.write(String(u),g=>{g&&this.logService.error(g)}),f.end()}}async runCommand(v,f){try{const{command:u,args:g}=v,b=await this._commands.executeCommand(u,...g);f.writeHead(200),f.write(JSON.stringify(b),p=>{p&&this.logService.error(p)}),f.end()}catch(u){f.writeHead(500),f.write(String(u),g=>{g&&this.logService.error(g)}),f.end()}}dispose(){this._server.close(),this._ipcHandlePath&&process.platform!=="win32"&&A.existsSync(this._ipcHandlePath)&&A.unlinkSync(this._ipcHandlePath)}}e.CLIServerBase=n;let I=class extends n{constructor(v,f){super(v,f,w.createRandomIPCHandle())}};I=He([Fe(0,T.IExtHostCommands),Fe(1,C.ILogService)],I),e.CLIServer=I}),define(ge[281],pe([0,1,68,268,262,6,271,43,252,280,2,13,8]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostExtensionService=void 0;class f extends A.RequireInterceptor{_installInterceptor(){const b=this,p=Z.__$__nodeRequire("module"),d=p._load;p._load=function(l,c,t){for(let r of b._alternatives){let o=r(l);if(o){l=o;break}}return b._factories.has(l)?b._factories.get(l).load(l,I.URI.file(c.filename),r=>d.apply(this,[r,c,t])):d.apply(this,arguments)}}}class u extends D.AbstractExtHostExtensionService{constructor(){super(...arguments);this.extensionRuntime=v.ExtensionRuntime.Node}async _beforeAlmostReadyToRunExtensions(){const b=this._instaService.invokeFunction(k.createApiFactoryAndRegisterActors);if(this._instaService.createInstance(C.ExtHostDownloadService),this._initData.remote.isRemote&&this._initData.remote.authority){const c=this._instaService.createInstance(n.CLIServer);process.env.VSCODE_IPC_HOOK_CLI=c.ipcHandlePath}await this._instaService.createInstance(f,b,this._registry).install(),w.mark("code/extHost/didInitAPI");const d=await this._extHostConfiguration.getConfigProvider();await P.connectProxyResolver(this._extHostWorkspace,d,this,this._logService,this._mainThreadTelemetryProxy,this._initData),w.mark("code/extHost/didInitProxyResolver");const s=process.send,l=this._extHostContext.getProxy(T.MainContext.MainThreadConsole);process.send=(...c)=>c.length===0||!c[0]||c[0].type!=="__$console"?s.apply(process,c):(l.$logExtensionHostMessage(c[0]),!1)}_getEntryPoint(b){return b.main}_loadCommonJSModule(b,p,d){if(p.scheme!==S.Schemas.file)throw new Error(`Cannot load URI: '${p}', must be of file-scheme`);let s=null;d.codeLoadingStart(),this._logService.info(`ExtensionService#loadCommonJSModule ${p.toString(!0)}`),this._logService.flush();try{b&&w.mark(`code/extHost/willLoadExtensionCode/${b.value}`),s=Z.__$__nodeRequire(p.fsPath)}catch(l){return Promise.reject(l)}finally{b&&w.mark(`code/extHost/didLoadExtensionCode/${b.value}`),d.codeLoadingStop()}return Promise.resolve(s)}async $setRemoteEnvironment(b){if(!!this._initData.remote.isRemote)for(const p in b){const d=b[p];d===null?delete process.env[p]:process.env[p]=d}}}e.ExtHostExtensionService=u}),define(ge[282],pe([0,1,81,256,265,264,263,279,281,225,253,46,43,65,69,67,35,51,11]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g,b,p,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),w.registerSingleton(v.IExtHostExtensionService,C.ExtHostExtensionService),w.registerSingleton(d.ILogService,n.ExtHostLogService),w.registerSingleton(S.IExtHostDebugService,P.ExtHostDebugService),w.registerSingleton(f.IExtHostOutputService,k.ExtHostOutputService2),w.registerSingleton(u.IExtHostSearch,D.NativeExtHostSearch),w.registerSingleton(g.IExtHostTask,T.ExtHostTask),w.registerSingleton(b.IExtHostTerminalService,A.ExtHostTerminalService),w.registerSingleton(p.IExtHostTunnelService,I.ExtHostTunnelService)}),define(ge[283],pe([0,1,117,294,68,15,103,129,183,223,266,27,99,24,135,19,269,282]),function(Z,e,w,k,A,T,P,D,C,n,I,S,v,f,u,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.startExtensionHostProcess=void 0,function(){for(let a=0;a<process.execArgv.length;a++)process.execArgv[a]==="--inspect-port=0"&&(process.execArgv.splice(a,1),a--)}();const b=k(process.argv.slice(2),{string:["uriTransformerPath","useHostProxy"]});(function(){const o=Z.__$__nodeRequire("module"),a=o._load;o._load=function(i){if(i==="natives")throw new Error('Either the extension or a NPM dependency is using the "natives" node module which is unsupported as it can cause a crash of the extension host. Click [here](https://go.microsoft.com/fwlink/?linkid=871887) to find out more');return a.apply(this,arguments)}})();const p=process.exit.bind(process);function d(o){process.exit=function(a){if(o)p(a);else{const i=new Error("An extension called process.exit() and this was prevented.");console.warn(i.stack)}},process.crash=function(){const a=new Error("An extension called process.crash() and this was prevented.");console.warn(a.stack)}}let s=function(o){p()};function l(){if(process.env.VSCODE_EXTHOST_WILL_SEND_SOCKET)return new Promise((o,a)=>{let i=null,h=setTimeout(()=>{a(new Error("VSCODE_EXTHOST_IPC_SOCKET timeout"))},6e4);const y=108e5,m=3e5,E=new g.RunOnceScheduler(()=>s("renderer disconnected for too long (1)"),y),_=new g.RunOnceScheduler(()=>s("renderer disconnected for too long (2)"),m);process.on("message",(R,N)=>{if(R&&R.type==="VSCODE_EXTHOST_IPC_SOCKET"){const W=S.VSBuffer.wrap(Buffer.from(R.initialDataChunk,"base64"));let x;if(R.skipWebSocketFrames)x=new D.NodeSocket(N);else{const M=S.VSBuffer.wrap(Buffer.from(R.inflateBytes,"base64"));x=new D.WebSocketNodeSocket(new D.NodeSocket(N),R.permessageDeflate,M,!1)}i?(E.cancel(),_.cancel(),i.beginAcceptReconnection(x,W),i.endAcceptReconnection()):(clearTimeout(h),i=new P.PersistentProtocol(x,W),i.onDidDispose(()=>s("renderer disconnected")),o(i),i.onSocketClose(()=>{E.schedule()}))}if(R&&R.type==="VSCODE_EXTHOST_IPC_REDUCE_GRACE_TIME"){if(_.isScheduled())return;E.isScheduled()&&_.schedule()}});const L={type:"VSCODE_EXTHOST_IPC_READY"};process.send&&process.send(L)});{const o=process.env.VSCODE_IPC_HOOK_EXTHOST;return new Promise((a,i)=>{const h=w.createConnection(o,()=>{h.removeListener("error",i),a(new P.PersistentProtocol(new D.NodeSocket(h)))});h.once("error",i)})}}async function c(){const o=await l();return new class{constructor(){this._onMessage=new P.BufferedEmitter,this.onMessage=this._onMessage.event,this._terminating=!1,o.onMessage(a=>{n.isMessageOfType(a,2)?(this._terminating=!0,s("received terminate message from renderer")):this._onMessage.fire(a)})}send(a){this._terminating||o.send(a)}drain(){return o.drain()}}}function t(o){return new Promise(a=>{const i=o.onMessage(h=>{i.dispose();const y=JSON.parse(h.toString()),m=y.commit,E=C.default.commit;m&&E&&m!==E&&p(55);const _=[];process.on("unhandledRejection",(N,W)=>{_.push(W),setTimeout(()=>{const x=_.indexOf(W);x>=0&&W.catch(M=>{_.splice(x,1),console.warn(`rejected promise not handled within 1 second: ${M}`),M&&M.stack&&console.warn(`stack trace: ${M.stack}`),T.onUnexpectedError(N)})},1e3)}),process.on("rejectionHandled",N=>{const W=_.indexOf(N);W>=0&&_.splice(W,1)}),process.on("uncaughtException",function(N){T.onUnexpectedError(N)});let L=0;setInterval(function(){try{process.kill(y.parentPid,0),L=0}catch(N){N&&N.code==="EPERM"?(L++,L>=3&&s(`parent process ${y.parentPid} does not exist anymore (3 x EPERM): ${N.message} (code: ${N.code}) (errno: ${N.errno})`)):s(`parent process ${y.parentPid} does not exist anymore: ${N.message} (code: ${N.code}) (errno: ${N.errno})`)}},1e3);let R;try{R=Z.__$__nodeRequire("native-watchdog"),R.start(y.parentPid)}catch(N){T.onUnexpectedError(N)}o.send(n.createMessageOfType(0)),a({protocol:o,initData:y})});o.send(n.createMessageOfType(1))})}async function r(){A.mark("code/extHost/willConnectToRenderer");const o=await c();A.mark("code/extHost/didConnectToRenderer");const a=await t(o);A.mark("code/extHost/didWaitForInitData");const{initData:i}=a;d(!!i.environment.extensionTestsLocationURI),i.environment.useHostProxy=b.useHostProxy!==void 0?b.useHostProxy!=="false":void 0;const h=new class{exit(_){p(_)}exists(_){return f.exists(_)}realpath(_){return u.realpath(_)}};let y=null;if(i.remote.authority&&b.uriTransformerPath)try{const _=Z.__$__nodeRequire(b.uriTransformerPath)(i.remote.authority);y=new v.URITransformer(_)}catch(E){console.error(E)}const m=new I.ExtensionHostMain(a.protocol,i,h,y);s=E=>m.terminate(E)}e.startExtensionHostProcess=r}),define(ge[295],pe([0,1,283]),function(Z,e,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),w.startExtensionHostProcess().catch(k=>console.log(k))})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/622cb03f7e070a9670c94bae1a45d78d7181fbd4/core/vs/server/remoteExtensionHostProcess.js.map
